(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const S of a.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&r(S)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var S=null;if(a!==void 0&&(S=""+a),s.key!==void 0&&(S=""+s.key),"key"in s){a={};for(var P in s)P!=="key"&&(a[P]=s[P])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:S,ref:s!==void 0?s:null,props:a}}return reactJsxRuntime_production.Fragment=e,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),S=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),z=Symbol.iterator;function $(dt){return dt===null||typeof dt!="object"?null:(dt=z&&dt[z]||dt["@@iterator"],typeof dt=="function"?dt:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,U={};function W(dt,xt,Pt){this.props=dt,this.context=xt,this.refs=U,this.updater=Pt||G}W.prototype.isReactComponent={},W.prototype.setState=function(dt,xt){if(typeof dt!="object"&&typeof dt!="function"&&dt!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,dt,xt,"setState")},W.prototype.forceUpdate=function(dt){this.updater.enqueueForceUpdate(this,dt,"forceUpdate")};function Y(){}Y.prototype=W.prototype;function Q(dt,xt,Pt){this.props=dt,this.context=xt,this.refs=U,this.updater=Pt||G}var K=Q.prototype=new Y;K.constructor=Q,H(K,W.prototype),K.isPureReactComponent=!0;var tt=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function ht(dt,xt,Pt,Dt,Tt,Ht){return Pt=Ht.ref,{$$typeof:t,type:dt,key:xt,ref:Pt!==void 0?Pt:null,props:Ht}}function ct(dt,xt){return ht(dt.type,xt,void 0,void 0,void 0,dt.props)}function mt(dt){return typeof dt=="object"&&dt!==null&&dt.$$typeof===t}function wt(dt){var xt={"=":"=0",":":"=2"};return"$"+dt.replace(/[=:]/g,function(Pt){return xt[Pt]})}var kt=/\/+/g;function _t(dt,xt){return typeof dt=="object"&&dt!==null&&dt.key!=null?wt(""+dt.key):xt.toString(36)}function Vt(){}function jt(dt){switch(dt.status){case"fulfilled":return dt.value;case"rejected":throw dt.reason;default:switch(typeof dt.status=="string"?dt.then(Vt,Vt):(dt.status="pending",dt.then(function(xt){dt.status==="pending"&&(dt.status="fulfilled",dt.value=xt)},function(xt){dt.status==="pending"&&(dt.status="rejected",dt.reason=xt)})),dt.status){case"fulfilled":return dt.value;case"rejected":throw dt.reason}}throw dt}function At(dt,xt,Pt,Dt,Tt){var Ht=typeof dt;(Ht==="undefined"||Ht==="boolean")&&(dt=null);var Ut=!1;if(dt===null)Ut=!0;else switch(Ht){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(dt.$$typeof){case t:case e:Ut=!0;break;case F:return Ut=dt._init,At(Ut(dt._payload),xt,Pt,Dt,Tt)}}if(Ut)return Tt=Tt(dt),Ut=Dt===""?"."+_t(dt,0):Dt,tt(Tt)?(Pt="",Ut!=null&&(Pt=Ut.replace(kt,"$&/")+"/"),At(Tt,xt,Pt,"",function(Ne){return Ne})):Tt!=null&&(mt(Tt)&&(Tt=ct(Tt,Pt+(Tt.key==null||dt&&dt.key===Tt.key?"":(""+Tt.key).replace(kt,"$&/")+"/")+Ut)),xt.push(Tt)),1;Ut=0;var xe=Dt===""?".":Dt+":";if(tt(dt))for(var Mt=0;Mt<dt.length;Mt++)Dt=dt[Mt],Ht=xe+_t(Dt,Mt),Ut+=At(Dt,xt,Pt,Ht,Tt);else if(Mt=$(dt),typeof Mt=="function")for(dt=Mt.call(dt),Mt=0;!(Dt=dt.next()).done;)Dt=Dt.value,Ht=xe+_t(Dt,Mt++),Ut+=At(Dt,xt,Pt,Ht,Tt);else if(Ht==="object"){if(typeof dt.then=="function")return At(jt(dt),xt,Pt,Dt,Tt);throw xt=String(dt),Error("Objects are not valid as a React child (found: "+(xt==="[object Object]"?"object with keys {"+Object.keys(dt).join(", ")+"}":xt)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function lt(dt,xt,Pt){if(dt==null)return dt;var Dt=[],Tt=0;return At(dt,Dt,"","",function(Ht){return xt.call(Pt,Ht,Tt++)}),Dt}function yt(dt){if(dt._status===-1){var xt=dt._result;xt=xt(),xt.then(function(Pt){(dt._status===0||dt._status===-1)&&(dt._status=1,dt._result=Pt)},function(Pt){(dt._status===0||dt._status===-1)&&(dt._status=2,dt._result=Pt)}),dt._status===-1&&(dt._status=0,dt._result=xt)}if(dt._status===1)return dt._result.default;throw dt._result}var st=typeof reportError=="function"?reportError:function(dt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof dt=="object"&&dt!==null&&typeof dt.message=="string"?String(dt.message):String(dt),error:dt});if(!window.dispatchEvent(xt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",dt);return}console.error(dt)};function pt(){}return react_production.Children={map:lt,forEach:function(dt,xt,Pt){lt(dt,function(){xt.apply(this,arguments)},Pt)},count:function(dt){var xt=0;return lt(dt,function(){xt++}),xt},toArray:function(dt){return lt(dt,function(xt){return xt})||[]},only:function(dt){if(!mt(dt))throw Error("React.Children.only expected to receive a single React element child.");return dt}},react_production.Component=W,react_production.Fragment=n,react_production.Profiler=s,react_production.PureComponent=Q,react_production.StrictMode=r,react_production.Suspense=M,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(dt){return nt.H.useMemoCache(dt)}},react_production.cache=function(dt){return function(){return dt.apply(null,arguments)}},react_production.cloneElement=function(dt,xt,Pt){if(dt==null)throw Error("The argument must be a React element, but you passed "+dt+".");var Dt=H({},dt.props),Tt=dt.key,Ht=void 0;if(xt!=null)for(Ut in xt.ref!==void 0&&(Ht=void 0),xt.key!==void 0&&(Tt=""+xt.key),xt)!rt.call(xt,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&xt.ref===void 0||(Dt[Ut]=xt[Ut]);var Ut=arguments.length-2;if(Ut===1)Dt.children=Pt;else if(1<Ut){for(var xe=Array(Ut),Mt=0;Mt<Ut;Mt++)xe[Mt]=arguments[Mt+2];Dt.children=xe}return ht(dt.type,Tt,void 0,void 0,Ht,Dt)},react_production.createContext=function(dt){return dt={$$typeof:S,_currentValue:dt,_currentValue2:dt,_threadCount:0,Provider:null,Consumer:null},dt.Provider=dt,dt.Consumer={$$typeof:a,_context:dt},dt},react_production.createElement=function(dt,xt,Pt){var Dt,Tt={},Ht=null;if(xt!=null)for(Dt in xt.key!==void 0&&(Ht=""+xt.key),xt)rt.call(xt,Dt)&&Dt!=="key"&&Dt!=="__self"&&Dt!=="__source"&&(Tt[Dt]=xt[Dt]);var Ut=arguments.length-2;if(Ut===1)Tt.children=Pt;else if(1<Ut){for(var xe=Array(Ut),Mt=0;Mt<Ut;Mt++)xe[Mt]=arguments[Mt+2];Tt.children=xe}if(dt&&dt.defaultProps)for(Dt in Ut=dt.defaultProps,Ut)Tt[Dt]===void 0&&(Tt[Dt]=Ut[Dt]);return ht(dt,Ht,void 0,void 0,null,Tt)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(dt){return{$$typeof:P,render:dt}},react_production.isValidElement=mt,react_production.lazy=function(dt){return{$$typeof:F,_payload:{_status:-1,_result:dt},_init:yt}},react_production.memo=function(dt,xt){return{$$typeof:N,type:dt,compare:xt===void 0?null:xt}},react_production.startTransition=function(dt){var xt=nt.T,Pt={};nt.T=Pt;try{var Dt=dt(),Tt=nt.S;Tt!==null&&Tt(Pt,Dt),typeof Dt=="object"&&Dt!==null&&typeof Dt.then=="function"&&Dt.then(pt,st)}catch(Ht){st(Ht)}finally{nt.T=xt}},react_production.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},react_production.use=function(dt){return nt.H.use(dt)},react_production.useActionState=function(dt,xt,Pt){return nt.H.useActionState(dt,xt,Pt)},react_production.useCallback=function(dt,xt){return nt.H.useCallback(dt,xt)},react_production.useContext=function(dt){return nt.H.useContext(dt)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(dt,xt){return nt.H.useDeferredValue(dt,xt)},react_production.useEffect=function(dt,xt,Pt){var Dt=nt.H;if(typeof Pt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Dt.useEffect(dt,xt)},react_production.useId=function(){return nt.H.useId()},react_production.useImperativeHandle=function(dt,xt,Pt){return nt.H.useImperativeHandle(dt,xt,Pt)},react_production.useInsertionEffect=function(dt,xt){return nt.H.useInsertionEffect(dt,xt)},react_production.useLayoutEffect=function(dt,xt){return nt.H.useLayoutEffect(dt,xt)},react_production.useMemo=function(dt,xt){return nt.H.useMemo(dt,xt)},react_production.useOptimistic=function(dt,xt){return nt.H.useOptimistic(dt,xt)},react_production.useReducer=function(dt,xt,Pt){return nt.H.useReducer(dt,xt,Pt)},react_production.useRef=function(dt){return nt.H.useRef(dt)},react_production.useState=function(dt){return nt.H.useState(dt)},react_production.useSyncExternalStore=function(dt,xt,Pt){return nt.H.useSyncExternalStore(dt,xt,Pt)},react_production.useTransition=function(){return nt.H.useTransition()},react_production.version="19.1.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(t){function e(lt,yt){var st=lt.length;lt.push(yt);t:for(;0<st;){var pt=st-1>>>1,dt=lt[pt];if(0<s(dt,yt))lt[pt]=yt,lt[st]=dt,st=pt;else break t}}function n(lt){return lt.length===0?null:lt[0]}function r(lt){if(lt.length===0)return null;var yt=lt[0],st=lt.pop();if(st!==yt){lt[0]=st;t:for(var pt=0,dt=lt.length,xt=dt>>>1;pt<xt;){var Pt=2*(pt+1)-1,Dt=lt[Pt],Tt=Pt+1,Ht=lt[Tt];if(0>s(Dt,st))Tt<dt&&0>s(Ht,Dt)?(lt[pt]=Ht,lt[Tt]=st,pt=Tt):(lt[pt]=Dt,lt[Pt]=st,pt=Pt);else if(Tt<dt&&0>s(Ht,st))lt[pt]=Ht,lt[Tt]=st,pt=Tt;else break t}}return yt}function s(lt,yt){var st=lt.sortIndex-yt.sortIndex;return st!==0?st:lt.id-yt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var S=Date,P=S.now();t.unstable_now=function(){return S.now()-P}}var M=[],N=[],F=1,z=null,$=3,G=!1,H=!1,U=!1,W=!1,Y=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function tt(lt){for(var yt=n(N);yt!==null;){if(yt.callback===null)r(N);else if(yt.startTime<=lt)r(N),yt.sortIndex=yt.expirationTime,e(M,yt);else break;yt=n(N)}}function nt(lt){if(U=!1,tt(lt),!H)if(n(M)!==null)H=!0,rt||(rt=!0,_t());else{var yt=n(N);yt!==null&&At(nt,yt.startTime-lt)}}var rt=!1,ht=-1,ct=5,mt=-1;function wt(){return W?!0:!(t.unstable_now()-mt<ct)}function kt(){if(W=!1,rt){var lt=t.unstable_now();mt=lt;var yt=!0;try{t:{H=!1,U&&(U=!1,Q(ht),ht=-1),G=!0;var st=$;try{e:{for(tt(lt),z=n(M);z!==null&&!(z.expirationTime>lt&&wt());){var pt=z.callback;if(typeof pt=="function"){z.callback=null,$=z.priorityLevel;var dt=pt(z.expirationTime<=lt);if(lt=t.unstable_now(),typeof dt=="function"){z.callback=dt,tt(lt),yt=!0;break e}z===n(M)&&r(M),tt(lt)}else r(M);z=n(M)}if(z!==null)yt=!0;else{var xt=n(N);xt!==null&&At(nt,xt.startTime-lt),yt=!1}}break t}finally{z=null,$=st,G=!1}yt=void 0}}finally{yt?_t():rt=!1}}}var _t;if(typeof K=="function")_t=function(){K(kt)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,jt=Vt.port2;Vt.port1.onmessage=kt,_t=function(){jt.postMessage(null)}}else _t=function(){Y(kt,0)};function At(lt,yt){ht=Y(function(){lt(t.unstable_now())},yt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(lt){lt.callback=null},t.unstable_forceFrameRate=function(lt){0>lt||125<lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<lt?Math.floor(1e3/lt):5},t.unstable_getCurrentPriorityLevel=function(){return $},t.unstable_next=function(lt){switch($){case 1:case 2:case 3:var yt=3;break;default:yt=$}var st=$;$=yt;try{return lt()}finally{$=st}},t.unstable_requestPaint=function(){W=!0},t.unstable_runWithPriority=function(lt,yt){switch(lt){case 1:case 2:case 3:case 4:case 5:break;default:lt=3}var st=$;$=lt;try{return yt()}finally{$=st}},t.unstable_scheduleCallback=function(lt,yt,st){var pt=t.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?pt+st:pt):st=pt,lt){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=st+dt,lt={id:F++,callback:yt,priorityLevel:lt,startTime:st,expirationTime:dt,sortIndex:-1},st>pt?(lt.sortIndex=st,e(N,lt),n(M)===null&&lt===n(N)&&(U?(Q(ht),ht=-1):U=!0,At(nt,st-pt))):(lt.sortIndex=dt,e(M,lt),H||G||(H=!0,rt||(rt=!0,_t()))),lt},t.unstable_shouldYield=wt,t.unstable_wrapCallback=function(lt){var yt=$;return function(){var st=$;$=yt;try{return lt.apply(this,arguments)}finally{$=st}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var t=requireReact();function e(M){var N="https://react.dev/errors/"+M;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var F=2;F<arguments.length;F++)N+="&args[]="+encodeURIComponent(arguments[F])}return"Minified React error #"+M+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(M,N,F){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:z==null?null:""+z,children:M,containerInfo:N,implementation:F}}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function P(M,N){if(M==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,reactDom_production.createPortal=function(M,N){var F=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(e(299));return a(M,N,null,F)},reactDom_production.flushSync=function(M){var N=S.T,F=r.p;try{if(S.T=null,r.p=2,M)return M()}finally{S.T=N,r.p=F,r.d.f()}},reactDom_production.preconnect=function(M,N){typeof M=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,r.d.C(M,N))},reactDom_production.prefetchDNS=function(M){typeof M=="string"&&r.d.D(M)},reactDom_production.preinit=function(M,N){if(typeof M=="string"&&N&&typeof N.as=="string"){var F=N.as,z=P(F,N.crossOrigin),$=typeof N.integrity=="string"?N.integrity:void 0,G=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;F==="style"?r.d.S(M,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:z,integrity:$,fetchPriority:G}):F==="script"&&r.d.X(M,{crossOrigin:z,integrity:$,fetchPriority:G,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},reactDom_production.preinitModule=function(M,N){if(typeof M=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var F=P(N.as,N.crossOrigin);r.d.M(M,{crossOrigin:F,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&r.d.M(M)},reactDom_production.preload=function(M,N){if(typeof M=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var F=N.as,z=P(F,N.crossOrigin);r.d.L(M,F,{crossOrigin:z,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},reactDom_production.preloadModule=function(M,N){if(typeof M=="string")if(N){var F=P(N.as,N.crossOrigin);r.d.m(M,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:F,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else r.d.m(M)},reactDom_production.requestFormReset=function(M){r.d.r(M)},reactDom_production.unstable_batchedUpdates=function(M,N){return M(N)},reactDom_production.useFormState=function(M,N,F){return S.H.useFormState(M,N,F)},reactDom_production.useFormStatus=function(){return S.H.useHostTransitionStatus()},reactDom_production.version="19.1.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var t=requireScheduler(),e=requireReact(),n=requireReactDom();function r(x){var T="https://react.dev/errors/"+x;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)T+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+x+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}function a(x){var T=x,j=x;if(x.alternate)for(;T.return;)T=T.return;else{x=T;do T=x,(T.flags&4098)!==0&&(j=T.return),x=T.return;while(x)}return T.tag===3?j:null}function S(x){if(x.tag===13){var T=x.memoizedState;if(T===null&&(x=x.alternate,x!==null&&(T=x.memoizedState)),T!==null)return T.dehydrated}return null}function P(x){if(a(x)!==x)throw Error(r(188))}function M(x){var T=x.alternate;if(!T){if(T=a(x),T===null)throw Error(r(188));return T!==x?null:x}for(var j=x,V=T;;){var X=j.return;if(X===null)break;var J=X.alternate;if(J===null){if(V=X.return,V!==null){j=V;continue}break}if(X.child===J.child){for(J=X.child;J;){if(J===j)return P(X),x;if(J===V)return P(X),T;J=J.sibling}throw Error(r(188))}if(j.return!==V.return)j=X,V=J;else{for(var ft=!1,vt=X.child;vt;){if(vt===j){ft=!0,j=X,V=J;break}if(vt===V){ft=!0,V=X,j=J;break}vt=vt.sibling}if(!ft){for(vt=J.child;vt;){if(vt===j){ft=!0,j=J,V=X;break}if(vt===V){ft=!0,V=J,j=X;break}vt=vt.sibling}if(!ft)throw Error(r(189))}}if(j.alternate!==V)throw Error(r(190))}if(j.tag!==3)throw Error(r(188));return j.stateNode.current===j?x:T}function N(x){var T=x.tag;if(T===5||T===26||T===27||T===6)return x;for(x=x.child;x!==null;){if(T=N(x),T!==null)return T;x=x.sibling}return null}var F=Object.assign,z=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),mt=Symbol.for("react.activity"),wt=Symbol.for("react.memo_cache_sentinel"),kt=Symbol.iterator;function _t(x){return x===null||typeof x!="object"?null:(x=kt&&x[kt]||x["@@iterator"],typeof x=="function"?x:null)}var Vt=Symbol.for("react.client.reference");function jt(x){if(x==null)return null;if(typeof x=="function")return x.$$typeof===Vt?null:x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case H:return"Fragment";case W:return"Profiler";case U:return"StrictMode";case nt:return"Suspense";case rt:return"SuspenseList";case mt:return"Activity"}if(typeof x=="object")switch(x.$$typeof){case G:return"Portal";case K:return(x.displayName||"Context")+".Provider";case Q:return(x._context.displayName||"Context")+".Consumer";case tt:var T=x.render;return x=x.displayName,x||(x=T.displayName||T.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case ht:return T=x.displayName||null,T!==null?T:jt(x.type)||"Memo";case ct:T=x._payload,x=x._init;try{return jt(x(T))}catch{}}return null}var At=Array.isArray,lt=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},pt=[],dt=-1;function xt(x){return{current:x}}function Pt(x){0>dt||(x.current=pt[dt],pt[dt]=null,dt--)}function Dt(x,T){dt++,pt[dt]=x.current,x.current=T}var Tt=xt(null),Ht=xt(null),Ut=xt(null),xe=xt(null);function Mt(x,T){switch(Dt(Ut,T),Dt(Ht,x),Dt(Tt,null),T.nodeType){case 9:case 11:x=(x=T.documentElement)&&(x=x.namespaceURI)?Hf(x):0;break;default:if(x=T.tagName,T=T.namespaceURI)T=Hf(T),x=Uf(T,x);else switch(x){case"svg":x=1;break;case"math":x=2;break;default:x=0}}Pt(Tt),Dt(Tt,x)}function Ne(){Pt(Tt),Pt(Ht),Pt(Ut)}function me(x){x.memoizedState!==null&&Dt(xe,x);var T=Tt.current,j=Uf(T,x.type);T!==j&&(Dt(Ht,x),Dt(Tt,j))}function Jt(x){Ht.current===x&&(Pt(Tt),Pt(Ht)),xe.current===x&&(Pt(xe),jo._currentValue=st)}var St=Object.prototype.hasOwnProperty,ge=t.unstable_scheduleCallback,ee=t.unstable_cancelCallback,De=t.unstable_shouldYield,kn=t.unstable_requestPaint,Xe=t.unstable_now,Nn=t.unstable_getCurrentPriorityLevel,Wt=t.unstable_ImmediatePriority,jn=t.unstable_UserBlockingPriority,We=t.unstable_NormalPriority,mn=t.unstable_LowPriority,Cn=t.unstable_IdlePriority,oe=t.log,_e=t.unstable_setDisableYieldValue,Qe=null,Ue=null;function ie(x){if(typeof oe=="function"&&_e(x),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Qe,x)}catch{}}var Ze=Math.clz32?Math.clz32:Ba,ve=Math.log,fe=Math.LN2;function Ba(x){return x>>>=0,x===0?32:31-(ve(x)/fe|0)|0}var wn=256,zi=4194304;function ae(x){var T=x&42;if(T!==0)return T;switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return x&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return x}}function Ir(x,T,j){var V=x.pendingLanes;if(V===0)return 0;var X=0,J=x.suspendedLanes,ft=x.pingedLanes;x=x.warmLanes;var vt=V&134217727;return vt!==0?(V=vt&~J,V!==0?X=ae(V):(ft&=vt,ft!==0?X=ae(ft):j||(j=vt&~x,j!==0&&(X=ae(j))))):(vt=V&~J,vt!==0?X=ae(vt):ft!==0?X=ae(ft):j||(j=V&~x,j!==0&&(X=ae(j)))),X===0?0:T!==0&&T!==X&&(T&J)===0&&(J=X&-X,j=T&-T,J>=j||J===32&&(j&4194048)!==0)?T:X}function lr(x,T){return(x.pendingLanes&~(x.suspendedLanes&~x.pingedLanes)&T)===0}function ps(x,T){switch(x){case 1:case 2:case 4:case 8:case 64:return T+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return T+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _n(){var x=wn;return wn<<=1,(wn&4194048)===0&&(wn=256),x}function Rn(){var x=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),x}function Vn(x){for(var T=[],j=0;31>j;j++)T.push(x);return T}function Wn(x,T){x.pendingLanes|=T,T!==268435456&&(x.suspendedLanes=0,x.pingedLanes=0,x.warmLanes=0)}function Dr(x,T,j,V,X,J){var ft=x.pendingLanes;x.pendingLanes=j,x.suspendedLanes=0,x.pingedLanes=0,x.warmLanes=0,x.expiredLanes&=j,x.entangledLanes&=j,x.errorRecoveryDisabledLanes&=j,x.shellSuspendCounter=0;var vt=x.entanglements,Rt=x.expirationTimes,Bt=x.hiddenUpdates;for(j=ft&~j;0<j;){var Gt=31-Ze(j),Xt=1<<Gt;vt[Gt]=0,Rt[Gt]=-1;var zt=Bt[Gt];if(zt!==null)for(Bt[Gt]=null,Gt=0;Gt<zt.length;Gt++){var $t=zt[Gt];$t!==null&&($t.lane&=-536870913)}j&=~Xt}V!==0&&ms(x,V,0),J!==0&&X===0&&x.tag!==0&&(x.suspendedLanes|=J&~(ft&~T))}function ms(x,T,j){x.pendingLanes|=T,x.suspendedLanes&=~T;var V=31-Ze(T);x.entangledLanes|=T,x.entanglements[V]=x.entanglements[V]|1073741824|j&4194090}function Or(x,T){var j=x.entangledLanes|=T;for(x=x.entanglements;j;){var V=31-Ze(j),X=1<<V;X&T|x[V]&T&&(x[V]|=T),j&=~X}}function ni(x){switch(x){case 2:x=1;break;case 8:x=4;break;case 32:x=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:x=128;break;case 268435456:x=134217728;break;default:x=0}return x}function Zt(x){return x&=-x,2<x?8<x?(x&134217727)!==0?32:268435456:8:2}function ur(){var x=yt.p;return x!==0?x:(x=window.event,x===void 0?32:hd(x.type))}function Lr(x,T){var j=yt.p;try{return yt.p=x,T()}finally{yt.p=j}}var zn=Math.random().toString(36).slice(2),Je="__reactFiber$"+zn,gn="__reactProps$"+zn,Si="__reactContainer$"+zn,fi="__reactEvents$"+zn,Ws="__reactListeners$"+zn,Fr="__reactHandles$"+zn,Qs="__reactResources$"+zn,$i="__reactMarker$"+zn;function gs(x){delete x[Je],delete x[gn],delete x[fi],delete x[Ws],delete x[Fr]}function nn(x){var T=x[Je];if(T)return T;for(var j=x.parentNode;j;){if(T=j[Si]||j[Je]){if(j=T.alternate,T.child!==null||j!==null&&j.child!==null)for(x=Kf(x);x!==null;){if(j=x[Je])return j;x=Kf(x)}return T}x=j,j=x.parentNode}return null}function Tn(x){if(x=x[Je]||x[Si]){var T=x.tag;if(T===5||T===6||T===13||T===26||T===27||T===3)return x}return null}function di(x){var T=x.tag;if(T===5||T===26||T===27||T===6)return x.stateNode;throw Error(r(33))}function $n(x){var T=x[Qs];return T||(T=x[Qs]={hoistableStyles:new Map,hoistableScripts:new Map}),T}function Be(x){x[$i]=!0}var qi=new Set,ji={};function Qn(x,T){Ve(x,T),Ve(x+"Capture",T)}function Ve(x,T){for(ji[x]=T,x=0;x<T.length;x++)qi.add(T[x])}var Va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zs={},Ii={};function cr(x){return St.call(Ii,x)?!0:St.call(Zs,x)?!1:Va.test(x)?Ii[x]=!0:(Zs[x]=!0,!1)}function Hi(x,T,j){if(cr(T))if(j===null)x.removeAttribute(T);else{switch(typeof j){case"undefined":case"function":case"symbol":x.removeAttribute(T);return;case"boolean":var V=T.toLowerCase().slice(0,5);if(V!=="data-"&&V!=="aria-"){x.removeAttribute(T);return}}x.setAttribute(T,""+j)}}function Ui(x,T,j){if(j===null)x.removeAttribute(T);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":x.removeAttribute(T);return}x.setAttribute(T,""+j)}}function ii(x,T,j,V){if(V===null)x.removeAttribute(j);else{switch(typeof V){case"undefined":case"function":case"symbol":case"boolean":x.removeAttribute(j);return}x.setAttributeNS(T,j,""+V)}}var ys,tn;function qn(x){if(ys===void 0)try{throw Error()}catch(j){var T=j.stack.trim().match(/\n( *(at )?)/);ys=T&&T[1]||"",tn=-1<j.stack.indexOf(`
    at`)?" (<anonymous>)":-1<j.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+x+tn}var Zn=!1;function ri(x,T){if(!x||Zn)return"";Zn=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var V={DetermineComponentFrameRoot:function(){try{if(T){var Xt=function(){throw Error()};if(Object.defineProperty(Xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xt,[])}catch($t){var zt=$t}Reflect.construct(x,[],Xt)}else{try{Xt.call()}catch($t){zt=$t}x.call(Xt.prototype)}}else{try{throw Error()}catch($t){zt=$t}(Xt=x())&&typeof Xt.catch=="function"&&Xt.catch(function(){})}}catch($t){if($t&&zt&&typeof $t.stack=="string")return[$t.stack,zt.stack]}return[null,null]}};V.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(V.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(V.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var J=V.DetermineComponentFrameRoot(),ft=J[0],vt=J[1];if(ft&&vt){var Rt=ft.split(`
`),Bt=vt.split(`
`);for(X=V=0;V<Rt.length&&!Rt[V].includes("DetermineComponentFrameRoot");)V++;for(;X<Bt.length&&!Bt[X].includes("DetermineComponentFrameRoot");)X++;if(V===Rt.length||X===Bt.length)for(V=Rt.length-1,X=Bt.length-1;1<=V&&0<=X&&Rt[V]!==Bt[X];)X--;for(;1<=V&&0<=X;V--,X--)if(Rt[V]!==Bt[X]){if(V!==1||X!==1)do if(V--,X--,0>X||Rt[V]!==Bt[X]){var Gt=`
`+Rt[V].replace(" at new "," at ");return x.displayName&&Gt.includes("<anonymous>")&&(Gt=Gt.replace("<anonymous>",x.displayName)),Gt}while(1<=V&&0<=X);break}}}finally{Zn=!1,Error.prepareStackTrace=j}return(j=x?x.displayName||x.name:"")?qn(j):""}function vs(x){switch(x.tag){case 26:case 27:case 5:return qn(x.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return ri(x.type,!1);case 11:return ri(x.type.render,!1);case 1:return ri(x.type,!0);case 31:return qn("Activity");default:return""}}function Js(x){try{var T="";do T+=vs(x),x=x.return;while(x);return T}catch(j){return`
Error generating stack: `+j.message+`
`+j.stack}}function Hn(x){switch(typeof x){case"bigint":case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function ta(x){var T=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(T==="checkbox"||T==="radio")}function Br(x){var T=ta(x)?"checked":"value",j=Object.getOwnPropertyDescriptor(x.constructor.prototype,T),V=""+x[T];if(!x.hasOwnProperty(T)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var X=j.get,J=j.set;return Object.defineProperty(x,T,{configurable:!0,get:function(){return X.call(this)},set:function(ft){V=""+ft,J.call(this,ft)}}),Object.defineProperty(x,T,{enumerable:j.enumerable}),{getValue:function(){return V},setValue:function(ft){V=""+ft},stopTracking:function(){x._valueTracker=null,delete x[T]}}}}function hr(x){x._valueTracker||(x._valueTracker=Br(x))}function dr(x){if(!x)return!1;var T=x._valueTracker;if(!T)return!0;var j=T.getValue(),V="";return x&&(V=ta(x)?x.checked?"true":"false":x.value),x=V,x!==j?(T.setValue(x),!0):!1}function In(x){if(x=x||(typeof document<"u"?document:void 0),typeof x>"u")return null;try{return x.activeElement||x.body}catch{return x.body}}var Jn=/[\n"\\]/g;function hn(x){return x.replace(Jn,function(T){return"\\"+T.charCodeAt(0).toString(16)+" "})}function ki(x,T,j,V,X,J,ft,vt){x.name="",ft!=null&&typeof ft!="function"&&typeof ft!="symbol"&&typeof ft!="boolean"?x.type=ft:x.removeAttribute("type"),T!=null?ft==="number"?(T===0&&x.value===""||x.value!=T)&&(x.value=""+Hn(T)):x.value!==""+Hn(T)&&(x.value=""+Hn(T)):ft!=="submit"&&ft!=="reset"||x.removeAttribute("value"),T!=null?xs(x,ft,Hn(T)):j!=null?xs(x,ft,Hn(j)):V!=null&&x.removeAttribute("value"),X==null&&J!=null&&(x.defaultChecked=!!J),X!=null&&(x.checked=X&&typeof X!="function"&&typeof X!="symbol"),vt!=null&&typeof vt!="function"&&typeof vt!="symbol"&&typeof vt!="boolean"?x.name=""+Hn(vt):x.removeAttribute("name")}function Gi(x,T,j,V,X,J,ft,vt){if(J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(x.type=J),T!=null||j!=null){if(!(J!=="submit"&&J!=="reset"||T!=null))return;j=j!=null?""+Hn(j):"",T=T!=null?""+Hn(T):j,vt||T===x.value||(x.value=T),x.defaultValue=T}V=V??X,V=typeof V!="function"&&typeof V!="symbol"&&!!V,x.checked=vt?x.checked:!!V,x.defaultChecked=!!V,ft!=null&&typeof ft!="function"&&typeof ft!="symbol"&&typeof ft!="boolean"&&(x.name=ft)}function xs(x,T,j){T==="number"&&In(x.ownerDocument)===x||x.defaultValue===""+j||(x.defaultValue=""+j)}function Yi(x,T,j,V){if(x=x.options,T){T={};for(var X=0;X<j.length;X++)T["$"+j[X]]=!0;for(j=0;j<x.length;j++)X=T.hasOwnProperty("$"+x[j].value),x[j].selected!==X&&(x[j].selected=X),X&&V&&(x[j].defaultSelected=!0)}else{for(j=""+Hn(j),T=null,X=0;X<x.length;X++){if(x[X].value===j){x[X].selected=!0,V&&(x[X].defaultSelected=!0);return}T!==null||x[X].disabled||(T=x[X])}T!==null&&(T.selected=!0)}}function ea(x,T,j){if(T!=null&&(T=""+Hn(T),T!==x.value&&(x.value=T),j==null)){x.defaultValue!==T&&(x.defaultValue=T);return}x.defaultValue=j!=null?""+Hn(j):""}function bs(x,T,j,V){if(T==null){if(V!=null){if(j!=null)throw Error(r(92));if(At(V)){if(1<V.length)throw Error(r(93));V=V[0]}j=V}j==null&&(j=""),T=j}j=Hn(T),x.defaultValue=j,V=x.textContent,V===j&&V!==""&&V!==null&&(x.value=V)}function si(x,T){if(T){var j=x.firstChild;if(j&&j===x.lastChild&&j.nodeType===3){j.nodeValue=T;return}}x.textContent=T}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ia(x,T,j){var V=T.indexOf("--")===0;j==null||typeof j=="boolean"||j===""?V?x.setProperty(T,""):T==="float"?x.cssFloat="":x[T]="":V?x.setProperty(T,j):typeof j!="number"||j===0||na.has(T)?T==="float"?x.cssFloat=j:x[T]=(""+j).trim():x[T]=j+"px"}function pr(x,T,j){if(T!=null&&typeof T!="object")throw Error(r(62));if(x=x.style,j!=null){for(var V in j)!j.hasOwnProperty(V)||T!=null&&T.hasOwnProperty(V)||(V.indexOf("--")===0?x.setProperty(V,""):V==="float"?x.cssFloat="":x[V]="");for(var X in T)V=T[X],T.hasOwnProperty(X)&&j[X]!==V&&ia(x,X,V)}else for(var J in T)T.hasOwnProperty(J)&&ia(x,J,T[J])}function mi(x){if(x.indexOf("-")===-1)return!1;switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ze=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ai(x){return ze.test(""+x)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":x}var Es=null;function Xi(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var fn=null,an=null;function mr(x){var T=Tn(x);if(T&&(x=T.stateNode)){var j=x[gn]||null;t:switch(x=T.stateNode,T.type){case"input":if(ki(x,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name),T=j.name,j.type==="radio"&&T!=null){for(j=x;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll('input[name="'+hn(""+T)+'"][type="radio"]'),T=0;T<j.length;T++){var V=j[T];if(V!==x&&V.form===x.form){var X=V[gn]||null;if(!X)throw Error(r(90));ki(V,X.value,X.defaultValue,X.defaultValue,X.checked,X.defaultChecked,X.type,X.name)}}for(T=0;T<j.length;T++)V=j[T],V.form===x.form&&dr(V)}break t;case"textarea":ea(x,j.value,j.defaultValue);break t;case"select":T=j.value,T!=null&&Yi(x,!!j.multiple,T,!1)}}}var Ss=!1;function ra(x,T,j){if(Ss)return x(T,j);Ss=!0;try{var V=x(T);return V}finally{if(Ss=!1,(fn!==null||an!==null)&&(vl(),fn&&(T=fn,x=an,an=fn=null,mr(T),x)))for(T=0;T<x.length;T++)mr(x[T])}}function Ki(x,T){var j=x.stateNode;if(j===null)return null;var V=j[gn]||null;if(V===null)return null;j=V[T];t:switch(T){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(x=x.type,V=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!V;break t;default:x=!1}if(x)return null;if(j&&typeof j!="function")throw Error(r(231,T,typeof j));return j}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(Un)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{ks=!1}var be=null,Gn=null,Di=null;function Cs(){if(Di)return Di;var x,T=Gn,j=T.length,V,X="value"in be?be.value:be.textContent,J=X.length;for(x=0;x<j&&T[x]===X[x];x++);var ft=j-x;for(V=1;V<=ft&&T[j-V]===X[J-V];V++);return Di=X.slice(x,1<V?1-V:void 0)}function Ci(x){var T=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&T===13&&(x=13)):x=T,x===10&&(x=13),32<=x||x===13?x:0}function de(){return!0}function on(){return!1}function ln(x){function T(j,V,X,J,ft){this._reactName=j,this._targetInst=X,this.type=V,this.nativeEvent=J,this.target=ft,this.currentTarget=null;for(var vt in x)x.hasOwnProperty(vt)&&(j=x[vt],this[vt]=j?j(J):J[vt]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?de:on,this.isPropagationStopped=on,this}return F(T.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=de)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=de)},persist:function(){},isPersistent:de}),T}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=ln(gi),Oi=F({},gi,{view:0,detail:0}),za=ln(Oi),Vr,ti,wi,zr=F({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==wi&&(wi&&x.type==="mousemove"?(Vr=x.screenX-wi.screenX,ti=x.screenY-wi.screenY):ti=Vr=0,wi=x),Vr)},movementY:function(x){return"movementY"in x?x.movementY:ti}}),Yn=ln(zr),Qi=F({},zr,{dataTransfer:0}),$a=ln(Qi),yr=F({},Oi,{relatedTarget:0}),$r=ln(yr),Zi=F({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=ln(Zi),oi=F({},gi,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),sa=ln(oi),Ha=F({},gi,{data:0}),aa=ln(Ha),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ya={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xa(x){var T=this.nativeEvent;return T.getModifierState?T.getModifierState(x):(x=Ya[x])?!!T[x]:!1}function ws(){return Xa}var Li=F({},Oi,{key:function(x){if(x.key){var T=Ua[x.key]||x.key;if(T!=="Unidentified")return T}return x.type==="keypress"?(x=Ci(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?Ga[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(x){return x.type==="keypress"?Ci(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?Ci(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),Dn=ln(Li),Ka=F({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rn=ln(Ka),Rs=F({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Ts=ln(Rs),ut=F({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=ln(ut),at=F({},zr,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),bt=ln(at),Ct=F({},gi,{newState:0,oldState:0}),qt=ln(Ct),Qt=[9,13,27,32],ne=Un&&"CompositionEvent"in window,ce=null;Un&&"documentMode"in document&&(ce=document.documentMode);var we=Un&&"TextEvent"in window&&!ce,Pe=Un&&(!ne||ce&&8<ce&&11>=ce),Ge=" ",vr=!1;function oa(x,T){switch(x){case"keyup":return Qt.indexOf(T.keyCode)!==-1;case"keydown":return T.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function As(x){return x=x.detail,typeof x=="object"&&"data"in x?x.data:null}var Ji=!1;function la(x,T){switch(x){case"compositionend":return As(T);case"keypress":return T.which!==32?null:(vr=!0,Ge);case"textInput":return x=T.data,x===Ge&&vr?null:x;default:return null}}function Wa(x,T){if(Ji)return x==="compositionend"||!ne&&oa(x,T)?(x=Cs(),Di=Gn=be=null,Ji=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(T.ctrlKey||T.altKey||T.metaKey)||T.ctrlKey&&T.altKey){if(T.char&&1<T.char.length)return T.char;if(T.which)return String.fromCharCode(T.which)}return null;case"compositionend":return Pe&&T.locale!=="ko"?null:T.data;default:return null}}var ua={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ca(x){var T=x&&x.nodeName&&x.nodeName.toLowerCase();return T==="input"?!!ua[x.type]:T==="textarea"}function Ps(x,T,j,V){fn?an?an.push(V):an=[V]:fn=V,T=kl(T,"onChange"),0<T.length&&(j=new gr("onChange","change",null,j,V),x.push({event:j,listeners:T}))}var tr=null,Fi=null;function ha(x){Bf(x,0)}function er(x){var T=di(x);if(dr(T))return x}function qr(x,T){if(x==="change")return T}var Ms=!1;if(Un){var Ns;if(Un){var js="oninput"in document;if(!js){var fa=document.createElement("div");fa.setAttribute("oninput","return;"),js=typeof fa.oninput=="function"}Ns=js}else Ns=!1;Ms=Ns&&(!document.documentMode||9<document.documentMode)}function Is(){tr&&(tr.detachEvent("onpropertychange",Hr),Fi=tr=null)}function Hr(x){if(x.propertyName==="value"&&er(Fi)){var T=[];Ps(T,Fi,x,Xi(x)),ra(ha,T)}}function Fo(x,T,j){x==="focusin"?(Is(),tr=T,Fi=j,tr.attachEvent("onpropertychange",Hr)):x==="focusout"&&Is()}function Bl(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return er(Fi)}function Bo(x,T){if(x==="click")return er(T)}function Qa(x,T){if(x==="input"||x==="change")return er(T)}function Vl(x,T){return x===T&&(x!==0||1/x===1/T)||x!==x&&T!==T}var Xn=typeof Object.is=="function"?Object.is:Vl;function Ur(x,T){if(Xn(x,T))return!0;if(typeof x!="object"||x===null||typeof T!="object"||T===null)return!1;var j=Object.keys(x),V=Object.keys(T);if(j.length!==V.length)return!1;for(V=0;V<j.length;V++){var X=j[V];if(!St.call(T,X)||!Xn(x[X],T[X]))return!1}return!0}function Vo(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function zo(x,T){var j=Vo(x);x=0;for(var V;j;){if(j.nodeType===3){if(V=x+j.textContent.length,x<=T&&V>=T)return{node:j,offset:T-x};x=V}t:{for(;j;){if(j.nextSibling){j=j.nextSibling;break t}j=j.parentNode}j=void 0}j=Vo(j)}}function xr(x,T){return x&&T?x===T?!0:x&&x.nodeType===3?!1:T&&T.nodeType===3?xr(x,T.parentNode):"contains"in x?x.contains(T):x.compareDocumentPosition?!!(x.compareDocumentPosition(T)&16):!1:!1}function $o(x){x=x!=null&&x.ownerDocument!=null&&x.ownerDocument.defaultView!=null?x.ownerDocument.defaultView:window;for(var T=In(x.document);T instanceof x.HTMLIFrameElement;){try{var j=typeof T.contentWindow.location.href=="string"}catch{j=!1}if(j)x=T.contentWindow;else break;T=In(x.document)}return T}function da(x){var T=x&&x.nodeName&&x.nodeName.toLowerCase();return T&&(T==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||T==="textarea"||x.contentEditable==="true")}var li=Un&&"documentMode"in document&&11>=document.documentMode,On=null,L=null,R=null,A=!1;function O(x,T,j){var V=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;A||On==null||On!==In(V)||(V=On,"selectionStart"in V&&da(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),R&&Ur(R,V)||(R=V,V=kl(L,"onSelect"),0<V.length&&(T=new gr("onSelect","select",null,T,j),x.push({event:T,listeners:V}),T.target=On)))}function q(x,T){var j={};return j[x.toLowerCase()]=T.toLowerCase(),j["Webkit"+x]="webkit"+T,j["Moz"+x]="moz"+T,j}var Z={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionrun:q("Transition","TransitionRun"),transitionstart:q("Transition","TransitionStart"),transitioncancel:q("Transition","TransitionCancel"),transitionend:q("Transition","TransitionEnd")},it={},ot={};Un&&(ot=document.createElement("div").style,"AnimationEvent"in window||(delete Z.animationend.animation,delete Z.animationiteration.animation,delete Z.animationstart.animation),"TransitionEvent"in window||delete Z.transitionend.transition);function gt(x){if(it[x])return it[x];if(!Z[x])return x;var T=Z[x],j;for(j in T)if(T.hasOwnProperty(j)&&j in ot)return it[x]=T[j];return x}var Et=gt("animationend"),It=gt("animationiteration"),Lt=gt("animationstart"),Kt=gt("transitionrun"),te=gt("transitionstart"),re=gt("transitioncancel"),le=gt("transitionend"),Re=new Map,Ee="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ee.push("scrollEnd");function Se(x,T){Re.set(x,T),Qn(T,[x])}var yn=new WeakMap;function Oe(x,T){if(typeof x=="object"&&x!==null){var j=yn.get(x);return j!==void 0?j:(T={value:x,source:T,stack:Js(T)},yn.set(x,T),T)}return{value:x,source:T,stack:Js(T)}}var vn=[],Ri=0,pa=0;function Ds(){for(var x=Ri,T=pa=Ri=0;T<x;){var j=vn[T];vn[T++]=null;var V=vn[T];vn[T++]=null;var X=vn[T];vn[T++]=null;var J=vn[T];if(vn[T++]=null,V!==null&&X!==null){var ft=V.pending;ft===null?X.next=X:(X.next=ft.next,ft.next=X),V.pending=X}J!==0&&Za(j,X,J)}}function Os(x,T,j,V){vn[Ri++]=x,vn[Ri++]=T,vn[Ri++]=j,vn[Ri++]=V,pa|=V,x.lanes|=V,x=x.alternate,x!==null&&(x.lanes|=V)}function ma(x,T,j,V){return Os(x,T,j,V),Gr(x)}function br(x,T){return Os(x,null,null,T),Gr(x)}function Za(x,T,j){x.lanes|=j;var V=x.alternate;V!==null&&(V.lanes|=j);for(var X=!1,J=x.return;J!==null;)J.childLanes|=j,V=J.alternate,V!==null&&(V.childLanes|=j),J.tag===22&&(x=J.stateNode,x===null||x._visibility&1||(X=!0)),x=J,J=J.return;return x.tag===3?(J=x.stateNode,X&&T!==null&&(X=31-Ze(j),x=J.hiddenUpdates,V=x[X],V===null?x[X]=[T]:V.push(T),T.lane=j|536870912),J):null}function Gr(x){if(50<Co)throw Co=0,Gu=null,Error(r(185));for(var T=x.return;T!==null;)x=T,T=x.return;return x.tag===3?x.stateNode:null}var nr={};function xd(x,T,j,V){this.tag=x,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=T,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(x,T,j,V){return new xd(x,T,j,V)}function zl(x){return x=x.prototype,!(!x||!x.isReactComponent)}function _r(x,T){var j=x.alternate;return j===null?(j=yi(x.tag,T,x.key,x.mode),j.elementType=x.elementType,j.type=x.type,j.stateNode=x.stateNode,j.alternate=x,x.alternate=j):(j.pendingProps=T,j.type=x.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=x.flags&65011712,j.childLanes=x.childLanes,j.lanes=x.lanes,j.child=x.child,j.memoizedProps=x.memoizedProps,j.memoizedState=x.memoizedState,j.updateQueue=x.updateQueue,T=x.dependencies,j.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext},j.sibling=x.sibling,j.index=x.index,j.ref=x.ref,j.refCleanup=x.refCleanup,j}function Ec(x,T){x.flags&=65011714;var j=x.alternate;return j===null?(x.childLanes=0,x.lanes=T,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=j.childLanes,x.lanes=j.lanes,x.child=j.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=j.memoizedProps,x.memoizedState=j.memoizedState,x.updateQueue=j.updateQueue,x.type=j.type,T=j.dependencies,x.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),x}function qo(x,T,j,V,X,J){var ft=0;if(V=x,typeof x=="function")zl(x)&&(ft=1);else if(typeof x=="string")ft=Sp(x,j,Tt.current)?26:x==="html"||x==="head"||x==="body"?27:5;else t:switch(x){case mt:return x=yi(31,j,T,X),x.elementType=mt,x.lanes=J,x;case H:return Ls(j.children,X,J,T);case U:ft=8,X|=24;break;case W:return x=yi(12,j,T,X|2),x.elementType=W,x.lanes=J,x;case nt:return x=yi(13,j,T,X),x.elementType=nt,x.lanes=J,x;case rt:return x=yi(19,j,T,X),x.elementType=rt,x.lanes=J,x;default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case Y:case K:ft=10;break t;case Q:ft=9;break t;case tt:ft=11;break t;case ht:ft=14;break t;case ct:ft=16,V=null;break t}ft=29,j=Error(r(130,x===null?"null":typeof x,"")),V=null}return T=yi(ft,j,T,X),T.elementType=x,T.type=V,T.lanes=J,T}function Ls(x,T,j,V){return x=yi(7,x,V,T),x.lanes=j,x}function $l(x,T,j){return x=yi(6,x,null,T),x.lanes=j,x}function ql(x,T,j){return T=yi(4,x.children!==null?x.children:[],x.key,T),T.lanes=j,T.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},T}var ga=[],ya=0,Ho=null,Uo=0,Ti=[],Ai=0,Fs=null,Er=1,Sr="";function Bs(x,T){ga[ya++]=Uo,ga[ya++]=Ho,Ho=x,Uo=T}function Sc(x,T,j){Ti[Ai++]=Er,Ti[Ai++]=Sr,Ti[Ai++]=Fs,Fs=x;var V=Er;x=Sr;var X=32-Ze(V)-1;V&=~(1<<X),j+=1;var J=32-Ze(T)+X;if(30<J){var ft=X-X%5;J=(V&(1<<ft)-1).toString(32),V>>=ft,X-=ft,Er=1<<32-Ze(T)+X|j<<X|V,Sr=J+x}else Er=1<<J|j<<X|V,Sr=x}function Hl(x){x.return!==null&&(Bs(x,1),Sc(x,1,0))}function Ul(x){for(;x===Ho;)Ho=ga[--ya],ga[ya]=null,Uo=ga[--ya],ga[ya]=null;for(;x===Fs;)Fs=Ti[--Ai],Ti[Ai]=null,Sr=Ti[--Ai],Ti[Ai]=null,Er=Ti[--Ai],Ti[Ai]=null}var ei=null,un=null,Ie=!1,Vs=null,ir=!1,Gl=Error(r(519));function zs(x){var T=Error(r(418,""));throw no(Oe(T,x)),Gl}function kc(x){var T=x.stateNode,j=x.type,V=x.memoizedProps;switch(T[Je]=x,T[gn]=V,j){case"dialog":Ae("cancel",T),Ae("close",T);break;case"iframe":case"object":case"embed":Ae("load",T);break;case"video":case"audio":for(j=0;j<Ro.length;j++)Ae(Ro[j],T);break;case"source":Ae("error",T);break;case"img":case"image":case"link":Ae("error",T),Ae("load",T);break;case"details":Ae("toggle",T);break;case"input":Ae("invalid",T),Gi(T,V.value,V.defaultValue,V.checked,V.defaultChecked,V.type,V.name,!0),hr(T);break;case"select":Ae("invalid",T);break;case"textarea":Ae("invalid",T),bs(T,V.value,V.defaultValue,V.children),hr(T)}j=V.children,typeof j!="string"&&typeof j!="number"&&typeof j!="bigint"||T.textContent===""+j||V.suppressHydrationWarning===!0||qf(T.textContent,j)?(V.popover!=null&&(Ae("beforetoggle",T),Ae("toggle",T)),V.onScroll!=null&&Ae("scroll",T),V.onScrollEnd!=null&&Ae("scrollend",T),V.onClick!=null&&(T.onclick=Cl),T=!0):T=!1,T||zs(x)}function Cc(x){for(ei=x.return;ei;)switch(ei.tag){case 5:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:ei=ei.return}}function Ja(x){if(x!==ei)return!1;if(!Ie)return Cc(x),Ie=!0,!1;var T=x.tag,j;if((j=T!==3&&T!==27)&&((j=T===5)&&(j=x.type,j=!(j!=="form"&&j!=="button")||lc(x.type,x.memoizedProps)),j=!j),j&&un&&zs(x),Cc(x),T===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));t:{for(x=x.nextSibling,T=0;x;){if(x.nodeType===8)if(j=x.data,j==="/$"){if(T===0){un=Vi(x.nextSibling);break t}T--}else j!=="$"&&j!=="$!"&&j!=="$?"||T++;x=x.nextSibling}un=null}}else T===27?(T=un,ls(x.type)?(x=fc,fc=null,un=x):un=T):un=ei?Vi(x.stateNode.nextSibling):null;return!0}function eo(){un=ei=null,Ie=!1}function wc(){var x=Vs;return x!==null&&(hi===null?hi=x:hi.push.apply(hi,x),Vs=null),x}function no(x){Vs===null?Vs=[x]:Vs.push(x)}var Yl=xt(null),$s=null,kr=null;function Yr(x,T,j){Dt(Yl,T._currentValue),T._currentValue=j}function Cr(x){x._currentValue=Yl.current,Pt(Yl)}function Xl(x,T,j){for(;x!==null;){var V=x.alternate;if((x.childLanes&T)!==T?(x.childLanes|=T,V!==null&&(V.childLanes|=T)):V!==null&&(V.childLanes&T)!==T&&(V.childLanes|=T),x===j)break;x=x.return}}function Kl(x,T,j,V){var X=x.child;for(X!==null&&(X.return=x);X!==null;){var J=X.dependencies;if(J!==null){var ft=X.child;J=J.firstContext;t:for(;J!==null;){var vt=J;J=X;for(var Rt=0;Rt<T.length;Rt++)if(vt.context===T[Rt]){J.lanes|=j,vt=J.alternate,vt!==null&&(vt.lanes|=j),Xl(J.return,j,x),V||(ft=null);break t}J=vt.next}}else if(X.tag===18){if(ft=X.return,ft===null)throw Error(r(341));ft.lanes|=j,J=ft.alternate,J!==null&&(J.lanes|=j),Xl(ft,j,x),ft=null}else ft=X.child;if(ft!==null)ft.return=X;else for(ft=X;ft!==null;){if(ft===x){ft=null;break}if(X=ft.sibling,X!==null){X.return=ft.return,ft=X;break}ft=ft.return}X=ft}}function io(x,T,j,V){x=null;for(var X=T,J=!1;X!==null;){if(!J){if((X.flags&524288)!==0)J=!0;else if((X.flags&262144)!==0)break}if(X.tag===10){var ft=X.alternate;if(ft===null)throw Error(r(387));if(ft=ft.memoizedProps,ft!==null){var vt=X.type;Xn(X.pendingProps.value,ft.value)||(x!==null?x.push(vt):x=[vt])}}else if(X===xe.current){if(ft=X.alternate,ft===null)throw Error(r(387));ft.memoizedState.memoizedState!==X.memoizedState.memoizedState&&(x!==null?x.push(jo):x=[jo])}X=X.return}x!==null&&Kl(T,x,j,V),T.flags|=262144}function Go(x){for(x=x.firstContext;x!==null;){if(!Xn(x.context._currentValue,x.memoizedValue))return!0;x=x.next}return!1}function qs(x){$s=x,kr=null,x=x.dependencies,x!==null&&(x.firstContext=null)}function Kn(x){return Rc($s,x)}function Yo(x,T){return $s===null&&qs(x),Rc(x,T)}function Rc(x,T){var j=T._currentValue;if(T={context:T,memoizedValue:j,next:null},kr===null){if(x===null)throw Error(r(308));kr=T,x.dependencies={lanes:0,firstContext:T},x.flags|=524288}else kr=kr.next=T;return j}var bd=typeof AbortController<"u"?AbortController:function(){var x=[],T=this.signal={aborted:!1,addEventListener:function(j,V){x.push(V)}};this.abort=function(){T.aborted=!0,x.forEach(function(j){return j()})}},_d=t.unstable_scheduleCallback,Ed=t.unstable_NormalPriority,En={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wl(){return{controller:new bd,data:new Map,refCount:0}}function ro(x){x.refCount--,x.refCount===0&&_d(Ed,function(){x.controller.abort()})}var so=null,Ql=0,va=0,xa=null;function Sd(x,T){if(so===null){var j=so=[];Ql=0,va=Ju(),xa={status:"pending",value:void 0,then:function(V){j.push(V)}}}return Ql++,T.then(Tc,Tc),T}function Tc(){if(--Ql===0&&so!==null){xa!==null&&(xa.status="fulfilled");var x=so;so=null,va=0,xa=null;for(var T=0;T<x.length;T++)(0,x[T])()}}function kd(x,T){var j=[],V={status:"pending",value:null,reason:null,then:function(X){j.push(X)}};return x.then(function(){V.status="fulfilled",V.value=T;for(var X=0;X<j.length;X++)(0,j[X])(T)},function(X){for(V.status="rejected",V.reason=X,X=0;X<j.length;X++)(0,j[X])(void 0)}),V}var Ac=lt.S;lt.S=function(x,T){typeof T=="object"&&T!==null&&typeof T.then=="function"&&Sd(x,T),Ac!==null&&Ac(x,T)};var Hs=xt(null);function Zl(){var x=Hs.current;return x!==null?x:Ke.pooledCache}function Xo(x,T){T===null?Dt(Hs,Hs.current):Dt(Hs,T.pool)}function Pc(){var x=Zl();return x===null?null:{parent:En._currentValue,pool:x}}var ao=Error(r(460)),Mc=Error(r(474)),Ko=Error(r(542)),Jl={then:function(){}};function Nc(x){return x=x.status,x==="fulfilled"||x==="rejected"}function Wo(){}function jc(x,T,j){switch(j=x[j],j===void 0?x.push(T):j!==T&&(T.then(Wo,Wo),T=j),T.status){case"fulfilled":return T.value;case"rejected":throw x=T.reason,Dc(x),x;default:if(typeof T.status=="string")T.then(Wo,Wo);else{if(x=Ke,x!==null&&100<x.shellSuspendCounter)throw Error(r(482));x=T,x.status="pending",x.then(function(V){if(T.status==="pending"){var X=T;X.status="fulfilled",X.value=V}},function(V){if(T.status==="pending"){var X=T;X.status="rejected",X.reason=V}})}switch(T.status){case"fulfilled":return T.value;case"rejected":throw x=T.reason,Dc(x),x}throw oo=T,ao}}var oo=null;function Ic(){if(oo===null)throw Error(r(459));var x=oo;return oo=null,x}function Dc(x){if(x===ao||x===Ko)throw Error(r(483))}var Xr=!1;function tu(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eu(x,T){x=x.updateQueue,T.updateQueue===x&&(T.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,callbacks:null})}function Kr(x){return{lane:x,tag:0,payload:null,callback:null,next:null}}function Wr(x,T,j){var V=x.updateQueue;if(V===null)return null;if(V=V.shared,(Le&2)!==0){var X=V.pending;return X===null?T.next=T:(T.next=X.next,X.next=T),V.pending=T,T=Gr(x),Za(x,null,j),T}return Os(x,V,T,j),Gr(x)}function lo(x,T,j){if(T=T.updateQueue,T!==null&&(T=T.shared,(j&4194048)!==0)){var V=T.lanes;V&=x.pendingLanes,j|=V,T.lanes=j,Or(x,j)}}function nu(x,T){var j=x.updateQueue,V=x.alternate;if(V!==null&&(V=V.updateQueue,j===V)){var X=null,J=null;if(j=j.firstBaseUpdate,j!==null){do{var ft={lane:j.lane,tag:j.tag,payload:j.payload,callback:null,next:null};J===null?X=J=ft:J=J.next=ft,j=j.next}while(j!==null);J===null?X=J=T:J=J.next=T}else X=J=T;j={baseState:V.baseState,firstBaseUpdate:X,lastBaseUpdate:J,shared:V.shared,callbacks:V.callbacks},x.updateQueue=j;return}x=j.lastBaseUpdate,x===null?j.firstBaseUpdate=T:x.next=T,j.lastBaseUpdate=T}var iu=!1;function uo(){if(iu){var x=xa;if(x!==null)throw x}}function co(x,T,j,V){iu=!1;var X=x.updateQueue;Xr=!1;var J=X.firstBaseUpdate,ft=X.lastBaseUpdate,vt=X.shared.pending;if(vt!==null){X.shared.pending=null;var Rt=vt,Bt=Rt.next;Rt.next=null,ft===null?J=Bt:ft.next=Bt,ft=Rt;var Gt=x.alternate;Gt!==null&&(Gt=Gt.updateQueue,vt=Gt.lastBaseUpdate,vt!==ft&&(vt===null?Gt.firstBaseUpdate=Bt:vt.next=Bt,Gt.lastBaseUpdate=Rt))}if(J!==null){var Xt=X.baseState;ft=0,Gt=Bt=Rt=null,vt=J;do{var zt=vt.lane&-536870913,$t=zt!==vt.lane;if($t?(Me&zt)===zt:(V&zt)===zt){zt!==0&&zt===va&&(iu=!0),Gt!==null&&(Gt=Gt.next={lane:0,tag:vt.tag,payload:vt.payload,callback:null,next:null});t:{var ye=x,he=vt;zt=T;var He=j;switch(he.tag){case 1:if(ye=he.payload,typeof ye=="function"){Xt=ye.call(He,Xt,zt);break t}Xt=ye;break t;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=he.payload,zt=typeof ye=="function"?ye.call(He,Xt,zt):ye,zt==null)break t;Xt=F({},Xt,zt);break t;case 2:Xr=!0}}zt=vt.callback,zt!==null&&(x.flags|=64,$t&&(x.flags|=8192),$t=X.callbacks,$t===null?X.callbacks=[zt]:$t.push(zt))}else $t={lane:zt,tag:vt.tag,payload:vt.payload,callback:vt.callback,next:null},Gt===null?(Bt=Gt=$t,Rt=Xt):Gt=Gt.next=$t,ft|=zt;if(vt=vt.next,vt===null){if(vt=X.shared.pending,vt===null)break;$t=vt,vt=$t.next,$t.next=null,X.lastBaseUpdate=$t,X.shared.pending=null}}while(!0);Gt===null&&(Rt=Xt),X.baseState=Rt,X.firstBaseUpdate=Bt,X.lastBaseUpdate=Gt,J===null&&(X.shared.lanes=0),rs|=ft,x.lanes=ft,x.memoizedState=Xt}}function Oc(x,T){if(typeof x!="function")throw Error(r(191,x));x.call(T)}function Lc(x,T){var j=x.callbacks;if(j!==null)for(x.callbacks=null,x=0;x<j.length;x++)Oc(j[x],T)}var ba=xt(null),Qo=xt(0);function Fc(x,T){x=Nr,Dt(Qo,x),Dt(ba,T),Nr=x|T.baseLanes}function ru(){Dt(Qo,Nr),Dt(ba,ba.current)}function su(){Nr=Qo.current,Pt(ba),Pt(Qo)}var Qr=0,ke=null,$e=null,xn=null,Zo=!1,_a=!1,Us=!1,Jo=0,ho=0,Ea=null,Cd=0;function dn(){throw Error(r(321))}function au(x,T){if(T===null)return!1;for(var j=0;j<T.length&&j<x.length;j++)if(!Xn(x[j],T[j]))return!1;return!0}function ou(x,T,j,V,X,J){return Qr=J,ke=T,T.memoizedState=null,T.updateQueue=null,T.lanes=0,lt.H=x===null||x.memoizedState===null?Eh:Sh,Us=!1,J=j(V,X),Us=!1,_a&&(J=Vc(T,j,V,X)),Bc(x),J}function Bc(x){lt.H=sl;var T=$e!==null&&$e.next!==null;if(Qr=0,xn=$e=ke=null,Zo=!1,ho=0,Ea=null,T)throw Error(r(300));x===null||An||(x=x.dependencies,x!==null&&Go(x)&&(An=!0))}function Vc(x,T,j,V){ke=x;var X=0;do{if(_a&&(Ea=null),ho=0,_a=!1,25<=X)throw Error(r(301));if(X+=1,xn=$e=null,x.updateQueue!=null){var J=x.updateQueue;J.lastEffect=null,J.events=null,J.stores=null,J.memoCache!=null&&(J.memoCache.index=0)}lt.H=Nd,J=T(j,V)}while(_a);return J}function wd(){var x=lt.H,T=x.useState()[0];return T=typeof T.then=="function"?fo(T):T,x=x.useState()[0],($e!==null?$e.memoizedState:null)!==x&&(ke.flags|=1024),T}function lu(){var x=Jo!==0;return Jo=0,x}function uu(x,T,j){T.updateQueue=x.updateQueue,T.flags&=-2053,x.lanes&=~j}function cu(x){if(Zo){for(x=x.memoizedState;x!==null;){var T=x.queue;T!==null&&(T.pending=null),x=x.next}Zo=!1}Qr=0,xn=$e=ke=null,_a=!1,ho=Jo=0,Ea=null}function ui(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?ke.memoizedState=xn=x:xn=xn.next=x,xn}function bn(){if($e===null){var x=ke.alternate;x=x!==null?x.memoizedState:null}else x=$e.next;var T=xn===null?ke.memoizedState:xn.next;if(T!==null)xn=T,$e=x;else{if(x===null)throw ke.alternate===null?Error(r(467)):Error(r(310));$e=x,x={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},xn===null?ke.memoizedState=xn=x:xn=xn.next=x}return xn}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(x){var T=ho;return ho+=1,Ea===null&&(Ea=[]),x=jc(Ea,x,T),T=ke,(xn===null?T.memoizedState:xn.next)===null&&(T=T.alternate,lt.H=T===null||T.memoizedState===null?Eh:Sh),x}function tl(x){if(x!==null&&typeof x=="object"){if(typeof x.then=="function")return fo(x);if(x.$$typeof===K)return Kn(x)}throw Error(r(438,String(x)))}function fu(x){var T=null,j=ke.updateQueue;if(j!==null&&(T=j.memoCache),T==null){var V=ke.alternate;V!==null&&(V=V.updateQueue,V!==null&&(V=V.memoCache,V!=null&&(T={data:V.data.map(function(X){return X.slice()}),index:0})))}if(T==null&&(T={data:[],index:0}),j===null&&(j=hu(),ke.updateQueue=j),j.memoCache=T,j=T.data[T.index],j===void 0)for(j=T.data[T.index]=Array(x),V=0;V<x;V++)j[V]=wt;return T.index++,j}function wr(x,T){return typeof T=="function"?T(x):T}function el(x){var T=bn();return du(T,$e,x)}function du(x,T,j){var V=x.queue;if(V===null)throw Error(r(311));V.lastRenderedReducer=j;var X=x.baseQueue,J=V.pending;if(J!==null){if(X!==null){var ft=X.next;X.next=J.next,J.next=ft}T.baseQueue=X=J,V.pending=null}if(J=x.baseState,X===null)x.memoizedState=J;else{T=X.next;var vt=ft=null,Rt=null,Bt=T,Gt=!1;do{var Xt=Bt.lane&-536870913;if(Xt!==Bt.lane?(Me&Xt)===Xt:(Qr&Xt)===Xt){var zt=Bt.revertLane;if(zt===0)Rt!==null&&(Rt=Rt.next={lane:0,revertLane:0,action:Bt.action,hasEagerState:Bt.hasEagerState,eagerState:Bt.eagerState,next:null}),Xt===va&&(Gt=!0);else if((Qr&zt)===zt){Bt=Bt.next,zt===va&&(Gt=!0);continue}else Xt={lane:0,revertLane:Bt.revertLane,action:Bt.action,hasEagerState:Bt.hasEagerState,eagerState:Bt.eagerState,next:null},Rt===null?(vt=Rt=Xt,ft=J):Rt=Rt.next=Xt,ke.lanes|=zt,rs|=zt;Xt=Bt.action,Us&&j(J,Xt),J=Bt.hasEagerState?Bt.eagerState:j(J,Xt)}else zt={lane:Xt,revertLane:Bt.revertLane,action:Bt.action,hasEagerState:Bt.hasEagerState,eagerState:Bt.eagerState,next:null},Rt===null?(vt=Rt=zt,ft=J):Rt=Rt.next=zt,ke.lanes|=Xt,rs|=Xt;Bt=Bt.next}while(Bt!==null&&Bt!==T);if(Rt===null?ft=J:Rt.next=vt,!Xn(J,x.memoizedState)&&(An=!0,Gt&&(j=xa,j!==null)))throw j;x.memoizedState=J,x.baseState=ft,x.baseQueue=Rt,V.lastRenderedState=J}return X===null&&(V.lanes=0),[x.memoizedState,V.dispatch]}function pu(x){var T=bn(),j=T.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=x;var V=j.dispatch,X=j.pending,J=T.memoizedState;if(X!==null){j.pending=null;var ft=X=X.next;do J=x(J,ft.action),ft=ft.next;while(ft!==X);Xn(J,T.memoizedState)||(An=!0),T.memoizedState=J,T.baseQueue===null&&(T.baseState=J),j.lastRenderedState=J}return[J,V]}function zc(x,T,j){var V=ke,X=bn(),J=Ie;if(J){if(j===void 0)throw Error(r(407));j=j()}else j=T();var ft=!Xn(($e||X).memoizedState,j);ft&&(X.memoizedState=j,An=!0),X=X.queue;var vt=Hc.bind(null,V,X,x);if(po(2048,8,vt,[x]),X.getSnapshot!==T||ft||xn!==null&&xn.memoizedState.tag&1){if(V.flags|=2048,Sa(9,nl(),qc.bind(null,V,X,j,T),null),Ke===null)throw Error(r(349));J||(Qr&124)!==0||$c(V,T,j)}return j}function $c(x,T,j){x.flags|=16384,x={getSnapshot:T,value:j},T=ke.updateQueue,T===null?(T=hu(),ke.updateQueue=T,T.stores=[x]):(j=T.stores,j===null?T.stores=[x]:j.push(x))}function qc(x,T,j,V){T.value=j,T.getSnapshot=V,Uc(T)&&Gc(x)}function Hc(x,T,j){return j(function(){Uc(T)&&Gc(x)})}function Uc(x){var T=x.getSnapshot;x=x.value;try{var j=T();return!Xn(x,j)}catch{return!0}}function Gc(x){var T=br(x,2);T!==null&&Ei(T,x,2)}function mu(x){var T=ui();if(typeof x=="function"){var j=x;if(x=j(),Us){ie(!0);try{j()}finally{ie(!1)}}}return T.memoizedState=T.baseState=x,T.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:x},T}function Yc(x,T,j,V){return x.baseState=j,du(x,$e,typeof V=="function"?V:wr)}function Rd(x,T,j,V,X){if(rl(x))throw Error(r(485));if(x=T.action,x!==null){var J={payload:X,action:x,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ft){J.listeners.push(ft)}};lt.T!==null?j(!0):J.isTransition=!1,V(J),j=T.pending,j===null?(J.next=T.pending=J,Xc(T,J)):(J.next=j.next,T.pending=j.next=J)}}function Xc(x,T){var j=T.action,V=T.payload,X=x.state;if(T.isTransition){var J=lt.T,ft={};lt.T=ft;try{var vt=j(X,V),Rt=lt.S;Rt!==null&&Rt(ft,vt),Kc(x,T,vt)}catch(Bt){gu(x,T,Bt)}finally{lt.T=J}}else try{J=j(X,V),Kc(x,T,J)}catch(Bt){gu(x,T,Bt)}}function Kc(x,T,j){j!==null&&typeof j=="object"&&typeof j.then=="function"?j.then(function(V){Wc(x,T,V)},function(V){return gu(x,T,V)}):Wc(x,T,j)}function Wc(x,T,j){T.status="fulfilled",T.value=j,Qc(T),x.state=j,T=x.pending,T!==null&&(j=T.next,j===T?x.pending=null:(j=j.next,T.next=j,Xc(x,j)))}function gu(x,T,j){var V=x.pending;if(x.pending=null,V!==null){V=V.next;do T.status="rejected",T.reason=j,Qc(T),T=T.next;while(T!==V)}x.action=null}function Qc(x){x=x.listeners;for(var T=0;T<x.length;T++)(0,x[T])()}function Zc(x,T){return T}function Jc(x,T){if(Ie){var j=Ke.formState;if(j!==null){t:{var V=ke;if(Ie){if(un){e:{for(var X=un,J=ir;X.nodeType!==8;){if(!J){X=null;break e}if(X=Vi(X.nextSibling),X===null){X=null;break e}}J=X.data,X=J==="F!"||J==="F"?X:null}if(X){un=Vi(X.nextSibling),V=X.data==="F!";break t}}zs(V)}V=!1}V&&(T=j[0])}}return j=ui(),j.memoizedState=j.baseState=T,V={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:T},j.queue=V,j=xh.bind(null,ke,V),V.dispatch=j,V=mu(!1),J=_u.bind(null,ke,!1,V.queue),V=ui(),X={state:T,dispatch:null,action:x,pending:null},V.queue=X,j=Rd.bind(null,ke,X,J,j),X.dispatch=j,V.memoizedState=x,[T,j,!1]}function th(x){var T=bn();return eh(T,$e,x)}function eh(x,T,j){if(T=du(x,T,Zc)[0],x=el(wr)[0],typeof T=="object"&&T!==null&&typeof T.then=="function")try{var V=fo(T)}catch(ft){throw ft===ao?Ko:ft}else V=T;T=bn();var X=T.queue,J=X.dispatch;return j!==T.memoizedState&&(ke.flags|=2048,Sa(9,nl(),Td.bind(null,X,j),null)),[V,J,x]}function Td(x,T){x.action=T}function nh(x){var T=bn(),j=$e;if(j!==null)return eh(T,j,x);bn(),T=T.memoizedState,j=bn();var V=j.queue.dispatch;return j.memoizedState=x,[T,V,!1]}function Sa(x,T,j,V){return x={tag:x,create:j,deps:V,inst:T,next:null},T=ke.updateQueue,T===null&&(T=hu(),ke.updateQueue=T),j=T.lastEffect,j===null?T.lastEffect=x.next=x:(V=j.next,j.next=x,x.next=V,T.lastEffect=x),x}function nl(){return{destroy:void 0,resource:void 0}}function ih(){return bn().memoizedState}function il(x,T,j,V){var X=ui();V=V===void 0?null:V,ke.flags|=x,X.memoizedState=Sa(1|T,nl(),j,V)}function po(x,T,j,V){var X=bn();V=V===void 0?null:V;var J=X.memoizedState.inst;$e!==null&&V!==null&&au(V,$e.memoizedState.deps)?X.memoizedState=Sa(T,J,j,V):(ke.flags|=x,X.memoizedState=Sa(1|T,J,j,V))}function rh(x,T){il(8390656,8,x,T)}function sh(x,T){po(2048,8,x,T)}function ah(x,T){return po(4,2,x,T)}function oh(x,T){return po(4,4,x,T)}function lh(x,T){if(typeof T=="function"){x=x();var j=T(x);return function(){typeof j=="function"?j():T(null)}}if(T!=null)return x=x(),T.current=x,function(){T.current=null}}function uh(x,T,j){j=j!=null?j.concat([x]):null,po(4,4,lh.bind(null,T,x),j)}function yu(){}function ch(x,T){var j=bn();T=T===void 0?null:T;var V=j.memoizedState;return T!==null&&au(T,V[1])?V[0]:(j.memoizedState=[x,T],x)}function hh(x,T){var j=bn();T=T===void 0?null:T;var V=j.memoizedState;if(T!==null&&au(T,V[1]))return V[0];if(V=x(),Us){ie(!0);try{x()}finally{ie(!1)}}return j.memoizedState=[V,T],V}function vu(x,T,j){return j===void 0||(Qr&1073741824)!==0?x.memoizedState=T:(x.memoizedState=j,x=gf(),ke.lanes|=x,rs|=x,j)}function fh(x,T,j,V){return Xn(j,T)?j:ba.current!==null?(x=vu(x,j,V),Xn(x,T)||(An=!0),x):(Qr&42)===0?(An=!0,x.memoizedState=j):(x=gf(),ke.lanes|=x,rs|=x,T)}function dh(x,T,j,V,X){var J=yt.p;yt.p=J!==0&&8>J?J:8;var ft=lt.T,vt={};lt.T=vt,_u(x,!1,T,j);try{var Rt=X(),Bt=lt.S;if(Bt!==null&&Bt(vt,Rt),Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var Gt=kd(Rt,V);mo(x,T,Gt,_i(x))}else mo(x,T,V,_i(x))}catch(Xt){mo(x,T,{then:function(){},status:"rejected",reason:Xt},_i())}finally{yt.p=J,lt.T=ft}}function Ad(){}function xu(x,T,j,V){if(x.tag!==5)throw Error(r(476));var X=ph(x).queue;dh(x,X,T,st,j===null?Ad:function(){return mh(x),j(V)})}function ph(x){var T=x.memoizedState;if(T!==null)return T;T={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:st},next:null};var j={};return T.next={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:j},next:null},x.memoizedState=T,x=x.alternate,x!==null&&(x.memoizedState=T),T}function mh(x){var T=ph(x).next.queue;mo(x,T,{},_i())}function bu(){return Kn(jo)}function gh(){return bn().memoizedState}function yh(){return bn().memoizedState}function Pd(x){for(var T=x.return;T!==null;){switch(T.tag){case 24:case 3:var j=_i();x=Kr(j);var V=Wr(T,x,j);V!==null&&(Ei(V,T,j),lo(V,T,j)),T={cache:Wl()},x.payload=T;return}T=T.return}}function Md(x,T,j){var V=_i();j={lane:V,revertLane:0,action:j,hasEagerState:!1,eagerState:null,next:null},rl(x)?bh(T,j):(j=ma(x,T,j,V),j!==null&&(Ei(j,x,V),_h(j,T,V)))}function xh(x,T,j){var V=_i();mo(x,T,j,V)}function mo(x,T,j,V){var X={lane:V,revertLane:0,action:j,hasEagerState:!1,eagerState:null,next:null};if(rl(x))bh(T,X);else{var J=x.alternate;if(x.lanes===0&&(J===null||J.lanes===0)&&(J=T.lastRenderedReducer,J!==null))try{var ft=T.lastRenderedState,vt=J(ft,j);if(X.hasEagerState=!0,X.eagerState=vt,Xn(vt,ft))return Os(x,T,X,0),Ke===null&&Ds(),!1}catch{}finally{}if(j=ma(x,T,X,V),j!==null)return Ei(j,x,V),_h(j,T,V),!0}return!1}function _u(x,T,j,V){if(V={lane:2,revertLane:Ju(),action:V,hasEagerState:!1,eagerState:null,next:null},rl(x)){if(T)throw Error(r(479))}else T=ma(x,j,V,2),T!==null&&Ei(T,x,2)}function rl(x){var T=x.alternate;return x===ke||T!==null&&T===ke}function bh(x,T){_a=Zo=!0;var j=x.pending;j===null?T.next=T:(T.next=j.next,j.next=T),x.pending=T}function _h(x,T,j){if((j&4194048)!==0){var V=T.lanes;V&=x.pendingLanes,j|=V,T.lanes=j,Or(x,j)}}var sl={readContext:Kn,use:tl,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},Eh={readContext:Kn,use:tl,useCallback:function(x,T){return ui().memoizedState=[x,T===void 0?null:T],x},useContext:Kn,useEffect:rh,useImperativeHandle:function(x,T,j){j=j!=null?j.concat([x]):null,il(4194308,4,lh.bind(null,T,x),j)},useLayoutEffect:function(x,T){return il(4194308,4,x,T)},useInsertionEffect:function(x,T){il(4,2,x,T)},useMemo:function(x,T){var j=ui();T=T===void 0?null:T;var V=x();if(Us){ie(!0);try{x()}finally{ie(!1)}}return j.memoizedState=[V,T],V},useReducer:function(x,T,j){var V=ui();if(j!==void 0){var X=j(T);if(Us){ie(!0);try{j(T)}finally{ie(!1)}}}else X=T;return V.memoizedState=V.baseState=X,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:X},V.queue=x,x=x.dispatch=Md.bind(null,ke,x),[V.memoizedState,x]},useRef:function(x){var T=ui();return x={current:x},T.memoizedState=x},useState:function(x){x=mu(x);var T=x.queue,j=xh.bind(null,ke,T);return T.dispatch=j,[x.memoizedState,j]},useDebugValue:yu,useDeferredValue:function(x,T){var j=ui();return vu(j,x,T)},useTransition:function(){var x=mu(!1);return x=dh.bind(null,ke,x.queue,!0,!1),ui().memoizedState=x,[!1,x]},useSyncExternalStore:function(x,T,j){var V=ke,X=ui();if(Ie){if(j===void 0)throw Error(r(407));j=j()}else{if(j=T(),Ke===null)throw Error(r(349));(Me&124)!==0||$c(V,T,j)}X.memoizedState=j;var J={value:j,getSnapshot:T};return X.queue=J,rh(Hc.bind(null,V,J,x),[x]),V.flags|=2048,Sa(9,nl(),qc.bind(null,V,J,j,T),null),j},useId:function(){var x=ui(),T=Ke.identifierPrefix;if(Ie){var j=Sr,V=Er;j=(V&~(1<<32-Ze(V)-1)).toString(32)+j,T=""+T+"R"+j,j=Jo++,0<j&&(T+="H"+j.toString(32)),T+=""}else j=Cd++,T=""+T+"r"+j.toString(32)+"";return x.memoizedState=T},useHostTransitionStatus:bu,useFormState:Jc,useActionState:Jc,useOptimistic:function(x){var T=ui();T.memoizedState=T.baseState=x;var j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return T.queue=j,T=_u.bind(null,ke,!0,j),j.dispatch=T,[x,T]},useMemoCache:fu,useCacheRefresh:function(){return ui().memoizedState=Pd.bind(null,ke)}},Sh={readContext:Kn,use:tl,useCallback:ch,useContext:Kn,useEffect:sh,useImperativeHandle:uh,useInsertionEffect:ah,useLayoutEffect:oh,useMemo:hh,useReducer:el,useRef:ih,useState:function(){return el(wr)},useDebugValue:yu,useDeferredValue:function(x,T){var j=bn();return fh(j,$e.memoizedState,x,T)},useTransition:function(){var x=el(wr)[0],T=bn().memoizedState;return[typeof x=="boolean"?x:fo(x),T]},useSyncExternalStore:zc,useId:gh,useHostTransitionStatus:bu,useFormState:th,useActionState:th,useOptimistic:function(x,T){var j=bn();return Yc(j,$e,x,T)},useMemoCache:fu,useCacheRefresh:yh},Nd={readContext:Kn,use:tl,useCallback:ch,useContext:Kn,useEffect:sh,useImperativeHandle:uh,useInsertionEffect:ah,useLayoutEffect:oh,useMemo:hh,useReducer:pu,useRef:ih,useState:function(){return pu(wr)},useDebugValue:yu,useDeferredValue:function(x,T){var j=bn();return $e===null?vu(j,x,T):fh(j,$e.memoizedState,x,T)},useTransition:function(){var x=pu(wr)[0],T=bn().memoizedState;return[typeof x=="boolean"?x:fo(x),T]},useSyncExternalStore:zc,useId:gh,useHostTransitionStatus:bu,useFormState:nh,useActionState:nh,useOptimistic:function(x,T){var j=bn();return $e!==null?Yc(j,$e,x,T):(j.baseState=x,[x,j.queue.dispatch])},useMemoCache:fu,useCacheRefresh:yh},ka=null,go=0;function al(x){var T=go;return go+=1,ka===null&&(ka=[]),jc(ka,x,T)}function yo(x,T){T=T.props.ref,x.ref=T!==void 0?T:null}function ol(x,T){throw T.$$typeof===z?Error(r(525)):(x=Object.prototype.toString.call(T),Error(r(31,x==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":x)))}function kh(x){var T=x._init;return T(x._payload)}function Ch(x){function T(Ot,Nt){if(x){var Ft=Ot.deletions;Ft===null?(Ot.deletions=[Nt],Ot.flags|=16):Ft.push(Nt)}}function j(Ot,Nt){if(!x)return null;for(;Nt!==null;)T(Ot,Nt),Nt=Nt.sibling;return null}function V(Ot){for(var Nt=new Map;Ot!==null;)Ot.key!==null?Nt.set(Ot.key,Ot):Nt.set(Ot.index,Ot),Ot=Ot.sibling;return Nt}function X(Ot,Nt){return Ot=_r(Ot,Nt),Ot.index=0,Ot.sibling=null,Ot}function J(Ot,Nt,Ft){return Ot.index=Ft,x?(Ft=Ot.alternate,Ft!==null?(Ft=Ft.index,Ft<Nt?(Ot.flags|=67108866,Nt):Ft):(Ot.flags|=67108866,Nt)):(Ot.flags|=1048576,Nt)}function ft(Ot){return x&&Ot.alternate===null&&(Ot.flags|=67108866),Ot}function vt(Ot,Nt,Ft,Yt){return Nt===null||Nt.tag!==6?(Nt=$l(Ft,Ot.mode,Yt),Nt.return=Ot,Nt):(Nt=X(Nt,Ft),Nt.return=Ot,Nt)}function Rt(Ot,Nt,Ft,Yt){var se=Ft.type;return se===H?Gt(Ot,Nt,Ft.props.children,Yt,Ft.key):Nt!==null&&(Nt.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ct&&kh(se)===Nt.type)?(Nt=X(Nt,Ft.props),yo(Nt,Ft),Nt.return=Ot,Nt):(Nt=qo(Ft.type,Ft.key,Ft.props,null,Ot.mode,Yt),yo(Nt,Ft),Nt.return=Ot,Nt)}function Bt(Ot,Nt,Ft,Yt){return Nt===null||Nt.tag!==4||Nt.stateNode.containerInfo!==Ft.containerInfo||Nt.stateNode.implementation!==Ft.implementation?(Nt=ql(Ft,Ot.mode,Yt),Nt.return=Ot,Nt):(Nt=X(Nt,Ft.children||[]),Nt.return=Ot,Nt)}function Gt(Ot,Nt,Ft,Yt,se){return Nt===null||Nt.tag!==7?(Nt=Ls(Ft,Ot.mode,Yt,se),Nt.return=Ot,Nt):(Nt=X(Nt,Ft),Nt.return=Ot,Nt)}function Xt(Ot,Nt,Ft){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return Nt=$l(""+Nt,Ot.mode,Ft),Nt.return=Ot,Nt;if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case $:return Ft=qo(Nt.type,Nt.key,Nt.props,null,Ot.mode,Ft),yo(Ft,Nt),Ft.return=Ot,Ft;case G:return Nt=ql(Nt,Ot.mode,Ft),Nt.return=Ot,Nt;case ct:var Yt=Nt._init;return Nt=Yt(Nt._payload),Xt(Ot,Nt,Ft)}if(At(Nt)||_t(Nt))return Nt=Ls(Nt,Ot.mode,Ft,null),Nt.return=Ot,Nt;if(typeof Nt.then=="function")return Xt(Ot,al(Nt),Ft);if(Nt.$$typeof===K)return Xt(Ot,Yo(Ot,Nt),Ft);ol(Ot,Nt)}return null}function zt(Ot,Nt,Ft,Yt){var se=Nt!==null?Nt.key:null;if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return se!==null?null:vt(Ot,Nt,""+Ft,Yt);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case $:return Ft.key===se?Rt(Ot,Nt,Ft,Yt):null;case G:return Ft.key===se?Bt(Ot,Nt,Ft,Yt):null;case ct:return se=Ft._init,Ft=se(Ft._payload),zt(Ot,Nt,Ft,Yt)}if(At(Ft)||_t(Ft))return se!==null?null:Gt(Ot,Nt,Ft,Yt,null);if(typeof Ft.then=="function")return zt(Ot,Nt,al(Ft),Yt);if(Ft.$$typeof===K)return zt(Ot,Nt,Yo(Ot,Ft),Yt);ol(Ot,Ft)}return null}function $t(Ot,Nt,Ft,Yt,se){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint")return Ot=Ot.get(Ft)||null,vt(Nt,Ot,""+Yt,se);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case $:return Ot=Ot.get(Yt.key===null?Ft:Yt.key)||null,Rt(Nt,Ot,Yt,se);case G:return Ot=Ot.get(Yt.key===null?Ft:Yt.key)||null,Bt(Nt,Ot,Yt,se);case ct:var Ce=Yt._init;return Yt=Ce(Yt._payload),$t(Ot,Nt,Ft,Yt,se)}if(At(Yt)||_t(Yt))return Ot=Ot.get(Ft)||null,Gt(Nt,Ot,Yt,se,null);if(typeof Yt.then=="function")return $t(Ot,Nt,Ft,al(Yt),se);if(Yt.$$typeof===K)return $t(Ot,Nt,Ft,Yo(Nt,Yt),se);ol(Nt,Yt)}return null}function ye(Ot,Nt,Ft,Yt){for(var se=null,Ce=null,ue=Nt,pe=Nt=0,Mn=null;ue!==null&&pe<Ft.length;pe++){ue.index>pe?(Mn=ue,ue=null):Mn=ue.sibling;var je=zt(Ot,ue,Ft[pe],Yt);if(je===null){ue===null&&(ue=Mn);break}x&&ue&&je.alternate===null&&T(Ot,ue),Nt=J(je,Nt,pe),Ce===null?se=je:Ce.sibling=je,Ce=je,ue=Mn}if(pe===Ft.length)return j(Ot,ue),Ie&&Bs(Ot,pe),se;if(ue===null){for(;pe<Ft.length;pe++)ue=Xt(Ot,Ft[pe],Yt),ue!==null&&(Nt=J(ue,Nt,pe),Ce===null?se=ue:Ce.sibling=ue,Ce=ue);return Ie&&Bs(Ot,pe),se}for(ue=V(ue);pe<Ft.length;pe++)Mn=$t(ue,Ot,pe,Ft[pe],Yt),Mn!==null&&(x&&Mn.alternate!==null&&ue.delete(Mn.key===null?pe:Mn.key),Nt=J(Mn,Nt,pe),Ce===null?se=Mn:Ce.sibling=Mn,Ce=Mn);return x&&ue.forEach(function(ds){return T(Ot,ds)}),Ie&&Bs(Ot,pe),se}function he(Ot,Nt,Ft,Yt){if(Ft==null)throw Error(r(151));for(var se=null,Ce=null,ue=Nt,pe=Nt=0,Mn=null,je=Ft.next();ue!==null&&!je.done;pe++,je=Ft.next()){ue.index>pe?(Mn=ue,ue=null):Mn=ue.sibling;var ds=zt(Ot,ue,je.value,Yt);if(ds===null){ue===null&&(ue=Mn);break}x&&ue&&ds.alternate===null&&T(Ot,ue),Nt=J(ds,Nt,pe),Ce===null?se=ds:Ce.sibling=ds,Ce=ds,ue=Mn}if(je.done)return j(Ot,ue),Ie&&Bs(Ot,pe),se;if(ue===null){for(;!je.done;pe++,je=Ft.next())je=Xt(Ot,je.value,Yt),je!==null&&(Nt=J(je,Nt,pe),Ce===null?se=je:Ce.sibling=je,Ce=je);return Ie&&Bs(Ot,pe),se}for(ue=V(ue);!je.done;pe++,je=Ft.next())je=$t(ue,Ot,pe,je.value,Yt),je!==null&&(x&&je.alternate!==null&&ue.delete(je.key===null?pe:je.key),Nt=J(je,Nt,pe),Ce===null?se=je:Ce.sibling=je,Ce=je);return x&&ue.forEach(function(Dp){return T(Ot,Dp)}),Ie&&Bs(Ot,pe),se}function He(Ot,Nt,Ft,Yt){if(typeof Ft=="object"&&Ft!==null&&Ft.type===H&&Ft.key===null&&(Ft=Ft.props.children),typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case $:t:{for(var se=Ft.key;Nt!==null;){if(Nt.key===se){if(se=Ft.type,se===H){if(Nt.tag===7){j(Ot,Nt.sibling),Yt=X(Nt,Ft.props.children),Yt.return=Ot,Ot=Yt;break t}}else if(Nt.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ct&&kh(se)===Nt.type){j(Ot,Nt.sibling),Yt=X(Nt,Ft.props),yo(Yt,Ft),Yt.return=Ot,Ot=Yt;break t}j(Ot,Nt);break}else T(Ot,Nt);Nt=Nt.sibling}Ft.type===H?(Yt=Ls(Ft.props.children,Ot.mode,Yt,Ft.key),Yt.return=Ot,Ot=Yt):(Yt=qo(Ft.type,Ft.key,Ft.props,null,Ot.mode,Yt),yo(Yt,Ft),Yt.return=Ot,Ot=Yt)}return ft(Ot);case G:t:{for(se=Ft.key;Nt!==null;){if(Nt.key===se)if(Nt.tag===4&&Nt.stateNode.containerInfo===Ft.containerInfo&&Nt.stateNode.implementation===Ft.implementation){j(Ot,Nt.sibling),Yt=X(Nt,Ft.children||[]),Yt.return=Ot,Ot=Yt;break t}else{j(Ot,Nt);break}else T(Ot,Nt);Nt=Nt.sibling}Yt=ql(Ft,Ot.mode,Yt),Yt.return=Ot,Ot=Yt}return ft(Ot);case ct:return se=Ft._init,Ft=se(Ft._payload),He(Ot,Nt,Ft,Yt)}if(At(Ft))return ye(Ot,Nt,Ft,Yt);if(_t(Ft)){if(se=_t(Ft),typeof se!="function")throw Error(r(150));return Ft=se.call(Ft),he(Ot,Nt,Ft,Yt)}if(typeof Ft.then=="function")return He(Ot,Nt,al(Ft),Yt);if(Ft.$$typeof===K)return He(Ot,Nt,Yo(Ot,Ft),Yt);ol(Ot,Ft)}return typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint"?(Ft=""+Ft,Nt!==null&&Nt.tag===6?(j(Ot,Nt.sibling),Yt=X(Nt,Ft),Yt.return=Ot,Ot=Yt):(j(Ot,Nt),Yt=$l(Ft,Ot.mode,Yt),Yt.return=Ot,Ot=Yt),ft(Ot)):j(Ot,Nt)}return function(Ot,Nt,Ft,Yt){try{go=0;var se=He(Ot,Nt,Ft,Yt);return ka=null,se}catch(ue){if(ue===ao||ue===Ko)throw ue;var Ce=yi(29,ue,null,Ot.mode);return Ce.lanes=Yt,Ce.return=Ot,Ce}finally{}}}var Ca=Ch(!0),wh=Ch(!1),Pi=xt(null),rr=null;function Zr(x){var T=x.alternate;Dt(Sn,Sn.current&1),Dt(Pi,x),rr===null&&(T===null||ba.current!==null||T.memoizedState!==null)&&(rr=x)}function Rh(x){if(x.tag===22){if(Dt(Sn,Sn.current),Dt(Pi,x),rr===null){var T=x.alternate;T!==null&&T.memoizedState!==null&&(rr=x)}}else Jr()}function Jr(){Dt(Sn,Sn.current),Dt(Pi,Pi.current)}function Rr(x){Pt(Pi),rr===x&&(rr=null),Pt(Sn)}var Sn=xt(0);function ll(x){for(var T=x;T!==null;){if(T.tag===13){var j=T.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||hc(j)))return T}else if(T.tag===19&&T.memoizedProps.revealOrder!==void 0){if((T.flags&128)!==0)return T}else if(T.child!==null){T.child.return=T,T=T.child;continue}if(T===x)break;for(;T.sibling===null;){if(T.return===null||T.return===x)return null;T=T.return}T.sibling.return=T.return,T=T.sibling}return null}function Eu(x,T,j,V){T=x.memoizedState,j=j(V,T),j=j==null?T:F({},T,j),x.memoizedState=j,x.lanes===0&&(x.updateQueue.baseState=j)}var Su={enqueueSetState:function(x,T,j){x=x._reactInternals;var V=_i(),X=Kr(V);X.payload=T,j!=null&&(X.callback=j),T=Wr(x,X,V),T!==null&&(Ei(T,x,V),lo(T,x,V))},enqueueReplaceState:function(x,T,j){x=x._reactInternals;var V=_i(),X=Kr(V);X.tag=1,X.payload=T,j!=null&&(X.callback=j),T=Wr(x,X,V),T!==null&&(Ei(T,x,V),lo(T,x,V))},enqueueForceUpdate:function(x,T){x=x._reactInternals;var j=_i(),V=Kr(j);V.tag=2,T!=null&&(V.callback=T),T=Wr(x,V,j),T!==null&&(Ei(T,x,j),lo(T,x,j))}};function Th(x,T,j,V,X,J,ft){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(V,J,ft):T.prototype&&T.prototype.isPureReactComponent?!Ur(j,V)||!Ur(X,J):!0}function Ah(x,T,j,V){x=T.state,typeof T.componentWillReceiveProps=="function"&&T.componentWillReceiveProps(j,V),typeof T.UNSAFE_componentWillReceiveProps=="function"&&T.UNSAFE_componentWillReceiveProps(j,V),T.state!==x&&Su.enqueueReplaceState(T,T.state,null)}function Gs(x,T){var j=T;if("ref"in T){j={};for(var V in T)V!=="ref"&&(j[V]=T[V])}if(x=x.defaultProps){j===T&&(j=F({},j));for(var X in x)j[X]===void 0&&(j[X]=x[X])}return j}var ul=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ph(x){ul(x)}function Mh(x){console.error(x)}function Nh(x){ul(x)}function cl(x,T){try{var j=x.onUncaughtError;j(T.value,{componentStack:T.stack})}catch(V){setTimeout(function(){throw V})}}function jh(x,T,j){try{var V=x.onCaughtError;V(j.value,{componentStack:j.stack,errorBoundary:T.tag===1?T.stateNode:null})}catch(X){setTimeout(function(){throw X})}}function ku(x,T,j){return j=Kr(j),j.tag=3,j.payload={element:null},j.callback=function(){cl(x,T)},j}function Ih(x){return x=Kr(x),x.tag=3,x}function Dh(x,T,j,V){var X=j.type.getDerivedStateFromError;if(typeof X=="function"){var J=V.value;x.payload=function(){return X(J)},x.callback=function(){jh(T,j,V)}}var ft=j.stateNode;ft!==null&&typeof ft.componentDidCatch=="function"&&(x.callback=function(){jh(T,j,V),typeof X!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var vt=V.stack;this.componentDidCatch(V.value,{componentStack:vt!==null?vt:""})})}function jd(x,T,j,V,X){if(j.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){if(T=j.alternate,T!==null&&io(T,j,X,!0),j=Pi.current,j!==null){switch(j.tag){case 13:return rr===null?Xu():j.alternate===null&&cn===0&&(cn=3),j.flags&=-257,j.flags|=65536,j.lanes=X,V===Jl?j.flags|=16384:(T=j.updateQueue,T===null?j.updateQueue=new Set([V]):T.add(V),Wu(x,V,X)),!1;case 22:return j.flags|=65536,V===Jl?j.flags|=16384:(T=j.updateQueue,T===null?(T={transitions:null,markerInstances:null,retryQueue:new Set([V])},j.updateQueue=T):(j=T.retryQueue,j===null?T.retryQueue=new Set([V]):j.add(V)),Wu(x,V,X)),!1}throw Error(r(435,j.tag))}return Wu(x,V,X),Xu(),!1}if(Ie)return T=Pi.current,T!==null?((T.flags&65536)===0&&(T.flags|=256),T.flags|=65536,T.lanes=X,V!==Gl&&(x=Error(r(422),{cause:V}),no(Oe(x,j)))):(V!==Gl&&(T=Error(r(423),{cause:V}),no(Oe(T,j))),x=x.current.alternate,x.flags|=65536,X&=-X,x.lanes|=X,V=Oe(V,j),X=ku(x.stateNode,V,X),nu(x,X),cn!==4&&(cn=2)),!1;var J=Error(r(520),{cause:V});if(J=Oe(J,j),ko===null?ko=[J]:ko.push(J),cn!==4&&(cn=2),T===null)return!0;V=Oe(V,j),j=T;do{switch(j.tag){case 3:return j.flags|=65536,x=X&-X,j.lanes|=x,x=ku(j.stateNode,V,x),nu(j,x),!1;case 1:if(T=j.type,J=j.stateNode,(j.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ss===null||!ss.has(J))))return j.flags|=65536,X&=-X,j.lanes|=X,X=Ih(X),Dh(X,x,j,V),nu(j,X),!1}j=j.return}while(j!==null);return!1}var Oh=Error(r(461)),An=!1;function Ln(x,T,j,V){T.child=x===null?wh(T,null,j,V):Ca(T,x.child,j,V)}function Lh(x,T,j,V,X){j=j.render;var J=T.ref;if("ref"in V){var ft={};for(var vt in V)vt!=="ref"&&(ft[vt]=V[vt])}else ft=V;return qs(T),V=ou(x,T,j,ft,J,X),vt=lu(),x!==null&&!An?(uu(x,T,X),Tr(x,T,X)):(Ie&&vt&&Hl(T),T.flags|=1,Ln(x,T,V,X),T.child)}function Fh(x,T,j,V,X){if(x===null){var J=j.type;return typeof J=="function"&&!zl(J)&&J.defaultProps===void 0&&j.compare===null?(T.tag=15,T.type=J,Bh(x,T,J,V,X)):(x=qo(j.type,null,V,T,T.mode,X),x.ref=T.ref,x.return=T,T.child=x)}if(J=x.child,!Nu(x,X)){var ft=J.memoizedProps;if(j=j.compare,j=j!==null?j:Ur,j(ft,V)&&x.ref===T.ref)return Tr(x,T,X)}return T.flags|=1,x=_r(J,V),x.ref=T.ref,x.return=T,T.child=x}function Bh(x,T,j,V,X){if(x!==null){var J=x.memoizedProps;if(Ur(J,V)&&x.ref===T.ref)if(An=!1,T.pendingProps=V=J,Nu(x,X))(x.flags&131072)!==0&&(An=!0);else return T.lanes=x.lanes,Tr(x,T,X)}return Cu(x,T,j,V,X)}function Vh(x,T,j){var V=T.pendingProps,X=V.children,J=x!==null?x.memoizedState:null;if(V.mode==="hidden"){if((T.flags&128)!==0){if(V=J!==null?J.baseLanes|j:j,x!==null){for(X=T.child=x.child,J=0;X!==null;)J=J|X.lanes|X.childLanes,X=X.sibling;T.childLanes=J&~V}else T.childLanes=0,T.child=null;return zh(x,T,V,j)}if((j&536870912)!==0)T.memoizedState={baseLanes:0,cachePool:null},x!==null&&Xo(T,J!==null?J.cachePool:null),J!==null?Fc(T,J):ru(),Rh(T);else return T.lanes=T.childLanes=536870912,zh(x,T,J!==null?J.baseLanes|j:j,j)}else J!==null?(Xo(T,J.cachePool),Fc(T,J),Jr(),T.memoizedState=null):(x!==null&&Xo(T,null),ru(),Jr());return Ln(x,T,X,j),T.child}function zh(x,T,j,V){var X=Zl();return X=X===null?null:{parent:En._currentValue,pool:X},T.memoizedState={baseLanes:j,cachePool:X},x!==null&&Xo(T,null),ru(),Rh(T),x!==null&&io(x,T,V,!0),null}function hl(x,T){var j=T.ref;if(j===null)x!==null&&x.ref!==null&&(T.flags|=4194816);else{if(typeof j!="function"&&typeof j!="object")throw Error(r(284));(x===null||x.ref!==j)&&(T.flags|=4194816)}}function Cu(x,T,j,V,X){return qs(T),j=ou(x,T,j,V,void 0,X),V=lu(),x!==null&&!An?(uu(x,T,X),Tr(x,T,X)):(Ie&&V&&Hl(T),T.flags|=1,Ln(x,T,j,X),T.child)}function $h(x,T,j,V,X,J){return qs(T),T.updateQueue=null,j=Vc(T,V,j,X),Bc(x),V=lu(),x!==null&&!An?(uu(x,T,J),Tr(x,T,J)):(Ie&&V&&Hl(T),T.flags|=1,Ln(x,T,j,J),T.child)}function qh(x,T,j,V,X){if(qs(T),T.stateNode===null){var J=nr,ft=j.contextType;typeof ft=="object"&&ft!==null&&(J=Kn(ft)),J=new j(V,J),T.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,J.updater=Su,T.stateNode=J,J._reactInternals=T,J=T.stateNode,J.props=V,J.state=T.memoizedState,J.refs={},tu(T),ft=j.contextType,J.context=typeof ft=="object"&&ft!==null?Kn(ft):nr,J.state=T.memoizedState,ft=j.getDerivedStateFromProps,typeof ft=="function"&&(Eu(T,j,ft,V),J.state=T.memoizedState),typeof j.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(ft=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),ft!==J.state&&Su.enqueueReplaceState(J,J.state,null),co(T,V,J,X),uo(),J.state=T.memoizedState),typeof J.componentDidMount=="function"&&(T.flags|=4194308),V=!0}else if(x===null){J=T.stateNode;var vt=T.memoizedProps,Rt=Gs(j,vt);J.props=Rt;var Bt=J.context,Gt=j.contextType;ft=nr,typeof Gt=="object"&&Gt!==null&&(ft=Kn(Gt));var Xt=j.getDerivedStateFromProps;Gt=typeof Xt=="function"||typeof J.getSnapshotBeforeUpdate=="function",vt=T.pendingProps!==vt,Gt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(vt||Bt!==ft)&&Ah(T,J,V,ft),Xr=!1;var zt=T.memoizedState;J.state=zt,co(T,V,J,X),uo(),Bt=T.memoizedState,vt||zt!==Bt||Xr?(typeof Xt=="function"&&(Eu(T,j,Xt,V),Bt=T.memoizedState),(Rt=Xr||Th(T,j,Rt,V,zt,Bt,ft))?(Gt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(T.flags|=4194308)):(typeof J.componentDidMount=="function"&&(T.flags|=4194308),T.memoizedProps=V,T.memoizedState=Bt),J.props=V,J.state=Bt,J.context=ft,V=Rt):(typeof J.componentDidMount=="function"&&(T.flags|=4194308),V=!1)}else{J=T.stateNode,eu(x,T),ft=T.memoizedProps,Gt=Gs(j,ft),J.props=Gt,Xt=T.pendingProps,zt=J.context,Bt=j.contextType,Rt=nr,typeof Bt=="object"&&Bt!==null&&(Rt=Kn(Bt)),vt=j.getDerivedStateFromProps,(Bt=typeof vt=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ft!==Xt||zt!==Rt)&&Ah(T,J,V,Rt),Xr=!1,zt=T.memoizedState,J.state=zt,co(T,V,J,X),uo();var $t=T.memoizedState;ft!==Xt||zt!==$t||Xr||x!==null&&x.dependencies!==null&&Go(x.dependencies)?(typeof vt=="function"&&(Eu(T,j,vt,V),$t=T.memoizedState),(Gt=Xr||Th(T,j,Gt,V,zt,$t,Rt)||x!==null&&x.dependencies!==null&&Go(x.dependencies))?(Bt||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(V,$t,Rt),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(V,$t,Rt)),typeof J.componentDidUpdate=="function"&&(T.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(T.flags|=1024)):(typeof J.componentDidUpdate!="function"||ft===x.memoizedProps&&zt===x.memoizedState||(T.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ft===x.memoizedProps&&zt===x.memoizedState||(T.flags|=1024),T.memoizedProps=V,T.memoizedState=$t),J.props=V,J.state=$t,J.context=Rt,V=Gt):(typeof J.componentDidUpdate!="function"||ft===x.memoizedProps&&zt===x.memoizedState||(T.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ft===x.memoizedProps&&zt===x.memoizedState||(T.flags|=1024),V=!1)}return J=V,hl(x,T),V=(T.flags&128)!==0,J||V?(J=T.stateNode,j=V&&typeof j.getDerivedStateFromError!="function"?null:J.render(),T.flags|=1,x!==null&&V?(T.child=Ca(T,x.child,null,X),T.child=Ca(T,null,j,X)):Ln(x,T,j,X),T.memoizedState=J.state,x=T.child):x=Tr(x,T,X),x}function Hh(x,T,j,V){return eo(),T.flags|=256,Ln(x,T,j,V),T.child}var wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(x){return{baseLanes:x,cachePool:Pc()}}function Tu(x,T,j){return x=x!==null?x.childLanes&~j:0,T&&(x|=Mi),x}function Uh(x,T,j){var V=T.pendingProps,X=!1,J=(T.flags&128)!==0,ft;if((ft=J)||(ft=x!==null&&x.memoizedState===null?!1:(Sn.current&2)!==0),ft&&(X=!0,T.flags&=-129),ft=(T.flags&32)!==0,T.flags&=-33,x===null){if(Ie){if(X?Zr(T):Jr(),Ie){var vt=un,Rt;if(Rt=vt){t:{for(Rt=vt,vt=ir;Rt.nodeType!==8;){if(!vt){vt=null;break t}if(Rt=Vi(Rt.nextSibling),Rt===null){vt=null;break t}}vt=Rt}vt!==null?(T.memoizedState={dehydrated:vt,treeContext:Fs!==null?{id:Er,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},Rt=yi(18,null,null,0),Rt.stateNode=vt,Rt.return=T,T.child=Rt,ei=T,un=null,Rt=!0):Rt=!1}Rt||zs(T)}if(vt=T.memoizedState,vt!==null&&(vt=vt.dehydrated,vt!==null))return hc(vt)?T.lanes=32:T.lanes=536870912,null;Rr(T)}return vt=V.children,V=V.fallback,X?(Jr(),X=T.mode,vt=fl({mode:"hidden",children:vt},X),V=Ls(V,X,j,null),vt.return=T,V.return=T,vt.sibling=V,T.child=vt,X=T.child,X.memoizedState=Ru(j),X.childLanes=Tu(x,ft,j),T.memoizedState=wu,V):(Zr(T),Au(T,vt))}if(Rt=x.memoizedState,Rt!==null&&(vt=Rt.dehydrated,vt!==null)){if(J)T.flags&256?(Zr(T),T.flags&=-257,T=Pu(x,T,j)):T.memoizedState!==null?(Jr(),T.child=x.child,T.flags|=128,T=null):(Jr(),X=V.fallback,vt=T.mode,V=fl({mode:"visible",children:V.children},vt),X=Ls(X,vt,j,null),X.flags|=2,V.return=T,X.return=T,V.sibling=X,T.child=V,Ca(T,x.child,null,j),V=T.child,V.memoizedState=Ru(j),V.childLanes=Tu(x,ft,j),T.memoizedState=wu,T=X);else if(Zr(T),hc(vt)){if(ft=vt.nextSibling&&vt.nextSibling.dataset,ft)var Bt=ft.dgst;ft=Bt,V=Error(r(419)),V.stack="",V.digest=ft,no({value:V,source:null,stack:null}),T=Pu(x,T,j)}else if(An||io(x,T,j,!1),ft=(j&x.childLanes)!==0,An||ft){if(ft=Ke,ft!==null&&(V=j&-j,V=(V&42)!==0?1:ni(V),V=(V&(ft.suspendedLanes|j))!==0?0:V,V!==0&&V!==Rt.retryLane))throw Rt.retryLane=V,br(x,V),Ei(ft,x,V),Oh;vt.data==="$?"||Xu(),T=Pu(x,T,j)}else vt.data==="$?"?(T.flags|=192,T.child=x.child,T=null):(x=Rt.treeContext,un=Vi(vt.nextSibling),ei=T,Ie=!0,Vs=null,ir=!1,x!==null&&(Ti[Ai++]=Er,Ti[Ai++]=Sr,Ti[Ai++]=Fs,Er=x.id,Sr=x.overflow,Fs=T),T=Au(T,V.children),T.flags|=4096);return T}return X?(Jr(),X=V.fallback,vt=T.mode,Rt=x.child,Bt=Rt.sibling,V=_r(Rt,{mode:"hidden",children:V.children}),V.subtreeFlags=Rt.subtreeFlags&65011712,Bt!==null?X=_r(Bt,X):(X=Ls(X,vt,j,null),X.flags|=2),X.return=T,V.return=T,V.sibling=X,T.child=V,V=X,X=T.child,vt=x.child.memoizedState,vt===null?vt=Ru(j):(Rt=vt.cachePool,Rt!==null?(Bt=En._currentValue,Rt=Rt.parent!==Bt?{parent:Bt,pool:Bt}:Rt):Rt=Pc(),vt={baseLanes:vt.baseLanes|j,cachePool:Rt}),X.memoizedState=vt,X.childLanes=Tu(x,ft,j),T.memoizedState=wu,V):(Zr(T),j=x.child,x=j.sibling,j=_r(j,{mode:"visible",children:V.children}),j.return=T,j.sibling=null,x!==null&&(ft=T.deletions,ft===null?(T.deletions=[x],T.flags|=16):ft.push(x)),T.child=j,T.memoizedState=null,j)}function Au(x,T){return T=fl({mode:"visible",children:T},x.mode),T.return=x,x.child=T}function fl(x,T){return x=yi(22,x,null,T),x.lanes=0,x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},x}function Pu(x,T,j){return Ca(T,x.child,null,j),x=Au(T,T.pendingProps.children),x.flags|=2,T.memoizedState=null,x}function Gh(x,T,j){x.lanes|=T;var V=x.alternate;V!==null&&(V.lanes|=T),Xl(x.return,T,j)}function Mu(x,T,j,V,X){var J=x.memoizedState;J===null?x.memoizedState={isBackwards:T,rendering:null,renderingStartTime:0,last:V,tail:j,tailMode:X}:(J.isBackwards=T,J.rendering=null,J.renderingStartTime=0,J.last=V,J.tail=j,J.tailMode=X)}function Yh(x,T,j){var V=T.pendingProps,X=V.revealOrder,J=V.tail;if(Ln(x,T,V.children,j),V=Sn.current,(V&2)!==0)V=V&1|2,T.flags|=128;else{if(x!==null&&(x.flags&128)!==0)t:for(x=T.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&Gh(x,j,T);else if(x.tag===19)Gh(x,j,T);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===T)break t;for(;x.sibling===null;){if(x.return===null||x.return===T)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}V&=1}switch(Dt(Sn,V),X){case"forwards":for(j=T.child,X=null;j!==null;)x=j.alternate,x!==null&&ll(x)===null&&(X=j),j=j.sibling;j=X,j===null?(X=T.child,T.child=null):(X=j.sibling,j.sibling=null),Mu(T,!1,X,j,J);break;case"backwards":for(j=null,X=T.child,T.child=null;X!==null;){if(x=X.alternate,x!==null&&ll(x)===null){T.child=X;break}x=X.sibling,X.sibling=j,j=X,X=x}Mu(T,!0,j,null,J);break;case"together":Mu(T,!1,null,null,void 0);break;default:T.memoizedState=null}return T.child}function Tr(x,T,j){if(x!==null&&(T.dependencies=x.dependencies),rs|=T.lanes,(j&T.childLanes)===0)if(x!==null){if(io(x,T,j,!1),(j&T.childLanes)===0)return null}else return null;if(x!==null&&T.child!==x.child)throw Error(r(153));if(T.child!==null){for(x=T.child,j=_r(x,x.pendingProps),T.child=j,j.return=T;x.sibling!==null;)x=x.sibling,j=j.sibling=_r(x,x.pendingProps),j.return=T;j.sibling=null}return T.child}function Nu(x,T){return(x.lanes&T)!==0?!0:(x=x.dependencies,!!(x!==null&&Go(x)))}function Id(x,T,j){switch(T.tag){case 3:Mt(T,T.stateNode.containerInfo),Yr(T,En,x.memoizedState.cache),eo();break;case 27:case 5:me(T);break;case 4:Mt(T,T.stateNode.containerInfo);break;case 10:Yr(T,T.type,T.memoizedProps.value);break;case 13:var V=T.memoizedState;if(V!==null)return V.dehydrated!==null?(Zr(T),T.flags|=128,null):(j&T.child.childLanes)!==0?Uh(x,T,j):(Zr(T),x=Tr(x,T,j),x!==null?x.sibling:null);Zr(T);break;case 19:var X=(x.flags&128)!==0;if(V=(j&T.childLanes)!==0,V||(io(x,T,j,!1),V=(j&T.childLanes)!==0),X){if(V)return Yh(x,T,j);T.flags|=128}if(X=T.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),Dt(Sn,Sn.current),V)break;return null;case 22:case 23:return T.lanes=0,Vh(x,T,j);case 24:Yr(T,En,x.memoizedState.cache)}return Tr(x,T,j)}function Xh(x,T,j){if(x!==null)if(x.memoizedProps!==T.pendingProps)An=!0;else{if(!Nu(x,j)&&(T.flags&128)===0)return An=!1,Id(x,T,j);An=(x.flags&131072)!==0}else An=!1,Ie&&(T.flags&1048576)!==0&&Sc(T,Uo,T.index);switch(T.lanes=0,T.tag){case 16:t:{x=T.pendingProps;var V=T.elementType,X=V._init;if(V=X(V._payload),T.type=V,typeof V=="function")zl(V)?(x=Gs(V,x),T.tag=1,T=qh(null,T,V,x,j)):(T.tag=0,T=Cu(null,T,V,x,j));else{if(V!=null){if(X=V.$$typeof,X===tt){T.tag=11,T=Lh(null,T,V,x,j);break t}else if(X===ht){T.tag=14,T=Fh(null,T,V,x,j);break t}}throw T=jt(V)||V,Error(r(306,T,""))}}return T;case 0:return Cu(x,T,T.type,T.pendingProps,j);case 1:return V=T.type,X=Gs(V,T.pendingProps),qh(x,T,V,X,j);case 3:t:{if(Mt(T,T.stateNode.containerInfo),x===null)throw Error(r(387));V=T.pendingProps;var J=T.memoizedState;X=J.element,eu(x,T),co(T,V,null,j);var ft=T.memoizedState;if(V=ft.cache,Yr(T,En,V),V!==J.cache&&Kl(T,[En],j,!0),uo(),V=ft.element,J.isDehydrated)if(J={element:V,isDehydrated:!1,cache:ft.cache},T.updateQueue.baseState=J,T.memoizedState=J,T.flags&256){T=Hh(x,T,V,j);break t}else if(V!==X){X=Oe(Error(r(424)),T),no(X),T=Hh(x,T,V,j);break t}else{switch(x=T.stateNode.containerInfo,x.nodeType){case 9:x=x.body;break;default:x=x.nodeName==="HTML"?x.ownerDocument.body:x}for(un=Vi(x.firstChild),ei=T,Ie=!0,Vs=null,ir=!0,j=wh(T,null,V,j),T.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling}else{if(eo(),V===X){T=Tr(x,T,j);break t}Ln(x,T,V,j)}T=T.child}return T;case 26:return hl(x,T),x===null?(j=Jf(T.type,null,T.pendingProps,null))?T.memoizedState=j:Ie||(j=T.type,x=T.pendingProps,V=wl(Ut.current).createElement(j),V[Je]=T,V[gn]=x,Bn(V,j,x),Be(V),T.stateNode=V):T.memoizedState=Jf(T.type,x.memoizedProps,T.pendingProps,x.memoizedState),null;case 27:return me(T),x===null&&Ie&&(V=T.stateNode=Wf(T.type,T.pendingProps,Ut.current),ei=T,ir=!0,X=un,ls(T.type)?(fc=X,un=Vi(V.firstChild)):un=X),Ln(x,T,T.pendingProps.children,j),hl(x,T),x===null&&(T.flags|=4194304),T.child;case 5:return x===null&&Ie&&((X=V=un)&&(V=cp(V,T.type,T.pendingProps,ir),V!==null?(T.stateNode=V,ei=T,un=Vi(V.firstChild),ir=!1,X=!0):X=!1),X||zs(T)),me(T),X=T.type,J=T.pendingProps,ft=x!==null?x.memoizedProps:null,V=J.children,lc(X,J)?V=null:ft!==null&&lc(X,ft)&&(T.flags|=32),T.memoizedState!==null&&(X=ou(x,T,wd,null,null,j),jo._currentValue=X),hl(x,T),Ln(x,T,V,j),T.child;case 6:return x===null&&Ie&&((x=j=un)&&(j=hp(j,T.pendingProps,ir),j!==null?(T.stateNode=j,ei=T,un=null,x=!0):x=!1),x||zs(T)),null;case 13:return Uh(x,T,j);case 4:return Mt(T,T.stateNode.containerInfo),V=T.pendingProps,x===null?T.child=Ca(T,null,V,j):Ln(x,T,V,j),T.child;case 11:return Lh(x,T,T.type,T.pendingProps,j);case 7:return Ln(x,T,T.pendingProps,j),T.child;case 8:return Ln(x,T,T.pendingProps.children,j),T.child;case 12:return Ln(x,T,T.pendingProps.children,j),T.child;case 10:return V=T.pendingProps,Yr(T,T.type,V.value),Ln(x,T,V.children,j),T.child;case 9:return X=T.type._context,V=T.pendingProps.children,qs(T),X=Kn(X),V=V(X),T.flags|=1,Ln(x,T,V,j),T.child;case 14:return Fh(x,T,T.type,T.pendingProps,j);case 15:return Bh(x,T,T.type,T.pendingProps,j);case 19:return Yh(x,T,j);case 31:return V=T.pendingProps,j=T.mode,V={mode:V.mode,children:V.children},x===null?(j=fl(V,j),j.ref=T.ref,T.child=j,j.return=T,T=j):(j=_r(x.child,V),j.ref=T.ref,T.child=j,j.return=T,T=j),T;case 22:return Vh(x,T,j);case 24:return qs(T),V=Kn(En),x===null?(X=Zl(),X===null&&(X=Ke,J=Wl(),X.pooledCache=J,J.refCount++,J!==null&&(X.pooledCacheLanes|=j),X=J),T.memoizedState={parent:V,cache:X},tu(T),Yr(T,En,X)):((x.lanes&j)!==0&&(eu(x,T),co(T,null,null,j),uo()),X=x.memoizedState,J=T.memoizedState,X.parent!==V?(X={parent:V,cache:V},T.memoizedState=X,T.lanes===0&&(T.memoizedState=T.updateQueue.baseState=X),Yr(T,En,V)):(V=J.cache,Yr(T,En,V),V!==X.cache&&Kl(T,[En],j,!0))),Ln(x,T,T.pendingProps.children,j),T.child;case 29:throw T.pendingProps}throw Error(r(156,T.tag))}function Ar(x){x.flags|=4}function Kh(x,T){if(T.type!=="stylesheet"||(T.state.loading&4)!==0)x.flags&=-16777217;else if(x.flags|=16777216,!sd(T)){if(T=Pi.current,T!==null&&((Me&4194048)===Me?rr!==null:(Me&62914560)!==Me&&(Me&536870912)===0||T!==rr))throw oo=Jl,Mc;x.flags|=8192}}function dl(x,T){T!==null&&(x.flags|=4),x.flags&16384&&(T=x.tag!==22?Rn():536870912,x.lanes|=T,Aa|=T)}function vo(x,T){if(!Ie)switch(x.tailMode){case"hidden":T=x.tail;for(var j=null;T!==null;)T.alternate!==null&&(j=T),T=T.sibling;j===null?x.tail=null:j.sibling=null;break;case"collapsed":j=x.tail;for(var V=null;j!==null;)j.alternate!==null&&(V=j),j=j.sibling;V===null?T||x.tail===null?x.tail=null:x.tail.sibling=null:V.sibling=null}}function sn(x){var T=x.alternate!==null&&x.alternate.child===x.child,j=0,V=0;if(T)for(var X=x.child;X!==null;)j|=X.lanes|X.childLanes,V|=X.subtreeFlags&65011712,V|=X.flags&65011712,X.return=x,X=X.sibling;else for(X=x.child;X!==null;)j|=X.lanes|X.childLanes,V|=X.subtreeFlags,V|=X.flags,X.return=x,X=X.sibling;return x.subtreeFlags|=V,x.childLanes=j,T}function Dd(x,T,j){var V=T.pendingProps;switch(Ul(T),T.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(T),null;case 1:return sn(T),null;case 3:return j=T.stateNode,V=null,x!==null&&(V=x.memoizedState.cache),T.memoizedState.cache!==V&&(T.flags|=2048),Cr(En),Ne(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(x===null||x.child===null)&&(Ja(T)?Ar(T):x===null||x.memoizedState.isDehydrated&&(T.flags&256)===0||(T.flags|=1024,wc())),sn(T),null;case 26:return j=T.memoizedState,x===null?(Ar(T),j!==null?(sn(T),Kh(T,j)):(sn(T),T.flags&=-16777217)):j?j!==x.memoizedState?(Ar(T),sn(T),Kh(T,j)):(sn(T),T.flags&=-16777217):(x.memoizedProps!==V&&Ar(T),sn(T),T.flags&=-16777217),null;case 27:Jt(T),j=Ut.current;var X=T.type;if(x!==null&&T.stateNode!=null)x.memoizedProps!==V&&Ar(T);else{if(!V){if(T.stateNode===null)throw Error(r(166));return sn(T),null}x=Tt.current,Ja(T)?kc(T):(x=Wf(X,V,j),T.stateNode=x,Ar(T))}return sn(T),null;case 5:if(Jt(T),j=T.type,x!==null&&T.stateNode!=null)x.memoizedProps!==V&&Ar(T);else{if(!V){if(T.stateNode===null)throw Error(r(166));return sn(T),null}if(x=Tt.current,Ja(T))kc(T);else{switch(X=wl(Ut.current),x){case 1:x=X.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:x=X.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":x=X.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":x=X.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":x=X.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof V.is=="string"?X.createElement("select",{is:V.is}):X.createElement("select"),V.multiple?x.multiple=!0:V.size&&(x.size=V.size);break;default:x=typeof V.is=="string"?X.createElement(j,{is:V.is}):X.createElement(j)}}x[Je]=T,x[gn]=V;t:for(X=T.child;X!==null;){if(X.tag===5||X.tag===6)x.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===T)break t;for(;X.sibling===null;){if(X.return===null||X.return===T)break t;X=X.return}X.sibling.return=X.return,X=X.sibling}T.stateNode=x;t:switch(Bn(x,j,V),j){case"button":case"input":case"select":case"textarea":x=!!V.autoFocus;break t;case"img":x=!0;break t;default:x=!1}x&&Ar(T)}}return sn(T),T.flags&=-16777217,null;case 6:if(x&&T.stateNode!=null)x.memoizedProps!==V&&Ar(T);else{if(typeof V!="string"&&T.stateNode===null)throw Error(r(166));if(x=Ut.current,Ja(T)){if(x=T.stateNode,j=T.memoizedProps,V=null,X=ei,X!==null)switch(X.tag){case 27:case 5:V=X.memoizedProps}x[Je]=T,x=!!(x.nodeValue===j||V!==null&&V.suppressHydrationWarning===!0||qf(x.nodeValue,j)),x||zs(T)}else x=wl(x).createTextNode(V),x[Je]=T,T.stateNode=x}return sn(T),null;case 13:if(V=T.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(X=Ja(T),V!==null&&V.dehydrated!==null){if(x===null){if(!X)throw Error(r(318));if(X=T.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(r(317));X[Je]=T}else eo(),(T.flags&128)===0&&(T.memoizedState=null),T.flags|=4;sn(T),X=!1}else X=wc(),x!==null&&x.memoizedState!==null&&(x.memoizedState.hydrationErrors=X),X=!0;if(!X)return T.flags&256?(Rr(T),T):(Rr(T),null)}if(Rr(T),(T.flags&128)!==0)return T.lanes=j,T;if(j=V!==null,x=x!==null&&x.memoizedState!==null,j){V=T.child,X=null,V.alternate!==null&&V.alternate.memoizedState!==null&&V.alternate.memoizedState.cachePool!==null&&(X=V.alternate.memoizedState.cachePool.pool);var J=null;V.memoizedState!==null&&V.memoizedState.cachePool!==null&&(J=V.memoizedState.cachePool.pool),J!==X&&(V.flags|=2048)}return j!==x&&j&&(T.child.flags|=8192),dl(T,T.updateQueue),sn(T),null;case 4:return Ne(),x===null&&ic(T.stateNode.containerInfo),sn(T),null;case 10:return Cr(T.type),sn(T),null;case 19:if(Pt(Sn),X=T.memoizedState,X===null)return sn(T),null;if(V=(T.flags&128)!==0,J=X.rendering,J===null)if(V)vo(X,!1);else{if(cn!==0||x!==null&&(x.flags&128)!==0)for(x=T.child;x!==null;){if(J=ll(x),J!==null){for(T.flags|=128,vo(X,!1),x=J.updateQueue,T.updateQueue=x,dl(T,x),T.subtreeFlags=0,x=j,j=T.child;j!==null;)Ec(j,x),j=j.sibling;return Dt(Sn,Sn.current&1|2),T.child}x=x.sibling}X.tail!==null&&Xe()>gl&&(T.flags|=128,V=!0,vo(X,!1),T.lanes=4194304)}else{if(!V)if(x=ll(J),x!==null){if(T.flags|=128,V=!0,x=x.updateQueue,T.updateQueue=x,dl(T,x),vo(X,!0),X.tail===null&&X.tailMode==="hidden"&&!J.alternate&&!Ie)return sn(T),null}else 2*Xe()-X.renderingStartTime>gl&&j!==536870912&&(T.flags|=128,V=!0,vo(X,!1),T.lanes=4194304);X.isBackwards?(J.sibling=T.child,T.child=J):(x=X.last,x!==null?x.sibling=J:T.child=J,X.last=J)}return X.tail!==null?(T=X.tail,X.rendering=T,X.tail=T.sibling,X.renderingStartTime=Xe(),T.sibling=null,x=Sn.current,Dt(Sn,V?x&1|2:x&1),T):(sn(T),null);case 22:case 23:return Rr(T),su(),V=T.memoizedState!==null,x!==null?x.memoizedState!==null!==V&&(T.flags|=8192):V&&(T.flags|=8192),V?(j&536870912)!==0&&(T.flags&128)===0&&(sn(T),T.subtreeFlags&6&&(T.flags|=8192)):sn(T),j=T.updateQueue,j!==null&&dl(T,j.retryQueue),j=null,x!==null&&x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(j=x.memoizedState.cachePool.pool),V=null,T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(V=T.memoizedState.cachePool.pool),V!==j&&(T.flags|=2048),x!==null&&Pt(Hs),null;case 24:return j=null,x!==null&&(j=x.memoizedState.cache),T.memoizedState.cache!==j&&(T.flags|=2048),Cr(En),sn(T),null;case 25:return null;case 30:return null}throw Error(r(156,T.tag))}function Od(x,T){switch(Ul(T),T.tag){case 1:return x=T.flags,x&65536?(T.flags=x&-65537|128,T):null;case 3:return Cr(En),Ne(),x=T.flags,(x&65536)!==0&&(x&128)===0?(T.flags=x&-65537|128,T):null;case 26:case 27:case 5:return Jt(T),null;case 13:if(Rr(T),x=T.memoizedState,x!==null&&x.dehydrated!==null){if(T.alternate===null)throw Error(r(340));eo()}return x=T.flags,x&65536?(T.flags=x&-65537|128,T):null;case 19:return Pt(Sn),null;case 4:return Ne(),null;case 10:return Cr(T.type),null;case 22:case 23:return Rr(T),su(),x!==null&&Pt(Hs),x=T.flags,x&65536?(T.flags=x&-65537|128,T):null;case 24:return Cr(En),null;case 25:return null;default:return null}}function Wh(x,T){switch(Ul(T),T.tag){case 3:Cr(En),Ne();break;case 26:case 27:case 5:Jt(T);break;case 4:Ne();break;case 13:Rr(T);break;case 19:Pt(Sn);break;case 10:Cr(T.type);break;case 22:case 23:Rr(T),su(),x!==null&&Pt(Hs);break;case 24:Cr(En)}}function xo(x,T){try{var j=T.updateQueue,V=j!==null?j.lastEffect:null;if(V!==null){var X=V.next;j=X;do{if((j.tag&x)===x){V=void 0;var J=j.create,ft=j.inst;V=J(),ft.destroy=V}j=j.next}while(j!==X)}}catch(vt){Ye(T,T.return,vt)}}function ts(x,T,j){try{var V=T.updateQueue,X=V!==null?V.lastEffect:null;if(X!==null){var J=X.next;V=J;do{if((V.tag&x)===x){var ft=V.inst,vt=ft.destroy;if(vt!==void 0){ft.destroy=void 0,X=T;var Rt=j,Bt=vt;try{Bt()}catch(Gt){Ye(X,Rt,Gt)}}}V=V.next}while(V!==J)}}catch(Gt){Ye(T,T.return,Gt)}}function Qh(x){var T=x.updateQueue;if(T!==null){var j=x.stateNode;try{Lc(T,j)}catch(V){Ye(x,x.return,V)}}}function Zh(x,T,j){j.props=Gs(x.type,x.memoizedProps),j.state=x.memoizedState;try{j.componentWillUnmount()}catch(V){Ye(x,T,V)}}function bo(x,T){try{var j=x.ref;if(j!==null){switch(x.tag){case 26:case 27:case 5:var V=x.stateNode;break;case 30:V=x.stateNode;break;default:V=x.stateNode}typeof j=="function"?x.refCleanup=j(V):j.current=V}}catch(X){Ye(x,T,X)}}function sr(x,T){var j=x.ref,V=x.refCleanup;if(j!==null)if(typeof V=="function")try{V()}catch(X){Ye(x,T,X)}finally{x.refCleanup=null,x=x.alternate,x!=null&&(x.refCleanup=null)}else if(typeof j=="function")try{j(null)}catch(X){Ye(x,T,X)}else j.current=null}function Jh(x){var T=x.type,j=x.memoizedProps,V=x.stateNode;try{t:switch(T){case"button":case"input":case"select":case"textarea":j.autoFocus&&V.focus();break t;case"img":j.src?V.src=j.src:j.srcSet&&(V.srcset=j.srcSet)}}catch(X){Ye(x,x.return,X)}}function ju(x,T,j){try{var V=x.stateNode;rp(V,x.type,j,T),V[gn]=T}catch(X){Ye(x,x.return,X)}}function tf(x){return x.tag===5||x.tag===3||x.tag===26||x.tag===27&&ls(x.type)||x.tag===4}function Iu(x){t:for(;;){for(;x.sibling===null;){if(x.return===null||tf(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.tag===27&&ls(x.type)||x.flags&2||x.child===null||x.tag===4)continue t;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function Du(x,T,j){var V=x.tag;if(V===5||V===6)x=x.stateNode,T?(j.nodeType===9?j.body:j.nodeName==="HTML"?j.ownerDocument.body:j).insertBefore(x,T):(T=j.nodeType===9?j.body:j.nodeName==="HTML"?j.ownerDocument.body:j,T.appendChild(x),j=j._reactRootContainer,j!=null||T.onclick!==null||(T.onclick=Cl));else if(V!==4&&(V===27&&ls(x.type)&&(j=x.stateNode,T=null),x=x.child,x!==null))for(Du(x,T,j),x=x.sibling;x!==null;)Du(x,T,j),x=x.sibling}function pl(x,T,j){var V=x.tag;if(V===5||V===6)x=x.stateNode,T?j.insertBefore(x,T):j.appendChild(x);else if(V!==4&&(V===27&&ls(x.type)&&(j=x.stateNode),x=x.child,x!==null))for(pl(x,T,j),x=x.sibling;x!==null;)pl(x,T,j),x=x.sibling}function ef(x){var T=x.stateNode,j=x.memoizedProps;try{for(var V=x.type,X=T.attributes;X.length;)T.removeAttributeNode(X[0]);Bn(T,V,j),T[Je]=x,T[gn]=j}catch(J){Ye(x,x.return,J)}}var Pr=!1,pn=!1,Ou=!1,nf=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function Ld(x,T){if(x=x.containerInfo,ac=Nl,x=$o(x),da(x)){if("selectionStart"in x)var j={start:x.selectionStart,end:x.selectionEnd};else t:{j=(j=x.ownerDocument)&&j.defaultView||window;var V=j.getSelection&&j.getSelection();if(V&&V.rangeCount!==0){j=V.anchorNode;var X=V.anchorOffset,J=V.focusNode;V=V.focusOffset;try{j.nodeType,J.nodeType}catch{j=null;break t}var ft=0,vt=-1,Rt=-1,Bt=0,Gt=0,Xt=x,zt=null;e:for(;;){for(var $t;Xt!==j||X!==0&&Xt.nodeType!==3||(vt=ft+X),Xt!==J||V!==0&&Xt.nodeType!==3||(Rt=ft+V),Xt.nodeType===3&&(ft+=Xt.nodeValue.length),($t=Xt.firstChild)!==null;)zt=Xt,Xt=$t;for(;;){if(Xt===x)break e;if(zt===j&&++Bt===X&&(vt=ft),zt===J&&++Gt===V&&(Rt=ft),($t=Xt.nextSibling)!==null)break;Xt=zt,zt=Xt.parentNode}Xt=$t}j=vt===-1||Rt===-1?null:{start:vt,end:Rt}}else j=null}j=j||{start:0,end:0}}else j=null;for(oc={focusedElem:x,selectionRange:j},Nl=!1,Pn=T;Pn!==null;)if(T=Pn,x=T.child,(T.subtreeFlags&1024)!==0&&x!==null)x.return=T,Pn=x;else for(;Pn!==null;){switch(T=Pn,J=T.alternate,x=T.flags,T.tag){case 0:break;case 11:case 15:break;case 1:if((x&1024)!==0&&J!==null){x=void 0,j=T,X=J.memoizedProps,J=J.memoizedState,V=j.stateNode;try{var ye=Gs(j.type,X,j.elementType===j.type);x=V.getSnapshotBeforeUpdate(ye,J),V.__reactInternalSnapshotBeforeUpdate=x}catch(he){Ye(j,j.return,he)}}break;case 3:if((x&1024)!==0){if(x=T.stateNode.containerInfo,j=x.nodeType,j===9)cc(x);else if(j===1)switch(x.nodeName){case"HEAD":case"HTML":case"BODY":cc(x);break;default:x.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((x&1024)!==0)throw Error(r(163))}if(x=T.sibling,x!==null){x.return=T.return,Pn=x;break}Pn=T.return}}function rf(x,T,j){var V=j.flags;switch(j.tag){case 0:case 11:case 15:es(x,j),V&4&&xo(5,j);break;case 1:if(es(x,j),V&4)if(x=j.stateNode,T===null)try{x.componentDidMount()}catch(ft){Ye(j,j.return,ft)}else{var X=Gs(j.type,T.memoizedProps);T=T.memoizedState;try{x.componentDidUpdate(X,T,x.__reactInternalSnapshotBeforeUpdate)}catch(ft){Ye(j,j.return,ft)}}V&64&&Qh(j),V&512&&bo(j,j.return);break;case 3:if(es(x,j),V&64&&(x=j.updateQueue,x!==null)){if(T=null,j.child!==null)switch(j.child.tag){case 27:case 5:T=j.child.stateNode;break;case 1:T=j.child.stateNode}try{Lc(x,T)}catch(ft){Ye(j,j.return,ft)}}break;case 27:T===null&&V&4&&ef(j);case 26:case 5:es(x,j),T===null&&V&4&&Jh(j),V&512&&bo(j,j.return);break;case 12:es(x,j);break;case 13:es(x,j),V&4&&of(x,j),V&64&&(x=j.memoizedState,x!==null&&(x=x.dehydrated,x!==null&&(j=Gd.bind(null,j),fp(x,j))));break;case 22:if(V=j.memoizedState!==null||Pr,!V){T=T!==null&&T.memoizedState!==null||pn,X=Pr;var J=pn;Pr=V,(pn=T)&&!J?ns(x,j,(j.subtreeFlags&8772)!==0):es(x,j),Pr=X,pn=J}break;case 30:break;default:es(x,j)}}function sf(x){var T=x.alternate;T!==null&&(x.alternate=null,sf(T)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(T=x.stateNode,T!==null&&gs(T)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}var en=null,ci=!1;function Mr(x,T,j){for(j=j.child;j!==null;)af(x,T,j),j=j.sibling}function af(x,T,j){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Qe,j)}catch{}switch(j.tag){case 26:pn||sr(j,T),Mr(x,T,j),j.memoizedState?j.memoizedState.count--:j.stateNode&&(j=j.stateNode,j.parentNode.removeChild(j));break;case 27:pn||sr(j,T);var V=en,X=ci;ls(j.type)&&(en=j.stateNode,ci=!1),Mr(x,T,j),Ao(j.stateNode),en=V,ci=X;break;case 5:pn||sr(j,T);case 6:if(V=en,X=ci,en=null,Mr(x,T,j),en=V,ci=X,en!==null)if(ci)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(j.stateNode)}catch(J){Ye(j,T,J)}else try{en.removeChild(j.stateNode)}catch(J){Ye(j,T,J)}break;case 18:en!==null&&(ci?(x=en,Xf(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,j.stateNode),Lo(x)):Xf(en,j.stateNode));break;case 4:V=en,X=ci,en=j.stateNode.containerInfo,ci=!0,Mr(x,T,j),en=V,ci=X;break;case 0:case 11:case 14:case 15:pn||ts(2,j,T),pn||ts(4,j,T),Mr(x,T,j);break;case 1:pn||(sr(j,T),V=j.stateNode,typeof V.componentWillUnmount=="function"&&Zh(j,T,V)),Mr(x,T,j);break;case 21:Mr(x,T,j);break;case 22:pn=(V=pn)||j.memoizedState!==null,Mr(x,T,j),pn=V;break;default:Mr(x,T,j)}}function of(x,T){if(T.memoizedState===null&&(x=T.alternate,x!==null&&(x=x.memoizedState,x!==null&&(x=x.dehydrated,x!==null))))try{Lo(x)}catch(j){Ye(T,T.return,j)}}function Fd(x){switch(x.tag){case 13:case 19:var T=x.stateNode;return T===null&&(T=x.stateNode=new nf),T;case 22:return x=x.stateNode,T=x._retryCache,T===null&&(T=x._retryCache=new nf),T;default:throw Error(r(435,x.tag))}}function Lu(x,T){var j=Fd(x);T.forEach(function(V){var X=Yd.bind(null,x,V);j.has(V)||(j.add(V),V.then(X,X))})}function vi(x,T){var j=T.deletions;if(j!==null)for(var V=0;V<j.length;V++){var X=j[V],J=x,ft=T,vt=ft;t:for(;vt!==null;){switch(vt.tag){case 27:if(ls(vt.type)){en=vt.stateNode,ci=!1;break t}break;case 5:en=vt.stateNode,ci=!1;break t;case 3:case 4:en=vt.stateNode.containerInfo,ci=!0;break t}vt=vt.return}if(en===null)throw Error(r(160));af(J,ft,X),en=null,ci=!1,J=X.alternate,J!==null&&(J.return=null),X.return=null}if(T.subtreeFlags&13878)for(T=T.child;T!==null;)lf(T,x),T=T.sibling}var Bi=null;function lf(x,T){var j=x.alternate,V=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:vi(T,x),xi(x),V&4&&(ts(3,x,x.return),xo(3,x),ts(5,x,x.return));break;case 1:vi(T,x),xi(x),V&512&&(pn||j===null||sr(j,j.return)),V&64&&Pr&&(x=x.updateQueue,x!==null&&(V=x.callbacks,V!==null&&(j=x.shared.hiddenCallbacks,x.shared.hiddenCallbacks=j===null?V:j.concat(V))));break;case 26:var X=Bi;if(vi(T,x),xi(x),V&512&&(pn||j===null||sr(j,j.return)),V&4){var J=j!==null?j.memoizedState:null;if(V=x.memoizedState,j===null)if(V===null)if(x.stateNode===null){t:{V=x.type,j=x.memoizedProps,X=X.ownerDocument||X;e:switch(V){case"title":J=X.getElementsByTagName("title")[0],(!J||J[$i]||J[Je]||J.namespaceURI==="http://www.w3.org/2000/svg"||J.hasAttribute("itemprop"))&&(J=X.createElement(V),X.head.insertBefore(J,X.querySelector("head > title"))),Bn(J,V,j),J[Je]=x,Be(J),V=J;break t;case"link":var ft=nd("link","href",X).get(V+(j.href||""));if(ft){for(var vt=0;vt<ft.length;vt++)if(J=ft[vt],J.getAttribute("href")===(j.href==null||j.href===""?null:j.href)&&J.getAttribute("rel")===(j.rel==null?null:j.rel)&&J.getAttribute("title")===(j.title==null?null:j.title)&&J.getAttribute("crossorigin")===(j.crossOrigin==null?null:j.crossOrigin)){ft.splice(vt,1);break e}}J=X.createElement(V),Bn(J,V,j),X.head.appendChild(J);break;case"meta":if(ft=nd("meta","content",X).get(V+(j.content||""))){for(vt=0;vt<ft.length;vt++)if(J=ft[vt],J.getAttribute("content")===(j.content==null?null:""+j.content)&&J.getAttribute("name")===(j.name==null?null:j.name)&&J.getAttribute("property")===(j.property==null?null:j.property)&&J.getAttribute("http-equiv")===(j.httpEquiv==null?null:j.httpEquiv)&&J.getAttribute("charset")===(j.charSet==null?null:j.charSet)){ft.splice(vt,1);break e}}J=X.createElement(V),Bn(J,V,j),X.head.appendChild(J);break;default:throw Error(r(468,V))}J[Je]=x,Be(J),V=J}x.stateNode=V}else rd(X,x.type,x.stateNode);else x.stateNode=ed(X,V,x.memoizedProps);else J!==V?(J===null?j.stateNode!==null&&(j=j.stateNode,j.parentNode.removeChild(j)):J.count--,V===null?rd(X,x.type,x.stateNode):ed(X,V,x.memoizedProps)):V===null&&x.stateNode!==null&&ju(x,x.memoizedProps,j.memoizedProps)}break;case 27:vi(T,x),xi(x),V&512&&(pn||j===null||sr(j,j.return)),j!==null&&V&4&&ju(x,x.memoizedProps,j.memoizedProps);break;case 5:if(vi(T,x),xi(x),V&512&&(pn||j===null||sr(j,j.return)),x.flags&32){X=x.stateNode;try{si(X,"")}catch($t){Ye(x,x.return,$t)}}V&4&&x.stateNode!=null&&(X=x.memoizedProps,ju(x,X,j!==null?j.memoizedProps:X)),V&1024&&(Ou=!0);break;case 6:if(vi(T,x),xi(x),V&4){if(x.stateNode===null)throw Error(r(162));V=x.memoizedProps,j=x.stateNode;try{j.nodeValue=V}catch($t){Ye(x,x.return,$t)}}break;case 3:if(Al=null,X=Bi,Bi=Rl(T.containerInfo),vi(T,x),Bi=X,xi(x),V&4&&j!==null&&j.memoizedState.isDehydrated)try{Lo(T.containerInfo)}catch($t){Ye(x,x.return,$t)}Ou&&(Ou=!1,uf(x));break;case 4:V=Bi,Bi=Rl(x.stateNode.containerInfo),vi(T,x),xi(x),Bi=V;break;case 12:vi(T,x),xi(x);break;case 13:vi(T,x),xi(x),x.child.flags&8192&&x.memoizedState!==null!=(j!==null&&j.memoizedState!==null)&&(qu=Xe()),V&4&&(V=x.updateQueue,V!==null&&(x.updateQueue=null,Lu(x,V)));break;case 22:X=x.memoizedState!==null;var Rt=j!==null&&j.memoizedState!==null,Bt=Pr,Gt=pn;if(Pr=Bt||X,pn=Gt||Rt,vi(T,x),pn=Gt,Pr=Bt,xi(x),V&8192)t:for(T=x.stateNode,T._visibility=X?T._visibility&-2:T._visibility|1,X&&(j===null||Rt||Pr||pn||Ys(x)),j=null,T=x;;){if(T.tag===5||T.tag===26){if(j===null){Rt=j=T;try{if(J=Rt.stateNode,X)ft=J.style,typeof ft.setProperty=="function"?ft.setProperty("display","none","important"):ft.display="none";else{vt=Rt.stateNode;var Xt=Rt.memoizedProps.style,zt=Xt!=null&&Xt.hasOwnProperty("display")?Xt.display:null;vt.style.display=zt==null||typeof zt=="boolean"?"":(""+zt).trim()}}catch($t){Ye(Rt,Rt.return,$t)}}}else if(T.tag===6){if(j===null){Rt=T;try{Rt.stateNode.nodeValue=X?"":Rt.memoizedProps}catch($t){Ye(Rt,Rt.return,$t)}}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===x)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===x)break t;for(;T.sibling===null;){if(T.return===null||T.return===x)break t;j===T&&(j=null),T=T.return}j===T&&(j=null),T.sibling.return=T.return,T=T.sibling}V&4&&(V=x.updateQueue,V!==null&&(j=V.retryQueue,j!==null&&(V.retryQueue=null,Lu(x,j))));break;case 19:vi(T,x),xi(x),V&4&&(V=x.updateQueue,V!==null&&(x.updateQueue=null,Lu(x,V)));break;case 30:break;case 21:break;default:vi(T,x),xi(x)}}function xi(x){var T=x.flags;if(T&2){try{for(var j,V=x.return;V!==null;){if(tf(V)){j=V;break}V=V.return}if(j==null)throw Error(r(160));switch(j.tag){case 27:var X=j.stateNode,J=Iu(x);pl(x,J,X);break;case 5:var ft=j.stateNode;j.flags&32&&(si(ft,""),j.flags&=-33);var vt=Iu(x);pl(x,vt,ft);break;case 3:case 4:var Rt=j.stateNode.containerInfo,Bt=Iu(x);Du(x,Bt,Rt);break;default:throw Error(r(161))}}catch(Gt){Ye(x,x.return,Gt)}x.flags&=-3}T&4096&&(x.flags&=-4097)}function uf(x){if(x.subtreeFlags&1024)for(x=x.child;x!==null;){var T=x;uf(T),T.tag===5&&T.flags&1024&&T.stateNode.reset(),x=x.sibling}}function es(x,T){if(T.subtreeFlags&8772)for(T=T.child;T!==null;)rf(x,T.alternate,T),T=T.sibling}function Ys(x){for(x=x.child;x!==null;){var T=x;switch(T.tag){case 0:case 11:case 14:case 15:ts(4,T,T.return),Ys(T);break;case 1:sr(T,T.return);var j=T.stateNode;typeof j.componentWillUnmount=="function"&&Zh(T,T.return,j),Ys(T);break;case 27:Ao(T.stateNode);case 26:case 5:sr(T,T.return),Ys(T);break;case 22:T.memoizedState===null&&Ys(T);break;case 30:Ys(T);break;default:Ys(T)}x=x.sibling}}function ns(x,T,j){for(j=j&&(T.subtreeFlags&8772)!==0,T=T.child;T!==null;){var V=T.alternate,X=x,J=T,ft=J.flags;switch(J.tag){case 0:case 11:case 15:ns(X,J,j),xo(4,J);break;case 1:if(ns(X,J,j),V=J,X=V.stateNode,typeof X.componentDidMount=="function")try{X.componentDidMount()}catch(Bt){Ye(V,V.return,Bt)}if(V=J,X=V.updateQueue,X!==null){var vt=V.stateNode;try{var Rt=X.shared.hiddenCallbacks;if(Rt!==null)for(X.shared.hiddenCallbacks=null,X=0;X<Rt.length;X++)Oc(Rt[X],vt)}catch(Bt){Ye(V,V.return,Bt)}}j&&ft&64&&Qh(J),bo(J,J.return);break;case 27:ef(J);case 26:case 5:ns(X,J,j),j&&V===null&&ft&4&&Jh(J),bo(J,J.return);break;case 12:ns(X,J,j);break;case 13:ns(X,J,j),j&&ft&4&&of(X,J);break;case 22:J.memoizedState===null&&ns(X,J,j),bo(J,J.return);break;case 30:break;default:ns(X,J,j)}T=T.sibling}}function Fu(x,T){var j=null;x!==null&&x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(j=x.memoizedState.cachePool.pool),x=null,T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(x=T.memoizedState.cachePool.pool),x!==j&&(x!=null&&x.refCount++,j!=null&&ro(j))}function Bu(x,T){x=null,T.alternate!==null&&(x=T.alternate.memoizedState.cache),T=T.memoizedState.cache,T!==x&&(T.refCount++,x!=null&&ro(x))}function ar(x,T,j,V){if(T.subtreeFlags&10256)for(T=T.child;T!==null;)cf(x,T,j,V),T=T.sibling}function cf(x,T,j,V){var X=T.flags;switch(T.tag){case 0:case 11:case 15:ar(x,T,j,V),X&2048&&xo(9,T);break;case 1:ar(x,T,j,V);break;case 3:ar(x,T,j,V),X&2048&&(x=null,T.alternate!==null&&(x=T.alternate.memoizedState.cache),T=T.memoizedState.cache,T!==x&&(T.refCount++,x!=null&&ro(x)));break;case 12:if(X&2048){ar(x,T,j,V),x=T.stateNode;try{var J=T.memoizedProps,ft=J.id,vt=J.onPostCommit;typeof vt=="function"&&vt(ft,T.alternate===null?"mount":"update",x.passiveEffectDuration,-0)}catch(Rt){Ye(T,T.return,Rt)}}else ar(x,T,j,V);break;case 13:ar(x,T,j,V);break;case 23:break;case 22:J=T.stateNode,ft=T.alternate,T.memoizedState!==null?J._visibility&2?ar(x,T,j,V):_o(x,T):J._visibility&2?ar(x,T,j,V):(J._visibility|=2,wa(x,T,j,V,(T.subtreeFlags&10256)!==0)),X&2048&&Fu(ft,T);break;case 24:ar(x,T,j,V),X&2048&&Bu(T.alternate,T);break;default:ar(x,T,j,V)}}function wa(x,T,j,V,X){for(X=X&&(T.subtreeFlags&10256)!==0,T=T.child;T!==null;){var J=x,ft=T,vt=j,Rt=V,Bt=ft.flags;switch(ft.tag){case 0:case 11:case 15:wa(J,ft,vt,Rt,X),xo(8,ft);break;case 23:break;case 22:var Gt=ft.stateNode;ft.memoizedState!==null?Gt._visibility&2?wa(J,ft,vt,Rt,X):_o(J,ft):(Gt._visibility|=2,wa(J,ft,vt,Rt,X)),X&&Bt&2048&&Fu(ft.alternate,ft);break;case 24:wa(J,ft,vt,Rt,X),X&&Bt&2048&&Bu(ft.alternate,ft);break;default:wa(J,ft,vt,Rt,X)}T=T.sibling}}function _o(x,T){if(T.subtreeFlags&10256)for(T=T.child;T!==null;){var j=x,V=T,X=V.flags;switch(V.tag){case 22:_o(j,V),X&2048&&Fu(V.alternate,V);break;case 24:_o(j,V),X&2048&&Bu(V.alternate,V);break;default:_o(j,V)}T=T.sibling}}var Eo=8192;function Ra(x){if(x.subtreeFlags&Eo)for(x=x.child;x!==null;)hf(x),x=x.sibling}function hf(x){switch(x.tag){case 26:Ra(x),x.flags&Eo&&x.memoizedState!==null&&Cp(Bi,x.memoizedState,x.memoizedProps);break;case 5:Ra(x);break;case 3:case 4:var T=Bi;Bi=Rl(x.stateNode.containerInfo),Ra(x),Bi=T;break;case 22:x.memoizedState===null&&(T=x.alternate,T!==null&&T.memoizedState!==null?(T=Eo,Eo=16777216,Ra(x),Eo=T):Ra(x));break;default:Ra(x)}}function ff(x){var T=x.alternate;if(T!==null&&(x=T.child,x!==null)){T.child=null;do T=x.sibling,x.sibling=null,x=T;while(x!==null)}}function So(x){var T=x.deletions;if((x.flags&16)!==0){if(T!==null)for(var j=0;j<T.length;j++){var V=T[j];Pn=V,pf(V,x)}ff(x)}if(x.subtreeFlags&10256)for(x=x.child;x!==null;)df(x),x=x.sibling}function df(x){switch(x.tag){case 0:case 11:case 15:So(x),x.flags&2048&&ts(9,x,x.return);break;case 3:So(x);break;case 12:So(x);break;case 22:var T=x.stateNode;x.memoizedState!==null&&T._visibility&2&&(x.return===null||x.return.tag!==13)?(T._visibility&=-3,ml(x)):So(x);break;default:So(x)}}function ml(x){var T=x.deletions;if((x.flags&16)!==0){if(T!==null)for(var j=0;j<T.length;j++){var V=T[j];Pn=V,pf(V,x)}ff(x)}for(x=x.child;x!==null;){switch(T=x,T.tag){case 0:case 11:case 15:ts(8,T,T.return),ml(T);break;case 22:j=T.stateNode,j._visibility&2&&(j._visibility&=-3,ml(T));break;default:ml(T)}x=x.sibling}}function pf(x,T){for(;Pn!==null;){var j=Pn;switch(j.tag){case 0:case 11:case 15:ts(8,j,T);break;case 23:case 22:if(j.memoizedState!==null&&j.memoizedState.cachePool!==null){var V=j.memoizedState.cachePool.pool;V!=null&&V.refCount++}break;case 24:ro(j.memoizedState.cache)}if(V=j.child,V!==null)V.return=j,Pn=V;else t:for(j=x;Pn!==null;){V=Pn;var X=V.sibling,J=V.return;if(sf(V),V===j){Pn=null;break t}if(X!==null){X.return=J,Pn=X;break t}Pn=J}}}var Bd={getCacheForType:function(x){var T=Kn(En),j=T.data.get(x);return j===void 0&&(j=x(),T.data.set(x,j)),j}},Vd=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ke=null,Te=null,Me=0,Fe=0,bi=null,is=!1,Ta=!1,Vu=!1,Nr=0,cn=0,rs=0,Xs=0,zu=0,Mi=0,Aa=0,ko=null,hi=null,$u=!1,qu=0,gl=1/0,yl=null,ss=null,Fn=0,as=null,Pa=null,Ma=0,Hu=0,Uu=null,mf=null,Co=0,Gu=null;function _i(){if((Le&2)!==0&&Me!==0)return Me&-Me;if(lt.T!==null){var x=va;return x!==0?x:Ju()}return ur()}function gf(){Mi===0&&(Mi=(Me&536870912)===0||Ie?_n():536870912);var x=Pi.current;return x!==null&&(x.flags|=32),Mi}function Ei(x,T,j){(x===Ke&&(Fe===2||Fe===9)||x.cancelPendingCommit!==null)&&(Na(x,0),os(x,Me,Mi,!1)),Wn(x,j),((Le&2)===0||x!==Ke)&&(x===Ke&&((Le&2)===0&&(Xs|=j),cn===4&&os(x,Me,Mi,!1)),or(x))}function yf(x,T,j){if((Le&6)!==0)throw Error(r(327));var V=!j&&(T&124)===0&&(T&x.expiredLanes)===0||lr(x,T),X=V?qd(x,T):Ku(x,T,!0),J=V;do{if(X===0){Ta&&!V&&os(x,T,0,!1);break}else{if(j=x.current.alternate,J&&!zd(j)){X=Ku(x,T,!1),J=!1;continue}if(X===2){if(J=T,x.errorRecoveryDisabledLanes&J)var ft=0;else ft=x.pendingLanes&-536870913,ft=ft!==0?ft:ft&536870912?536870912:0;if(ft!==0){T=ft;t:{var vt=x;X=ko;var Rt=vt.current.memoizedState.isDehydrated;if(Rt&&(Na(vt,ft).flags|=256),ft=Ku(vt,ft,!1),ft!==2){if(Vu&&!Rt){vt.errorRecoveryDisabledLanes|=J,Xs|=J,X=4;break t}J=hi,hi=X,J!==null&&(hi===null?hi=J:hi.push.apply(hi,J))}X=ft}if(J=!1,X!==2)continue}}if(X===1){Na(x,0),os(x,T,0,!0);break}t:{switch(V=x,J=X,J){case 0:case 1:throw Error(r(345));case 4:if((T&4194048)!==T)break;case 6:os(V,T,Mi,!is);break t;case 2:hi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((T&62914560)===T&&(X=qu+300-Xe(),10<X)){if(os(V,T,Mi,!is),Ir(V,0,!0)!==0)break t;V.timeoutHandle=Gf(vf.bind(null,V,j,hi,yl,$u,T,Mi,Xs,Aa,is,J,2,-0,0),X);break t}vf(V,j,hi,yl,$u,T,Mi,Xs,Aa,is,J,0,-0,0)}}break}while(!0);or(x)}function vf(x,T,j,V,X,J,ft,vt,Rt,Bt,Gt,Xt,zt,$t){if(x.timeoutHandle=-1,Xt=T.subtreeFlags,(Xt&8192||(Xt&16785408)===16785408)&&(No={stylesheets:null,count:0,unsuspend:kp},hf(T),Xt=wp(),Xt!==null)){x.cancelPendingCommit=Xt(Cf.bind(null,x,T,J,j,V,X,ft,vt,Rt,Gt,1,zt,$t)),os(x,J,ft,!Bt);return}Cf(x,T,J,j,V,X,ft,vt,Rt)}function zd(x){for(var T=x;;){var j=T.tag;if((j===0||j===11||j===15)&&T.flags&16384&&(j=T.updateQueue,j!==null&&(j=j.stores,j!==null)))for(var V=0;V<j.length;V++){var X=j[V],J=X.getSnapshot;X=X.value;try{if(!Xn(J(),X))return!1}catch{return!1}}if(j=T.child,T.subtreeFlags&16384&&j!==null)j.return=T,T=j;else{if(T===x)break;for(;T.sibling===null;){if(T.return===null||T.return===x)return!0;T=T.return}T.sibling.return=T.return,T=T.sibling}}return!0}function os(x,T,j,V){T&=~zu,T&=~Xs,x.suspendedLanes|=T,x.pingedLanes&=~T,V&&(x.warmLanes|=T),V=x.expirationTimes;for(var X=T;0<X;){var J=31-Ze(X),ft=1<<J;V[J]=-1,X&=~ft}j!==0&&ms(x,j,T)}function vl(){return(Le&6)===0?(wo(0),!1):!0}function Yu(){if(Te!==null){if(Fe===0)var x=Te.return;else x=Te,kr=$s=null,cu(x),ka=null,go=0,x=Te;for(;x!==null;)Wh(x.alternate,x),x=x.return;Te=null}}function Na(x,T){var j=x.timeoutHandle;j!==-1&&(x.timeoutHandle=-1,ap(j)),j=x.cancelPendingCommit,j!==null&&(x.cancelPendingCommit=null,j()),Yu(),Ke=x,Te=j=_r(x.current,null),Me=T,Fe=0,bi=null,is=!1,Ta=lr(x,T),Vu=!1,Aa=Mi=zu=Xs=rs=cn=0,hi=ko=null,$u=!1,(T&8)!==0&&(T|=T&32);var V=x.entangledLanes;if(V!==0)for(x=x.entanglements,V&=T;0<V;){var X=31-Ze(V),J=1<<X;T|=x[X],V&=~J}return Nr=T,Ds(),j}function xf(x,T){ke=null,lt.H=sl,T===ao||T===Ko?(T=Ic(),Fe=3):T===Mc?(T=Ic(),Fe=4):Fe=T===Oh?8:T!==null&&typeof T=="object"&&typeof T.then=="function"?6:1,bi=T,Te===null&&(cn=1,cl(x,Oe(T,x.current)))}function bf(){var x=lt.H;return lt.H=sl,x===null?sl:x}function _f(){var x=lt.A;return lt.A=Bd,x}function Xu(){cn=4,is||(Me&4194048)!==Me&&Pi.current!==null||(Ta=!0),(rs&134217727)===0&&(Xs&134217727)===0||Ke===null||os(Ke,Me,Mi,!1)}function Ku(x,T,j){var V=Le;Le|=2;var X=bf(),J=_f();(Ke!==x||Me!==T)&&(yl=null,Na(x,T)),T=!1;var ft=cn;t:do try{if(Fe!==0&&Te!==null){var vt=Te,Rt=bi;switch(Fe){case 8:Yu(),ft=6;break t;case 3:case 2:case 9:case 6:Pi.current===null&&(T=!0);var Bt=Fe;if(Fe=0,bi=null,ja(x,vt,Rt,Bt),j&&Ta){ft=0;break t}break;default:Bt=Fe,Fe=0,bi=null,ja(x,vt,Rt,Bt)}}$d(),ft=cn;break}catch(Gt){xf(x,Gt)}while(!0);return T&&x.shellSuspendCounter++,kr=$s=null,Le=V,lt.H=X,lt.A=J,Te===null&&(Ke=null,Me=0,Ds()),ft}function $d(){for(;Te!==null;)Ef(Te)}function qd(x,T){var j=Le;Le|=2;var V=bf(),X=_f();Ke!==x||Me!==T?(yl=null,gl=Xe()+500,Na(x,T)):Ta=lr(x,T);t:do try{if(Fe!==0&&Te!==null){T=Te;var J=bi;e:switch(Fe){case 1:Fe=0,bi=null,ja(x,T,J,1);break;case 2:case 9:if(Nc(J)){Fe=0,bi=null,Sf(T);break}T=function(){Fe!==2&&Fe!==9||Ke!==x||(Fe=7),or(x)},J.then(T,T);break t;case 3:Fe=7;break t;case 4:Fe=5;break t;case 7:Nc(J)?(Fe=0,bi=null,Sf(T)):(Fe=0,bi=null,ja(x,T,J,7));break;case 5:var ft=null;switch(Te.tag){case 26:ft=Te.memoizedState;case 5:case 27:var vt=Te;if(!ft||sd(ft)){Fe=0,bi=null;var Rt=vt.sibling;if(Rt!==null)Te=Rt;else{var Bt=vt.return;Bt!==null?(Te=Bt,xl(Bt)):Te=null}break e}}Fe=0,bi=null,ja(x,T,J,5);break;case 6:Fe=0,bi=null,ja(x,T,J,6);break;case 8:Yu(),cn=6;break t;default:throw Error(r(462))}}Hd();break}catch(Gt){xf(x,Gt)}while(!0);return kr=$s=null,lt.H=V,lt.A=X,Le=j,Te!==null?0:(Ke=null,Me=0,Ds(),cn)}function Hd(){for(;Te!==null&&!De();)Ef(Te)}function Ef(x){var T=Xh(x.alternate,x,Nr);x.memoizedProps=x.pendingProps,T===null?xl(x):Te=T}function Sf(x){var T=x,j=T.alternate;switch(T.tag){case 15:case 0:T=$h(j,T,T.pendingProps,T.type,void 0,Me);break;case 11:T=$h(j,T,T.pendingProps,T.type.render,T.ref,Me);break;case 5:cu(T);default:Wh(j,T),T=Te=Ec(T,Nr),T=Xh(j,T,Nr)}x.memoizedProps=x.pendingProps,T===null?xl(x):Te=T}function ja(x,T,j,V){kr=$s=null,cu(T),ka=null,go=0;var X=T.return;try{if(jd(x,X,T,j,Me)){cn=1,cl(x,Oe(j,x.current)),Te=null;return}}catch(J){if(X!==null)throw Te=X,J;cn=1,cl(x,Oe(j,x.current)),Te=null;return}T.flags&32768?(Ie||V===1?x=!0:Ta||(Me&536870912)!==0?x=!1:(is=x=!0,(V===2||V===9||V===3||V===6)&&(V=Pi.current,V!==null&&V.tag===13&&(V.flags|=16384))),kf(T,x)):xl(T)}function xl(x){var T=x;do{if((T.flags&32768)!==0){kf(T,is);return}x=T.return;var j=Dd(T.alternate,T,Nr);if(j!==null){Te=j;return}if(T=T.sibling,T!==null){Te=T;return}Te=T=x}while(T!==null);cn===0&&(cn=5)}function kf(x,T){do{var j=Od(x.alternate,x);if(j!==null){j.flags&=32767,Te=j;return}if(j=x.return,j!==null&&(j.flags|=32768,j.subtreeFlags=0,j.deletions=null),!T&&(x=x.sibling,x!==null)){Te=x;return}Te=x=j}while(x!==null);cn=6,Te=null}function Cf(x,T,j,V,X,J,ft,vt,Rt){x.cancelPendingCommit=null;do bl();while(Fn!==0);if((Le&6)!==0)throw Error(r(327));if(T!==null){if(T===x.current)throw Error(r(177));if(J=T.lanes|T.childLanes,J|=pa,Dr(x,j,J,ft,vt,Rt),x===Ke&&(Te=Ke=null,Me=0),Pa=T,as=x,Ma=j,Hu=J,Uu=X,mf=V,(T.subtreeFlags&10256)!==0||(T.flags&10256)!==0?(x.callbackNode=null,x.callbackPriority=0,Xd(We,function(){return Pf(),null})):(x.callbackNode=null,x.callbackPriority=0),V=(T.flags&13878)!==0,(T.subtreeFlags&13878)!==0||V){V=lt.T,lt.T=null,X=yt.p,yt.p=2,ft=Le,Le|=4;try{Ld(x,T,j)}finally{Le=ft,yt.p=X,lt.T=V}}Fn=1,wf(),Rf(),Tf()}}function wf(){if(Fn===1){Fn=0;var x=as,T=Pa,j=(T.flags&13878)!==0;if((T.subtreeFlags&13878)!==0||j){j=lt.T,lt.T=null;var V=yt.p;yt.p=2;var X=Le;Le|=4;try{lf(T,x);var J=oc,ft=$o(x.containerInfo),vt=J.focusedElem,Rt=J.selectionRange;if(ft!==vt&&vt&&vt.ownerDocument&&xr(vt.ownerDocument.documentElement,vt)){if(Rt!==null&&da(vt)){var Bt=Rt.start,Gt=Rt.end;if(Gt===void 0&&(Gt=Bt),"selectionStart"in vt)vt.selectionStart=Bt,vt.selectionEnd=Math.min(Gt,vt.value.length);else{var Xt=vt.ownerDocument||document,zt=Xt&&Xt.defaultView||window;if(zt.getSelection){var $t=zt.getSelection(),ye=vt.textContent.length,he=Math.min(Rt.start,ye),He=Rt.end===void 0?he:Math.min(Rt.end,ye);!$t.extend&&he>He&&(ft=He,He=he,he=ft);var Ot=zo(vt,he),Nt=zo(vt,He);if(Ot&&Nt&&($t.rangeCount!==1||$t.anchorNode!==Ot.node||$t.anchorOffset!==Ot.offset||$t.focusNode!==Nt.node||$t.focusOffset!==Nt.offset)){var Ft=Xt.createRange();Ft.setStart(Ot.node,Ot.offset),$t.removeAllRanges(),he>He?($t.addRange(Ft),$t.extend(Nt.node,Nt.offset)):(Ft.setEnd(Nt.node,Nt.offset),$t.addRange(Ft))}}}}for(Xt=[],$t=vt;$t=$t.parentNode;)$t.nodeType===1&&Xt.push({element:$t,left:$t.scrollLeft,top:$t.scrollTop});for(typeof vt.focus=="function"&&vt.focus(),vt=0;vt<Xt.length;vt++){var Yt=Xt[vt];Yt.element.scrollLeft=Yt.left,Yt.element.scrollTop=Yt.top}}Nl=!!ac,oc=ac=null}finally{Le=X,yt.p=V,lt.T=j}}x.current=T,Fn=2}}function Rf(){if(Fn===2){Fn=0;var x=as,T=Pa,j=(T.flags&8772)!==0;if((T.subtreeFlags&8772)!==0||j){j=lt.T,lt.T=null;var V=yt.p;yt.p=2;var X=Le;Le|=4;try{rf(x,T.alternate,T)}finally{Le=X,yt.p=V,lt.T=j}}Fn=3}}function Tf(){if(Fn===4||Fn===3){Fn=0,kn();var x=as,T=Pa,j=Ma,V=mf;(T.subtreeFlags&10256)!==0||(T.flags&10256)!==0?Fn=5:(Fn=0,Pa=as=null,Af(x,x.pendingLanes));var X=x.pendingLanes;if(X===0&&(ss=null),Zt(j),T=T.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Qe,T,void 0,(T.current.flags&128)===128)}catch{}if(V!==null){T=lt.T,X=yt.p,yt.p=2,lt.T=null;try{for(var J=x.onRecoverableError,ft=0;ft<V.length;ft++){var vt=V[ft];J(vt.value,{componentStack:vt.stack})}}finally{lt.T=T,yt.p=X}}(Ma&3)!==0&&bl(),or(x),X=x.pendingLanes,(j&4194090)!==0&&(X&42)!==0?x===Gu?Co++:(Co=0,Gu=x):Co=0,wo(0)}}function Af(x,T){(x.pooledCacheLanes&=T)===0&&(T=x.pooledCache,T!=null&&(x.pooledCache=null,ro(T)))}function bl(x){return wf(),Rf(),Tf(),Pf()}function Pf(){if(Fn!==5)return!1;var x=as,T=Hu;Hu=0;var j=Zt(Ma),V=lt.T,X=yt.p;try{yt.p=32>j?32:j,lt.T=null,j=Uu,Uu=null;var J=as,ft=Ma;if(Fn=0,Pa=as=null,Ma=0,(Le&6)!==0)throw Error(r(331));var vt=Le;if(Le|=4,df(J.current),cf(J,J.current,ft,j),Le=vt,wo(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Qe,J)}catch{}return!0}finally{yt.p=X,lt.T=V,Af(x,T)}}function Mf(x,T,j){T=Oe(j,T),T=ku(x.stateNode,T,2),x=Wr(x,T,2),x!==null&&(Wn(x,2),or(x))}function Ye(x,T,j){if(x.tag===3)Mf(x,x,j);else for(;T!==null;){if(T.tag===3){Mf(T,x,j);break}else if(T.tag===1){var V=T.stateNode;if(typeof T.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(ss===null||!ss.has(V))){x=Oe(j,x),j=Ih(2),V=Wr(T,j,2),V!==null&&(Dh(j,V,T,x),Wn(V,2),or(V));break}}T=T.return}}function Wu(x,T,j){var V=x.pingCache;if(V===null){V=x.pingCache=new Vd;var X=new Set;V.set(T,X)}else X=V.get(T),X===void 0&&(X=new Set,V.set(T,X));X.has(j)||(Vu=!0,X.add(j),x=Ud.bind(null,x,T,j),T.then(x,x))}function Ud(x,T,j){var V=x.pingCache;V!==null&&V.delete(T),x.pingedLanes|=x.suspendedLanes&j,x.warmLanes&=~j,Ke===x&&(Me&j)===j&&(cn===4||cn===3&&(Me&62914560)===Me&&300>Xe()-qu?(Le&2)===0&&Na(x,0):zu|=j,Aa===Me&&(Aa=0)),or(x)}function Nf(x,T){T===0&&(T=Rn()),x=br(x,T),x!==null&&(Wn(x,T),or(x))}function Gd(x){var T=x.memoizedState,j=0;T!==null&&(j=T.retryLane),Nf(x,j)}function Yd(x,T){var j=0;switch(x.tag){case 13:var V=x.stateNode,X=x.memoizedState;X!==null&&(j=X.retryLane);break;case 19:V=x.stateNode;break;case 22:V=x.stateNode._retryCache;break;default:throw Error(r(314))}V!==null&&V.delete(T),Nf(x,j)}function Xd(x,T){return ge(x,T)}var _l=null,Ia=null,Qu=!1,El=!1,Zu=!1,Ks=0;function or(x){x!==Ia&&x.next===null&&(Ia===null?_l=Ia=x:Ia=Ia.next=x),El=!0,Qu||(Qu=!0,Wd())}function wo(x,T){if(!Zu&&El){Zu=!0;do for(var j=!1,V=_l;V!==null;){if(x!==0){var X=V.pendingLanes;if(X===0)var J=0;else{var ft=V.suspendedLanes,vt=V.pingedLanes;J=(1<<31-Ze(42|x)+1)-1,J&=X&~(ft&~vt),J=J&201326741?J&201326741|1:J?J|2:0}J!==0&&(j=!0,Of(V,J))}else J=Me,J=Ir(V,V===Ke?J:0,V.cancelPendingCommit!==null||V.timeoutHandle!==-1),(J&3)===0||lr(V,J)||(j=!0,Of(V,J));V=V.next}while(j);Zu=!1}}function Kd(){jf()}function jf(){El=Qu=!1;var x=0;Ks!==0&&(sp()&&(x=Ks),Ks=0);for(var T=Xe(),j=null,V=_l;V!==null;){var X=V.next,J=If(V,T);J===0?(V.next=null,j===null?_l=X:j.next=X,X===null&&(Ia=j)):(j=V,(x!==0||(J&3)!==0)&&(El=!0)),V=X}wo(x)}function If(x,T){for(var j=x.suspendedLanes,V=x.pingedLanes,X=x.expirationTimes,J=x.pendingLanes&-62914561;0<J;){var ft=31-Ze(J),vt=1<<ft,Rt=X[ft];Rt===-1?((vt&j)===0||(vt&V)!==0)&&(X[ft]=ps(vt,T)):Rt<=T&&(x.expiredLanes|=vt),J&=~vt}if(T=Ke,j=Me,j=Ir(x,x===T?j:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),V=x.callbackNode,j===0||x===T&&(Fe===2||Fe===9)||x.cancelPendingCommit!==null)return V!==null&&V!==null&&ee(V),x.callbackNode=null,x.callbackPriority=0;if((j&3)===0||lr(x,j)){if(T=j&-j,T===x.callbackPriority)return T;switch(V!==null&&ee(V),Zt(j)){case 2:case 8:j=jn;break;case 32:j=We;break;case 268435456:j=Cn;break;default:j=We}return V=Df.bind(null,x),j=ge(j,V),x.callbackPriority=T,x.callbackNode=j,T}return V!==null&&V!==null&&ee(V),x.callbackPriority=2,x.callbackNode=null,2}function Df(x,T){if(Fn!==0&&Fn!==5)return x.callbackNode=null,x.callbackPriority=0,null;var j=x.callbackNode;if(bl()&&x.callbackNode!==j)return null;var V=Me;return V=Ir(x,x===Ke?V:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),V===0?null:(yf(x,V,T),If(x,Xe()),x.callbackNode!=null&&x.callbackNode===j?Df.bind(null,x):null)}function Of(x,T){if(bl())return null;yf(x,T,!0)}function Wd(){lp(function(){(Le&6)!==0?ge(Wt,Kd):jf()})}function Ju(){return Ks===0&&(Ks=_n()),Ks}function Lf(x){return x==null||typeof x=="symbol"||typeof x=="boolean"?null:typeof x=="function"?x:ai(""+x)}function Ff(x,T){var j=T.ownerDocument.createElement("input");return j.name=T.name,j.value=T.value,x.id&&j.setAttribute("form",x.id),T.parentNode.insertBefore(j,T),x=new FormData(x),j.parentNode.removeChild(j),x}function Qd(x,T,j,V,X){if(T==="submit"&&j&&j.stateNode===X){var J=Lf((X[gn]||null).action),ft=V.submitter;ft&&(T=(T=ft[gn]||null)?Lf(T.formAction):ft.getAttribute("formAction"),T!==null&&(J=T,ft=null));var vt=new gr("action","action",null,V,X);x.push({event:vt,listeners:[{instance:null,listener:function(){if(V.defaultPrevented){if(Ks!==0){var Rt=ft?Ff(X,ft):new FormData(X);xu(j,{pending:!0,data:Rt,method:X.method,action:J},null,Rt)}}else typeof J=="function"&&(vt.preventDefault(),Rt=ft?Ff(X,ft):new FormData(X),xu(j,{pending:!0,data:Rt,method:X.method,action:J},J,Rt))},currentTarget:X}]})}}for(var tc=0;tc<Ee.length;tc++){var ec=Ee[tc],Zd=ec.toLowerCase(),Jd=ec[0].toUpperCase()+ec.slice(1);Se(Zd,"on"+Jd)}Se(Et,"onAnimationEnd"),Se(It,"onAnimationIteration"),Se(Lt,"onAnimationStart"),Se("dblclick","onDoubleClick"),Se("focusin","onFocus"),Se("focusout","onBlur"),Se(Kt,"onTransitionRun"),Se(te,"onTransitionStart"),Se(re,"onTransitionCancel"),Se(le,"onTransitionEnd"),Ve("onMouseEnter",["mouseout","mouseover"]),Ve("onMouseLeave",["mouseout","mouseover"]),Ve("onPointerEnter",["pointerout","pointerover"]),Ve("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function Bf(x,T){T=(T&4)!==0;for(var j=0;j<x.length;j++){var V=x[j],X=V.event;V=V.listeners;t:{var J=void 0;if(T)for(var ft=V.length-1;0<=ft;ft--){var vt=V[ft],Rt=vt.instance,Bt=vt.currentTarget;if(vt=vt.listener,Rt!==J&&X.isPropagationStopped())break t;J=vt,X.currentTarget=Bt;try{J(X)}catch(Gt){ul(Gt)}X.currentTarget=null,J=Rt}else for(ft=0;ft<V.length;ft++){if(vt=V[ft],Rt=vt.instance,Bt=vt.currentTarget,vt=vt.listener,Rt!==J&&X.isPropagationStopped())break t;J=vt,X.currentTarget=Bt;try{J(X)}catch(Gt){ul(Gt)}X.currentTarget=null,J=Rt}}}}function Ae(x,T){var j=T[fi];j===void 0&&(j=T[fi]=new Set);var V=x+"__bubble";j.has(V)||(Vf(T,x,2,!1),j.add(V))}function nc(x,T,j){var V=0;T&&(V|=4),Vf(j,x,V,T)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function ic(x){if(!x[Sl]){x[Sl]=!0,qi.forEach(function(j){j!=="selectionchange"&&(tp.has(j)||nc(j,!1,x),nc(j,!0,x))});var T=x.nodeType===9?x:x.ownerDocument;T===null||T[Sl]||(T[Sl]=!0,nc("selectionchange",!1,T))}}function Vf(x,T,j,V){switch(hd(T)){case 2:var X=Ap;break;case 8:X=Pp;break;default:X=yc}j=X.bind(null,T,j,x),X=void 0,!ks||T!=="touchstart"&&T!=="touchmove"&&T!=="wheel"||(X=!0),V?X!==void 0?x.addEventListener(T,j,{capture:!0,passive:X}):x.addEventListener(T,j,!0):X!==void 0?x.addEventListener(T,j,{passive:X}):x.addEventListener(T,j,!1)}function rc(x,T,j,V,X){var J=V;if((T&1)===0&&(T&2)===0&&V!==null)t:for(;;){if(V===null)return;var ft=V.tag;if(ft===3||ft===4){var vt=V.stateNode.containerInfo;if(vt===X)break;if(ft===4)for(ft=V.return;ft!==null;){var Rt=ft.tag;if((Rt===3||Rt===4)&&ft.stateNode.containerInfo===X)return;ft=ft.return}for(;vt!==null;){if(ft=nn(vt),ft===null)return;if(Rt=ft.tag,Rt===5||Rt===6||Rt===26||Rt===27){V=J=ft;continue t}vt=vt.parentNode}}V=V.return}ra(function(){var Bt=J,Gt=Xi(j),Xt=[];t:{var zt=Re.get(x);if(zt!==void 0){var $t=gr,ye=x;switch(x){case"keypress":if(Ci(j)===0)break t;case"keydown":case"keyup":$t=Dn;break;case"focusin":ye="focus",$t=$r;break;case"focusout":ye="blur",$t=$r;break;case"beforeblur":case"afterblur":$t=$r;break;case"click":if(j.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=$a;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=Ts;break;case Et:case It:case Lt:$t=qa;break;case le:$t=et;break;case"scroll":case"scrollend":$t=za;break;case"wheel":$t=bt;break;case"copy":case"cut":case"paste":$t=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=rn;break;case"toggle":case"beforetoggle":$t=qt}var he=(T&4)!==0,He=!he&&(x==="scroll"||x==="scrollend"),Ot=he?zt!==null?zt+"Capture":null:zt;he=[];for(var Nt=Bt,Ft;Nt!==null;){var Yt=Nt;if(Ft=Yt.stateNode,Yt=Yt.tag,Yt!==5&&Yt!==26&&Yt!==27||Ft===null||Ot===null||(Yt=Ki(Nt,Ot),Yt!=null&&he.push(To(Nt,Yt,Ft))),He)break;Nt=Nt.return}0<he.length&&(zt=new $t(zt,ye,null,j,Gt),Xt.push({event:zt,listeners:he}))}}if((T&7)===0){t:{if(zt=x==="mouseover"||x==="pointerover",$t=x==="mouseout"||x==="pointerout",zt&&j!==Es&&(ye=j.relatedTarget||j.fromElement)&&(nn(ye)||ye[Si]))break t;if(($t||zt)&&(zt=Gt.window===Gt?Gt:(zt=Gt.ownerDocument)?zt.defaultView||zt.parentWindow:window,$t?(ye=j.relatedTarget||j.toElement,$t=Bt,ye=ye?nn(ye):null,ye!==null&&(He=a(ye),he=ye.tag,ye!==He||he!==5&&he!==27&&he!==6)&&(ye=null)):($t=null,ye=Bt),$t!==ye)){if(he=Yn,Yt="onMouseLeave",Ot="onMouseEnter",Nt="mouse",(x==="pointerout"||x==="pointerover")&&(he=rn,Yt="onPointerLeave",Ot="onPointerEnter",Nt="pointer"),He=$t==null?zt:di($t),Ft=ye==null?zt:di(ye),zt=new he(Yt,Nt+"leave",$t,j,Gt),zt.target=He,zt.relatedTarget=Ft,Yt=null,nn(Gt)===Bt&&(he=new he(Ot,Nt+"enter",ye,j,Gt),he.target=Ft,he.relatedTarget=He,Yt=he),He=Yt,$t&&ye)e:{for(he=$t,Ot=ye,Nt=0,Ft=he;Ft;Ft=Da(Ft))Nt++;for(Ft=0,Yt=Ot;Yt;Yt=Da(Yt))Ft++;for(;0<Nt-Ft;)he=Da(he),Nt--;for(;0<Ft-Nt;)Ot=Da(Ot),Ft--;for(;Nt--;){if(he===Ot||Ot!==null&&he===Ot.alternate)break e;he=Da(he),Ot=Da(Ot)}he=null}else he=null;$t!==null&&zf(Xt,zt,$t,he,!1),ye!==null&&He!==null&&zf(Xt,He,ye,he,!0)}}t:{if(zt=Bt?di(Bt):window,$t=zt.nodeName&&zt.nodeName.toLowerCase(),$t==="select"||$t==="input"&&zt.type==="file")var se=qr;else if(ca(zt))if(Ms)se=Qa;else{se=Bl;var Ce=Fo}else $t=zt.nodeName,!$t||$t.toLowerCase()!=="input"||zt.type!=="checkbox"&&zt.type!=="radio"?Bt&&mi(Bt.elementType)&&(se=qr):se=Bo;if(se&&(se=se(x,Bt))){Ps(Xt,se,j,Gt);break t}Ce&&Ce(x,zt,Bt),x==="focusout"&&Bt&&zt.type==="number"&&Bt.memoizedProps.value!=null&&xs(zt,"number",zt.value)}switch(Ce=Bt?di(Bt):window,x){case"focusin":(ca(Ce)||Ce.contentEditable==="true")&&(On=Ce,L=Bt,R=null);break;case"focusout":R=L=On=null;break;case"mousedown":A=!0;break;case"contextmenu":case"mouseup":case"dragend":A=!1,O(Xt,j,Gt);break;case"selectionchange":if(li)break;case"keydown":case"keyup":O(Xt,j,Gt)}var ue;if(ne)t:{switch(x){case"compositionstart":var pe="onCompositionStart";break t;case"compositionend":pe="onCompositionEnd";break t;case"compositionupdate":pe="onCompositionUpdate";break t}pe=void 0}else Ji?oa(x,j)&&(pe="onCompositionEnd"):x==="keydown"&&j.keyCode===229&&(pe="onCompositionStart");pe&&(Pe&&j.locale!=="ko"&&(Ji||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ji&&(ue=Cs()):(be=Gt,Gn="value"in be?be.value:be.textContent,Ji=!0)),Ce=kl(Bt,pe),0<Ce.length&&(pe=new aa(pe,x,null,j,Gt),Xt.push({event:pe,listeners:Ce}),ue?pe.data=ue:(ue=As(j),ue!==null&&(pe.data=ue)))),(ue=we?la(x,j):Wa(x,j))&&(pe=kl(Bt,"onBeforeInput"),0<pe.length&&(Ce=new aa("onBeforeInput","beforeinput",null,j,Gt),Xt.push({event:Ce,listeners:pe}),Ce.data=ue)),Qd(Xt,x,Bt,j,Gt)}Bf(Xt,T)})}function To(x,T,j){return{instance:x,listener:T,currentTarget:j}}function kl(x,T){for(var j=T+"Capture",V=[];x!==null;){var X=x,J=X.stateNode;if(X=X.tag,X!==5&&X!==26&&X!==27||J===null||(X=Ki(x,j),X!=null&&V.unshift(To(x,X,J)),X=Ki(x,T),X!=null&&V.push(To(x,X,J))),x.tag===3)return V;x=x.return}return[]}function Da(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5&&x.tag!==27);return x||null}function zf(x,T,j,V,X){for(var J=T._reactName,ft=[];j!==null&&j!==V;){var vt=j,Rt=vt.alternate,Bt=vt.stateNode;if(vt=vt.tag,Rt!==null&&Rt===V)break;vt!==5&&vt!==26&&vt!==27||Bt===null||(Rt=Bt,X?(Bt=Ki(j,J),Bt!=null&&ft.unshift(To(j,Bt,Rt))):X||(Bt=Ki(j,J),Bt!=null&&ft.push(To(j,Bt,Rt)))),j=j.return}ft.length!==0&&x.push({event:T,listeners:ft})}var ep=/\r\n?/g,np=/\u0000|\uFFFD/g;function $f(x){return(typeof x=="string"?x:""+x).replace(ep,`
`).replace(np,"")}function qf(x,T){return T=$f(T),$f(x)===T}function Cl(){}function qe(x,T,j,V,X,J){switch(j){case"children":typeof V=="string"?T==="body"||T==="textarea"&&V===""||si(x,V):(typeof V=="number"||typeof V=="bigint")&&T!=="body"&&si(x,""+V);break;case"className":Ui(x,"class",V);break;case"tabIndex":Ui(x,"tabindex",V);break;case"dir":case"role":case"viewBox":case"width":case"height":Ui(x,j,V);break;case"style":pr(x,V,J);break;case"data":if(T!=="object"){Ui(x,"data",V);break}case"src":case"href":if(V===""&&(T!=="a"||j!=="href")){x.removeAttribute(j);break}if(V==null||typeof V=="function"||typeof V=="symbol"||typeof V=="boolean"){x.removeAttribute(j);break}V=ai(""+V),x.setAttribute(j,V);break;case"action":case"formAction":if(typeof V=="function"){x.setAttribute(j,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof J=="function"&&(j==="formAction"?(T!=="input"&&qe(x,T,"name",X.name,X,null),qe(x,T,"formEncType",X.formEncType,X,null),qe(x,T,"formMethod",X.formMethod,X,null),qe(x,T,"formTarget",X.formTarget,X,null)):(qe(x,T,"encType",X.encType,X,null),qe(x,T,"method",X.method,X,null),qe(x,T,"target",X.target,X,null)));if(V==null||typeof V=="symbol"||typeof V=="boolean"){x.removeAttribute(j);break}V=ai(""+V),x.setAttribute(j,V);break;case"onClick":V!=null&&(x.onclick=Cl);break;case"onScroll":V!=null&&Ae("scroll",x);break;case"onScrollEnd":V!=null&&Ae("scrollend",x);break;case"dangerouslySetInnerHTML":if(V!=null){if(typeof V!="object"||!("__html"in V))throw Error(r(61));if(j=V.__html,j!=null){if(X.children!=null)throw Error(r(60));x.innerHTML=j}}break;case"multiple":x.multiple=V&&typeof V!="function"&&typeof V!="symbol";break;case"muted":x.muted=V&&typeof V!="function"&&typeof V!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(V==null||typeof V=="function"||typeof V=="boolean"||typeof V=="symbol"){x.removeAttribute("xlink:href");break}j=ai(""+V),x.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",j);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":V!=null&&typeof V!="function"&&typeof V!="symbol"?x.setAttribute(j,""+V):x.removeAttribute(j);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":V&&typeof V!="function"&&typeof V!="symbol"?x.setAttribute(j,""):x.removeAttribute(j);break;case"capture":case"download":V===!0?x.setAttribute(j,""):V!==!1&&V!=null&&typeof V!="function"&&typeof V!="symbol"?x.setAttribute(j,V):x.removeAttribute(j);break;case"cols":case"rows":case"size":case"span":V!=null&&typeof V!="function"&&typeof V!="symbol"&&!isNaN(V)&&1<=V?x.setAttribute(j,V):x.removeAttribute(j);break;case"rowSpan":case"start":V==null||typeof V=="function"||typeof V=="symbol"||isNaN(V)?x.removeAttribute(j):x.setAttribute(j,V);break;case"popover":Ae("beforetoggle",x),Ae("toggle",x),Hi(x,"popover",V);break;case"xlinkActuate":ii(x,"http://www.w3.org/1999/xlink","xlink:actuate",V);break;case"xlinkArcrole":ii(x,"http://www.w3.org/1999/xlink","xlink:arcrole",V);break;case"xlinkRole":ii(x,"http://www.w3.org/1999/xlink","xlink:role",V);break;case"xlinkShow":ii(x,"http://www.w3.org/1999/xlink","xlink:show",V);break;case"xlinkTitle":ii(x,"http://www.w3.org/1999/xlink","xlink:title",V);break;case"xlinkType":ii(x,"http://www.w3.org/1999/xlink","xlink:type",V);break;case"xmlBase":ii(x,"http://www.w3.org/XML/1998/namespace","xml:base",V);break;case"xmlLang":ii(x,"http://www.w3.org/XML/1998/namespace","xml:lang",V);break;case"xmlSpace":ii(x,"http://www.w3.org/XML/1998/namespace","xml:space",V);break;case"is":Hi(x,"is",V);break;case"innerText":case"textContent":break;default:(!(2<j.length)||j[0]!=="o"&&j[0]!=="O"||j[1]!=="n"&&j[1]!=="N")&&(j=_s.get(j)||j,Hi(x,j,V))}}function sc(x,T,j,V,X,J){switch(j){case"style":pr(x,V,J);break;case"dangerouslySetInnerHTML":if(V!=null){if(typeof V!="object"||!("__html"in V))throw Error(r(61));if(j=V.__html,j!=null){if(X.children!=null)throw Error(r(60));x.innerHTML=j}}break;case"children":typeof V=="string"?si(x,V):(typeof V=="number"||typeof V=="bigint")&&si(x,""+V);break;case"onScroll":V!=null&&Ae("scroll",x);break;case"onScrollEnd":V!=null&&Ae("scrollend",x);break;case"onClick":V!=null&&(x.onclick=Cl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ji.hasOwnProperty(j))t:{if(j[0]==="o"&&j[1]==="n"&&(X=j.endsWith("Capture"),T=j.slice(2,X?j.length-7:void 0),J=x[gn]||null,J=J!=null?J[j]:null,typeof J=="function"&&x.removeEventListener(T,J,X),typeof V=="function")){typeof J!="function"&&J!==null&&(j in x?x[j]=null:x.hasAttribute(j)&&x.removeAttribute(j)),x.addEventListener(T,V,X);break t}j in x?x[j]=V:V===!0?x.setAttribute(j,""):Hi(x,j,V)}}}function Bn(x,T,j){switch(T){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",x),Ae("load",x);var V=!1,X=!1,J;for(J in j)if(j.hasOwnProperty(J)){var ft=j[J];if(ft!=null)switch(J){case"src":V=!0;break;case"srcSet":X=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,T));default:qe(x,T,J,ft,j,null)}}X&&qe(x,T,"srcSet",j.srcSet,j,null),V&&qe(x,T,"src",j.src,j,null);return;case"input":Ae("invalid",x);var vt=J=ft=X=null,Rt=null,Bt=null;for(V in j)if(j.hasOwnProperty(V)){var Gt=j[V];if(Gt!=null)switch(V){case"name":X=Gt;break;case"type":ft=Gt;break;case"checked":Rt=Gt;break;case"defaultChecked":Bt=Gt;break;case"value":J=Gt;break;case"defaultValue":vt=Gt;break;case"children":case"dangerouslySetInnerHTML":if(Gt!=null)throw Error(r(137,T));break;default:qe(x,T,V,Gt,j,null)}}Gi(x,J,vt,Rt,Bt,ft,X,!1),hr(x);return;case"select":Ae("invalid",x),V=ft=J=null;for(X in j)if(j.hasOwnProperty(X)&&(vt=j[X],vt!=null))switch(X){case"value":J=vt;break;case"defaultValue":ft=vt;break;case"multiple":V=vt;default:qe(x,T,X,vt,j,null)}T=J,j=ft,x.multiple=!!V,T!=null?Yi(x,!!V,T,!1):j!=null&&Yi(x,!!V,j,!0);return;case"textarea":Ae("invalid",x),J=X=V=null;for(ft in j)if(j.hasOwnProperty(ft)&&(vt=j[ft],vt!=null))switch(ft){case"value":V=vt;break;case"defaultValue":X=vt;break;case"children":J=vt;break;case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(91));break;default:qe(x,T,ft,vt,j,null)}bs(x,V,X,J),hr(x);return;case"option":for(Rt in j)if(j.hasOwnProperty(Rt)&&(V=j[Rt],V!=null))switch(Rt){case"selected":x.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:qe(x,T,Rt,V,j,null)}return;case"dialog":Ae("beforetoggle",x),Ae("toggle",x),Ae("cancel",x),Ae("close",x);break;case"iframe":case"object":Ae("load",x);break;case"video":case"audio":for(V=0;V<Ro.length;V++)Ae(Ro[V],x);break;case"image":Ae("error",x),Ae("load",x);break;case"details":Ae("toggle",x);break;case"embed":case"source":case"link":Ae("error",x),Ae("load",x);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Bt in j)if(j.hasOwnProperty(Bt)&&(V=j[Bt],V!=null))switch(Bt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,T));default:qe(x,T,Bt,V,j,null)}return;default:if(mi(T)){for(Gt in j)j.hasOwnProperty(Gt)&&(V=j[Gt],V!==void 0&&sc(x,T,Gt,V,j,void 0));return}}for(vt in j)j.hasOwnProperty(vt)&&(V=j[vt],V!=null&&qe(x,T,vt,V,j,null))}function rp(x,T,j,V){switch(T){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var X=null,J=null,ft=null,vt=null,Rt=null,Bt=null,Gt=null;for($t in j){var Xt=j[$t];if(j.hasOwnProperty($t)&&Xt!=null)switch($t){case"checked":break;case"value":break;case"defaultValue":Rt=Xt;default:V.hasOwnProperty($t)||qe(x,T,$t,null,V,Xt)}}for(var zt in V){var $t=V[zt];if(Xt=j[zt],V.hasOwnProperty(zt)&&($t!=null||Xt!=null))switch(zt){case"type":J=$t;break;case"name":X=$t;break;case"checked":Bt=$t;break;case"defaultChecked":Gt=$t;break;case"value":ft=$t;break;case"defaultValue":vt=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(r(137,T));break;default:$t!==Xt&&qe(x,T,zt,$t,V,Xt)}}ki(x,ft,vt,Rt,Bt,Gt,J,X);return;case"select":$t=ft=vt=zt=null;for(J in j)if(Rt=j[J],j.hasOwnProperty(J)&&Rt!=null)switch(J){case"value":break;case"multiple":$t=Rt;default:V.hasOwnProperty(J)||qe(x,T,J,null,V,Rt)}for(X in V)if(J=V[X],Rt=j[X],V.hasOwnProperty(X)&&(J!=null||Rt!=null))switch(X){case"value":zt=J;break;case"defaultValue":vt=J;break;case"multiple":ft=J;default:J!==Rt&&qe(x,T,X,J,V,Rt)}T=vt,j=ft,V=$t,zt!=null?Yi(x,!!j,zt,!1):!!V!=!!j&&(T!=null?Yi(x,!!j,T,!0):Yi(x,!!j,j?[]:"",!1));return;case"textarea":$t=zt=null;for(vt in j)if(X=j[vt],j.hasOwnProperty(vt)&&X!=null&&!V.hasOwnProperty(vt))switch(vt){case"value":break;case"children":break;default:qe(x,T,vt,null,V,X)}for(ft in V)if(X=V[ft],J=j[ft],V.hasOwnProperty(ft)&&(X!=null||J!=null))switch(ft){case"value":zt=X;break;case"defaultValue":$t=X;break;case"children":break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:X!==J&&qe(x,T,ft,X,V,J)}ea(x,zt,$t);return;case"option":for(var ye in j)if(zt=j[ye],j.hasOwnProperty(ye)&&zt!=null&&!V.hasOwnProperty(ye))switch(ye){case"selected":x.selected=!1;break;default:qe(x,T,ye,null,V,zt)}for(Rt in V)if(zt=V[Rt],$t=j[Rt],V.hasOwnProperty(Rt)&&zt!==$t&&(zt!=null||$t!=null))switch(Rt){case"selected":x.selected=zt&&typeof zt!="function"&&typeof zt!="symbol";break;default:qe(x,T,Rt,zt,V,$t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in j)zt=j[he],j.hasOwnProperty(he)&&zt!=null&&!V.hasOwnProperty(he)&&qe(x,T,he,null,V,zt);for(Bt in V)if(zt=V[Bt],$t=j[Bt],V.hasOwnProperty(Bt)&&zt!==$t&&(zt!=null||$t!=null))switch(Bt){case"children":case"dangerouslySetInnerHTML":if(zt!=null)throw Error(r(137,T));break;default:qe(x,T,Bt,zt,V,$t)}return;default:if(mi(T)){for(var He in j)zt=j[He],j.hasOwnProperty(He)&&zt!==void 0&&!V.hasOwnProperty(He)&&sc(x,T,He,void 0,V,zt);for(Gt in V)zt=V[Gt],$t=j[Gt],!V.hasOwnProperty(Gt)||zt===$t||zt===void 0&&$t===void 0||sc(x,T,Gt,zt,V,$t);return}}for(var Ot in j)zt=j[Ot],j.hasOwnProperty(Ot)&&zt!=null&&!V.hasOwnProperty(Ot)&&qe(x,T,Ot,null,V,zt);for(Xt in V)zt=V[Xt],$t=j[Xt],!V.hasOwnProperty(Xt)||zt===$t||zt==null&&$t==null||qe(x,T,Xt,zt,V,$t)}var ac=null,oc=null;function wl(x){return x.nodeType===9?x:x.ownerDocument}function Hf(x){switch(x){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uf(x,T){if(x===0)switch(T){case"svg":return 1;case"math":return 2;default:return 0}return x===1&&T==="foreignObject"?0:x}function lc(x,T){return x==="textarea"||x==="noscript"||typeof T.children=="string"||typeof T.children=="number"||typeof T.children=="bigint"||typeof T.dangerouslySetInnerHTML=="object"&&T.dangerouslySetInnerHTML!==null&&T.dangerouslySetInnerHTML.__html!=null}var uc=null;function sp(){var x=window.event;return x&&x.type==="popstate"?x===uc?!1:(uc=x,!0):(uc=null,!1)}var Gf=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,Yf=typeof Promise=="function"?Promise:void 0,lp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yf<"u"?function(x){return Yf.resolve(null).then(x).catch(up)}:Gf;function up(x){setTimeout(function(){throw x})}function ls(x){return x==="head"}function Xf(x,T){var j=T,V=0,X=0;do{var J=j.nextSibling;if(x.removeChild(j),J&&J.nodeType===8)if(j=J.data,j==="/$"){if(0<V&&8>V){j=V;var ft=x.ownerDocument;if(j&1&&Ao(ft.documentElement),j&2&&Ao(ft.body),j&4)for(j=ft.head,Ao(j),ft=j.firstChild;ft;){var vt=ft.nextSibling,Rt=ft.nodeName;ft[$i]||Rt==="SCRIPT"||Rt==="STYLE"||Rt==="LINK"&&ft.rel.toLowerCase()==="stylesheet"||j.removeChild(ft),ft=vt}}if(X===0){x.removeChild(J),Lo(T);return}X--}else j==="$"||j==="$?"||j==="$!"?X++:V=j.charCodeAt(0)-48;else V=0;j=J}while(j);Lo(T)}function cc(x){var T=x.firstChild;for(T&&T.nodeType===10&&(T=T.nextSibling);T;){var j=T;switch(T=T.nextSibling,j.nodeName){case"HTML":case"HEAD":case"BODY":cc(j),gs(j);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(j.rel.toLowerCase()==="stylesheet")continue}x.removeChild(j)}}function cp(x,T,j,V){for(;x.nodeType===1;){var X=j;if(x.nodeName.toLowerCase()!==T.toLowerCase()){if(!V&&(x.nodeName!=="INPUT"||x.type!=="hidden"))break}else if(V){if(!x[$i])switch(T){case"meta":if(!x.hasAttribute("itemprop"))break;return x;case"link":if(J=x.getAttribute("rel"),J==="stylesheet"&&x.hasAttribute("data-precedence"))break;if(J!==X.rel||x.getAttribute("href")!==(X.href==null||X.href===""?null:X.href)||x.getAttribute("crossorigin")!==(X.crossOrigin==null?null:X.crossOrigin)||x.getAttribute("title")!==(X.title==null?null:X.title))break;return x;case"style":if(x.hasAttribute("data-precedence"))break;return x;case"script":if(J=x.getAttribute("src"),(J!==(X.src==null?null:X.src)||x.getAttribute("type")!==(X.type==null?null:X.type)||x.getAttribute("crossorigin")!==(X.crossOrigin==null?null:X.crossOrigin))&&J&&x.hasAttribute("async")&&!x.hasAttribute("itemprop"))break;return x;default:return x}}else if(T==="input"&&x.type==="hidden"){var J=X.name==null?null:""+X.name;if(X.type==="hidden"&&x.getAttribute("name")===J)return x}else return x;if(x=Vi(x.nextSibling),x===null)break}return null}function hp(x,T,j){if(T==="")return null;for(;x.nodeType!==3;)if((x.nodeType!==1||x.nodeName!=="INPUT"||x.type!=="hidden")&&!j||(x=Vi(x.nextSibling),x===null))return null;return x}function hc(x){return x.data==="$!"||x.data==="$?"&&x.ownerDocument.readyState==="complete"}function fp(x,T){var j=x.ownerDocument;if(x.data!=="$?"||j.readyState==="complete")T();else{var V=function(){T(),j.removeEventListener("DOMContentLoaded",V)};j.addEventListener("DOMContentLoaded",V),x._reactRetry=V}}function Vi(x){for(;x!=null;x=x.nextSibling){var T=x.nodeType;if(T===1||T===3)break;if(T===8){if(T=x.data,T==="$"||T==="$!"||T==="$?"||T==="F!"||T==="F")break;if(T==="/$")return null}}return x}var fc=null;function Kf(x){x=x.previousSibling;for(var T=0;x;){if(x.nodeType===8){var j=x.data;if(j==="$"||j==="$!"||j==="$?"){if(T===0)return x;T--}else j==="/$"&&T++}x=x.previousSibling}return null}function Wf(x,T,j){switch(T=wl(j),x){case"html":if(x=T.documentElement,!x)throw Error(r(452));return x;case"head":if(x=T.head,!x)throw Error(r(453));return x;case"body":if(x=T.body,!x)throw Error(r(454));return x;default:throw Error(r(451))}}function Ao(x){for(var T=x.attributes;T.length;)x.removeAttributeNode(T[0]);gs(x)}var Ni=new Map,Qf=new Set;function Rl(x){return typeof x.getRootNode=="function"?x.getRootNode():x.nodeType===9?x:x.ownerDocument}var jr=yt.d;yt.d={f:dp,r:pp,D:mp,C:gp,L:yp,m:vp,X:bp,S:xp,M:_p};function dp(){var x=jr.f(),T=vl();return x||T}function pp(x){var T=Tn(x);T!==null&&T.tag===5&&T.type==="form"?mh(T):jr.r(x)}var Oa=typeof document>"u"?null:document;function Zf(x,T,j){var V=Oa;if(V&&typeof T=="string"&&T){var X=hn(T);X='link[rel="'+x+'"][href="'+X+'"]',typeof j=="string"&&(X+='[crossorigin="'+j+'"]'),Qf.has(X)||(Qf.add(X),x={rel:x,crossOrigin:j,href:T},V.querySelector(X)===null&&(T=V.createElement("link"),Bn(T,"link",x),Be(T),V.head.appendChild(T)))}}function mp(x){jr.D(x),Zf("dns-prefetch",x,null)}function gp(x,T){jr.C(x,T),Zf("preconnect",x,T)}function yp(x,T,j){jr.L(x,T,j);var V=Oa;if(V&&x&&T){var X='link[rel="preload"][as="'+hn(T)+'"]';T==="image"&&j&&j.imageSrcSet?(X+='[imagesrcset="'+hn(j.imageSrcSet)+'"]',typeof j.imageSizes=="string"&&(X+='[imagesizes="'+hn(j.imageSizes)+'"]')):X+='[href="'+hn(x)+'"]';var J=X;switch(T){case"style":J=La(x);break;case"script":J=Fa(x)}Ni.has(J)||(x=F({rel:"preload",href:T==="image"&&j&&j.imageSrcSet?void 0:x,as:T},j),Ni.set(J,x),V.querySelector(X)!==null||T==="style"&&V.querySelector(Po(J))||T==="script"&&V.querySelector(Mo(J))||(T=V.createElement("link"),Bn(T,"link",x),Be(T),V.head.appendChild(T)))}}function vp(x,T){jr.m(x,T);var j=Oa;if(j&&x){var V=T&&typeof T.as=="string"?T.as:"script",X='link[rel="modulepreload"][as="'+hn(V)+'"][href="'+hn(x)+'"]',J=X;switch(V){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":J=Fa(x)}if(!Ni.has(J)&&(x=F({rel:"modulepreload",href:x},T),Ni.set(J,x),j.querySelector(X)===null)){switch(V){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(j.querySelector(Mo(J)))return}V=j.createElement("link"),Bn(V,"link",x),Be(V),j.head.appendChild(V)}}}function xp(x,T,j){jr.S(x,T,j);var V=Oa;if(V&&x){var X=$n(V).hoistableStyles,J=La(x);T=T||"default";var ft=X.get(J);if(!ft){var vt={loading:0,preload:null};if(ft=V.querySelector(Po(J)))vt.loading=5;else{x=F({rel:"stylesheet",href:x,"data-precedence":T},j),(j=Ni.get(J))&&dc(x,j);var Rt=ft=V.createElement("link");Be(Rt),Bn(Rt,"link",x),Rt._p=new Promise(function(Bt,Gt){Rt.onload=Bt,Rt.onerror=Gt}),Rt.addEventListener("load",function(){vt.loading|=1}),Rt.addEventListener("error",function(){vt.loading|=2}),vt.loading|=4,Tl(ft,T,V)}ft={type:"stylesheet",instance:ft,count:1,state:vt},X.set(J,ft)}}}function bp(x,T){jr.X(x,T);var j=Oa;if(j&&x){var V=$n(j).hoistableScripts,X=Fa(x),J=V.get(X);J||(J=j.querySelector(Mo(X)),J||(x=F({src:x,async:!0},T),(T=Ni.get(X))&&pc(x,T),J=j.createElement("script"),Be(J),Bn(J,"link",x),j.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},V.set(X,J))}}function _p(x,T){jr.M(x,T);var j=Oa;if(j&&x){var V=$n(j).hoistableScripts,X=Fa(x),J=V.get(X);J||(J=j.querySelector(Mo(X)),J||(x=F({src:x,async:!0,type:"module"},T),(T=Ni.get(X))&&pc(x,T),J=j.createElement("script"),Be(J),Bn(J,"link",x),j.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},V.set(X,J))}}function Jf(x,T,j,V){var X=(X=Ut.current)?Rl(X):null;if(!X)throw Error(r(446));switch(x){case"meta":case"title":return null;case"style":return typeof j.precedence=="string"&&typeof j.href=="string"?(T=La(j.href),j=$n(X).hoistableStyles,V=j.get(T),V||(V={type:"style",instance:null,count:0,state:null},j.set(T,V)),V):{type:"void",instance:null,count:0,state:null};case"link":if(j.rel==="stylesheet"&&typeof j.href=="string"&&typeof j.precedence=="string"){x=La(j.href);var J=$n(X).hoistableStyles,ft=J.get(x);if(ft||(X=X.ownerDocument||X,ft={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},J.set(x,ft),(J=X.querySelector(Po(x)))&&!J._p&&(ft.instance=J,ft.state.loading=5),Ni.has(x)||(j={rel:"preload",as:"style",href:j.href,crossOrigin:j.crossOrigin,integrity:j.integrity,media:j.media,hrefLang:j.hrefLang,referrerPolicy:j.referrerPolicy},Ni.set(x,j),J||Ep(X,x,j,ft.state))),T&&V===null)throw Error(r(528,""));return ft}if(T&&V!==null)throw Error(r(529,""));return null;case"script":return T=j.async,j=j.src,typeof j=="string"&&T&&typeof T!="function"&&typeof T!="symbol"?(T=Fa(j),j=$n(X).hoistableScripts,V=j.get(T),V||(V={type:"script",instance:null,count:0,state:null},j.set(T,V)),V):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,x))}}function La(x){return'href="'+hn(x)+'"'}function Po(x){return'link[rel="stylesheet"]['+x+"]"}function td(x){return F({},x,{"data-precedence":x.precedence,precedence:null})}function Ep(x,T,j,V){x.querySelector('link[rel="preload"][as="style"]['+T+"]")?V.loading=1:(T=x.createElement("link"),V.preload=T,T.addEventListener("load",function(){return V.loading|=1}),T.addEventListener("error",function(){return V.loading|=2}),Bn(T,"link",j),Be(T),x.head.appendChild(T))}function Fa(x){return'[src="'+hn(x)+'"]'}function Mo(x){return"script[async]"+x}function ed(x,T,j){if(T.count++,T.instance===null)switch(T.type){case"style":var V=x.querySelector('style[data-href~="'+hn(j.href)+'"]');if(V)return T.instance=V,Be(V),V;var X=F({},j,{"data-href":j.href,"data-precedence":j.precedence,href:null,precedence:null});return V=(x.ownerDocument||x).createElement("style"),Be(V),Bn(V,"style",X),Tl(V,j.precedence,x),T.instance=V;case"stylesheet":X=La(j.href);var J=x.querySelector(Po(X));if(J)return T.state.loading|=4,T.instance=J,Be(J),J;V=td(j),(X=Ni.get(X))&&dc(V,X),J=(x.ownerDocument||x).createElement("link"),Be(J);var ft=J;return ft._p=new Promise(function(vt,Rt){ft.onload=vt,ft.onerror=Rt}),Bn(J,"link",V),T.state.loading|=4,Tl(J,j.precedence,x),T.instance=J;case"script":return J=Fa(j.src),(X=x.querySelector(Mo(J)))?(T.instance=X,Be(X),X):(V=j,(X=Ni.get(J))&&(V=F({},j),pc(V,X)),x=x.ownerDocument||x,X=x.createElement("script"),Be(X),Bn(X,"link",V),x.head.appendChild(X),T.instance=X);case"void":return null;default:throw Error(r(443,T.type))}else T.type==="stylesheet"&&(T.state.loading&4)===0&&(V=T.instance,T.state.loading|=4,Tl(V,j.precedence,x));return T.instance}function Tl(x,T,j){for(var V=j.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),X=V.length?V[V.length-1]:null,J=X,ft=0;ft<V.length;ft++){var vt=V[ft];if(vt.dataset.precedence===T)J=vt;else if(J!==X)break}J?J.parentNode.insertBefore(x,J.nextSibling):(T=j.nodeType===9?j.head:j,T.insertBefore(x,T.firstChild))}function dc(x,T){x.crossOrigin==null&&(x.crossOrigin=T.crossOrigin),x.referrerPolicy==null&&(x.referrerPolicy=T.referrerPolicy),x.title==null&&(x.title=T.title)}function pc(x,T){x.crossOrigin==null&&(x.crossOrigin=T.crossOrigin),x.referrerPolicy==null&&(x.referrerPolicy=T.referrerPolicy),x.integrity==null&&(x.integrity=T.integrity)}var Al=null;function nd(x,T,j){if(Al===null){var V=new Map,X=Al=new Map;X.set(j,V)}else X=Al,V=X.get(j),V||(V=new Map,X.set(j,V));if(V.has(x))return V;for(V.set(x,null),j=j.getElementsByTagName(x),X=0;X<j.length;X++){var J=j[X];if(!(J[$i]||J[Je]||x==="link"&&J.getAttribute("rel")==="stylesheet")&&J.namespaceURI!=="http://www.w3.org/2000/svg"){var ft=J.getAttribute(T)||"";ft=x+ft;var vt=V.get(ft);vt?vt.push(J):V.set(ft,[J])}}return V}function rd(x,T,j){x=x.ownerDocument||x,x.head.insertBefore(j,T==="title"?x.querySelector("head > title"):null)}function Sp(x,T,j){if(j===1||T.itemProp!=null)return!1;switch(x){case"meta":case"title":return!0;case"style":if(typeof T.precedence!="string"||typeof T.href!="string"||T.href==="")break;return!0;case"link":if(typeof T.rel!="string"||typeof T.href!="string"||T.href===""||T.onLoad||T.onError)break;switch(T.rel){case"stylesheet":return x=T.disabled,typeof T.precedence=="string"&&x==null;default:return!0}case"script":if(T.async&&typeof T.async!="function"&&typeof T.async!="symbol"&&!T.onLoad&&!T.onError&&T.src&&typeof T.src=="string")return!0}return!1}function sd(x){return!(x.type==="stylesheet"&&(x.state.loading&3)===0)}var No=null;function kp(){}function Cp(x,T,j){if(No===null)throw Error(r(475));var V=No;if(T.type==="stylesheet"&&(typeof j.media!="string"||matchMedia(j.media).matches!==!1)&&(T.state.loading&4)===0){if(T.instance===null){var X=La(j.href),J=x.querySelector(Po(X));if(J){x=J._p,x!==null&&typeof x=="object"&&typeof x.then=="function"&&(V.count++,V=Pl.bind(V),x.then(V,V)),T.state.loading|=4,T.instance=J,Be(J);return}J=x.ownerDocument||x,j=td(j),(X=Ni.get(X))&&dc(j,X),J=J.createElement("link"),Be(J);var ft=J;ft._p=new Promise(function(vt,Rt){ft.onload=vt,ft.onerror=Rt}),Bn(J,"link",j),T.instance=J}V.stylesheets===null&&(V.stylesheets=new Map),V.stylesheets.set(T,x),(x=T.state.preload)&&(T.state.loading&3)===0&&(V.count++,T=Pl.bind(V),x.addEventListener("load",T),x.addEventListener("error",T))}}function wp(){if(No===null)throw Error(r(475));var x=No;return x.stylesheets&&x.count===0&&mc(x,x.stylesheets),0<x.count?function(T){var j=setTimeout(function(){if(x.stylesheets&&mc(x,x.stylesheets),x.unsuspend){var V=x.unsuspend;x.unsuspend=null,V()}},6e4);return x.unsuspend=T,function(){x.unsuspend=null,clearTimeout(j)}}:null}function Pl(){if(this.count--,this.count===0){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var x=this.unsuspend;this.unsuspend=null,x()}}}var Ml=null;function mc(x,T){x.stylesheets=null,x.unsuspend!==null&&(x.count++,Ml=new Map,T.forEach(Rp,x),Ml=null,Pl.call(x))}function Rp(x,T){if(!(T.state.loading&4)){var j=Ml.get(x);if(j)var V=j.get(null);else{j=new Map,Ml.set(x,j);for(var X=x.querySelectorAll("link[data-precedence],style[data-precedence]"),J=0;J<X.length;J++){var ft=X[J];(ft.nodeName==="LINK"||ft.getAttribute("media")!=="not all")&&(j.set(ft.dataset.precedence,ft),V=ft)}V&&j.set(null,V)}X=T.instance,ft=X.getAttribute("data-precedence"),J=j.get(ft)||V,J===V&&j.set(null,X),j.set(ft,X),this.count++,V=Pl.bind(this),X.addEventListener("load",V),X.addEventListener("error",V),J?J.parentNode.insertBefore(X,J.nextSibling):(x=x.nodeType===9?x.head:x,x.insertBefore(X,x.firstChild)),T.state.loading|=4}}var jo={$$typeof:K,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function Tp(x,T,j,V,X,J,ft,vt){this.tag=1,this.containerInfo=x,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.hiddenUpdates=Vn(null),this.identifierPrefix=V,this.onUncaughtError=X,this.onCaughtError=J,this.onRecoverableError=ft,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=vt,this.incompleteTransitions=new Map}function ad(x,T,j,V,X,J,ft,vt,Rt,Bt,Gt,Xt){return x=new Tp(x,T,j,ft,vt,Rt,Bt,Xt),T=1,J===!0&&(T|=24),J=yi(3,null,null,T),x.current=J,J.stateNode=x,T=Wl(),T.refCount++,x.pooledCache=T,T.refCount++,J.memoizedState={element:V,isDehydrated:j,cache:T},tu(J),x}function od(x){return x?(x=nr,x):nr}function ld(x,T,j,V,X,J){X=od(X),V.context===null?V.context=X:V.pendingContext=X,V=Kr(T),V.payload={element:j},J=J===void 0?null:J,J!==null&&(V.callback=J),j=Wr(x,V,T),j!==null&&(Ei(j,x,T),lo(j,x,T))}function ud(x,T){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var j=x.retryLane;x.retryLane=j!==0&&j<T?j:T}}function gc(x,T){ud(x,T),(x=x.alternate)&&ud(x,T)}function cd(x){if(x.tag===13){var T=br(x,67108864);T!==null&&Ei(T,x,67108864),gc(x,67108864)}}var Nl=!0;function Ap(x,T,j,V){var X=lt.T;lt.T=null;var J=yt.p;try{yt.p=2,yc(x,T,j,V)}finally{yt.p=J,lt.T=X}}function Pp(x,T,j,V){var X=lt.T;lt.T=null;var J=yt.p;try{yt.p=8,yc(x,T,j,V)}finally{yt.p=J,lt.T=X}}function yc(x,T,j,V){if(Nl){var X=vc(V);if(X===null)rc(x,T,V,jl,j),fd(x,V);else if(Np(X,x,T,j,V))V.stopPropagation();else if(fd(x,V),T&4&&-1<Mp.indexOf(x)){for(;X!==null;){var J=Tn(X);if(J!==null)switch(J.tag){case 3:if(J=J.stateNode,J.current.memoizedState.isDehydrated){var ft=ae(J.pendingLanes);if(ft!==0){var vt=J;for(vt.pendingLanes|=2,vt.entangledLanes|=2;ft;){var Rt=1<<31-Ze(ft);vt.entanglements[1]|=Rt,ft&=~Rt}or(J),(Le&6)===0&&(gl=Xe()+500,wo(0))}}break;case 13:vt=br(J,2),vt!==null&&Ei(vt,J,2),vl(),gc(J,2)}if(J=vc(V),J===null&&rc(x,T,V,jl,j),J===X)break;X=J}X!==null&&V.stopPropagation()}else rc(x,T,V,null,j)}}function vc(x){return x=Xi(x),xc(x)}var jl=null;function xc(x){if(jl=null,x=nn(x),x!==null){var T=a(x);if(T===null)x=null;else{var j=T.tag;if(j===13){if(x=S(T),x!==null)return x;x=null}else if(j===3){if(T.stateNode.current.memoizedState.isDehydrated)return T.tag===3?T.stateNode.containerInfo:null;x=null}else T!==x&&(x=null)}}return jl=x,null}function hd(x){switch(x){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nn()){case Wt:return 2;case jn:return 8;case We:case mn:return 32;case Cn:return 268435456;default:return 32}default:return 32}}var bc=!1,us=null,cs=null,hs=null,Io=new Map,Do=new Map,fs=[],Mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fd(x,T){switch(x){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Io.delete(T.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(T.pointerId)}}function Oo(x,T,j,V,X,J){return x===null||x.nativeEvent!==J?(x={blockedOn:T,domEventName:j,eventSystemFlags:V,nativeEvent:J,targetContainers:[X]},T!==null&&(T=Tn(T),T!==null&&cd(T)),x):(x.eventSystemFlags|=V,T=x.targetContainers,X!==null&&T.indexOf(X)===-1&&T.push(X),x)}function Np(x,T,j,V,X){switch(T){case"focusin":return us=Oo(us,x,T,j,V,X),!0;case"dragenter":return cs=Oo(cs,x,T,j,V,X),!0;case"mouseover":return hs=Oo(hs,x,T,j,V,X),!0;case"pointerover":var J=X.pointerId;return Io.set(J,Oo(Io.get(J)||null,x,T,j,V,X)),!0;case"gotpointercapture":return J=X.pointerId,Do.set(J,Oo(Do.get(J)||null,x,T,j,V,X)),!0}return!1}function dd(x){var T=nn(x.target);if(T!==null){var j=a(T);if(j!==null){if(T=j.tag,T===13){if(T=S(j),T!==null){x.blockedOn=T,Lr(x.priority,function(){if(j.tag===13){var V=_i();V=ni(V);var X=br(j,V);X!==null&&Ei(X,j,V),gc(j,V)}});return}}else if(T===3&&j.stateNode.current.memoizedState.isDehydrated){x.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}x.blockedOn=null}function Il(x){if(x.blockedOn!==null)return!1;for(var T=x.targetContainers;0<T.length;){var j=vc(x.nativeEvent);if(j===null){j=x.nativeEvent;var V=new j.constructor(j.type,j);Es=V,j.target.dispatchEvent(V),Es=null}else return T=Tn(j),T!==null&&cd(T),x.blockedOn=j,!1;T.shift()}return!0}function pd(x,T,j){Il(x)&&j.delete(T)}function jp(){bc=!1,us!==null&&Il(us)&&(us=null),cs!==null&&Il(cs)&&(cs=null),hs!==null&&Il(hs)&&(hs=null),Io.forEach(pd),Do.forEach(pd)}function Dl(x,T){x.blockedOn===T&&(x.blockedOn=null,bc||(bc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jp)))}var Ol=null;function md(x){Ol!==x&&(Ol=x,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ol===x&&(Ol=null);for(var T=0;T<x.length;T+=3){var j=x[T],V=x[T+1],X=x[T+2];if(typeof V!="function"){if(xc(V||j)===null)continue;break}var J=Tn(j);J!==null&&(x.splice(T,3),T-=3,xu(J,{pending:!0,data:X,method:j.method,action:V},V,X))}}))}function Lo(x){function T(Rt){return Dl(Rt,x)}us!==null&&Dl(us,x),cs!==null&&Dl(cs,x),hs!==null&&Dl(hs,x),Io.forEach(T),Do.forEach(T);for(var j=0;j<fs.length;j++){var V=fs[j];V.blockedOn===x&&(V.blockedOn=null)}for(;0<fs.length&&(j=fs[0],j.blockedOn===null);)dd(j),j.blockedOn===null&&fs.shift();if(j=(x.ownerDocument||x).$$reactFormReplay,j!=null)for(V=0;V<j.length;V+=3){var X=j[V],J=j[V+1],ft=X[gn]||null;if(typeof J=="function")ft||md(j);else if(ft){var vt=null;if(J&&J.hasAttribute("formAction")){if(X=J,ft=J[gn]||null)vt=ft.formAction;else if(xc(X)!==null)continue}else vt=ft.action;typeof vt=="function"?j[V+1]=vt:(j.splice(V,3),V-=3),md(j)}}}function _c(x){this._internalRoot=x}Ll.prototype.render=_c.prototype.render=function(x){var T=this._internalRoot;if(T===null)throw Error(r(409));var j=T.current,V=_i();ld(j,V,x,T,null,null)},Ll.prototype.unmount=_c.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var T=x.containerInfo;ld(x.current,2,null,x,null,null),vl(),T[Si]=null}};function Ll(x){this._internalRoot=x}Ll.prototype.unstable_scheduleHydration=function(x){if(x){var T=ur();x={blockedOn:null,target:x,priority:T};for(var j=0;j<fs.length&&T!==0&&T<fs[j].priority;j++);fs.splice(j,0,x),j===0&&dd(x)}};var gd=e.version;if(gd!=="19.1.1")throw Error(r(527,gd,"19.1.1"));yt.findDOMNode=function(x){var T=x._reactInternals;if(T===void 0)throw typeof x.render=="function"?Error(r(188)):(x=Object.keys(x).join(","),Error(r(268,x)));return x=M(T),x=x!==null?N(x):null,x=x===null?null:x.stateNode,x};var Ip={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:lt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{Qe=Fl.inject(Ip),Ue=Fl}catch{}}return reactDomClient_production.createRoot=function(x,T){if(!s(x))throw Error(r(299));var j=!1,V="",X=Ph,J=Mh,ft=Nh,vt=null;return T!=null&&(T.unstable_strictMode===!0&&(j=!0),T.identifierPrefix!==void 0&&(V=T.identifierPrefix),T.onUncaughtError!==void 0&&(X=T.onUncaughtError),T.onCaughtError!==void 0&&(J=T.onCaughtError),T.onRecoverableError!==void 0&&(ft=T.onRecoverableError),T.unstable_transitionCallbacks!==void 0&&(vt=T.unstable_transitionCallbacks)),T=ad(x,1,!1,null,null,j,V,X,J,ft,vt,null),x[Si]=T.current,ic(x),new _c(T)},reactDomClient_production.hydrateRoot=function(x,T,j){if(!s(x))throw Error(r(299));var V=!1,X="",J=Ph,ft=Mh,vt=Nh,Rt=null,Bt=null;return j!=null&&(j.unstable_strictMode===!0&&(V=!0),j.identifierPrefix!==void 0&&(X=j.identifierPrefix),j.onUncaughtError!==void 0&&(J=j.onUncaughtError),j.onCaughtError!==void 0&&(ft=j.onCaughtError),j.onRecoverableError!==void 0&&(vt=j.onRecoverableError),j.unstable_transitionCallbacks!==void 0&&(Rt=j.unstable_transitionCallbacks),j.formState!==void 0&&(Bt=j.formState)),T=ad(x,1,!0,T,j??null,V,X,J,ft,vt,Rt,Bt),T.context=od(null),j=T.current,V=_i(),V=ni(V),X=Kr(V),X.callback=null,Wr(j,X,V),j=V,T.current.lanes=j,Wn(T,j),or(T),x[Si]=T.current,ic(x),new Ll(T)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient(),Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},defaultTimeoutProvider={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},TimeoutManager=class{#t=defaultTimeoutProvider;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},timeoutManager=new TimeoutManager;function systemSetTimeoutZero(t){setTimeout(t,0)}var isServer=typeof window>"u"||"Deno"in globalThis;function noop$4(){}function functionalUpdate(t,e){return typeof t=="function"?t(e):t}function isValidTimeout(t){return typeof t=="number"&&t>=0&&t!==1/0}function timeUntilStale(t,e){return Math.max(t+(e||0)-Date.now(),0)}function resolveStaleTime(t,e){return typeof t=="function"?t(e):t}function resolveEnabled(t,e){return typeof t=="function"?t(e):t}function matchQuery(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:S,stale:P}=t;if(S){if(r){if(e.queryHash!==hashQueryKeyByOptions(S,e.options))return!1}else if(!partialMatchKey(e.queryKey,S))return!1}if(n!=="all"){const M=e.isActive();if(n==="active"&&!M||n==="inactive"&&M)return!1}return!(typeof P=="boolean"&&e.isStale()!==P||s&&s!==e.state.fetchStatus||a&&!a(e))}function matchMutation(t,e){const{exact:n,status:r,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(hashKey(e.options.mutationKey)!==hashKey(a))return!1}else if(!partialMatchKey(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function hashQueryKeyByOptions(t,e){return(e?.queryKeyHashFn||hashKey)(t)}function hashKey(t){return JSON.stringify(t,(e,n)=>isPlainObject$1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function partialMatchKey(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>partialMatchKey(t[n],e[n])):!1}var hasOwn=Object.prototype.hasOwnProperty;function replaceEqualDeep(t,e){if(t===e)return t;const n=isPlainArray(t)&&isPlainArray(e);if(!n&&!(isPlainObject$1(t)&&isPlainObject$1(e)))return e;const s=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),S=a.length,P=n?new Array(S):{};let M=0;for(let N=0;N<S;N++){const F=n?N:a[N],z=t[F],$=e[F];if(z===$){P[F]=z,(n?N<s:hasOwn.call(t,F))&&M++;continue}if(z===null||$===null||typeof z!="object"||typeof $!="object"){P[F]=$;continue}const G=replaceEqualDeep(z,$);P[F]=G,G===z&&M++}return s===S&&M===s?t:P}function shallowEqualObjects(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function isPlainArray(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function isPlainObject$1(t){if(!hasObjectPrototype(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hasObjectPrototype(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hasObjectPrototype(t){return Object.prototype.toString.call(t)==="[object Object]"}function sleep(t){return new Promise(e=>{timeoutManager.setTimeout(e,t)})}function replaceData(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?replaceEqualDeep(t,e):e}function addToEnd(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function addToStart(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var skipToken=Symbol();function ensureQueryFn(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function shouldThrowError(t,e){return typeof t=="function"?t(...e):!!t}var FocusManager=class extends Subscribable{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!isServer&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},focusManager=new FocusManager;function pendingThenable(){let t,e;const n=new Promise((s,a)=>{t=s,e=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var defaultScheduler=systemSetTimeoutZero;function createNotifyManager(){let t=[],e=0,n=P=>{P()},r=P=>{P()},s=defaultScheduler;const a=P=>{e?t.push(P):s(()=>{n(P)})},S=()=>{const P=t;t=[],P.length&&s(()=>{r(()=>{P.forEach(M=>{n(M)})})})};return{batch:P=>{let M;e++;try{M=P()}finally{e--,e||S()}return M},batchCalls:P=>(...M)=>{a(()=>{P(...M)})},schedule:a,setNotifyFunction:P=>{n=P},setBatchNotifyFunction:P=>{r=P},setScheduler:P=>{s=P}}}var notifyManager=createNotifyManager(),OnlineManager=class extends Subscribable{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!isServer&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},onlineManager=new OnlineManager;function defaultRetryDelay(t){return Math.min(1e3*2**t,3e4)}function canFetch(t){return(t??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function createRetryer(t){let e=!1,n=0,r;const s=pendingThenable(),a=()=>s.status!=="pending",S=U=>{if(!a()){const W=new CancelledError(U);$(W),t.onCancel?.(W)}},P=()=>{e=!0},M=()=>{e=!1},N=()=>focusManager.isFocused()&&(t.networkMode==="always"||onlineManager.isOnline())&&t.canRun(),F=()=>canFetch(t.networkMode)&&t.canRun(),z=U=>{a()||(r?.(),s.resolve(U))},$=U=>{a()||(r?.(),s.reject(U))},G=()=>new Promise(U=>{r=W=>{(a()||N())&&U(W)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),H=()=>{if(a())return;let U;const W=n===0?t.initialPromise:void 0;try{U=W??t.fn()}catch(Y){U=Promise.reject(Y)}Promise.resolve(U).then(z).catch(Y=>{if(a())return;const Q=t.retry??(isServer?0:3),K=t.retryDelay??defaultRetryDelay,tt=typeof K=="function"?K(n,Y):K,nt=Q===!0||typeof Q=="number"&&n<Q||typeof Q=="function"&&Q(n,Y);if(e||!nt){$(Y);return}n++,t.onFail?.(n,Y),sleep(tt).then(()=>N()?void 0:G()).then(()=>{e?$(Y):H()})})};return{promise:s,status:()=>s.status,cancel:S,continue:()=>(r?.(),s),cancelRetry:P,continueRetry:M,canStart:F,start:()=>(F()?H():G().then(H),s)}}var Removable=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&(this.#t=timeoutManager.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(isServer?1/0:300*1e3))}clearGcTimeout(){this.#t&&(timeoutManager.clearTimeout(this.#t),this.#t=void 0)}},Query=class extends Removable{#t;#e;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=getDefaultState$1(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=getDefaultState$1(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=replaceData(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(noop$4).catch(noop$4):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>resolveEnabled(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>resolveStaleTime(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(M=>M.options.queryFn);P&&this.setOptions(P.options)}const n=new AbortController,r=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const P=ensureQueryFn(this.options,e),N=(()=>{const F={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(F),F})();return this.#o=!1,this.options.persister?this.options.persister(P,N,this):P(N)},S=(()=>{const P={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:s};return r(P),P})();this.options.behavior?.onFetch(S,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==S.fetchOptions?.meta)&&this.#s({type:"fetch",meta:S.fetchOptions?.meta}),this.#i=createRetryer({initialPromise:e?.initialPromise,fn:S.fetchFn,onCancel:P=>{P instanceof CancelledError&&P.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(P,M)=>{this.#s({type:"failed",failureCount:P,error:M})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:S.options.retry,retryDelay:S.options.retryDelay,networkMode:S.options.networkMode,canRun:()=>!0});try{const P=await this.#i.start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),this.#n.config.onSuccess?.(P,this),this.#n.config.onSettled?.(P,this.state.error,this),P}catch(P){if(P instanceof CancelledError){if(P.silent)return this.#i.promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw this.#s({type:"error",error:P}),this.#n.config.onError?.(P,this),this.#n.config.onSettled?.(this.state.data,P,this),P}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...fetchState(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),notifyManager.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function fetchState(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var QueryObserver=class extends Subscribable{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=pendingThenable(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#f;#d;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),shouldFetchOnMount(this.#e,this.options)?this.#h():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#e.setOptions(this.options),e._defaulted&&!shallowEqualObjects(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&shouldFetchOptionally(this.#e,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#e!==n||resolveEnabled(this.options.enabled,this.#e)!==resolveEnabled(e.enabled,this.#e)||resolveStaleTime(this.options.staleTime,this.#e)!==resolveStaleTime(e.staleTime,this.#e))&&this.#g();const s=this.#y();r&&(this.#e!==n||resolveEnabled(this.options.enabled,this.#e)!==resolveEnabled(e.enabled,this.#e)||s!==this.#l)&&this.#v(s)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return shouldAssignObserverCurrentProperties(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#E();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(noop$4)),e}#g(){this.#b();const t=resolveStaleTime(this.options.staleTime,this.#e);if(isServer||this.#r.isStale||!isValidTimeout(t))return;const n=timeUntilStale(this.#r.dataUpdatedAt,t)+1;this.#u=timeoutManager.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#_(),this.#l=t,!(isServer||resolveEnabled(this.options.enabled,this.#e)===!1||!isValidTimeout(this.#l)||this.#l===0)&&(this.#c=timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.#h()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(timeoutManager.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#e,r=this.options,s=this.#r,a=this.#i,S=this.#a,M=t!==n?t.state:this.#n,{state:N}=t;let F={...N},z=!1,$;if(e._optimisticResults){const ct=this.hasListeners(),mt=!ct&&shouldFetchOnMount(t,e),wt=ct&&shouldFetchOptionally(t,n,e,r);(mt||wt)&&(F={...F,...fetchState(N.data,t.options)}),e._optimisticResults==="isRestoring"&&(F.fetchStatus="idle")}let{error:G,errorUpdatedAt:H,status:U}=F;$=F.data;let W=!1;if(e.placeholderData!==void 0&&$===void 0&&U==="pending"){let ct;s?.isPlaceholderData&&e.placeholderData===S?.placeholderData?(ct=s.data,W=!0):ct=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,ct!==void 0&&(U="success",$=replaceData(s?.data,ct,e),z=!0)}if(e.select&&$!==void 0&&!W)if(s&&$===a?.data&&e.select===this.#m)$=this.#f;else try{this.#m=e.select,$=e.select($),$=replaceData(s?.data,$,e),this.#f=$,this.#s=null}catch(ct){this.#s=ct}this.#s&&(G=this.#s,$=this.#f,H=Date.now(),U="error");const Y=F.fetchStatus==="fetching",Q=U==="pending",K=U==="error",tt=Q&&Y,nt=$!==void 0,ht={status:U,fetchStatus:F.fetchStatus,isPending:Q,isSuccess:U==="success",isError:K,isInitialLoading:tt,isLoading:tt,data:$,dataUpdatedAt:F.dataUpdatedAt,error:G,errorUpdatedAt:H,failureCount:F.fetchFailureCount,failureReason:F.fetchFailureReason,errorUpdateCount:F.errorUpdateCount,isFetched:F.dataUpdateCount>0||F.errorUpdateCount>0,isFetchedAfterMount:F.dataUpdateCount>M.dataUpdateCount||F.errorUpdateCount>M.errorUpdateCount,isFetching:Y,isRefetching:Y&&!Q,isLoadingError:K&&!nt,isPaused:F.fetchStatus==="paused",isPlaceholderData:z,isRefetchError:K&&nt,isStale:isStale(t,e),refetch:this.refetch,promise:this.#o,isEnabled:resolveEnabled(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const ct=kt=>{ht.status==="error"?kt.reject(ht.error):ht.data!==void 0&&kt.resolve(ht.data)},mt=()=>{const kt=this.#o=ht.promise=pendingThenable();ct(kt)},wt=this.#o;switch(wt.status){case"pending":t.queryHash===n.queryHash&&ct(wt);break;case"fulfilled":(ht.status==="error"||ht.data!==wt.value)&&mt();break;case"rejected":(ht.status!=="error"||ht.error!==wt.reason)&&mt();break}}return ht}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#d=this.#e),shallowEqualObjects(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const a=new Set(s??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(S=>{const P=S;return this.#r[P]!==t[P]&&a.has(P)})};this.#S({listeners:n()})}#E(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){notifyManager.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function shouldLoadOnMount(t,e){return resolveEnabled(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function shouldFetchOnMount(t,e){return shouldLoadOnMount(t,e)||t.state.data!==void 0&&shouldFetchOn(t,e,e.refetchOnMount)}function shouldFetchOn(t,e,n){if(resolveEnabled(e.enabled,t)!==!1&&resolveStaleTime(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&isStale(t,e)}return!1}function shouldFetchOptionally(t,e,n,r){return(t!==e||resolveEnabled(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&isStale(t,n)}function isStale(t,e){return resolveEnabled(e.enabled,t)!==!1&&t.isStaleByTime(resolveStaleTime(e.staleTime,t))}function shouldAssignObserverCurrentProperties(t,e){return!shallowEqualObjects(t.getCurrentResult(),e)}function infiniteQueryBehavior(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],S=e.state.data?.pageParams||[];let P={pages:[],pageParams:[]},M=0;const N=async()=>{let F=!1;const z=H=>{Object.defineProperty(H,"signal",{enumerable:!0,get:()=>(e.signal.aborted?F=!0:e.signal.addEventListener("abort",()=>{F=!0}),e.signal)})},$=ensureQueryFn(e.options,e.fetchOptions),G=async(H,U,W)=>{if(F)return Promise.reject();if(U==null&&H.pages.length)return Promise.resolve(H);const Q=(()=>{const rt={client:e.client,queryKey:e.queryKey,pageParam:U,direction:W?"backward":"forward",meta:e.options.meta};return z(rt),rt})(),K=await $(Q),{maxPages:tt}=e.options,nt=W?addToStart:addToEnd;return{pages:nt(H.pages,K,tt),pageParams:nt(H.pageParams,U,tt)}};if(s&&a.length){const H=s==="backward",U=H?getPreviousPageParam:getNextPageParam,W={pages:a,pageParams:S},Y=U(r,W);P=await G(W,Y,H)}else{const H=t??a.length;do{const U=M===0?S[0]??r.initialPageParam:getNextPageParam(r,P);if(M>0&&U==null)break;P=await G(P,U),M++}while(M<H)}return P};e.options.persister?e.fetchFn=()=>e.options.persister?.(N,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=N}}}function getNextPageParam(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function getPreviousPageParam(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Mutation=class extends Removable{#t;#e;#n;#r;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#e=[],this.state=t.state||getDefaultState(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,S)=>{this.#i({type:"failed",failureCount:a,error:S})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#r.canStart();try{if(r)e();else{this.#i({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const S=await this.options.onMutate?.(t,n);S!==this.state.context&&this.#i({type:"pending",context:S,variables:t,isPaused:s})}const a=await this.#r.start();return await this.#n.config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),this.#i({type:"success",data:a}),a}catch(a){try{throw await this.#n.config.onError?.(a,t,this.state.context,this,n),await this.options.onError?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,a,t,this.state.context,n),a}finally{this.#i({type:"error",error:a})}}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),notifyManager.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var MutationCache=class extends Subscribable{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const r=new Mutation({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#t.add(t);const e=scopeFor(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=scopeFor(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=scopeFor(t);if(typeof e=="string"){const r=this.#e.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=scopeFor(t);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){notifyManager.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>matchMutation(e,n))}findAll(t={}){return this.getAll().filter(e=>matchMutation(t,e))}notify(t){notifyManager.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return notifyManager.batch(()=>Promise.all(t.map(e=>e.continue().catch(noop$4))))}};function scopeFor(t){return t.options.scope?.id}var MutationObserver$1=class extends Subscribable{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),shallowEqualObjects(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&hashKey(n.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??getDefaultState();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){notifyManager.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context,s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r,s),this.#r.onSettled?.(e.data,null,n,r,s)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r,s),this.#r.onSettled?.(void 0,e.error,n,r,s))}this.listeners.forEach(n=>{n(this.#e)})})}},QueryCache=class extends Subscribable{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const r=e.queryKey,s=e.queryHash??hashQueryKeyByOptions(r,e);let a=this.get(s);return a||(a=new Query({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>matchQuery(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>matchQuery(t,n)):e}notify(t){notifyManager.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},QueryClient=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new QueryCache,this.#e=t.mutationCache||new MutationCache,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=focusManager.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=onlineManager.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(resolveStaleTime(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#t.get(r.queryHash)?.state.data,S=functionalUpdate(e,a);if(S!==void 0)return this.#t.build(this,r).setData(S,{...n,manual:!0})}setQueriesData(t,e,n){return notifyManager.batch(()=>this.#t.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;notifyManager.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return notifyManager.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=notifyManager.batch(()=>this.#t.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(noop$4).catch(noop$4)}invalidateQueries(t,e={}){return notifyManager.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=notifyManager.batch(()=>this.#t.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(noop$4)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(noop$4)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(resolveStaleTime(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(noop$4).catch(noop$4)}fetchInfiniteQuery(t){return t.behavior=infiniteQueryBehavior(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(noop$4).catch(noop$4)}ensureInfiniteQueryData(t){return t.behavior=infiniteQueryBehavior(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return onlineManager.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(hashKey(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{partialMatchKey(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(hashKey(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{partialMatchKey(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hashQueryKeyByOptions(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===skipToken&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},QueryClientContext=reactExports.createContext(void 0),useQueryClient=t=>{const e=reactExports.useContext(QueryClientContext);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},QueryClientProvider=({client:t,children:e})=>(reactExports.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:t,children:e})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},useClearResetErrorBoundary=t=>{reactExports.useEffect(()=>{t.clearReset()},[t])},getHasError=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||shouldThrowError(n,[t.error,r])),ensureSuspenseTimers=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},willFetch=(t,e)=>t.isLoading&&t.isFetching&&!e,shouldSuspend=(t,e)=>t?.suspense&&e.isPending,fetchOptimistic=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function useBaseQuery(t,e,n){const r=useIsRestoring(),s=useQueryErrorResetBoundary(),a=useQueryClient(),S=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(S),S._optimisticResults=r?"isRestoring":"optimistic",ensureSuspenseTimers(S),ensurePreventErrorBoundaryRetry(S,s),useClearResetErrorBoundary(s);const P=!a.getQueryCache().get(S.queryHash),[M]=reactExports.useState(()=>new e(a,S)),N=M.getOptimisticResult(S),F=!r&&t.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(z=>{const $=F?M.subscribe(notifyManager.batchCalls(z)):noop$4;return M.updateResult(),$},[M,F]),()=>M.getCurrentResult(),()=>M.getCurrentResult()),reactExports.useEffect(()=>{M.setOptions(S)},[S,M]),shouldSuspend(S,N))throw fetchOptimistic(S,M,s);if(getHasError({result:N,errorResetBoundary:s,throwOnError:S.throwOnError,query:a.getQueryCache().get(S.queryHash),suspense:S.suspense}))throw N.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(S,N),S.experimental_prefetchInRender&&!isServer&&willFetch(N,r)&&(P?fetchOptimistic(S,M,s):a.getQueryCache().get(S.queryHash)?.promise)?.catch(noop$4).finally(()=>{M.updateResult()}),S.notifyOnChangeProps?N:M.trackResult(N)}function useQuery(t,e){return useBaseQuery(t,QueryObserver)}function useMutation(t,e){const n=useQueryClient(),[r]=reactExports.useState(()=>new MutationObserver$1(n,t));reactExports.useEffect(()=>{r.setOptions(t)},[r,t]);const s=reactExports.useSyncExternalStore(reactExports.useCallback(S=>r.subscribe(notifyManager.batchCalls(S)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=reactExports.useCallback((S,P)=>{r.mutate(S,P).catch(noop$4)},[r]);if(s.error&&shouldThrowError(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(t={}){function e(r,s){let{pathname:a,search:S,hash:P}=r.location;return createLocation("",{pathname:a,search:S,hash:P},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:createPath(s)}return getUrlBasedHistory(e,n,null,t)}function invariant$1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?parsePath(e):e,state:n,key:e&&e.key||r||createKey()}}function createPath({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function parsePath(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,S=s.history,P="POP",M=null,N=F();N==null&&(N=0,S.replaceState({...S.state,idx:N},""));function F(){return(S.state||{idx:null}).idx}function z(){P="POP";let W=F(),Y=W==null?null:W-N;N=W,M&&M({action:P,location:U.location,delta:Y})}function $(W,Y){P="PUSH";let Q=createLocation(U.location,W,Y);N=F()+1;let K=getHistoryState(Q,N),tt=U.createHref(Q);try{S.pushState(K,"",tt)}catch(nt){if(nt instanceof DOMException&&nt.name==="DataCloneError")throw nt;s.location.assign(tt)}a&&M&&M({action:P,location:U.location,delta:1})}function G(W,Y){P="REPLACE";let Q=createLocation(U.location,W,Y);N=F();let K=getHistoryState(Q,N),tt=U.createHref(Q);S.replaceState(K,"",tt),a&&M&&M({action:P,location:U.location,delta:0})}function H(W){return createBrowserURLImpl(W)}let U={get action(){return P},get location(){return t(s,S)},listen(W){if(M)throw new Error("A history only accepts one active listener");return s.addEventListener(PopStateEventType,z),M=W,()=>{s.removeEventListener(PopStateEventType,z),M=null}},createHref(W){return e(s,W)},createURL:H,encodeLocation(W){let Y=H(W);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:$,replace:G,go(W){return S.go(W)}};return U}function createBrowserURLImpl(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:createPath(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function matchRoutes(t,e,n="/"){return matchRoutesImpl(t,e,n,!1)}function matchRoutesImpl(t,e,n,r){let s=typeof e=="string"?parsePath(e):e,a=stripBasename(s.pathname||"/",n);if(a==null)return null;let S=flattenRoutes(t);rankRouteBranches(S);let P=null;for(let M=0;P==null&&M<S.length;++M){let N=decodePath(a);P=matchRouteBranch(S[M],N,r)}return P}function flattenRoutes(t,e=[],n=[],r=""){let s=(a,S,P)=>{let M={relativePath:P===void 0?a.path||"":P,caseSensitive:a.caseSensitive===!0,childrenIndex:S,route:a};M.relativePath.startsWith("/")&&(invariant$1(M.relativePath.startsWith(r),`Absolute route path "${M.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),M.relativePath=M.relativePath.slice(r.length));let N=joinPaths([r,M.relativePath]),F=n.concat(M);a.children&&a.children.length>0&&(invariant$1(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),flattenRoutes(a.children,e,F,N)),!(a.path==null&&!a.index)&&e.push({path:N,score:computeScore(N,a.index),routesMeta:F})};return t.forEach((a,S)=>{if(a.path===""||!a.path?.includes("?"))s(a,S);else for(let P of explodeOptionalSegments(a.path))s(a,S,P)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let S=explodeOptionalSegments(r.join("/")),P=[];return P.push(...S.map(M=>M===""?a:[a,M].join("/"))),s&&P.push(...S),P.map(M=>t.startsWith("/")&&M===""?"/":M)}function rankRouteBranches(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:compareIndexes(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let n=t.split("/"),r=n.length;return n.some(isSplat)&&(r+=splatPenalty),e&&(r+=indexRouteValue),n.filter(s=>!isSplat(s)).reduce((s,a)=>s+(paramRe.test(a)?dynamicSegmentValue:a===""?emptySegmentValue:staticSegmentValue),r)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",S=[];for(let P=0;P<r.length;++P){let M=r[P],N=P===r.length-1,F=a==="/"?e:e.slice(a.length)||"/",z=matchPath({path:M.relativePath,caseSensitive:M.caseSensitive,end:N},F),$=M.route;if(!z&&N&&n&&!r[r.length-1].route.index&&(z=matchPath({path:M.relativePath,caseSensitive:M.caseSensitive,end:!1},F)),!z)return null;Object.assign(s,z.params),S.push({params:s,pathname:joinPaths([a,z.pathname]),pathnameBase:normalizePathname(joinPaths([a,z.pathnameBase])),route:$}),z.pathnameBase!=="/"&&(a=joinPaths([a,z.pathnameBase]))}return S}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=compilePath(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],S=a.replace(/(.)\/+$/,"$1"),P=s.slice(1);return{params:r.reduce((N,{paramName:F,isOptional:z},$)=>{if(F==="*"){let H=P[$]||"";S=a.slice(0,a.length-H.length).replace(/(.)\/+$/,"$1")}const G=P[$];return z&&!G?N[F]=void 0:N[F]=(G||"").replace(/%2F/g,"/"),N},{}),pathname:a,pathnameBase:S,pattern:t}}function compilePath(t,e=!1,n=!0){warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(S,P,M)=>(r.push({paramName:P,isOptional:M!=null}),M?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function resolvePath(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?parsePath(t):t;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,e):e,search:normalizeSearch(r),hash:normalizeHash(s)}}function resolvePathname(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t){let e=getPathContributingMatches(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function resolveTo(t,e,n,r=!1){let s;typeof t=="string"?s=parsePath(t):(s={...t},invariant$1(!s.pathname||!s.pathname.includes("?"),getInvalidPathError("?","pathname","search",s)),invariant$1(!s.pathname||!s.pathname.includes("#"),getInvalidPathError("#","pathname","hash",s)),invariant$1(!s.search||!s.search.includes("#"),getInvalidPathError("#","search","hash",s)));let a=t===""||s.pathname==="",S=a?"/":s.pathname,P;if(S==null)P=n;else{let z=e.length-1;if(!r&&S.startsWith("..")){let $=S.split("/");for(;$[0]==="..";)$.shift(),z-=1;s.pathname=$.join("/")}P=z>=0?e[z]:"/"}let M=resolvePath(s,P),N=S&&S!=="/"&&S.endsWith("/"),F=(a||S===".")&&n.endsWith("/");return!M.pathname.endsWith("/")&&(N||F)&&(M.pathname+="/"),M}var joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(t,{relative:e}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=reactExports.useContext(NavigationContext),{hash:s,pathname:a,search:S}=useResolvedPath(t,{relative:e}),P=a;return n!=="/"&&(P=a==="/"?n:joinPaths([n,a])),r.createHref({pathname:P,search:S,hash:s})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let t=reactExports.useContext(DataRouterContext),{basename:e,navigator:n}=reactExports.useContext(NavigationContext),{matches:r}=reactExports.useContext(RouteContext),{pathname:s}=useLocation(),a=JSON.stringify(getResolveToMatches(r)),S=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{S.current=!0}),reactExports.useCallback((M,N={})=>{if(warning(S.current,navigateEffectWarning),!S.current)return;if(typeof M=="number"){n.go(M);return}let F=resolveTo(M,JSON.parse(a),s,N.relative==="path");t==null&&e!=="/"&&(F.pathname=F.pathname==="/"?e:joinPaths([e,F.pathname])),(N.replace?n.replace:n.push)(F,N.state,N)},[e,n,a,s,t])}var OutletContext=reactExports.createContext(null);function useOutlet(t){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:t},e)}function useParams(){let{matches:t}=reactExports.useContext(RouteContext),e=t[t.length-1];return e?e.params:{}}function useResolvedPath(t,{relative:e}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:r}=useLocation(),s=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,n,r){invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),S=a[a.length-1],P=S?S.params:{},M=S?S.pathname:"/",N=S?S.pathnameBase:"/",F=S&&S.route;{let Y=F&&F.path||"";warningOnce(M,!F||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${M}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let z=useLocation(),$;if(e){let Y=typeof e=="string"?parsePath(e):e;invariant$1(N==="/"||Y.pathname?.startsWith(N),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),$=Y}else $=z;let G=$.pathname||"/",H=G;if(N!=="/"){let Y=N.replace(/^\//,"").split("/");H="/"+G.replace(/^\//,"").split("/").slice(Y.length).join("/")}let U=matchRoutes(t,{pathname:H});warning(F||U!=null,`No routes matched location "${$.pathname}${$.search}${$.hash}" `),warning(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${$.pathname}${$.search}${$.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=_renderMatches(U&&U.map(Y=>Object.assign({},Y,{params:Object.assign({},P,Y.params),pathname:joinPaths([N,s.encodeLocation?s.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?N:joinPaths([N,s.encodeLocation?s.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),a,n,r);return e&&W?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...$},navigationType:"POP"}},W):W}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},S=null;return console.error("Error handled by React Router default ErrorBoundary:",t),S=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:a},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:a},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),n?reactExports.createElement("pre",{style:s},n):null,S)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:t,match:e,children:n}){let r=reactExports.useContext(DataRouterContext);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),reactExports.createElement(RouteContext.Provider,{value:t},n)}function _renderMatches(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let M=s.findIndex(N=>N.route.id&&a?.[N.route.id]!==void 0);invariant$1(M>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,M+1))}let S=!1,P=-1;if(n)for(let M=0;M<s.length;M++){let N=s[M];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(P=M),N.route.id){let{loaderData:F,errors:z}=n,$=N.route.loader&&!F.hasOwnProperty(N.route.id)&&(!z||z[N.route.id]===void 0);if(N.route.lazy||$){S=!0,P>=0?s=s.slice(0,P+1):s=[s[0]];break}}}return s.reduceRight((M,N,F)=>{let z,$=!1,G=null,H=null;n&&(z=a&&N.route.id?a[N.route.id]:void 0,G=N.route.errorElement||defaultErrorElement,S&&(P<0&&F===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,H=null):P===F&&($=!0,H=N.route.hydrateFallbackElement||null)));let U=e.concat(s.slice(0,F+1)),W=()=>{let Y;return z?Y=G:$?Y=H:N.route.Component?Y=reactExports.createElement(N.route.Component,null):N.route.element?Y=N.route.element:Y=M,reactExports.createElement(RenderedRoute,{match:N,routeContext:{outlet:M,matches:U,isDataRoute:n!=null},children:Y})};return n&&(N.route.ErrorBoundary||N.route.errorElement||F===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:G,error:z,children:W(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):W()},null)}function getDataRouterConsoleError(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useCurrentRouteId(t){let e=useRouteContext(t),n=e.matches[e.matches.length-1];return invariant$1(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let t=reactExports.useContext(RouteErrorContext),e=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return t!==void 0?t:e.errors?.[n]}function useNavigateStable(){let{router:t}=useDataRouterContext("useNavigate"),e=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{n.current=!0}),reactExports.useCallback(async(s,a={})=>{warning(n.current,navigateEffectWarning),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var alreadyWarned={};function warningOnce(t,e,n){!e&&!alreadyWarned[t]&&(alreadyWarned[t]=!0,warning(!1,n))}reactExports.memo(DataRoutes);function DataRoutes({routes:t,future:e,state:n}){return useRoutesImpl(t,void 0,n,e)}function Navigate({to:t,replace:e,state:n,relative:r}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=reactExports.useContext(NavigationContext);warning(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=reactExports.useContext(RouteContext),{pathname:S}=useLocation(),P=useNavigate(),M=resolveTo(t,getResolveToMatches(a),S,r==="path"),N=JSON.stringify(M);return reactExports.useEffect(()=>{P(JSON.parse(N),{replace:e,state:n,relative:r})},[P,N,r,e,n]),null}function Outlet(t){return useOutlet(t.context)}function Route(t){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let S=t.replace(/^\/*/,"/"),P=reactExports.useMemo(()=>({basename:S,navigator:s,static:a,future:{}}),[S,s,a]);typeof n=="string"&&(n=parsePath(n));let{pathname:M="/",search:N="",hash:F="",state:z=null,key:$="default"}=n,G=reactExports.useMemo(()=>{let H=stripBasename(M,S);return H==null?null:{location:{pathname:H,search:N,hash:F,state:z,key:$},navigationType:r}},[S,M,N,F,z,$,r]);return warning(G!=null,`<Router basename="${S}"> is not able to match the URL "${M}${N}${F}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:reactExports.createElement(NavigationContext.Provider,{value:P},reactExports.createElement(LocationContext.Provider,{children:e,value:G}))}function Routes({children:t,location:e}){return useRoutes(createRoutesFromChildren(t),e)}function createRoutesFromChildren(t,e=[]){let n=[];return reactExports.Children.forEach(t,(r,s)=>{if(!reactExports.isValidElement(r))return;let a=[...e,s];if(r.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(r.props.children,a));return}invariant$1(r.type===Route,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!r.props.index||!r.props.children,"An index route cannot have child routes.");let S={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(S.children=createRoutesFromChildren(r.props.children,a)),n.push(S)}),n}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(t){return t!=null&&typeof t.tagName=="string"}function isButtonElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="button"}function isFormElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="form"}function isInputElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="input"}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent(t)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(t){return t!=null&&!supportedFormEncTypes.has(t)?(warning(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):t}function getFormSubmissionInfo(t,e){let n,r,s,a,S;if(isFormElement(t)){let P=t.getAttribute("action");r=P?stripBasename(P,e):null,n=t.getAttribute("method")||defaultMethod,s=getFormEncType(t.getAttribute("enctype"))||defaultEncType,a=new FormData(t)}else if(isButtonElement(t)||isInputElement(t)&&(t.type==="submit"||t.type==="image")){let P=t.form;if(P==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let M=t.getAttribute("formaction")||P.getAttribute("action");if(r=M?stripBasename(M,e):null,n=t.getAttribute("formmethod")||P.getAttribute("method")||defaultMethod,s=getFormEncType(t.getAttribute("formenctype"))||getFormEncType(P.getAttribute("enctype"))||defaultEncType,a=new FormData(P,t),!isFormDataSubmitterSupported()){let{name:N,type:F,value:z}=t;if(F==="image"){let $=N?`${N}.`:"";a.append(`${$}x`,"0"),a.append(`${$}y`,"0")}else N&&a.append(N,z)}}else{if(isHtmlElement(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,r=null,s=defaultEncType,S=t}return a&&s==="text/plain"&&(S=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:S}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function singleFetchUrl(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&stripBasename(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function loadRouteModule(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function getKeyedPrefetchLinks(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let S=await loadRouteModule(a,n);return S.links?S.links():[]}return[]}));return dedupeLinkDescriptors(r.flat(1).filter(isHtmlLinkDescriptor).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function getNewMatchesForLinks(t,e,n,r,s,a){let S=(M,N)=>n[N]?M.route.id!==n[N].route.id:!0,P=(M,N)=>n[N].pathname!==M.pathname||n[N].route.path?.endsWith("*")&&n[N].params["*"]!==M.params["*"];return a==="assets"?e.filter((M,N)=>S(M,N)||P(M,N)):a==="data"?e.filter((M,N)=>{let F=r.routes[M.route.id];if(!F||!F.hasLoader)return!1;if(S(M,N)||P(M,N))return!0;if(M.route.shouldRevalidate){let z=M.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:M.params,defaultShouldRevalidate:!0});if(typeof z=="boolean")return z}return!0}):[]}function getModuleLinkHrefs(t,e,{includeHydrateFallback:n}={}){return dedupeHrefs(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function dedupeHrefs(t){return[...new Set(t)]}function sortKeys(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dedupeLinkDescriptors(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(sortKeys(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function useDataRouterContext2(){let t=reactExports.useContext(DataRouterContext);return invariant2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function useDataRouterStateContext(){let t=reactExports.useContext(DataRouterStateContext);return invariant2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let t=reactExports.useContext(FrameworkContext);return invariant2(t,"You must render this element inside a <HydratedRouter> element"),t}function usePrefetchBehavior(t,e){let n=reactExports.useContext(FrameworkContext),[r,s]=reactExports.useState(!1),[a,S]=reactExports.useState(!1),{onFocus:P,onBlur:M,onMouseEnter:N,onMouseLeave:F,onTouchStart:z}=e,$=reactExports.useRef(null);reactExports.useEffect(()=>{if(t==="render"&&S(!0),t==="viewport"){let U=Y=>{Y.forEach(Q=>{S(Q.isIntersecting)})},W=new IntersectionObserver(U,{threshold:.5});return $.current&&W.observe($.current),()=>{W.disconnect()}}},[t]),reactExports.useEffect(()=>{if(r){let U=setTimeout(()=>{S(!0)},100);return()=>{clearTimeout(U)}}},[r]);let G=()=>{s(!0)},H=()=>{s(!1),S(!1)};return n?t!=="intent"?[a,$,{}]:[a,$,{onFocus:composeEventHandlers(P,G),onBlur:composeEventHandlers(M,H),onMouseEnter:composeEventHandlers(N,G),onMouseLeave:composeEventHandlers(F,H),onTouchStart:composeEventHandlers(z,G)}]:[!1,$,{}]}function composeEventHandlers(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PrefetchPageLinks({page:t,...e}){let{router:n}=useDataRouterContext2(),r=reactExports.useMemo(()=>matchRoutes(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?reactExports.createElement(PrefetchPageLinksImpl,{page:t,matches:r,...e}):null}function useKeyedPrefetchLinks(t){let{manifest:e,routeModules:n}=useFrameworkContext(),[r,s]=reactExports.useState([]);return reactExports.useEffect(()=>{let a=!1;return getKeyedPrefetchLinks(t,e,n).then(S=>{a||s(S)}),()=>{a=!0}},[t,e,n]),r}function PrefetchPageLinksImpl({page:t,matches:e,...n}){let r=useLocation(),{manifest:s,routeModules:a}=useFrameworkContext(),{basename:S}=useDataRouterContext2(),{loaderData:P,matches:M}=useDataRouterStateContext(),N=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,M,s,r,"data"),[t,e,M,s,r]),F=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,M,s,r,"assets"),[t,e,M,s,r]),z=reactExports.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let H=new Set,U=!1;if(e.forEach(Y=>{let Q=s.routes[Y.route.id];!Q||!Q.hasLoader||(!N.some(K=>K.route.id===Y.route.id)&&Y.route.id in P&&a[Y.route.id]?.shouldRevalidate||Q.hasClientLoader?U=!0:H.add(Y.route.id))}),H.size===0)return[];let W=singleFetchUrl(t,S,"data");return U&&H.size>0&&W.searchParams.set("_routes",e.filter(Y=>H.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[W.pathname+W.search]},[S,P,r,s,N,e,t,a]),$=reactExports.useMemo(()=>getModuleLinkHrefs(F,s),[F,s]),G=useKeyedPrefetchLinks(F);return reactExports.createElement(reactExports.Fragment,null,z.map(H=>reactExports.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),$.map(H=>reactExports.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),G.map(({key:H,link:U})=>reactExports.createElement("link",{key:H,...U})))}function mergeRefs(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.7.1")}catch{}function BrowserRouter({basename:t,children:e,window:n}){let r=reactExports.useRef();r.current==null&&(r.current=createBrowserHistory({window:n,v5Compat:!0}));let s=r.current,[a,S]=reactExports.useState({action:s.action,location:s.location}),P=reactExports.useCallback(M=>{reactExports.startTransition(()=>S(M))},[S]);return reactExports.useLayoutEffect(()=>s.listen(P),[s,P]),reactExports.createElement(Router,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:S,state:P,target:M,to:N,preventScrollReset:F,viewTransition:z,...$},G){let{basename:H}=reactExports.useContext(NavigationContext),U=typeof N=="string"&&ABSOLUTE_URL_REGEX2.test(N),W,Y=!1;if(typeof N=="string"&&U&&(W=N,isBrowser$1))try{let mt=new URL(window.location.href),wt=N.startsWith("//")?new URL(mt.protocol+N):new URL(N),kt=stripBasename(wt.pathname,H);wt.origin===mt.origin&&kt!=null?N=kt+wt.search+wt.hash:Y=!0}catch{warning(!1,`<Link to="${N}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=useHref(N,{relative:s}),[K,tt,nt]=usePrefetchBehavior(r,$),rt=useLinkClickHandler(N,{replace:S,state:P,target:M,preventScrollReset:F,relative:s,viewTransition:z});function ht(mt){e&&e(mt),mt.defaultPrevented||rt(mt)}let ct=reactExports.createElement("a",{...$,...nt,href:W||Q,onClick:Y||a?e:ht,ref:mergeRefs(G,tt),target:M,"data-discover":!U&&n==="render"?"true":void 0});return K&&!U?reactExports.createElement(reactExports.Fragment,null,ct,reactExports.createElement(PrefetchPageLinks,{page:Q})):ct});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:S,viewTransition:P,children:M,...N},F){let z=useResolvedPath(S,{relative:N.relative}),$=useLocation(),G=reactExports.useContext(DataRouterStateContext),{navigator:H,basename:U}=reactExports.useContext(NavigationContext),W=G!=null&&useViewTransitionState(z)&&P===!0,Y=H.encodeLocation?H.encodeLocation(z).pathname:z.pathname,Q=$.pathname,K=G&&G.navigation&&G.navigation.location?G.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),K=K?K.toLowerCase():null,Y=Y.toLowerCase()),K&&U&&(K=stripBasename(K,U)||K);const tt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let nt=Q===Y||!s&&Q.startsWith(Y)&&Q.charAt(tt)==="/",rt=K!=null&&(K===Y||!s&&K.startsWith(Y)&&K.charAt(Y.length)==="/"),ht={isActive:nt,isPending:rt,isTransitioning:W},ct=nt?e:void 0,mt;typeof r=="function"?mt=r(ht):mt=[r,nt?"active":null,rt?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let wt=typeof a=="function"?a(ht):a;return reactExports.createElement(Link,{...N,"aria-current":ct,className:mt,ref:F,style:wt,to:S,viewTransition:P},typeof M=="function"?M(ht):M)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:S=defaultMethod,action:P,onSubmit:M,relative:N,preventScrollReset:F,viewTransition:z,...$},G)=>{let H=useSubmit(),U=useFormAction(P,{relative:N}),W=S.toLowerCase()==="get"?"get":"post",Y=typeof P=="string"&&ABSOLUTE_URL_REGEX2.test(P),Q=K=>{if(M&&M(K),K.defaultPrevented)return;K.preventDefault();let tt=K.nativeEvent.submitter,nt=tt?.getAttribute("formmethod")||S;H(tt||K.currentTarget,{fetcherKey:e,method:nt,navigate:n,replace:s,state:a,relative:N,preventScrollReset:F,viewTransition:z})};return reactExports.createElement("form",{ref:G,method:W,action:U,onSubmit:r?M:Q,...$,"data-discover":!Y&&t==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(t){let e=reactExports.useContext(DataRouterContext);return invariant$1(e,getDataRouterConsoleError2(t)),e}function useLinkClickHandler(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:S}={}){let P=useNavigate(),M=useLocation(),N=useResolvedPath(t,{relative:a});return reactExports.useCallback(F=>{if(shouldProcessLinkClick(F,e)){F.preventDefault();let z=n!==void 0?n:createPath(M)===createPath(N);P(t,{replace:z,state:r,preventScrollReset:s,relative:a,viewTransition:S})}},[M,P,N,n,r,e,t,s,a,S])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:t}=useDataRouterContext3("useSubmit"),{basename:e}=reactExports.useContext(NavigationContext),n=useRouteId();return reactExports.useCallback(async(r,s={})=>{let{action:a,method:S,encType:P,formData:M,body:N}=getFormSubmissionInfo(r,e);if(s.navigate===!1){let F=s.fetcherKey||getUniqueFetcherId();await t.fetch(F,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:M,body:N,formMethod:s.method||S,formEncType:s.encType||P,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:M,body:N,formMethod:s.method||S,formEncType:s.encType||P,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function useFormAction(t,{relative:e}={}){let{basename:n}=reactExports.useContext(NavigationContext),r=reactExports.useContext(RouteContext);invariant$1(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...useResolvedPath(t||".",{relative:e})},S=useLocation();if(t==null){a.search=S.search;let P=new URLSearchParams(a.search),M=P.getAll("index");if(M.some(F=>F==="")){P.delete("index"),M.filter(z=>z).forEach(z=>P.append("index",z));let F=P.toString();a.search=F?`?${F}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:joinPaths([n,a.pathname])),createPath(a)}function useViewTransitionState(t,{relative:e}={}){let n=reactExports.useContext(ViewTransitionContext);invariant$1(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=useDataRouterContext3("useViewTransitionState"),s=useResolvedPath(t,{relative:e});if(!n.isTransitioning)return!1;let a=stripBasename(n.currentLocation.pathname,r)||n.currentLocation.pathname,S=stripBasename(n.nextLocation.pathname,r)||n.nextLocation.pathname;return matchPath(s.pathname,S)!=null||matchPath(s.pathname,a)!=null}var reactDomExports=requireReactDom();const createStoreImpl=t=>{let e;const n=new Set,r=(N,F)=>{const z=typeof N=="function"?N(e):N;if(!Object.is(z,e)){const $=e;e=F??(typeof z!="object"||z===null)?z:Object.assign({},e,z),n.forEach(G=>G(e,$))}},s=()=>e,P={setState:r,getState:s,getInitialState:()=>M,subscribe:N=>(n.add(N),()=>n.delete(N))},M=e=t(r,s,P);return P},createStore=(t=>t?createStoreImpl(t):createStoreImpl),identity$1=t=>t;function useStore(t,e=identity$1){const n=React.useSyncExternalStore(t.subscribe,React.useCallback(()=>e(t.getState()),[t,e]),React.useCallback(()=>e(t.getInitialState()),[t,e]));return React.useDebugValue(n),n}const createImpl=t=>{const e=createStore(t),n=r=>useStore(e,r);return Object.assign(n,e),n},create=(t=>t?createImpl(t):createImpl);function createJSONStorage(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var a;const S=M=>M===null?null:JSON.parse(M,void 0),P=(a=n.getItem(s))!=null?a:null;return P instanceof Promise?P.then(S):S(P)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const toThenable=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return toThenable(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return toThenable(r)(n)}}}},persistImpl=(t,e)=>(n,r,s)=>{let a={storage:createJSONStorage(()=>localStorage),partialize:U=>U,version:0,merge:(U,W)=>({...W,...U}),...e},S=!1;const P=new Set,M=new Set;let N=a.storage;if(!N)return t((...U)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...U)},r,s);const F=()=>{const U=a.partialize({...r()});return N.setItem(a.name,{state:U,version:a.version})},z=s.setState;s.setState=(U,W)=>(z(U,W),F());const $=t((...U)=>(n(...U),F()),r,s);s.getInitialState=()=>$;let G;const H=()=>{var U,W;if(!N)return;S=!1,P.forEach(Q=>{var K;return Q((K=r())!=null?K:$)});const Y=((W=a.onRehydrateStorage)==null?void 0:W.call(a,(U=r())!=null?U:$))||void 0;return toThenable(N.getItem.bind(N))(a.name).then(Q=>{if(Q)if(typeof Q.version=="number"&&Q.version!==a.version){if(a.migrate){const K=a.migrate(Q.state,Q.version);return K instanceof Promise?K.then(tt=>[!0,tt]):[!0,K]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Q.state];return[!1,void 0]}).then(Q=>{var K;const[tt,nt]=Q;if(G=a.merge(nt,(K=r())!=null?K:$),n(G,!0),tt)return F()}).then(()=>{Y?.(G,void 0),G=r(),S=!0,M.forEach(Q=>Q(G))}).catch(Q=>{Y?.(void 0,Q)})};return s.persist={setOptions:U=>{a={...a,...U},U.storage&&(N=U.storage)},clearStorage:()=>{N?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>H(),hasHydrated:()=>S,onHydrate:U=>(P.add(U),()=>{P.delete(U)}),onFinishHydration:U=>(M.add(U),()=>{M.delete(U)})},a.skipHydration||H(),G||$},persist=persistImpl,formatDateTime=()=>{const t=new Date,e={weekday:"long",month:"long",day:"numeric"},n={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0},r=t.toLocaleDateString(void 0,e),s=t.toLocaleTimeString(void 0,n);return`${r}    ${s}`},useAppState=create(persist((t,e)=>(setInterval(()=>{t({currentDateTime:formatDateTime()})},1e3),{reportOpen:!1,setReportOpen:n=>t({reportOpen:n}),mapOpen:!1,setMapOpen:n=>t({mapOpen:n}),login:!1,setLogin:n=>t({login:n}),token:"",setToken:n=>t({token:n,login:!0}),user:"",setUser:n=>t({user:n}),volunteers:[],setVolunteers:n=>t({volunteers:n}),base_url:"undefined/api/",map_token:"pk.eyJ1Ijoiam95MTQzIiwiYSI6ImNtZTBxNmp5azA3eDAyc3B2ZDJ0MzA2bzIifQ.3cAGH461ddRycUmezu3INQ",zones:[],setZones:n=>t({zones:n}),reports:[],setReports:n=>t({reports:n}),categories:[],setCategories:n=>t({categories:n}),incidentTypes:[],setIncidentTypes:n=>t({incidentTypes:n}),open:!1,setOpen:n=>t({open:n}),selected:"Dashboard",setSelected:n=>t({selected:n}),route:null,setRoute:n=>t({route:n}),weather:null,setWeather:n=>t({weather:n}),currentDateTime:formatDateTime(),dropdownOpen:!1,setDropdownOpen:n=>t({dropdownOpen:n}),dropNotificationsOpen:!1,setDropNotificationsOpen:n=>t({dropNotificationsOpen:n}),map_styles:{light:"mapbox://styles/mapbox/streets-v12",dark:"mapbox://styles/joy143/cmeuj7k3i00jl01rk90g792d5"},darkMode:!1,toggleDarkMode:()=>{const n=!e().darkMode;t({darkMode:n}),n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},logout:()=>t({token:"",login:!1,user:"",zones:[],reports:[]})}),{name:"app-storage",partialize:t=>({login:t.login,token:t.token,user:t.user,volunteers:t.volunteers,open:t.open,darkMode:t.darkMode,selected:t.selected,map:t.map,mapOpen:t.mapOpen}),onRehydrateStorage:()=>t=>{t?.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}})),Barangay="/assets/Barangay-QcrOYYon.png",Tanod="/assets/bpat-CKBjnYll.png",OCC="/assets/OCC-BhicVq0z.jpg",v$4="5.7.11",fr$3=30,ip$3=0,op$3=60,w$4=512,h$4=512,nm$3="Bouncy Fail",ddd$3=0,assets$3=[],layers$3=JSON.parse(`[{"ddd":0,"ind":1,"ty":4,"nm":"X line 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[256,256,0],"ix":2,"l":2},"a":{"a":0,"k":[41,-3,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[112,-74],[-30,68]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8549,0.8549,0.8549,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":40,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.1961,0.5922,0.2196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":26,"s":[100]},{"t":40,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":26,"op":60,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"X line 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[256,256,0],"ix":2,"l":2},"a":{"a":0,"k":[41,-3,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[112,-74],[-30,68]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8549,0.8549,0.8549,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":40,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.1961,0.5922,0.2196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":26,"s":[0]},{"t":40,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":26,"op":60,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Circle 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11,"x":"var $bm_rt;\\nvar opacityInertialBounce, opacityBounceBack, n, n, t, t, v, amp, freq, decay, v, amp, freq, decay, e, g, nMax, e, g, nMax, n, n, t, v, vl, vu, vu, tCur, segDur, tNext, nb, delta;\\nopacityInertialBounce = effect('Bounce & Drop - ukramedia.com')(44);\\nopacityBounceBack = effect('Bounce & Drop - ukramedia.com')(45);\\ntry {\\n    if (opacityInertialBounce == 1) {\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time) {\\n                n--;\\n            }\\n        }\\n        if (n == 0) {\\n            $bm_rt = t = 0;\\n        } else {\\n            $bm_rt = t = $bm_sub(time, key(n).time);\\n        }\\n        if (effect('Bounce & Drop - ukramedia.com')(58) == 1) {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(59);\\n                freq = effect('Bounce & Drop - ukramedia.com')(60);\\n                decay = effect('Bounce & Drop - ukramedia.com')(61);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(47);\\n                freq = effect('Bounce & Drop - ukramedia.com')(48);\\n                decay = effect('Bounce & Drop - ukramedia.com')(49);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        }\\n    } else if (opacityBounceBack == 1) {\\n        if (effect('Bounce & Drop - ukramedia.com')(64) == 1) {\\n            e = effect('Bounce & Drop - ukramedia.com')(65);\\n            g = effect('Bounce & Drop - ukramedia.com')(66);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(67);\\n        } else {\\n            e = effect('Bounce & Drop - ukramedia.com')(52);\\n            g = effect('Bounce & Drop - ukramedia.com')(53);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(54);\\n        }\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time)\\n                n--;\\n        }\\n        if (n > 0) {\\n            t = $bm_sub(time, key(n).time);\\n            v = $bm_mul($bm_neg(velocityAtTime($bm_sub(key(n).time, 0.001))), e);\\n            vl = length(v);\\n            if ($bm_isInstanceOfArray(value)) {\\n                vu = vl > 0 ? normalize(v) : [\\n                    0,\\n                    0,\\n                    0\\n                ];\\n            } else {\\n                vu = v < 0 ? -1 : 1;\\n            }\\n            tCur = 0;\\n            segDur = $bm_div($bm_mul(2, vl), g);\\n            tNext = segDur;\\n            nb = 1;\\n            while (tNext < t && nb <= nMax) {\\n                vl *= e;\\n                segDur *= e;\\n                tCur = tNext;\\n                tNext = $bm_sum(tNext, segDur);\\n                nb++;\\n            }\\n            if (nb <= nMax) {\\n                delta = $bm_sub(t, tCur);\\n                $bm_rt = $bm_sum(value, $bm_mul($bm_mul(vu, delta), $bm_sub(vl, $bm_div($bm_mul(g, delta), 2))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else\\n            $bm_rt = value;\\n    } else {\\n        $bm_rt = value;\\n    }\\n} catch (err) {\\n    $bm_rt = value;\\n}"},"r":{"a":0,"k":0,"ix":10,"x":"var $bm_rt;\\nvar rotationInertialBounce, rotationBounceBack, n, n, t, t, v, amp, freq, decay, v, amp, freq, decay, e, g, nMax, e, g, nMax, n, n, t, v, vl, vu, vu, tCur, segDur, tNext, nb, delta;\\nrotationInertialBounce = effect('Bounce & Drop - ukramedia.com')(30);\\nrotationBounceBack = effect('Bounce & Drop - ukramedia.com')(31);\\ntry {\\n    if (rotationInertialBounce == 1) {\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time) {\\n                n--;\\n            }\\n        }\\n        if (n == 0) {\\n            $bm_rt = t = 0;\\n        } else {\\n            $bm_rt = t = $bm_sub(time, key(n).time);\\n        }\\n        if (effect('Bounce & Drop - ukramedia.com')(58) == 1) {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(59);\\n                freq = effect('Bounce & Drop - ukramedia.com')(60);\\n                decay = effect('Bounce & Drop - ukramedia.com')(61);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(33);\\n                freq = effect('Bounce & Drop - ukramedia.com')(34);\\n                decay = effect('Bounce & Drop - ukramedia.com')(35);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        }\\n    } else if (rotationBounceBack == 1) {\\n        if (effect('Bounce & Drop - ukramedia.com')(64) == 1) {\\n            e = effect('Bounce & Drop - ukramedia.com')(65);\\n            g = effect('Bounce & Drop - ukramedia.com')(66);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(67);\\n        } else {\\n            e = effect('Bounce & Drop - ukramedia.com')(38);\\n            g = effect('Bounce & Drop - ukramedia.com')(39);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(40);\\n        }\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time)\\n                n--;\\n        }\\n        if (n > 0) {\\n            t = $bm_sub(time, key(n).time);\\n            v = $bm_mul($bm_neg(velocityAtTime($bm_sub(key(n).time, 0.001))), e);\\n            vl = length(v);\\n            if ($bm_isInstanceOfArray(value)) {\\n                vu = vl > 0 ? normalize(v) : [\\n                    0,\\n                    0,\\n                    0\\n                ];\\n            } else {\\n                vu = v < 0 ? -1 : 1;\\n            }\\n            tCur = 0;\\n            segDur = $bm_div($bm_mul(2, vl), g);\\n            tNext = segDur;\\n            nb = 1;\\n            while (tNext < t && nb <= nMax) {\\n                vl *= e;\\n                segDur *= e;\\n                tCur = tNext;\\n                tNext = $bm_sum(tNext, segDur);\\n                nb++;\\n            }\\n            if (nb <= nMax) {\\n                delta = $bm_sub(t, tCur);\\n                $bm_rt = $bm_sum(value, $bm_mul($bm_mul(vu, delta), $bm_sub(vl, $bm_div($bm_mul(g, delta), 2))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else\\n            $bm_rt = value;\\n    } else {\\n        $bm_rt = value;\\n    }\\n} catch (err) {\\n    $bm_rt = value;\\n}"},"p":{"a":0,"k":[256,256,0],"ix":2,"l":2,"x":"var $bm_rt;\\nvar positionInertialBounce, positionBounceBack, n, n, t, t, v, amp, freq, decay, v, amp, freq, decay, e, g, nMax, e, g, nMax, n, n, t, v, vl, vu, vu, tCur, segDur, tNext, nb, delta;\\npositionInertialBounce = effect('Bounce & Drop - ukramedia.com')(2);\\npositionBounceBack = effect('Bounce & Drop - ukramedia.com')(3);\\ntry {\\n    if (positionInertialBounce == 1) {\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time) {\\n                n--;\\n            }\\n        }\\n        if (n == 0) {\\n            $bm_rt = t = 0;\\n        } else {\\n            $bm_rt = t = $bm_sub(time, key(n).time);\\n        }\\n        if (effect('Bounce & Drop - ukramedia.com')(58) == 1) {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(59);\\n                freq = effect('Bounce & Drop - ukramedia.com')(60);\\n                decay = effect('Bounce & Drop - ukramedia.com')(61);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(5);\\n                freq = effect('Bounce & Drop - ukramedia.com')(6);\\n                decay = effect('Bounce & Drop - ukramedia.com')(7);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        }\\n    } else if (positionBounceBack == 1) {\\n        if (effect('Bounce & Drop - ukramedia.com')(64) == 1) {\\n            e = effect('Bounce & Drop - ukramedia.com')(65);\\n            g = effect('Bounce & Drop - ukramedia.com')(66);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(67);\\n        } else {\\n            e = effect('Bounce & Drop - ukramedia.com')(10);\\n            g = effect('Bounce & Drop - ukramedia.com')(11);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(12);\\n        }\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time)\\n                n--;\\n        }\\n        if (n > 0) {\\n            t = $bm_sub(time, key(n).time);\\n            v = $bm_mul($bm_neg(velocityAtTime($bm_sub(key(n).time, 0.001))), e);\\n            vl = length(v);\\n            if ($bm_isInstanceOfArray(value)) {\\n                vu = vl > 0 ? normalize(v) : [\\n                    0,\\n                    0,\\n                    0\\n                ];\\n            } else {\\n                vu = v < 0 ? -1 : 1;\\n            }\\n            tCur = 0;\\n            segDur = $bm_div($bm_mul(2, vl), g);\\n            tNext = segDur;\\n            nb = 1;\\n            while (tNext < t && nb <= nMax) {\\n                vl *= e;\\n                segDur *= e;\\n                tCur = tNext;\\n                tNext = $bm_sum(tNext, segDur);\\n                nb++;\\n            }\\n            if (nb <= nMax) {\\n                delta = $bm_sub(t, tCur);\\n                $bm_rt = $bm_sum(value, $bm_mul($bm_mul(vu, delta), $bm_sub(vl, $bm_div($bm_mul(g, delta), 2))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else\\n            $bm_rt = value;\\n    } else {\\n        $bm_rt = value;\\n    }\\n} catch (err) {\\n    $bm_rt = value;\\n}"},"a":{"a":0,"k":[140.061,140.061,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,1.01]},"t":10,"s":[0,0,100]},{"t":20,"s":[140,140,100]}],"ix":6,"l":2,"x":"var $bm_rt;\\nvar scaleInertialBounce, scaleBounceBack, n, n, t, t, v, amp, freq, decay, v, amp, freq, decay, e, g, nMax, e, g, nMax, n, n, t, v, vl, vu, vu, tCur, segDur, tNext, nb, delta;\\nscaleInertialBounce = effect('Bounce & Drop - ukramedia.com')(16);\\nscaleBounceBack = effect('Bounce & Drop - ukramedia.com')(17);\\ntry {\\n    if (scaleInertialBounce == 1) {\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time) {\\n                n--;\\n            }\\n        }\\n        if (n == 0) {\\n            $bm_rt = t = 0;\\n        } else {\\n            $bm_rt = t = $bm_sub(time, key(n).time);\\n        }\\n        if (effect('Bounce & Drop - ukramedia.com')(58) == 1) {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(59);\\n                freq = effect('Bounce & Drop - ukramedia.com')(60);\\n                decay = effect('Bounce & Drop - ukramedia.com')(61);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(19);\\n                freq = effect('Bounce & Drop - ukramedia.com')(20);\\n                decay = effect('Bounce & Drop - ukramedia.com')(21);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        }\\n    } else if (scaleBounceBack == 1) {\\n        if (effect('Bounce & Drop - ukramedia.com')(64) == 1) {\\n            e = effect('Bounce & Drop - ukramedia.com')(65);\\n            g = effect('Bounce & Drop - ukramedia.com')(66);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(67);\\n        } else {\\n            e = effect('Bounce & Drop - ukramedia.com')(24);\\n            g = effect('Bounce & Drop - ukramedia.com')(25);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(26);\\n        }\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time)\\n                n--;\\n        }\\n        if (n > 0) {\\n            t = $bm_sub(time, key(n).time);\\n            v = $bm_mul($bm_neg(velocityAtTime($bm_sub(key(n).time, 0.001))), e);\\n            vl = length(v);\\n            if ($bm_isInstanceOfArray(value)) {\\n                vu = vl > 0 ? normalize(v) : [\\n                    0,\\n                    0,\\n                    0\\n                ];\\n            } else {\\n                vu = v < 0 ? -1 : 1;\\n            }\\n            tCur = 0;\\n            segDur = $bm_div($bm_mul(2, vl), g);\\n            tNext = segDur;\\n            nb = 1;\\n            while (tNext < t && nb <= nMax) {\\n                vl *= e;\\n                segDur *= e;\\n                tCur = tNext;\\n                tNext = $bm_sum(tNext, segDur);\\n                nb++;\\n            }\\n            if (nb <= nMax) {\\n                delta = $bm_sub(t, tCur);\\n                $bm_rt = $bm_sum(value, $bm_mul($bm_mul(vu, delta), $bm_sub(vl, $bm_div($bm_mul(g, delta), 2))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else\\n            $bm_rt = value;\\n    } else {\\n        $bm_rt = value;\\n    }\\n} catch (err) {\\n    $bm_rt = value;\\n}"}},"ao":0,"ef":[{"ty":5,"nm":"Bounce & Drop - ukramedia.com","np":70,"mn":"Pseudo/animationControl","ix":1,"en":1,"ef":[{"ty":6,"nm":"Position","mn":"Pseudo/animationControl-0001","ix":1,"v":0},{"ty":7,"nm":"Enable Inertial Bounce","mn":"Pseudo/animationControl-0002","ix":2,"v":{"a":0,"k":0,"ix":2}},{"ty":7,"nm":"Enable Bounce Back","mn":"Pseudo/animationControl-0003","ix":3,"v":{"a":0,"k":0,"ix":3}},{"ty":6,"nm":"Inertial Bounce Options","mn":"Pseudo/animationControl-0004","ix":4,"v":0},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0005","ix":5,"v":{"a":0,"k":0.05,"ix":5}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0006","ix":6,"v":{"a":0,"k":4,"ix":6}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0007","ix":7,"v":{"a":0,"k":8,"ix":7}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0008","ix":8,"v":0},{"ty":6,"nm":"Bounce Back Options","mn":"Pseudo/animationControl-0009","ix":9,"v":0},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0010","ix":10,"v":{"a":0,"k":0.7,"ix":10}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0011","ix":11,"v":{"a":0,"k":5000,"ix":11}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0012","ix":12,"v":{"a":0,"k":9,"ix":12}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0013","ix":13,"v":0},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0014","ix":14,"v":0},{"ty":6,"nm":"Scale","mn":"Pseudo/animationControl-0015","ix":15,"v":0},{"ty":7,"nm":"Enable Inertial Bounce","mn":"Pseudo/animationControl-0016","ix":16,"v":{"a":0,"k":1,"ix":16}},{"ty":7,"nm":"Enable Bounce Back","mn":"Pseudo/animationControl-0017","ix":17,"v":{"a":0,"k":0,"ix":17}},{"ty":6,"nm":"Inertial Bounce Options","mn":"Pseudo/animationControl-0018","ix":18,"v":0},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0019","ix":19,"v":{"a":0,"k":0.8,"ix":19}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0020","ix":20,"v":{"a":0,"k":4,"ix":20}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0021","ix":21,"v":{"a":0,"k":8,"ix":21}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0022","ix":22,"v":0},{"ty":6,"nm":"Bounce Back Options","mn":"Pseudo/animationControl-0023","ix":23,"v":0},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0024","ix":24,"v":{"a":0,"k":0.7,"ix":24}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0025","ix":25,"v":{"a":0,"k":5000,"ix":25}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0026","ix":26,"v":{"a":0,"k":9,"ix":26}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0027","ix":27,"v":0},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0028","ix":28,"v":0},{"ty":6,"nm":"Rotation","mn":"Pseudo/animationControl-0029","ix":29,"v":0},{"ty":7,"nm":"Enable Inertial Bounce","mn":"Pseudo/animationControl-0030","ix":30,"v":{"a":0,"k":0,"ix":30}},{"ty":7,"nm":"Enable Bounce Back","mn":"Pseudo/animationControl-0031","ix":31,"v":{"a":0,"k":0,"ix":31}},{"ty":6,"nm":"Inertial Bounce Options","mn":"Pseudo/animationControl-0032","ix":32,"v":0},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0033","ix":33,"v":{"a":0,"k":0.05,"ix":33}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0034","ix":34,"v":{"a":0,"k":4,"ix":34}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0035","ix":35,"v":{"a":0,"k":8,"ix":35}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0036","ix":36,"v":0},{"ty":6,"nm":"Bounce Back Options","mn":"Pseudo/animationControl-0037","ix":37,"v":0},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0038","ix":38,"v":{"a":0,"k":0.7,"ix":38}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0039","ix":39,"v":{"a":0,"k":5000,"ix":39}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0040","ix":40,"v":{"a":0,"k":9,"ix":40}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0041","ix":41,"v":0},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0042","ix":42,"v":0},{"ty":6,"nm":"Opacity","mn":"Pseudo/animationControl-0043","ix":43,"v":0},{"ty":7,"nm":"Enable Inertial Bounce","mn":"Pseudo/animationControl-0044","ix":44,"v":{"a":0,"k":0,"ix":44}},{"ty":7,"nm":"Enable Bounce Back","mn":"Pseudo/animationControl-0045","ix":45,"v":{"a":0,"k":0,"ix":45}},{"ty":6,"nm":"Inertial Bounce Options","mn":"Pseudo/animationControl-0046","ix":46,"v":0},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0047","ix":47,"v":{"a":0,"k":0.05,"ix":47}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0048","ix":48,"v":{"a":0,"k":4,"ix":48}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0049","ix":49,"v":{"a":0,"k":8,"ix":49}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0050","ix":50,"v":0},{"ty":6,"nm":"Bounce Back Options","mn":"Pseudo/animationControl-0051","ix":51,"v":0},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0052","ix":52,"v":{"a":0,"k":0.7,"ix":52}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0053","ix":53,"v":{"a":0,"k":5000,"ix":53}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0054","ix":54,"v":{"a":0,"k":9,"ix":54}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0055","ix":55,"v":0},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0056","ix":56,"v":0},{"ty":6,"nm":"Global Inertial Bounce Options","mn":"Pseudo/animationControl-0057","ix":57,"v":0},{"ty":7,"nm":"Enable Global Inertial Bounce","mn":"Pseudo/animationControl-0058","ix":58,"v":{"a":0,"k":0,"ix":58}},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0059","ix":59,"v":{"a":0,"k":0.05,"ix":59}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0060","ix":60,"v":{"a":0,"k":4,"ix":60}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0061","ix":61,"v":{"a":0,"k":8,"ix":61}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0062","ix":62,"v":0},{"ty":6,"nm":"Global Bounce Back Options","mn":"Pseudo/animationControl-0063","ix":63,"v":0},{"ty":7,"nm":"Enable Global Bounce Back","mn":"Pseudo/animationControl-0064","ix":64,"v":{"a":0,"k":0,"ix":64}},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0065","ix":65,"v":{"a":0,"k":0.7,"ix":65}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0066","ix":66,"v":{"a":0,"k":5000,"ix":66}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0067","ix":67,"v":{"a":0,"k":9,"ix":67}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0068","ix":68,"v":0}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-77.215],[77.216,0],[0,77.215],[-77.215,0]],"o":[[0,77.215],[-77.215,0],[0,-77.215],[77.216,0]],"v":[[139.811,0],[0,139.811],[-139.811,0],[0,-139.811]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.1961,0.5922,0.2196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[140.061,140.061],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":10,"op":360,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Circle 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":41.25,"s":[50]},{"t":55,"s":[0]}],"ix":11,"x":"var $bm_rt;\\nvar opacityInertialBounce, opacityBounceBack, n, n, t, t, v, amp, freq, decay, v, amp, freq, decay, e, g, nMax, e, g, nMax, n, n, t, v, vl, vu, vu, tCur, segDur, tNext, nb, delta;\\nopacityInertialBounce = effect('Bounce & Drop - ukramedia.com')(44);\\nopacityBounceBack = effect('Bounce & Drop - ukramedia.com')(45);\\ntry {\\n    if (opacityInertialBounce == 1) {\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time) {\\n                n--;\\n            }\\n        }\\n        if (n == 0) {\\n            $bm_rt = t = 0;\\n        } else {\\n            $bm_rt = t = $bm_sub(time, key(n).time);\\n        }\\n        if (effect('Bounce & Drop - ukramedia.com')(58) == 1) {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(59);\\n                freq = effect('Bounce & Drop - ukramedia.com')(60);\\n                decay = effect('Bounce & Drop - ukramedia.com')(61);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(47);\\n                freq = effect('Bounce & Drop - ukramedia.com')(48);\\n                decay = effect('Bounce & Drop - ukramedia.com')(49);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        }\\n    } else if (opacityBounceBack == 1) {\\n        if (effect('Bounce & Drop - ukramedia.com')(64) == 1) {\\n            e = effect('Bounce & Drop - ukramedia.com')(65);\\n            g = effect('Bounce & Drop - ukramedia.com')(66);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(67);\\n        } else {\\n            e = effect('Bounce & Drop - ukramedia.com')(52);\\n            g = effect('Bounce & Drop - ukramedia.com')(53);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(54);\\n        }\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time)\\n                n--;\\n        }\\n        if (n > 0) {\\n            t = $bm_sub(time, key(n).time);\\n            v = $bm_mul($bm_neg(velocityAtTime($bm_sub(key(n).time, 0.001))), e);\\n            vl = length(v);\\n            if ($bm_isInstanceOfArray(value)) {\\n                vu = vl > 0 ? normalize(v) : [\\n                    0,\\n                    0,\\n                    0\\n                ];\\n            } else {\\n                vu = v < 0 ? -1 : 1;\\n            }\\n            tCur = 0;\\n            segDur = $bm_div($bm_mul(2, vl), g);\\n            tNext = segDur;\\n            nb = 1;\\n            while (tNext < t && nb <= nMax) {\\n                vl *= e;\\n                segDur *= e;\\n                tCur = tNext;\\n                tNext = $bm_sum(tNext, segDur);\\n                nb++;\\n            }\\n            if (nb <= nMax) {\\n                delta = $bm_sub(t, tCur);\\n                $bm_rt = $bm_sum(value, $bm_mul($bm_mul(vu, delta), $bm_sub(vl, $bm_div($bm_mul(g, delta), 2))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else\\n            $bm_rt = value;\\n    } else {\\n        $bm_rt = value;\\n    }\\n} catch (err) {\\n    $bm_rt = value;\\n}"},"r":{"a":0,"k":0,"ix":10,"x":"var $bm_rt;\\nvar rotationInertialBounce, rotationBounceBack, n, n, t, t, v, amp, freq, decay, v, amp, freq, decay, e, g, nMax, e, g, nMax, n, n, t, v, vl, vu, vu, tCur, segDur, tNext, nb, delta;\\nrotationInertialBounce = effect('Bounce & Drop - ukramedia.com')(30);\\nrotationBounceBack = effect('Bounce & Drop - ukramedia.com')(31);\\ntry {\\n    if (rotationInertialBounce == 1) {\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time) {\\n                n--;\\n            }\\n        }\\n        if (n == 0) {\\n            $bm_rt = t = 0;\\n        } else {\\n            $bm_rt = t = $bm_sub(time, key(n).time);\\n        }\\n        if (effect('Bounce & Drop - ukramedia.com')(58) == 1) {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(59);\\n                freq = effect('Bounce & Drop - ukramedia.com')(60);\\n                decay = effect('Bounce & Drop - ukramedia.com')(61);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(33);\\n                freq = effect('Bounce & Drop - ukramedia.com')(34);\\n                decay = effect('Bounce & Drop - ukramedia.com')(35);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        }\\n    } else if (rotationBounceBack == 1) {\\n        if (effect('Bounce & Drop - ukramedia.com')(64) == 1) {\\n            e = effect('Bounce & Drop - ukramedia.com')(65);\\n            g = effect('Bounce & Drop - ukramedia.com')(66);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(67);\\n        } else {\\n            e = effect('Bounce & Drop - ukramedia.com')(38);\\n            g = effect('Bounce & Drop - ukramedia.com')(39);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(40);\\n        }\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time)\\n                n--;\\n        }\\n        if (n > 0) {\\n            t = $bm_sub(time, key(n).time);\\n            v = $bm_mul($bm_neg(velocityAtTime($bm_sub(key(n).time, 0.001))), e);\\n            vl = length(v);\\n            if ($bm_isInstanceOfArray(value)) {\\n                vu = vl > 0 ? normalize(v) : [\\n                    0,\\n                    0,\\n                    0\\n                ];\\n            } else {\\n                vu = v < 0 ? -1 : 1;\\n            }\\n            tCur = 0;\\n            segDur = $bm_div($bm_mul(2, vl), g);\\n            tNext = segDur;\\n            nb = 1;\\n            while (tNext < t && nb <= nMax) {\\n                vl *= e;\\n                segDur *= e;\\n                tCur = tNext;\\n                tNext = $bm_sum(tNext, segDur);\\n                nb++;\\n            }\\n            if (nb <= nMax) {\\n                delta = $bm_sub(t, tCur);\\n                $bm_rt = $bm_sum(value, $bm_mul($bm_mul(vu, delta), $bm_sub(vl, $bm_div($bm_mul(g, delta), 2))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else\\n            $bm_rt = value;\\n    } else {\\n        $bm_rt = value;\\n    }\\n} catch (err) {\\n    $bm_rt = value;\\n}"},"p":{"a":0,"k":[256,256,0],"ix":2,"l":2,"x":"var $bm_rt;\\nvar positionInertialBounce, positionBounceBack, n, n, t, t, v, amp, freq, decay, v, amp, freq, decay, e, g, nMax, e, g, nMax, n, n, t, v, vl, vu, vu, tCur, segDur, tNext, nb, delta;\\npositionInertialBounce = effect('Bounce & Drop - ukramedia.com')(2);\\npositionBounceBack = effect('Bounce & Drop - ukramedia.com')(3);\\ntry {\\n    if (positionInertialBounce == 1) {\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time) {\\n                n--;\\n            }\\n        }\\n        if (n == 0) {\\n            $bm_rt = t = 0;\\n        } else {\\n            $bm_rt = t = $bm_sub(time, key(n).time);\\n        }\\n        if (effect('Bounce & Drop - ukramedia.com')(58) == 1) {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(59);\\n                freq = effect('Bounce & Drop - ukramedia.com')(60);\\n                decay = effect('Bounce & Drop - ukramedia.com')(61);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(5);\\n                freq = effect('Bounce & Drop - ukramedia.com')(6);\\n                decay = effect('Bounce & Drop - ukramedia.com')(7);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        }\\n    } else if (positionBounceBack == 1) {\\n        if (effect('Bounce & Drop - ukramedia.com')(64) == 1) {\\n            e = effect('Bounce & Drop - ukramedia.com')(65);\\n            g = effect('Bounce & Drop - ukramedia.com')(66);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(67);\\n        } else {\\n            e = effect('Bounce & Drop - ukramedia.com')(10);\\n            g = effect('Bounce & Drop - ukramedia.com')(11);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(12);\\n        }\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time)\\n                n--;\\n        }\\n        if (n > 0) {\\n            t = $bm_sub(time, key(n).time);\\n            v = $bm_mul($bm_neg(velocityAtTime($bm_sub(key(n).time, 0.001))), e);\\n            vl = length(v);\\n            if ($bm_isInstanceOfArray(value)) {\\n                vu = vl > 0 ? normalize(v) : [\\n                    0,\\n                    0,\\n                    0\\n                ];\\n            } else {\\n                vu = v < 0 ? -1 : 1;\\n            }\\n            tCur = 0;\\n            segDur = $bm_div($bm_mul(2, vl), g);\\n            tNext = segDur;\\n            nb = 1;\\n            while (tNext < t && nb <= nMax) {\\n                vl *= e;\\n                segDur *= e;\\n                tCur = tNext;\\n                tNext = $bm_sum(tNext, segDur);\\n                nb++;\\n            }\\n            if (nb <= nMax) {\\n                delta = $bm_sub(t, tCur);\\n                $bm_rt = $bm_sum(value, $bm_mul($bm_mul(vu, delta), $bm_sub(vl, $bm_div($bm_mul(g, delta), 2))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else\\n            $bm_rt = value;\\n    } else {\\n        $bm_rt = value;\\n    }\\n} catch (err) {\\n    $bm_rt = value;\\n}"},"a":{"a":0,"k":[140.061,140.061,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,16.794]},"t":0,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,-0.38]},"t":10,"s":[132,132,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,-0.21]},"t":35,"s":[130,130,100]},{"t":55,"s":[175,175,100]}],"ix":6,"l":2,"x":"var $bm_rt;\\nvar scaleInertialBounce, scaleBounceBack, n, n, t, t, v, amp, freq, decay, v, amp, freq, decay, e, g, nMax, e, g, nMax, n, n, t, v, vl, vu, vu, tCur, segDur, tNext, nb, delta;\\nscaleInertialBounce = effect('Bounce & Drop - ukramedia.com')(16);\\nscaleBounceBack = effect('Bounce & Drop - ukramedia.com')(17);\\ntry {\\n    if (scaleInertialBounce == 1) {\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time) {\\n                n--;\\n            }\\n        }\\n        if (n == 0) {\\n            $bm_rt = t = 0;\\n        } else {\\n            $bm_rt = t = $bm_sub(time, key(n).time);\\n        }\\n        if (effect('Bounce & Drop - ukramedia.com')(58) == 1) {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(59);\\n                freq = effect('Bounce & Drop - ukramedia.com')(60);\\n                decay = effect('Bounce & Drop - ukramedia.com')(61);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else {\\n            if (n > 0 && t < 1) {\\n                v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10)));\\n                amp = effect('Bounce & Drop - ukramedia.com')(19);\\n                freq = effect('Bounce & Drop - ukramedia.com')(20);\\n                decay = effect('Bounce & Drop - ukramedia.com')(21);\\n                $bm_rt = $bm_sum(value, $bm_div($bm_mul($bm_mul(v, amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        }\\n    } else if (scaleBounceBack == 1) {\\n        if (effect('Bounce & Drop - ukramedia.com')(64) == 1) {\\n            e = effect('Bounce & Drop - ukramedia.com')(65);\\n            g = effect('Bounce & Drop - ukramedia.com')(66);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(67);\\n        } else {\\n            e = effect('Bounce & Drop - ukramedia.com')(24);\\n            g = effect('Bounce & Drop - ukramedia.com')(25);\\n            nMax = effect('Bounce & Drop - ukramedia.com')(26);\\n        }\\n        $bm_rt = n = 0;\\n        if (numKeys > 0) {\\n            $bm_rt = n = nearestKey(time).index;\\n            if (key(n).time > time)\\n                n--;\\n        }\\n        if (n > 0) {\\n            t = $bm_sub(time, key(n).time);\\n            v = $bm_mul($bm_neg(velocityAtTime($bm_sub(key(n).time, 0.001))), e);\\n            vl = length(v);\\n            if ($bm_isInstanceOfArray(value)) {\\n                vu = vl > 0 ? normalize(v) : [\\n                    0,\\n                    0,\\n                    0\\n                ];\\n            } else {\\n                vu = v < 0 ? -1 : 1;\\n            }\\n            tCur = 0;\\n            segDur = $bm_div($bm_mul(2, vl), g);\\n            tNext = segDur;\\n            nb = 1;\\n            while (tNext < t && nb <= nMax) {\\n                vl *= e;\\n                segDur *= e;\\n                tCur = tNext;\\n                tNext = $bm_sum(tNext, segDur);\\n                nb++;\\n            }\\n            if (nb <= nMax) {\\n                delta = $bm_sub(t, tCur);\\n                $bm_rt = $bm_sum(value, $bm_mul($bm_mul(vu, delta), $bm_sub(vl, $bm_div($bm_mul(g, delta), 2))));\\n            } else {\\n                $bm_rt = value;\\n            }\\n        } else\\n            $bm_rt = value;\\n    } else {\\n        $bm_rt = value;\\n    }\\n} catch (err) {\\n    $bm_rt = value;\\n}"}},"ao":0,"ef":[{"ty":5,"nm":"Bounce & Drop - ukramedia.com","np":70,"mn":"Pseudo/animationControl","ix":1,"en":1,"ef":[{"ty":6,"nm":"Position","mn":"Pseudo/animationControl-0001","ix":1,"v":0},{"ty":7,"nm":"Enable Inertial Bounce","mn":"Pseudo/animationControl-0002","ix":2,"v":{"a":0,"k":0,"ix":2}},{"ty":7,"nm":"Enable Bounce Back","mn":"Pseudo/animationControl-0003","ix":3,"v":{"a":0,"k":0,"ix":3}},{"ty":6,"nm":"Inertial Bounce Options","mn":"Pseudo/animationControl-0004","ix":4,"v":0},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0005","ix":5,"v":{"a":0,"k":0.05,"ix":5}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0006","ix":6,"v":{"a":0,"k":4,"ix":6}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0007","ix":7,"v":{"a":0,"k":8,"ix":7}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0008","ix":8,"v":0},{"ty":6,"nm":"Bounce Back Options","mn":"Pseudo/animationControl-0009","ix":9,"v":0},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0010","ix":10,"v":{"a":0,"k":0.7,"ix":10}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0011","ix":11,"v":{"a":0,"k":5000,"ix":11}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0012","ix":12,"v":{"a":0,"k":9,"ix":12}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0013","ix":13,"v":0},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0014","ix":14,"v":0},{"ty":6,"nm":"Scale","mn":"Pseudo/animationControl-0015","ix":15,"v":0},{"ty":7,"nm":"Enable Inertial Bounce","mn":"Pseudo/animationControl-0016","ix":16,"v":{"a":0,"k":1,"ix":16}},{"ty":7,"nm":"Enable Bounce Back","mn":"Pseudo/animationControl-0017","ix":17,"v":{"a":0,"k":0,"ix":17}},{"ty":6,"nm":"Inertial Bounce Options","mn":"Pseudo/animationControl-0018","ix":18,"v":0},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0019","ix":19,"v":{"a":0,"k":0.8,"ix":19}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0020","ix":20,"v":{"a":0,"k":4,"ix":20}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0021","ix":21,"v":{"a":0,"k":8,"ix":21}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0022","ix":22,"v":0},{"ty":6,"nm":"Bounce Back Options","mn":"Pseudo/animationControl-0023","ix":23,"v":0},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0024","ix":24,"v":{"a":0,"k":0.7,"ix":24}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0025","ix":25,"v":{"a":0,"k":5000,"ix":25}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0026","ix":26,"v":{"a":0,"k":9,"ix":26}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0027","ix":27,"v":0},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0028","ix":28,"v":0},{"ty":6,"nm":"Rotation","mn":"Pseudo/animationControl-0029","ix":29,"v":0},{"ty":7,"nm":"Enable Inertial Bounce","mn":"Pseudo/animationControl-0030","ix":30,"v":{"a":0,"k":0,"ix":30}},{"ty":7,"nm":"Enable Bounce Back","mn":"Pseudo/animationControl-0031","ix":31,"v":{"a":0,"k":0,"ix":31}},{"ty":6,"nm":"Inertial Bounce Options","mn":"Pseudo/animationControl-0032","ix":32,"v":0},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0033","ix":33,"v":{"a":0,"k":0.05,"ix":33}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0034","ix":34,"v":{"a":0,"k":4,"ix":34}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0035","ix":35,"v":{"a":0,"k":8,"ix":35}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0036","ix":36,"v":0},{"ty":6,"nm":"Bounce Back Options","mn":"Pseudo/animationControl-0037","ix":37,"v":0},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0038","ix":38,"v":{"a":0,"k":0.7,"ix":38}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0039","ix":39,"v":{"a":0,"k":5000,"ix":39}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0040","ix":40,"v":{"a":0,"k":9,"ix":40}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0041","ix":41,"v":0},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0042","ix":42,"v":0},{"ty":6,"nm":"Opacity","mn":"Pseudo/animationControl-0043","ix":43,"v":0},{"ty":7,"nm":"Enable Inertial Bounce","mn":"Pseudo/animationControl-0044","ix":44,"v":{"a":0,"k":0,"ix":44}},{"ty":7,"nm":"Enable Bounce Back","mn":"Pseudo/animationControl-0045","ix":45,"v":{"a":0,"k":0,"ix":45}},{"ty":6,"nm":"Inertial Bounce Options","mn":"Pseudo/animationControl-0046","ix":46,"v":0},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0047","ix":47,"v":{"a":0,"k":0.05,"ix":47}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0048","ix":48,"v":{"a":0,"k":4,"ix":48}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0049","ix":49,"v":{"a":0,"k":8,"ix":49}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0050","ix":50,"v":0},{"ty":6,"nm":"Bounce Back Options","mn":"Pseudo/animationControl-0051","ix":51,"v":0},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0052","ix":52,"v":{"a":0,"k":0.7,"ix":52}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0053","ix":53,"v":{"a":0,"k":5000,"ix":53}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0054","ix":54,"v":{"a":0,"k":9,"ix":54}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0055","ix":55,"v":0},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0056","ix":56,"v":0},{"ty":6,"nm":"Global Inertial Bounce Options","mn":"Pseudo/animationControl-0057","ix":57,"v":0},{"ty":7,"nm":"Enable Global Inertial Bounce","mn":"Pseudo/animationControl-0058","ix":58,"v":{"a":0,"k":0,"ix":58}},{"ty":0,"nm":"Amplitude","mn":"Pseudo/animationControl-0059","ix":59,"v":{"a":0,"k":0.05,"ix":59}},{"ty":0,"nm":"Frequency","mn":"Pseudo/animationControl-0060","ix":60,"v":{"a":0,"k":4,"ix":60}},{"ty":0,"nm":"Decay","mn":"Pseudo/animationControl-0061","ix":61,"v":{"a":0,"k":8,"ix":61}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0062","ix":62,"v":0},{"ty":6,"nm":"Global Bounce Back Options","mn":"Pseudo/animationControl-0063","ix":63,"v":0},{"ty":7,"nm":"Enable Global Bounce Back","mn":"Pseudo/animationControl-0064","ix":64,"v":{"a":0,"k":0,"ix":64}},{"ty":0,"nm":"Elasticity","mn":"Pseudo/animationControl-0065","ix":65,"v":{"a":0,"k":0.7,"ix":65}},{"ty":0,"nm":"Gravity","mn":"Pseudo/animationControl-0066","ix":66,"v":{"a":0,"k":5000,"ix":66}},{"ty":0,"nm":"nMax","mn":"Pseudo/animationControl-0067","ix":67,"v":{"a":0,"k":9,"ix":67}},{"ty":6,"nm":"","mn":"Pseudo/animationControl-0068","ix":68,"v":0}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-77.215],[77.216,0],[0,77.215],[-77.215,0]],"o":[[0,77.215],[-77.215,0],[0,-77.215],[77.216,0]],"v":[[139.811,0],[0,139.811],[-139.811,0],[0,-139.811]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.1961,0.5922,0.2196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[140.061,140.061],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":360,"st":0,"bm":0}]`),markers$2=[],Wrong={v:v$4,fr:fr$3,ip:ip$3,op:op$3,w:w$4,h:h$4,nm:nm$3,ddd:ddd$3,assets:assets$3,layers:layers$3,markers:markers$2};function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>e=>{const n=toString.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction$1(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$2=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in t)&&!(iterator in t)},isEmptyObject=t=>{if(!isObject$2(t)||isBuffer(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$2(t)&&isFunction$1(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$1(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction$1(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),isArray$1(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(isBuffer(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),S=a.length;let P;for(r=0;r<S;r++)P=a[r],e.call(null,t[P],P,t)}}function findKey(t,e){if(isBuffer(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge$2(){const{caseless:t}=isContextDefined(this)&&this||{},e={},n=(r,s)=>{const a=t&&findKey(e,s)||s;isPlainObject(e[a])&&isPlainObject(r)?e[a]=merge$2(e[a],r):isPlainObject(r)?e[a]=merge$2({},r):isArray$1(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&forEach(arguments[r],n);return e}const extend=(t,e,n,{allOwnKeys:r}={})=>(forEach(e,(s,a)=>{n&&isFunction$1(s)?t[a]=bind(s,n):t[a]=s},{allOwnKeys:r}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject=(t,e,n,r)=>{let s,a,S;const P={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)S=s[a],(!r||r(S,t,e))&&!P[S]&&(e[S]=t[S],P[S]=!0);t=n!==!1&&getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},toArray=t=>{if(!t)return null;if(isArray$1(t))return t;let e=t.length;if(!isNumber$2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const r=(t&&t[iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},matchAll=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),hasOwnProperty=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};forEach(n,(s,a)=>{let S;(S=e(s,a,t))!==!1&&(r[a]=S||s)}),Object.defineProperties(t,r)},freezeMethods=t=>{reduceDescriptors(t,(e,n)=>{if(isFunction$1(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(isFunction$1(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(t,e)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return isArray$1(t)?r(t):r(String(t).split(e)),n},noop$3=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction$1(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const e=new Array(10),n=(r,s)=>{if(isObject$2(r)){if(e.indexOf(r)>=0)return;if(isBuffer(r))return r;if(!("toJSON"in r)){e[s]=r;const a=isArray$1(r)?[]:{};return forEach(r,(S,P)=>{const M=n(S,s+1);!isUndefined(M)&&(a[P]=M)}),e[s]=void 0,a}}return r};return n(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$2(t)||isFunction$1(t))&&isFunction$1(t.then)&&isFunction$1(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((n,r)=>(_global.addEventListener("message",({source:s,data:a})=>{s===_global&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction$1(t[iterator]),utils$1={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$2,isBoolean,isObject:isObject$2,isPlainObject,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$2,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$3,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors$1[t]={value:t}});Object.defineProperties(AxiosError$1,descriptors$1);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(t,e,n,r,s,a)=>{const S=Object.create(prototype$1);return utils$1.toFlatObject(t,S,function(M){return M!==Error.prototype},P=>P!=="isAxiosError"),AxiosError$1.call(S,t.message,e,n,r,s),S.cause=t,S.name=t.name,a&&Object.assign(S,a),S};const httpAdapter=null;function isVisitable(t){return utils$1.isPlainObject(t)||utils$1.isArray(t)}function removeBrackets(t){return utils$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,n){return t?t.concat(e).map(function(s,a){return s=removeBrackets(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function isFlatArray(t){return utils$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData$1(t,e,n){if(!utils$1.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=utils$1.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,W){return!utils$1.isUndefined(W[U])});const r=n.metaTokens,s=n.visitor||F,a=n.dots,S=n.indexes,M=(n.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(s))throw new TypeError("visitor must be a function");function N(H){if(H===null)return"";if(utils$1.isDate(H))return H.toISOString();if(utils$1.isBoolean(H))return H.toString();if(!M&&utils$1.isBlob(H))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(H)||utils$1.isTypedArray(H)?M&&typeof Blob=="function"?new Blob([H]):Buffer.from(H):H}function F(H,U,W){let Y=H;if(H&&!W&&typeof H=="object"){if(utils$1.endsWith(U,"{}"))U=r?U:U.slice(0,-2),H=JSON.stringify(H);else if(utils$1.isArray(H)&&isFlatArray(H)||(utils$1.isFileList(H)||utils$1.endsWith(U,"[]"))&&(Y=utils$1.toArray(H)))return U=removeBrackets(U),Y.forEach(function(K,tt){!(utils$1.isUndefined(K)||K===null)&&e.append(S===!0?renderKey([U],tt,a):S===null?U:U+"[]",N(K))}),!1}return isVisitable(H)?!0:(e.append(renderKey(W,U,a),N(H)),!1)}const z=[],$=Object.assign(predicates,{defaultVisitor:F,convertValue:N,isVisitable});function G(H,U){if(!utils$1.isUndefined(H)){if(z.indexOf(H)!==-1)throw Error("Circular reference detected in "+U.join("."));z.push(H),utils$1.forEach(H,function(Y,Q){(!(utils$1.isUndefined(Y)||Y===null)&&s.call(e,Y,utils$1.isString(Q)?Q.trim():Q,U,$))===!0&&G(Y,U?U.concat(Q):[Q])}),z.pop()}}if(!utils$1.isObject(t))throw new TypeError("data must be an object");return G(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData$1(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,n){this._pairs.push([e,n])};prototype.toString=function(e){const n=e?function(r){return e.call(this,r,encode$1)}:encode$1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,n){if(!e)return t;const r=n&&n.encode||encode;utils$1.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,n).toString(r),a){const S=t.indexOf("#");S!==-1&&(t=t.slice(0,S)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(r){r!==null&&e(r)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(t,e){return toFormData$1(t,new platform.classes.URLSearchParams,{visitor:function(n,r,s,a){return platform.isNode&&utils$1.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function parsePropPath(t){return utils$1.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},n=Object.keys(t);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],e[a]=t[a];return e}function formDataToJSON(t){function e(n,r,s,a){let S=n[a++];if(S==="__proto__")return!0;const P=Number.isFinite(+S),M=a>=n.length;return S=!S&&utils$1.isArray(s)?s.length:S,M?(utils$1.hasOwnProp(s,S)?s[S]=[s[S],r]:s[S]=r,!P):((!s[S]||!utils$1.isObject(s[S]))&&(s[S]=[]),e(n,r,s[S],a)&&utils$1.isArray(s[S])&&(s[S]=arrayToObject(s[S])),!P)}if(utils$1.isFormData(t)&&utils$1.isFunction(t.entries)){const n={};return utils$1.forEachEntry(t,(r,s)=>{e(parsePropPath(r),s,n,0)}),n}return null}function stringifySafely(t,e,n){if(utils$1.isString(t))try{return(e||JSON.parse)(t),utils$1.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=utils$1.isObject(e);if(a&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return s?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let P;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((P=utils$1.isFileList(e))||r.indexOf("multipart/form-data")>-1){const M=this.env&&this.env.FormData;return toFormData$1(P?{"files[]":e}:e,M&&new M,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const n=this.transitional||defaults$1.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(r&&!this.responseType||s)){const S=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(P){if(S)throw P.name==="SyntaxError"?AxiosError$1.from(P,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):P}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults$1.headers[t]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(S){s=S.indexOf(":"),n=S.substring(0,s).trim().toLowerCase(),r=S.substring(s+1).trim(),!(!n||e[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,n,r,s){if(utils$1.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!utils$1.isString(e)){if(utils$1.isString(r))return e.indexOf(r)!==-1;if(utils$1.isRegExp(r))return r.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function buildAccessors(t,e){const n=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,a,S){return this[r].call(this,e,s,a,S)},configurable:!0})})}let AxiosHeaders$1=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function a(P,M,N){const F=normalizeHeader(M);if(!F)throw new Error("header name must be a non-empty string");const z=utils$1.findKey(s,F);(!z||s[z]===void 0||N===!0||N===void 0&&s[z]!==!1)&&(s[z||M]=normalizeValue(P))}const S=(P,M)=>utils$1.forEach(P,(N,F)=>a(N,F,M));if(utils$1.isPlainObject(e)||e instanceof this.constructor)S(e,n);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))S(parseHeaders(e),n);else if(utils$1.isObject(e)&&utils$1.isIterable(e)){let P={},M,N;for(const F of e){if(!utils$1.isArray(F))throw TypeError("Object iterator must return a key-value pair");P[N=F[0]]=(M=P[N])?utils$1.isArray(M)?[...M,F[1]]:[M,F[1]]:F[1]}S(P,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=normalizeHeader(e),e){const r=utils$1.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return parseTokens(s);if(utils$1.isFunction(n))return n.call(this,s,r);if(utils$1.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=normalizeHeader(e),e){const r=utils$1.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||matchHeaderValue(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function a(S){if(S=normalizeHeader(S),S){const P=utils$1.findKey(r,S);P&&(!n||matchHeaderValue(r,r[P],P,n))&&(delete r[P],s=!0)}}return utils$1.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!e||matchHeaderValue(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,r={};return utils$1.forEach(this,(s,a)=>{const S=utils$1.findKey(r,a);if(S){n[S]=normalizeValue(s),delete n[a];return}const P=e?formatHeader(a):String(a).trim();P!==a&&delete n[a],n[P]=normalizeValue(s),r[P]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return utils$1.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&utils$1.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,s=this.prototype;function a(S){const P=normalizeHeader(S);r[P]||(buildAccessors(s,S),r[P]=!0)}return utils$1.isArray(e)?e.forEach(a):a(e),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(t,e){const n=this||defaults$1,r=e||n,s=AxiosHeaders$1.from(r.headers);let a=r.data;return utils$1.forEach(t,function(P){a=P.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function isCancel$1(t){return!!(t&&t.__CANCEL__)}function CanceledError$1(t,e,n){AxiosError$1.call(this,t??"canceled",AxiosError$1.ERR_CANCELED,e,n),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new AxiosError$1("Request failed with status code "+n.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,a=0,S;return e=e!==void 0?e:1e3,function(M){const N=Date.now(),F=r[a];S||(S=N),n[s]=M,r[s]=N;let z=a,$=0;for(;z!==s;)$+=n[z++],z=z%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),N-S<e)return;const G=F&&N-F;return G?Math.round($*1e3/G):void 0}}function throttle(t,e){let n=0,r=1e3/e,s,a;const S=(N,F=Date.now())=>{n=F,s=null,a&&(clearTimeout(a),a=null),t(...N)};return[(...N)=>{const F=Date.now(),z=F-n;z>=r?S(N,F):(s=N,a||(a=setTimeout(()=>{a=null,S(s)},r-z)))},()=>s&&S(s)]}const progressEventReducer=(t,e,n=3)=>{let r=0;const s=speedometer(50,250);return throttle(a=>{const S=a.loaded,P=a.lengthComputable?a.total:void 0,M=S-r,N=s(M),F=S<=P;r=S;const z={loaded:S,total:P,progress:P?S/P:void 0,bytes:M,rate:N||void 0,estimated:N&&P&&F?(P-S)/N:void 0,event:a,lengthComputable:P!=null,[e?"download":"upload"]:!0};t(z)},n)},progressEventDecorator=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},asyncDecorator=t=>(...e)=>utils$1.asap(()=>t(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,platform.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,n,r,s,a){const S=[t+"="+encodeURIComponent(e)];utils$1.isNumber(n)&&S.push("expires="+new Date(n).toGMTString()),utils$1.isString(r)&&S.push("path="+r),utils$1.isString(s)&&S.push("domain="+s),a===!0&&S.push("secure"),document.cookie=S.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,n){let r=!isAbsoluteURL(e);return t&&(r||n==!1)?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders$1?{...t}:t;function mergeConfig$1(t,e){e=e||{};const n={};function r(N,F,z,$){return utils$1.isPlainObject(N)&&utils$1.isPlainObject(F)?utils$1.merge.call({caseless:$},N,F):utils$1.isPlainObject(F)?utils$1.merge({},F):utils$1.isArray(F)?F.slice():F}function s(N,F,z,$){if(utils$1.isUndefined(F)){if(!utils$1.isUndefined(N))return r(void 0,N,z,$)}else return r(N,F,z,$)}function a(N,F){if(!utils$1.isUndefined(F))return r(void 0,F)}function S(N,F){if(utils$1.isUndefined(F)){if(!utils$1.isUndefined(N))return r(void 0,N)}else return r(void 0,F)}function P(N,F,z){if(z in e)return r(N,F);if(z in t)return r(void 0,N)}const M={url:a,method:a,data:a,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,withXSRFToken:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:P,headers:(N,F,z)=>s(headersToObject(N),headersToObject(F),z,!0)};return utils$1.forEach(Object.keys({...t,...e}),function(F){const z=M[F]||s,$=z(t[F],e[F],F);utils$1.isUndefined($)&&z!==P||(n[F]=$)}),n}const resolveConfig=t=>{const e=mergeConfig$1({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:S,auth:P}=e;e.headers=S=AxiosHeaders$1.from(S),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),P&&S.set("Authorization","Basic "+btoa((P.username||"")+":"+(P.password?unescape(encodeURIComponent(P.password)):"")));let M;if(utils$1.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)S.setContentType(void 0);else if((M=S.getContentType())!==!1){const[N,...F]=M?M.split(";").map(z=>z.trim()).filter(Boolean):[];S.setContentType([N||"multipart/form-data",...F].join("; "))}}if(platform.hasStandardBrowserEnv&&(r&&utils$1.isFunction(r)&&(r=r(e)),r||r!==!1&&isURLSameOrigin(e.url))){const N=s&&a&&cookies.read(a);N&&S.set(s,N)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(n,r){const s=resolveConfig(t);let a=s.data;const S=AxiosHeaders$1.from(s.headers).normalize();let{responseType:P,onUploadProgress:M,onDownloadProgress:N}=s,F,z,$,G,H;function U(){G&&G(),H&&H(),s.cancelToken&&s.cancelToken.unsubscribe(F),s.signal&&s.signal.removeEventListener("abort",F)}let W=new XMLHttpRequest;W.open(s.method.toUpperCase(),s.url,!0),W.timeout=s.timeout;function Y(){if(!W)return;const K=AxiosHeaders$1.from("getAllResponseHeaders"in W&&W.getAllResponseHeaders()),nt={data:!P||P==="text"||P==="json"?W.responseText:W.response,status:W.status,statusText:W.statusText,headers:K,config:t,request:W};settle(function(ht){n(ht),U()},function(ht){r(ht),U()},nt),W=null}"onloadend"in W?W.onloadend=Y:W.onreadystatechange=function(){!W||W.readyState!==4||W.status===0&&!(W.responseURL&&W.responseURL.indexOf("file:")===0)||setTimeout(Y)},W.onabort=function(){W&&(r(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,t,W)),W=null)},W.onerror=function(){r(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,t,W)),W=null},W.ontimeout=function(){let tt=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const nt=s.transitional||transitionalDefaults;s.timeoutErrorMessage&&(tt=s.timeoutErrorMessage),r(new AxiosError$1(tt,nt.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,t,W)),W=null},a===void 0&&S.setContentType(null),"setRequestHeader"in W&&utils$1.forEach(S.toJSON(),function(tt,nt){W.setRequestHeader(nt,tt)}),utils$1.isUndefined(s.withCredentials)||(W.withCredentials=!!s.withCredentials),P&&P!=="json"&&(W.responseType=s.responseType),N&&([$,H]=progressEventReducer(N,!0),W.addEventListener("progress",$)),M&&W.upload&&([z,G]=progressEventReducer(M),W.upload.addEventListener("progress",z),W.upload.addEventListener("loadend",G)),(s.cancelToken||s.signal)&&(F=K=>{W&&(r(!K||K.type?new CanceledError$1(null,t,W):K),W.abort(),W=null)},s.cancelToken&&s.cancelToken.subscribe(F),s.signal&&(s.signal.aborted?F():s.signal.addEventListener("abort",F)));const Q=parseProtocol(s.url);if(Q&&platform.protocols.indexOf(Q)===-1){r(new AxiosError$1("Unsupported protocol "+Q+":",AxiosError$1.ERR_BAD_REQUEST,t));return}W.send(a||null)})},composeSignals=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const a=function(N){if(!s){s=!0,P();const F=N instanceof Error?N:this.reason;r.abort(F instanceof AxiosError$1?F:new CanceledError$1(F instanceof Error?F.message:F))}};let S=e&&setTimeout(()=>{S=null,a(new AxiosError$1(`timeout ${e} of ms exceeded`,AxiosError$1.ETIMEDOUT))},e);const P=()=>{t&&(S&&clearTimeout(S),S=null,t.forEach(N=>{N.unsubscribe?N.unsubscribe(a):N.removeEventListener("abort",a)}),t=null)};t.forEach(N=>N.addEventListener("abort",a));const{signal:M}=r;return M.unsubscribe=()=>utils$1.asap(P),M}},streamChunk=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},readBytes=async function*(t,e){for await(const n of readStream(t))yield*streamChunk(n,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},trackStream=(t,e,n,r)=>{const s=readBytes(t,e);let a=0,S,P=M=>{S||(S=!0,r&&r(M))};return new ReadableStream({async pull(M){try{const{done:N,value:F}=await s.next();if(N){P(),M.close();return}let z=F.byteLength;if(n){let $=a+=z;n($)}M.enqueue(new Uint8Array(F))}catch(N){throw P(N),N}},cancel(M){return P(M),s.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test$1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test$1(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test$1(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new AxiosError$1(`Response type '${e}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,r)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$1.isBlob(t))return t.size;if(utils$1.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(t)||utils$1.isArrayBuffer(t))return t.byteLength;if(utils$1.isURLSearchParams(t)&&(t=t+""),utils$1.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const n=utils$1.toFiniteNumber(t.getContentLength());return n??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:a,timeout:S,onDownloadProgress:P,onUploadProgress:M,responseType:N,headers:F,withCredentials:z="same-origin",fetchOptions:$}=resolveConfig(t);N=N?(N+"").toLowerCase():"text";let G=composeSignals([s,a&&a.toAbortSignal()],S),H;const U=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let W;try{if(M&&supportsRequestStream&&n!=="get"&&n!=="head"&&(W=await resolveBodyLength(F,r))!==0){let nt=new Request(e,{method:"POST",body:r,duplex:"half"}),rt;if(utils$1.isFormData(r)&&(rt=nt.headers.get("content-type"))&&F.setContentType(rt),nt.body){const[ht,ct]=progressEventDecorator(W,progressEventReducer(asyncDecorator(M)));r=trackStream(nt.body,DEFAULT_CHUNK_SIZE,ht,ct)}}utils$1.isString(z)||(z=z?"include":"omit");const Y="credentials"in Request.prototype;H=new Request(e,{...$,signal:G,method:n.toUpperCase(),headers:F.normalize().toJSON(),body:r,duplex:"half",credentials:Y?z:void 0});let Q=await fetch(H,$);const K=supportsResponseStream&&(N==="stream"||N==="response");if(supportsResponseStream&&(P||K&&U)){const nt={};["status","statusText","headers"].forEach(mt=>{nt[mt]=Q[mt]});const rt=utils$1.toFiniteNumber(Q.headers.get("content-length")),[ht,ct]=P&&progressEventDecorator(rt,progressEventReducer(asyncDecorator(P),!0))||[];Q=new Response(trackStream(Q.body,DEFAULT_CHUNK_SIZE,ht,()=>{ct&&ct(),U&&U()}),nt)}N=N||"text";let tt=await resolvers[utils$1.findKey(resolvers,N)||"text"](Q,t);return!K&&U&&U(),await new Promise((nt,rt)=>{settle(nt,rt,{data:tt,headers:AxiosHeaders$1.from(Q.headers),status:Q.status,statusText:Q.statusText,config:t,request:H})})}catch(Y){throw U&&U(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,t,H),{cause:Y.cause||Y}):AxiosError$1.from(Y,Y&&Y.code,t,H)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1.isFunction(t)||t===null||t===!1,adapters$1={getAdapter:t=>{t=utils$1.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let a=0;a<e;a++){n=t[a];let S;if(r=n,!isResolvedHandle(n)&&(r=knownAdapters[(S=String(n)).toLowerCase()],r===void 0))throw new AxiosError$1(`Unknown adapter '${S}'`);if(r)break;s[S||"#"+a]=r}if(!r){const a=Object.entries(s).map(([P,M])=>`adapter ${P} `+(M===!1?"is not supported by the environment":"is not available in the build"));let S=e?a.length>1?`since :
`+a.map(renderReason).join(`
`):" "+renderReason(a[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+S,"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError$1(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters$1.getAdapter(t.adapter||defaults$1.adapter)(t).then(function(r){return throwIfCancellationRequested(t),r.data=transformData.call(t,t.transformResponse,r),r.headers=AxiosHeaders$1.from(r.headers),r},function(r){return isCancel$1(r)||(throwIfCancellationRequested(t),r&&r.response&&(r.response.data=transformData.call(t,t.transformResponse,r.response),r.response.headers=AxiosHeaders$1.from(r.response.headers))),Promise.reject(r)})}const VERSION$1="1.11.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(e,n,r){function s(a,S){return"[Axios v"+VERSION$1+"] Transitional option '"+a+"'"+S+(r?". "+r:"")}return(a,S,P)=>{if(e===!1)throw new AxiosError$1(s(S," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings[S]&&(deprecatedWarnings[S]=!0,console.warn(s(S," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,S,P):!0}};validators$1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,n){if(typeof t!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const a=r[s],S=e[a];if(S){const P=t[a],M=P===void 0||S(P,a,t);if(M!==!0)throw new AxiosError$1("option "+a+" must be "+M,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError$1("Unknown option "+a,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mergeConfig$1(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),s!=null&&(utils$1.isFunction(s)?n.paramsSerializer={serialize:s}:validator.assertOptions(s,{encode:validators.function,serialize:validators.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),validator.assertOptions(n,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let S=a&&utils$1.merge(a.common,a[n.method]);a&&utils$1.forEach(["delete","get","head","post","put","patch","common"],H=>{delete a[H]}),n.headers=AxiosHeaders$1.concat(S,a);const P=[];let M=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(n)===!1||(M=M&&U.synchronous,P.unshift(U.fulfilled,U.rejected))});const N=[];this.interceptors.response.forEach(function(U){N.push(U.fulfilled,U.rejected)});let F,z=0,$;if(!M){const H=[dispatchRequest.bind(this),void 0];for(H.unshift(...P),H.push(...N),$=H.length,F=Promise.resolve(n);z<$;)F=F.then(H[z++],H[z++]);return F}$=P.length;let G=n;for(z=0;z<$;){const H=P[z++],U=P[z++];try{G=H(G)}catch(W){U.call(this,W);break}}try{F=dispatchRequest.call(this,G)}catch(H){return Promise.reject(H)}for(z=0,$=N.length;z<$;)F=F.then(N[z++],N[z++]);return F}getUri(e){e=mergeConfig$1(this.defaults,e);const n=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(n,e.params,e.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(n,r){return this.request(mergeConfig$1(r||{},{method:e,url:n,data:(r||{}).data}))}});utils$1.forEach(["post","put","patch"],function(e){function n(r){return function(a,S,P){return this.request(mergeConfig$1(P||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:S}))}}Axios$1.prototype[e]=n(),Axios$1.prototype[e+"Form"]=n(!0)});let CancelToken$1=class yd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const S=new Promise(P=>{r.subscribe(P),a=P}).then(s);return S.cancel=function(){r.unsubscribe(a)},S},e(function(a,S,P){r.reason||(r.reason=new CanceledError$1(a,S,P),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new yd(function(s){e=s}),cancel:e}}};function spread$1(t){return function(n){return t.apply(null,n)}}function isAxiosError$1(t){return utils$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([t,e])=>{HttpStatusCode$1[e]=t});function createInstance(t){const e=new Axios$1(t),n=bind(Axios$1.prototype.request,e);return utils$1.extend(n,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return createInstance(mergeConfig$1(t,s))},n}const axios$1=createInstance(defaults$1);axios$1.Axios=Axios$1;axios$1.CanceledError=CanceledError$1;axios$1.CancelToken=CancelToken$1;axios$1.isCancel=isCancel$1;axios$1.VERSION=VERSION$1;axios$1.toFormData=toFormData$1;axios$1.AxiosError=AxiosError$1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(e){return Promise.all(e)};axios$1.spread=spread$1;axios$1.isAxiosError=isAxiosError$1;axios$1.mergeConfig=mergeConfig$1;axios$1.AxiosHeaders=AxiosHeaders$1;axios$1.formToJSON=t=>formDataToJSON(utils$1.isHTMLForm(t)?new FormData(t):t);axios$1.getAdapter=adapters$1.getAdapter;axios$1.HttpStatusCode=HttpStatusCode$1;axios$1.default=axios$1;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios$1,UserLogin=async({base_url:t,loginForm:e})=>{try{return(await axios$1.post(`${t}login`,e)).data}catch(n){throw console.error("Login API error:",n),n}},UserLogout=async({base_url:t,token:e})=>{try{return(await axios$1.post(`${t}logout`,{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}})).data}catch(n){console.log(n)}},blockUser=async({base_url:t,token:e,userId:n})=>{try{return(await axios$1.put(`${t}block/user/${n}`,{},{headers:{Authorization:`Bearer ${e}`}})).data}catch(r){console.log(r)}},LayoutGroupContext=reactExports.createContext({});function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const clamp=(t,e,n)=>n>e?e:n<t?t:n;let invariant=()=>{};const MotionGlobalConfig={},isNumericalString=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function isObject$1(t){return typeof t=="object"&&t!==null}const isZeroValueString=t=>/^0[^.\s]+$/u.test(t);function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const noop$2=t=>t,combineFunctions=(t,e)=>n=>e(t(n)),pipe=(...t)=>t.reduce(combineFunctions),progress=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const S=this.subscriptions[a];S&&S(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3;function velocityPerSecond(t,e){return e?t*(1e3/e):0}const calcBezier=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,n,r,s){let a,S,P=0;do S=e+(n-e)/2,a=calcBezier(S,r,s)-t,a>0?n=S:e=S;while(Math.abs(a)>subdivisionPrecision&&++P<subdivisionMaxIterations);return S}function cubicBezier(t,e,n,r){if(t===e&&n===r)return noop$2;const s=a=>binarySubdivide(a,0,1,t,n);return a=>a===0||a===1?a:calcBezier(s(a),e,r)}const mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=t=>typeof t=="string",easingDefinitionToFunction=t=>{if(isBezierDefinition(t)){invariant(t.length===4);const[e,n,r,s]=t;return cubicBezier(e,n,r,s)}else if(isValidEasing(t))return easingLookup[t];return t},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(t,e){let n=new Set,r=new Set,s=!1,a=!1;const S=new WeakSet;let P={delta:0,timestamp:0,isProcessing:!1};function M(F){S.has(F)&&(N.schedule(F),t()),F(P)}const N={schedule:(F,z=!1,$=!1)=>{const H=$&&s?n:r;return z&&S.add(F),H.has(F)||H.add(F),F},cancel:F=>{r.delete(F),S.delete(F)},process:F=>{if(P=F,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(M),n.clear(),s=!1,a&&(a=!1,N.process(F))}};return N}const maxElapsed=40;function createRenderBatcher(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,S=stepsOrder.reduce((K,tt)=>(K[tt]=createRenderStep(a),K),{}),{setup:P,read:M,resolveKeyframes:N,preUpdate:F,update:z,preRender:$,render:G,postRender:H}=S,U=()=>{const K=MotionGlobalConfig.useManualTiming?s.timestamp:performance.now();n=!1,MotionGlobalConfig.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(K-s.timestamp,maxElapsed),1)),s.timestamp=K,s.isProcessing=!0,P.process(s),M.process(s),N.process(s),F.process(s),z.process(s),$.process(s),G.process(s),H.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(U))},W=()=>{n=!0,r=!0,s.isProcessing||t(U)};return{schedule:stepsOrder.reduce((K,tt)=>{const nt=S[tt];return K[tt]=(rt,ht=!1,ct=!1)=>(n||W(),nt.schedule(rt,ht,ct)),K},{}),cancel:K=>{for(let tt=0;tt<stepsOrder.length;tt++)S[stepsOrder[tt]].cancel(K)},state:s,steps:S}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:t=>{now=t,queueMicrotask(clearTime)}},checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=t=>startsAsVariableToken(t)?singleCssVariableRegex.test(t.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha$1={...number,transform:t=>clamp(0,1,t)},scale={...number,default:1},sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(t){return t==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(t,e)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(t)||e&&!isNullish(n)&&Object.prototype.hasOwnProperty.call(n,e)),splitColor=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,S,P]=r.match(floatRegex);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(S),alpha:P!==void 0?parseFloat(P):1}},clampRgbUnit=t=>clamp(0,255,t),rgbUnit={...number,transform:t=>Math.round(clampRgbUnit(t))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+sanitize(alpha$1.transform(r))+")"};function parseHex(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees$1=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha$1.transform(r))+")"},color$1={test:t=>rgba.test(t)||hex$1.test(t)||hsla.test(t),parse:t=>rgba.test(t)?rgba.parse(t):hsla.test(t)?hsla.parse(t):hex$1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rgba.transform(t):hsla.transform(t),getAnimatableNone:t=>{const e=color$1.parse(t);return e.alpha=0,color$1.transform(e)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(t){return isNaN(t)&&typeof t=="string"&&(t.match(floatRegex)?.length||0)+(t.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const P=e.replace(complexRegex,M=>(color$1.test(M)?(r.color.push(a),s.push(COLOR_TOKEN),n.push(color$1.parse(M))):M.startsWith(VAR_FUNCTION_TOKEN)?(r.var.push(a),s.push(VAR_TOKEN),n.push(M)):(r.number.push(a),s.push(NUMBER_TOKEN),n.push(parseFloat(M))),++a,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:P,indexes:r,types:s}}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{split:e,types:n}=analyseComplexValue(t),r=e.length;return s=>{let a="";for(let S=0;S<r;S++)if(a+=e[S],s[S]!==void 0){const P=n[S];P===NUMBER_TOKEN?a+=sanitize(s[S]):P===COLOR_TOKEN?a+=color$1.transform(s[S]):a+=s[S]}return a}}const convertNumbersToZero=t=>typeof t=="number"?0:color$1.test(t)?color$1.getAnimatableNone(t):t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,S=0;if(!e)s=a=S=n;else{const P=n<.5?n*(1+e):n+e-n*e,M=2*n-P;s=hueToRgb(M,P,t+1/3),a=hueToRgb(M,P,t),S=hueToRgb(M,P,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(S*255),alpha:r}}function mixImmediate(t,e){return n=>n>0?e:t}const mixNumber$1=(t,e,n)=>t+(e-t)*n,mixLinearColor=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},colorTypes=[hex$1,rgba,hsla],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);if(!e)return!1;let n=e.parse(t);return e===hsla&&(n=hslaToRgba(n)),n}const mixColor=(t,e)=>{const n=asRGBA(t),r=asRGBA(e);if(!n||!r)return mixImmediate(t,e);const s={...n};return a=>(s.red=mixLinearColor(n.red,r.red,a),s.green=mixLinearColor(n.green,r.green,a),s.blue=mixLinearColor(n.blue,r.blue,a),s.alpha=mixNumber$1(n.alpha,r.alpha,a),rgba.transform(s))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(t,e){return invisibleValues.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mixNumber(t,e){return n=>mixNumber$1(t,e,n)}function getMixer(t){return typeof t=="number"?mixNumber:typeof t=="string"?isCSSVariableToken(t)?mixImmediate:color$1.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?color$1.test(t)?mixColor:mixObject:mixImmediate}function mixArray(t,e){const n=[...t],r=n.length,s=t.map((a,S)=>getMixer(a)(a,e[S]));return a=>{for(let S=0;S<r;S++)n[S]=s[S](a);return n}}function mixObject(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=getMixer(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function matchOrder(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],S=t.indexes[a][r[a]],P=t.values[S]??0;n[s]=P,r[a]++}return n}const mixComplex=(t,e)=>{const n=complex.createTransformer(e),r=analyseComplexValue(t),s=analyseComplexValue(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?invisibleValues.has(t)&&!s.values.length||invisibleValues.has(e)&&!r.values.length?mixVisibility(t,e):pipe(mixArray(matchOrder(r,s),s.values),n):mixImmediate(t,e)};function mix(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mixNumber$1(t,e,n):getMixer(t)(t,e)}const frameloopDriver=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>frame.update(e,n),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<maxGeneratorDuration;)e+=n,r=t.next(e);return e>=maxGeneratorDuration?1/0:e}function createGeneratorEasing(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(calcGeneratorDuration(r),maxGeneratorDuration);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:millisecondsToSeconds(s)}}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,n){const r=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(n-t(r),e-r)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:t=springDefaults.duration,bounce:e=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:r=springDefaults.mass}){let s,a,S=1-e;S=clamp(springDefaults.minDamping,springDefaults.maxDamping,S),t=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(t)),S<1?(s=N=>{const F=N*S,z=F*t,$=F-n,G=calcAngularFreq(N,S),H=Math.exp(-z);return safeMin-$/G*H},a=N=>{const z=N*S*t,$=z*n+n,G=Math.pow(S,2)*Math.pow(N,2)*t,H=Math.exp(-z),U=calcAngularFreq(Math.pow(N,2),S);return(-s(N)+safeMin>0?-1:1)*(($-G)*H)/U}):(s=N=>{const F=Math.exp(-N*t),z=(N-n)*t+1;return-safeMin+F*z},a=N=>{const F=Math.exp(-N*t),z=(n-N)*(t*t);return F*z});const P=5/t,M=approximateRoot(s,a,P);if(t=secondsToMilliseconds(t),isNaN(M))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:t};{const N=Math.pow(M,2)*r;return{stiffness:N,damping:S*2*Math.sqrt(r*N),duration:t}}}const rootIterations=12;function approximateRoot(t,e,n){let r=n;for(let s=1;s<rootIterations;s++)r=r-t(r)/e(r);return r}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(n=>t[n]!==void 0)}function getSpringOptions(t){let e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*clamp(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:springDefaults.mass,stiffness:s,damping:a}}else{const n=findSpring(t);e={...e,...n,mass:springDefaults.mass},e.isResolvedFromDuration=!0}return e}function spring(t=springDefaults.visualDuration,e=springDefaults.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],S=n.keyframes[n.keyframes.length-1],P={done:!1,value:a},{stiffness:M,damping:N,mass:F,duration:z,velocity:$,isResolvedFromDuration:G}=getSpringOptions({...n,velocity:-millisecondsToSeconds(n.velocity||0)}),H=$||0,U=N/(2*Math.sqrt(M*F)),W=S-a,Y=millisecondsToSeconds(Math.sqrt(M/F)),Q=Math.abs(W)<5;r||(r=Q?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),s||(s=Q?springDefaults.restDelta.granular:springDefaults.restDelta.default);let K;if(U<1){const nt=calcAngularFreq(Y,U);K=rt=>{const ht=Math.exp(-U*Y*rt);return S-ht*((H+U*Y*W)/nt*Math.sin(nt*rt)+W*Math.cos(nt*rt))}}else if(U===1)K=nt=>S-Math.exp(-Y*nt)*(W+(H+Y*W)*nt);else{const nt=Y*Math.sqrt(U*U-1);K=rt=>{const ht=Math.exp(-U*Y*rt),ct=Math.min(nt*rt,300);return S-ht*((H+U*Y*W)*Math.sinh(ct)+nt*W*Math.cosh(ct))/nt}}const tt={calculatedDuration:G&&z||null,next:nt=>{const rt=K(nt);if(G)P.done=nt>=z;else{let ht=nt===0?H:0;U<1&&(ht=nt===0?secondsToMilliseconds(H):calcGeneratorVelocity(K,nt,rt));const ct=Math.abs(ht)<=r,mt=Math.abs(S-rt)<=s;P.done=ct&&mt}return P.value=P.done?S:rt,P},toString:()=>{const nt=Math.min(calcGeneratorDuration(tt),maxGeneratorDuration),rt=generateLinearEasing(ht=>tt.next(nt*ht).value,nt,30);return nt+"ms "+rt},toTransition:()=>{}};return tt}spring.applyToOptions=t=>{const e=createGeneratorEasing(t,100,spring);return t.ease=e.ease,t.duration=secondsToMilliseconds(e.duration),t.type="keyframes",t};function inertia({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:S,min:P,max:M,restDelta:N=.5,restSpeed:F}){const z=t[0],$={done:!1,value:z},G=ct=>P!==void 0&&ct<P||M!==void 0&&ct>M,H=ct=>P===void 0?M:M===void 0||Math.abs(P-ct)<Math.abs(M-ct)?P:M;let U=n*e;const W=z+U,Y=S===void 0?W:S(W);Y!==W&&(U=Y-z);const Q=ct=>-U*Math.exp(-ct/r),K=ct=>Y+Q(ct),tt=ct=>{const mt=Q(ct),wt=K(ct);$.done=Math.abs(mt)<=N,$.value=$.done?Y:wt};let nt,rt;const ht=ct=>{G($.value)&&(nt=ct,rt=spring({keyframes:[$.value,H($.value)],velocity:calcGeneratorVelocity(K,ct,$.value),damping:s,stiffness:a,restDelta:N,restSpeed:F}))};return ht(0),{calculatedDuration:null,next:ct=>{let mt=!1;return!rt&&nt===void 0&&(mt=!0,tt(ct),ht(ct)),nt!==void 0&&ct>=nt?rt.next(ct-nt):(!mt&&tt(ct),$)}}}function createMixers(t,e,n){const r=[],s=n||MotionGlobalConfig.mix||mix,a=t.length-1;for(let S=0;S<a;S++){let P=s(t[S],t[S+1]);if(e){const M=Array.isArray(e)?e[S]||noop$2:e;P=pipe(M,P)}r.push(P)}return r}function interpolate$2(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(invariant(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const S=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const P=createMixers(e,r,s),M=P.length,N=F=>{if(S&&F<t[0])return e[0];let z=0;if(M>1)for(;z<t.length-2&&!(F<t[z+1]);z++);const $=progress(t[z],t[z+1],F);return P[z]($)};return n?F=>N(clamp(t[0],t[a-1],F)):N}function fillOffset(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=progress(0,e,r);t.push(mixNumber$1(n,1,s))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(n=>n*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=isEasingArray(r)?r.map(easingDefinitionToFunction):easingDefinitionToFunction(r),a={done:!1,value:e[0]},S=convertOffsetToTimes(n&&n.length===e.length?n:defaultOffset(e),t),P=interpolate$2(S,e,{ease:Array.isArray(s)?s:defaultEasing(e,s)});return{calculatedDuration:t,next:M=>(a.value=P(M),a.done=M>=t,a)}}const isNotNull$1=t=>t!==null;function getFinalKeyframe$1(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(isNotNull$1),P=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!P||r===void 0?a[P]:r}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(t){typeof t.type=="string"&&(t.type=transitionTypeMap[t.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const percentToProgress=t=>t/100;class JSAnimation extends WithPromise{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;replaceTransitionType(e);const{type:n=keyframes,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:S=0}=e;let{keyframes:P}=e;const M=n||keyframes;M!==keyframes&&typeof P[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(P[0],P[1])),P=[0,100]);const N=M({...e,keyframes:P});a==="mirror"&&(this.mirroredGenerator=M({...e,keyframes:[...P].reverse(),velocity:-S})),N.calculatedDuration===null&&(N.calculatedDuration=calcGeneratorDuration(N));const{calculatedDuration:F}=N;this.calculatedDuration=F,this.resolvedDuration=F+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=N}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:S,resolvedDuration:P,calculatedDuration:M}=this;if(this.startTime===null)return r.next(0);const{delay:N=0,keyframes:F,repeat:z,repeatType:$,repeatDelay:G,type:H,onUpdate:U,finalKeyframe:W}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const Y=this.currentTime-N*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?Y<0:Y>s;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let K=this.currentTime,tt=r;if(z){const ct=Math.min(this.currentTime,s)/P;let mt=Math.floor(ct),wt=ct%1;!wt&&ct>=1&&(wt=1),wt===1&&mt--,mt=Math.min(mt,z+1),!!(mt%2)&&($==="reverse"?(wt=1-wt,G&&(wt-=G/P)):$==="mirror"&&(tt=S)),K=clamp(0,1,wt)*P}const nt=Q?{done:!1,value:F[0]}:tt.next(K);a&&(nt.value=a(nt.value));let{done:rt}=nt;!Q&&M!==null&&(rt=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const ht=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&rt);return ht&&H!==inertia&&(nt.value=getFinalKeyframe$1(F,this.options,W,this.speed)),U&&U(nt.value),ht&&this.finish(),nt}then(e,n){return this.finished.then(e,n)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){e=secondsToMilliseconds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(time.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=frameloopDriver,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function fillWildcards(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const radToDeg=t=>t*180/Math.PI,rotate$1=t=>{const e=radToDeg(Math.atan2(t[1],t[0]));return rebaseAngle(e)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rotate$1,rotateZ:rotate$1,skewX:t=>radToDeg(Math.atan(t[1])),skewY:t=>radToDeg(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rebaseAngle=t=>(t=t%360,t<0&&(t+=360),t),rotateZ=rotate$1,scaleX=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),scaleY=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:t=>(scaleX(t)+scaleY(t))/2,rotateX:t=>rebaseAngle(radToDeg(Math.atan2(t[6],t[5]))),rotateY:t=>rebaseAngle(radToDeg(Math.atan2(-t[2],t[0]))),rotateZ,rotate:rotateZ,skewX:t=>radToDeg(Math.atan(t[4])),skewY:t=>radToDeg(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function defaultTransformValue(t){return t.includes("scale")?1:0}function parseValueFromTransform(t,e){if(!t||t==="none")return defaultTransformValue(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=matrix3dParsers,s=n;else{const P=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=matrix2dParsers,s=P}if(!s)return defaultTransformValue(e);const a=r[e],S=s[1].split(",").map(convertTransformToNumber);return typeof a=="function"?a(S):S[a]}const readTransformValue=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return parseValueFromTransform(n,e)};function convertTransformToNumber(t){return parseFloat(t.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=t=>t===number||t===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>parseValueFromTransform(e,"x"),y:(t,{transform:e})=>parseValueFromTransform(e,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const t=Array.from(toResolve).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=removeNonTranslationalTransform(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,S])=>{r.getValue(a)?.set(S)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(t=>t.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(e,n,r,s,a,S=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=S}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),S=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const P=r.readValue(n,S);P!=null&&(e[0]=P)}e[0]===void 0&&(e[0]=S),s&&a===void 0&&s.set(e[0])}fillWildcards(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=t=>t.startsWith("--");function setStyle$1(t,e,n){isCSSVar(e)?t.style.setProperty(e,n):t.style[e]=n}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(t,e){const n=memo(t);return()=>supportsFlags[e]??n()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t,e){if(t)return typeof t=="function"?supportsLinearEasing()?generateLinearEasing(t,e):"ease-out":isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(n=>mapEasingToNativeEasing(n,e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[t]}function startWaapiAnimation(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:S="loop",ease:P="easeOut",times:M}={},N=void 0){const F={[e]:n};M&&(F.offset=M);const z=mapEasingToNativeEasing(P,s);Array.isArray(z)&&(F.easing=z);const $={delay:r,duration:s,easing:Array.isArray(z)?"linear":z,fill:"both",iterations:a+1,direction:S==="reverse"?"alternate":"normal"};return N&&($.pseudoElement=N),t.animate(F,$)}function isGenerator(t){return typeof t=="function"&&"applyToOptions"in t}function applyGeneratorOptions({type:t,...e}){return isGenerator(t)&&supportsLinearEasing()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NativeAnimation extends WithPromise{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:S=!1,finalKeyframe:P,onComplete:M}=e;this.isPseudoElement=!!a,this.allowFlatten=S,this.options=e,invariant(typeof e.type!="string");const N=applyGeneratorOptions(e);this.animation=startWaapiAnimation(n,r,s,N,a),N.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const F=getFinalKeyframe$1(s,this.options,P,this.speed);this.updateMotionValue?this.updateMotionValue(F):setStyle$1(n,r,F),this.animation.cancel()}M?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(e))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&supportsScrollTimeline()?(this.animation.timeline=e,noop$2):n(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(t){return t in unsupportedEasingFunctions}function replaceStringEasing(t){typeof t.ease=="string"&&isUnsupportedEase(t.ease)&&(t.ease=unsupportedEasingFunctions[t.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(e){replaceStringEasing(e),replaceTransitionType(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...S}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const P=new JSAnimation({...S,autoplay:!1}),M=secondsToMilliseconds(this.finishedTime??this.time);n.setWithVelocity(P.sample(M-sampleDelta).value,P.sample(M).value,sampleDelta),P.stop()}}const isAnimatable=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(complex.test(t)||t==="0")&&!t.startsWith("url("));function hasKeyframesChanged(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function canAnimate(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],S=isAnimatable(s,e),P=isAnimatable(a,e);return!S||!P?!1:hasKeyframesChanged(t)||(n==="spring"||isGenerator(n))&&r}function makeAnimationInstant(t){t.duration=0,t.type}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:S}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:M,transformTemplate:N}=e.owner.getProps();return supportsWaapi()&&n&&acceleratedValues.has(n)&&(n!=="transform"||!N)&&!M&&!r&&s!=="mirror"&&a!==0&&S!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:S="loop",keyframes:P,name:M,motionValue:N,element:F,...z}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time.now();const $={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:S,name:M,motionValue:N,element:F,...z},G=F?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new G(P,(H,U,W)=>this.onKeyframesResolved(H,U,$,!W),M,N,F),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:S,velocity:P,delay:M,isHandoff:N,onUpdate:F}=r;this.resolvedAt=time.now(),canAnimate(e,a,S,P)||((MotionGlobalConfig.instantAnimations||!M)&&F?.(getFinalKeyframe$1(e,r,n)),e[0]=e[e.length-1],makeAnimationInstant(r),r.repeat=0);const $={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},G=!N&&supportsBrowserAnimation($)?new NativeAnimationExtended({...$,element:$.motionValue.owner.current}):new JSAnimation($);G.finished.then(()=>this.notifyFinished()).catch(noop$2),this.pendingTimeline&&(this.stopTimeline=G.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=G}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function getVariableValue(t,e,n=1){const[r,s]=parseCSSVariable(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const S=a.trim();return isNumericalString(S)?parseFloat(S):S}return isCSSVariableToken(s)?getVariableValue(s,e,n+1):s}function getValueTransition(t,e){return t?.[e]??t?.default??t}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:t=>t==="auto",parse:t=>t},testValueType=t=>e=>e.test(t),dimensionValueTypes=[number,px,percent,degrees$1,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t));function isNone(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||isZeroValueString(t):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(floatRegex)||[];if(!r)return t;const s=n.replace(r,"");let a=maxDefaults.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},int={...number,transform:Math.round},transformValueTypes={rotate:degrees$1,rotateX:degrees$1,rotateY:degrees$1,rotateZ:degrees$1,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees$1,skewX:degrees$1,skewY:degrees$1,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let n=getDefaultValueType(t);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!invalidTemplates.has(a)&&analyseComplexValue(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=getAnimatableNone(n,s)}class DOMKeyframesResolver extends KeyframeResolver{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let M=0;M<e.length;M++){let N=e[M];if(typeof N=="string"&&(N=N.trim(),isCSSVariableToken(N))){const F=getVariableValue(N,n.current);F!==void 0&&(e[M]=F),M===e.length-1&&(this.finalKeyframe=N)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(r)||e.length!==2)return;const[s,a]=e,S=findDimensionValueType(s),P=findDimensionValueType(a);if(S!==P)if(isNumOrPxType(S)&&isNumOrPxType(P))for(let M=0;M<e.length;M++){const N=e[M];typeof N=="string"&&(e[M]=parseFloat(N))}else positionalValues[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||isNone(e[s]))&&r.push(s);r.length&&makeNoneKeyframesAnimatable(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,S=r[a];r[a]=positionalValues[n](e.measureViewportBox(),window.getComputedStyle(e.current)),S!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=S),this.removedTransforms?.length&&this.removedTransforms.forEach(([P,M])=>{e.getValue(P).set(M)}),this.resolveNoneKeyframes()}}function resolveElements(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function isHTMLElement(t){return isObject$1(t)&&"offsetHeight"in t}const MAX_VELOCITY_DELTA=30,isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=time.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=time.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SubscriptionManager);const r=this.events[e].add(n);return e==="change"?()=>{r(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(t){return t==="x"||t==="y"?isDragging[t]?null:(isDragging[t]=!0,()=>{isDragging[t]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(t,e){const n=resolveElements(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function isValidHover(t){return!(t.pointerType==="touch"||isDragActive())}function hover(t,e,n={}){const[r,s,a]=setupGesture(t,n),S=P=>{if(!isValidHover(P))return;const{target:M}=P,N=e(M,P);if(typeof N!="function"||!M)return;const F=z=>{isValidHover(z)&&(N(z),M.removeEventListener("pointerleave",F))};M.addEventListener("pointerleave",F,s)};return r.forEach(P=>{P.addEventListener("pointerenter",S,s)}),a}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1,isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(t){return focusableElements.has(t.tagName)||t.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(t){return e=>{e.key==="Enter"&&t(e)}}function firePointerEvent(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const s=filterEvents(()=>{firePointerEvent(n,"up")}),a=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function isValidPressEvent(t){return isPrimaryPointer(t)&&!isDragActive()}function press(t,e,n={}){const[r,s,a]=setupGesture(t,n),S=P=>{const M=P.currentTarget;if(!isValidPressEvent(P))return;isPressing.add(M);const N=e(M,P),F=(G,H)=>{window.removeEventListener("pointerup",z),window.removeEventListener("pointercancel",$),isPressing.has(M)&&isPressing.delete(M),isValidPressEvent(G)&&typeof N=="function"&&N(G,{success:H})},z=G=>{F(G,M===window||M===document||n.useGlobalTarget||isNodeOrChild(M,G.target))},$=G=>{F(G,!1)};window.addEventListener("pointerup",z,s),window.addEventListener("pointercancel",$,s)};return r.forEach(P=>{(n.useGlobalTarget?window:P).addEventListener("pointerdown",S,s),isHTMLElement(P)&&(P.addEventListener("focus",N=>enableKeyboardPress(N,s)),!isElementKeyboardAccessible(P)&&!P.hasAttribute("tabindex")&&(P.tabIndex=0))}),a}function isSVGElement(t){return isObject$1(t)&&"ownerSVGElement"in t}function isSVGSVGElement(t){return isSVGElement(t)&&t.tagName==="svg"}const isMotionValue=t=>!!(t&&t.getVelocity),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=t=>valueTypes.find(testValueType(t)),MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function setRef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs(...t){return e=>{let n=!1;const r=t.map(s=>{const a=setRef(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():setRef(t[s],null)}}}}function useComposedRefs(...t){return reactExports.useCallback(composeRefs(...t),t)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=isHTMLElement(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:t,isPresent:e,anchorX:n,root:r}){const s=reactExports.useId(),a=reactExports.useRef(null),S=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:P}=reactExports.useContext(MotionConfigContext),M=useComposedRefs(a,t?.ref);return reactExports.useInsertionEffect(()=>{const{width:N,height:F,top:z,left:$,right:G}=S.current;if(e||!a.current||!N||!F)return;const H=n==="left"?`left: ${$}`:`right: ${G}`;a.current.dataset.motionPopId=s;const U=document.createElement("style");P&&(U.nonce=P);const W=r??document.head;return W.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${N}px !important;
            height: ${F}px !important;
            ${H}px !important;
            top: ${z}px !important;
          }
        `),()=>{W.contains(U)&&W.removeChild(U)}},[e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:e,childRef:a,sizeRef:S,children:reactExports.cloneElement(t,{ref:M})})}const PresenceChild=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:S,anchorX:P,root:M})=>{const N=useConstant(newChildrenMap),F=reactExports.useId();let z=!0,$=reactExports.useMemo(()=>(z=!1,{id:F,initial:e,isPresent:n,custom:s,onExitComplete:G=>{N.set(G,!0);for(const H of N.values())if(!H)return;r&&r()},register:G=>(N.set(G,!1),()=>N.delete(G))}),[n,N,r]);return a&&z&&($={...$}),reactExports.useMemo(()=>{N.forEach((G,H)=>N.set(H,!1))},[n]),reactExports.useEffect(()=>{!n&&!N.size&&r&&r()},[n]),S==="popLayout"&&(t=jsxRuntimeExports.jsx(PopChild,{isPresent:n,anchorX:P,root:M,children:t})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:$,children:t})};function newChildrenMap(){return new Map}function usePresence(t=!0){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=reactExports.useId();reactExports.useEffect(()=>{if(t)return s(a)},[t]);const S=reactExports.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,S]:[!0]}const getChildKey=t=>t.key||"";function onlyElements(t){const e=[];return reactExports.Children.forEach(t,n=>{reactExports.isValidElement(n)&&e.push(n)}),e}const AnimatePresence=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:S=!1,anchorX:P="left",root:M})=>{const[N,F]=usePresence(S),z=reactExports.useMemo(()=>onlyElements(t),[t]),$=S&&!N?[]:z.map(getChildKey),G=reactExports.useRef(!0),H=reactExports.useRef(z),U=useConstant(()=>new Map),[W,Y]=reactExports.useState(z),[Q,K]=reactExports.useState(z);useIsomorphicLayoutEffect$1(()=>{G.current=!1,H.current=z;for(let rt=0;rt<Q.length;rt++){const ht=getChildKey(Q[rt]);$.includes(ht)?U.delete(ht):U.get(ht)!==!0&&U.set(ht,!1)}},[Q,$.length,$.join("-")]);const tt=[];if(z!==W){let rt=[...z];for(let ht=0;ht<Q.length;ht++){const ct=Q[ht],mt=getChildKey(ct);$.includes(mt)||(rt.splice(ht,0,ct),tt.push(ct))}return a==="wait"&&tt.length&&(rt=tt),K(onlyElements(rt)),Y(z),null}const{forceRender:nt}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Q.map(rt=>{const ht=getChildKey(rt),ct=S&&!N?!1:z===Q||$.includes(ht),mt=()=>{if(U.has(ht))U.set(ht,!0);else return;let wt=!0;U.forEach(kt=>{kt||(wt=!1)}),wt&&(nt?.(),K(H.current),S&&F?.(),r&&r())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:ct,initial:!G.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:M,onExitComplete:ct?void 0:mt,anchorX:P,children:rt},ht)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(n=>!!e[n])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){typeof t=="function"&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(shouldForward(s)||n===!0&&isValidMotionProp(s)||!e&&!isValidMotionProp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const MotionContext=reactExports.createContext({});function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:n,animate:r}=t;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(r)?r:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:n}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:n}),[variantLabelsAsDependency(e),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const scaleCorrectors={};function addScaleCorrector(t){for(const e in t)scaleCorrectors[e]=t[e],isCSSVariableName(e)&&(scaleCorrectors[e].isCSSVariable=!0)}function isForcedMotionValue(t,{layout:e,layoutId:n}){return transformProps.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,e,n){let r="",s=!0;for(let a=0;a<numTransforms;a++){const S=transformPropOrder[a],P=t[S];if(P===void 0)continue;let M=!0;if(typeof P=="number"?M=P===(S.startsWith("scale")?1:0):M=parseFloat(P)===0,!M||n){const N=getValueAsType(P,numberValueTypes[S]);if(!M){s=!1;const F=translateAlias[S]||S;r+=`${F}(${N}) `}n&&(e[S]=N)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function buildHTMLStyles(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let S=!1,P=!1;for(const M in e){const N=e[M];if(transformProps.has(M)){S=!0;continue}else if(isCSSVariableName(M)){s[M]=N;continue}else{const F=getValueAsType(N,numberValueTypes[M]);M.startsWith("origin")?(P=!0,a[M]=F):r[M]=F}}if(e.transform||(S||n?r.transform=buildTransform(e,t.transform,n):r.transform&&(r.transform="none")),P){const{originX:M="50%",originY:N="50%",originZ:F=0}=a;r.transformOrigin=`${M} ${N} ${F}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,n){for(const r in e)!isMotionValue(e[r])&&!isForcedMotionValue(r,n)&&(t[r]=e[r])}function useInitialMotionValues({transformTemplate:t},e){return reactExports.useMemo(()=>{const n=createHtmlRenderState();return buildHTMLStyles(n,e,t),Object.assign({},n.vars,n.style)},[e])}function useStyle(t,e){const n=t.style||{},r={};return copyRawValuesOnly(r,n,t),Object.assign(r,useInitialMotionValues(t,e)),r}function useHTMLProps(t,e){const n={},r=useStyle(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?dashKeys:camelKeys;t[a.offset]=px.transform(-r);const S=px.transform(e),P=px.transform(n);t[a.array]=`${S} ${P}`}function buildSVGAttrs(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:S=0,...P},M,N,F){if(buildHTMLStyles(t,P,N),M){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:z,style:$}=t;z.transform&&($.transform=z.transform,delete z.transform),($.transform||z.transformOrigin)&&($.transformOrigin=z.transformOrigin??"50% 50%",delete z.transformOrigin),$.transform&&($.transformBox=F?.transformBox??"fill-box",delete z.transformBox),e!==void 0&&(z.x=e),n!==void 0&&(z.y=n),r!==void 0&&(z.scale=r),s!==void 0&&buildSVGPath(z,s,a,S,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,n,r){const s=reactExports.useMemo(()=>{const a=createSvgRenderState();return buildSVGAttrs(a,e,isSVGTag(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};copyRawValuesOnly(a,t.style,t),s.style={...a,...s.style}}return s}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/u.test(t))}function useRender(t,e,n,{latestValues:r},s,a=!1){const P=(isSVGComponent(t)?useSVGProps:useHTMLProps)(e,r,s,t),M=filterProps(e,typeof t=="string",a),N=t!==reactExports.Fragment?{...M,...P,ref:n}:{},{children:F}=e,z=reactExports.useMemo(()=>isMotionValue(F)?F.get():F,[F]);return reactExports.createElement(t,{...N,children:z})}function getValueState(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function resolveVariantFromProps(t,e,n,r){if(typeof e=="function"){const[s,a]=getValueState(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=getValueState(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function resolveMotionValue(t){return isMotionValue(t)?t.get():t}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:makeLatestValues(n,r,s,t),renderState:e()}}function makeLatestValues(t,e,n,r){const s={},a=r(t,{});for(const $ in a)s[$]=resolveMotionValue(a[$]);let{initial:S,animate:P}=t;const M=isControllingVariants(t),N=isVariantNode(t);e&&N&&!M&&t.inherit!==!1&&(S===void 0&&(S=e.initial),P===void 0&&(P=e.animate));let F=n?n.initial===!1:!1;F=F||S===!1;const z=F?P:S;if(z&&typeof z!="boolean"&&!isAnimationControls(z)){const $=Array.isArray(z)?z:[z];for(let G=0;G<$.length;G++){const H=resolveVariantFromProps(t,$[G]);if(H){const{transitionEnd:U,transition:W,...Y}=H;for(const Q in Y){let K=Y[Q];if(Array.isArray(K)){const tt=F?K.length-1:0;K=K[tt]}K!==null&&(s[Q]=K)}for(const Q in U)s[Q]=U[Q]}}}return s}const makeUseVisualState=t=>(e,n)=>{const r=reactExports.useContext(MotionContext),s=reactExports.useContext(PresenceContext),a=()=>makeState(t,e,r,s);return n?a():useConstant(a)};function scrapeMotionValuesFromProps$1(t,e,n){const{style:r}=t,s={};for(const a in r)(isMotionValue(r[a])||e.style&&isMotionValue(e.style[a])||isForcedMotionValue(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(t,e,n){const r=scrapeMotionValuesFromProps$1(t,e,n);for(const s in t)if(isMotionValue(t[s])||isMotionValue(e[s])){const a=transformPropOrder.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,n){return reactExports.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):isRefObject(n)&&(n.current=r))},[e])}const camelToDash=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(t,e,n,r,s){const{visualElement:a}=reactExports.useContext(MotionContext),S=reactExports.useContext(LazyContext),P=reactExports.useContext(PresenceContext),M=reactExports.useContext(MotionConfigContext).reducedMotion,N=reactExports.useRef(null);r=r||S.renderer,!N.current&&r&&(N.current=r(t,{visualState:e,parent:a,props:n,presenceContext:P,blockInitialAnimation:P?P.initial===!1:!1,reducedMotionConfig:M}));const F=N.current,z=reactExports.useContext(SwitchLayoutGroupContext);F&&!F.projection&&s&&(F.type==="html"||F.type==="svg")&&createProjectionNode$1(N.current,n,s,z);const $=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{F&&$.current&&F.update(n,P)});const G=n[optimizedAppearDataAttribute],H=reactExports.useRef(!!G&&!window.MotionHandoffIsComplete?.(G)&&window.MotionHasOptimisedAnimation?.(G));return useIsomorphicLayoutEffect$1(()=>{F&&($.current=!0,window.MotionIsMounted=!0,F.updateFeatures(),F.scheduleRenderMicrotask(),H.current&&F.animationState&&F.animationState.animateChanges())}),reactExports.useEffect(()=>{F&&(!H.current&&F.animationState&&F.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(G)}),H.current=!1),F.enteringChildren=void 0)}),F}function createProjectionNode$1(t,e,n,r){const{layoutId:s,layout:a,drag:S,dragConstraints:P,layoutScroll:M,layoutRoot:N,layoutCrossfade:F}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:getClosestProjectingNode(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!S||P&&isRefObject(P),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:F,layoutScroll:M,layoutRoot:N})}function getClosestProjectingNode(t){if(t)return t.options.allowProjection!==!1?t.projection:getClosestProjectingNode(t.parent)}function createMotionComponent(t,{forwardMotionProps:e=!1}={},n,r){n&&loadFeatures(n);const s=isSVGComponent(t)?useSVGVisualState:useHTMLVisualState;function a(P,M){let N;const F={...reactExports.useContext(MotionConfigContext),...P,layoutId:useLayoutId(P)},{isStatic:z}=F,$=useCreateMotionContext(P),G=s(P,z);if(!z&&isBrowser){useStrictMode();const H=getProjectionFunctionality(F);N=H.MeasureLayout,$.visualElement=useVisualElement(t,G,F,r,H.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:$,children:[N&&$.visualElement?jsxRuntimeExports.jsx(N,{visualElement:$.visualElement,...F}):null,useRender(t,P,useMotionRef(G,$.visualElement,M),G,z,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const S=reactExports.forwardRef(a);return S[motionComponentSymbol]=t,S}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function useStrictMode(t,e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(t){const{drag:e,layout:n}=featureDefinitions;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function createMotionProxy(t,e){if(typeof Proxy>"u")return createMotionComponent;const n=new Map,r=(a,S)=>createMotionComponent(a,S,t,e),s=(a,S)=>r(a,S);return new Proxy(s,{get:(a,S)=>S==="create"?r:(n.has(S)||n.set(S,createMotionComponent(S,void 0,t,e)),n.get(S))})}function convertBoundingBoxToBox({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:n}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(n)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,n){const r=t-n,s=e*r;return n+s}function applyPointDelta(t,e,n,r,s){return s!==void 0&&(t=scalePoint(t,s,r)),scalePoint(t,n,r)+e}function applyAxisDelta(t,e=0,n=1,r,s){t.min=applyPointDelta(t.min,e,n,r,s),t.max=applyPointDelta(t.max,e,n,r,s)}function applyBoxDelta(t,{x:e,y:n}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,S;for(let P=0;P<s;P++){a=n[P],S=a.projectionDelta;const{visualElement:M}=a.options;M&&M.props.style&&M.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&transformBox(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),S&&(e.x*=S.x.scale,e.y*=S.y.scale,applyBoxDelta(t,S)),r&&hasTransform(a.latestValues)&&transformBox(t,a.latestValues))}e.x<TREE_SCALE_SNAP_MAX&&e.x>TREE_SCALE_SNAP_MIN&&(e.x=1),e.y<TREE_SCALE_SNAP_MAX&&e.y>TREE_SCALE_SNAP_MIN&&(e.y=1)}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,n,r,s=.5){const a=mixNumber$1(t.min,t.max,s);applyAxisDelta(t,e,n,a,r)}function transformBox(t,e){transformAxis(t.x,e.x,e.scaleX,e.scale,e.originX),transformAxis(t.y,e.y,e.scaleY,e.scale,e.originY)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,n){const r=measureViewportBox(t,n),{scroll:s}=e;return s&&(translateAxis(r.x,s.offset.x),translateAxis(r.y,s.offset.y)),r}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addEventListener("change",e),e()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(t,e,n){for(const r in e){const s=e[r],a=n[r];if(isMotionValue(s))t.addValue(r,s);else if(isMotionValue(a))t.addValue(r,motionValue(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const S=t.getValue(r);S.liveStyle===!0?S.jump(s):S.hasAnimated||S.set(s)}else{const S=t.getStaticValue(r);t.addValue(r,motionValue(S!==void 0?S:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:S},P={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const $=time.now();this.renderScheduledAt<$&&(this.renderScheduledAt=$,frame.render(this.render,!1,!0))};const{latestValues:M,renderState:N}=S;this.latestValues=M,this.baseTarget={...M},this.initialValues=n.initial?{...M}:{},this.renderState=N,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=P,this.blockInitialAnimation=!!a,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:F,...z}=this.scrapeMotionValuesFromProps(n,{},this);for(const $ in z){const G=z[$];M[$]!==void 0&&isMotionValue(G)&&G.set(M[$])}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=transformProps.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",S=>{this.latestValues[e]=S,this.props.onUpdate&&frame.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in featureDefinitions){const n=featureDefinitions[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<propEventHandlers.length;r++){const s=propEventHandlers[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,S=e[a];S&&(this.propEventSubscriptions[s]=this.on(s,S))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=motionValue(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(isNumericalString(r)||isZeroValueString(r))?r=parseFloat(r):!findValueType(r)&&complex.test(n)&&(r=getAnimatableNone(e,n)),this.setBaseTarget(e,isMotionValue(r)?r.get():r)),isMotionValue(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=resolveVariantFromProps(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!isMotionValue(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function renderHTML(t,{style:e,vars:n},r,s){const a=t.style;let S;for(S in e)a[S]=e[S];s?.applyProjectionStyles(a,r);for(S in n)a.setProperty(S,n[S])}function getComputedStyle$2(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(e,n){if(transformProps.has(n))return this.projection?.isProjecting?defaultTransformValue(n):readTransformValue(e,n);{const r=getComputedStyle$2(e),s=(isCSSVariableName(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return measureViewportBox(e,n)}build(e,n,r){buildHTMLStyles(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return scrapeMotionValuesFromProps$1(e,n,r)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,n,r){renderHTML(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(camelCaseAttributes.has(s)?s:camelToDash(s),e.attrs[s])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(transformProps.has(n)){const r=getDefaultValueType(n);return r&&r.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return scrapeMotionValuesFromProps(e,n,r)}build(e,n,r){buildSVGAttrs(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){renderSVG(e,n,r,s)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e):new HTMLVisualElement(e,{allowProjection:t!==reactExports.Fragment});function resolveVariant(t,e,n){const r=t.getProps();return resolveVariantFromProps(r,e,n!==void 0?n:r.custom,t)}const isKeyframesTarget=t=>Array.isArray(t);function setMotionValue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,motionValue(n))}function resolveFinalValueInKeyframes(t){return isKeyframesTarget(t)?t[t.length-1]||0:t}function setTarget(t,e){const n=resolveVariant(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const S in a){const P=resolveFinalValueInKeyframes(a[S]);setMotionValue(t,S,P)}}function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}function addValueToWillChange(t,e){const n=t.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(e);if(!n&&MotionGlobalConfig.WillChange){const r=new MotionGlobalConfig.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function getOptimisedAppearId(t){return t.props[optimizedAppearDataAttribute]}const isNotNull=t=>t!==null;function getFinalKeyframe(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(isNotNull),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease;function isTransitionDefined({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:S,repeatDelay:P,from:M,elapsed:N,...F}){return!!Object.keys(F).length}const animateMotionValue=(t,e,n,r={},s,a)=>S=>{const P=getValueTransition(r,t)||{},M=P.delay||r.delay||0;let{elapsed:N=0}=r;N=N-secondsToMilliseconds(M);const F={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...P,delay:-N,onUpdate:$=>{e.set($),P.onUpdate&&P.onUpdate($)},onComplete:()=>{S(),P.onComplete&&P.onComplete()},name:t,motionValue:e,element:a?void 0:s};isTransitionDefined(P)||Object.assign(F,getDefaultTransition(t,F)),F.duration&&(F.duration=secondsToMilliseconds(F.duration)),F.repeatDelay&&(F.repeatDelay=secondsToMilliseconds(F.repeatDelay)),F.from!==void 0&&(F.keyframes[0]=F.from);let z=!1;if((F.type===!1||F.duration===0&&!F.repeatDelay)&&(makeAnimationInstant(F),F.delay===0&&(z=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(z=!0,makeAnimationInstant(F),F.delay=0),F.allowFlatten=!P.type&&!P.ease,z&&!a&&e.get()!==void 0){const $=getFinalKeyframe(F.keyframes,P);if($!==void 0){frame.update(()=>{F.onUpdate($),F.onComplete()});return}}return P.isSync?new JSAnimation(F):new AsyncMotionValueAnimation(F)};function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function animateTarget(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:S,...P}=e;r&&(a=r);const M=[],N=s&&t.animationState&&t.animationState.getState()[s];for(const F in P){const z=t.getValue(F,t.latestValues[F]??null),$=P[F];if($===void 0||N&&shouldBlockAnimation(N,F))continue;const G={delay:n,...getValueTransition(a||{},F)},H=z.get();if(H!==void 0&&!z.isAnimating&&!Array.isArray($)&&$===H&&!G.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const Y=getOptimisedAppearId(t);if(Y){const Q=window.MotionHandoffAnimation(Y,F,frame);Q!==null&&(G.startTime=Q,U=!0)}}addValueToWillChange(t,F),z.start(animateMotionValue(F,z,$,t.shouldReduceMotion&&positionalKeys.has(F)?{type:!1}:G,t,U));const W=z.animation;W&&M.push(W)}return S&&Promise.all(M).then(()=>{frame.update(()=>{S&&setTarget(t,S)})}),M}function calcChildStagger(t,e,n,r=0,s=1){const a=Array.from(t).sort((N,F)=>N.sortNodePosition(F)).indexOf(e),S=t.size,P=(S-1)*r;return typeof n=="function"?n(a,S):s===1?a*r:P-a*r}function animateVariant(t,e,n={}){const r=resolveVariant(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(animateTarget(t,r,n)):()=>Promise.resolve(),S=t.variantChildren&&t.variantChildren.size?(M=0)=>{const{delayChildren:N=0,staggerChildren:F,staggerDirection:z}=s;return animateChildren(t,e,M,N,F,z,n)}:()=>Promise.resolve(),{when:P}=s;if(P){const[M,N]=P==="beforeChildren"?[a,S]:[S,a];return M().then(()=>N())}else return Promise.all([a(),S(n.delay)])}function animateChildren(t,e,n=0,r=0,s=0,a=1,S){const P=[];for(const M of t.variantChildren)M.notify("AnimationStart",e),P.push(animateVariant(M,e,{...S,delay:n+(typeof r=="function"?0:r)+calcChildStagger(t.variantChildren,M,r,s,a)}).then(()=>M.notify("AnimationComplete",e)));return Promise.all(P)}function animateVisualElement(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>animateVariant(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=animateVariant(t,e,n);else{const s=typeof e=="function"?resolveVariant(t,e,n.custom):e;r=Promise.all(animateTarget(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function shallowCompare(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?getVariantContext(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<numVariantProps;n++){const r=variantProps[n],s=t.props[r];(isVariantLabel(s)||s===!1)&&(e[r]=s)}return e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:n,options:r})=>animateVisualElement(t,n,r)))}function createAnimationState(t){let e=animateList(t),n=createState(),r=!0;const s=M=>(N,F)=>{const z=resolveVariant(t,F,M==="exit"?t.presenceContext?.custom:void 0);if(z){const{transition:$,transitionEnd:G,...H}=z;N={...N,...H,...G}}return N};function a(M){e=M(t)}function S(M){const{props:N}=t,F=getVariantContext(t.parent)||{},z=[],$=new Set;let G={},H=1/0;for(let W=0;W<numAnimationTypes;W++){const Y=reversePriorityOrder[W],Q=n[Y],K=N[Y]!==void 0?N[Y]:F[Y],tt=isVariantLabel(K),nt=Y===M?Q.isActive:null;nt===!1&&(H=W);let rt=K===F[Y]&&K!==N[Y]&&tt;if(rt&&r&&t.manuallyAnimateOnMount&&(rt=!1),Q.protectedKeys={...G},!Q.isActive&&nt===null||!K&&!Q.prevProp||isAnimationControls(K)||typeof K=="boolean")continue;const ht=checkVariantsDidChange(Q.prevProp,K);let ct=ht||Y===M&&Q.isActive&&!rt&&tt||W>H&&tt,mt=!1;const wt=Array.isArray(K)?K:[K];let kt=wt.reduce(s(Y),{});nt===!1&&(kt={});const{prevResolvedValues:_t={}}=Q,Vt={..._t,...kt},jt=yt=>{ct=!0,$.has(yt)&&(mt=!0,$.delete(yt)),Q.needsAnimating[yt]=!0;const st=t.getValue(yt);st&&(st.liveStyle=!1)};for(const yt in Vt){const st=kt[yt],pt=_t[yt];if(G.hasOwnProperty(yt))continue;let dt=!1;isKeyframesTarget(st)&&isKeyframesTarget(pt)?dt=!shallowCompare(st,pt):dt=st!==pt,dt?st!=null?jt(yt):$.add(yt):st!==void 0&&$.has(yt)?jt(yt):Q.protectedKeys[yt]=!0}Q.prevProp=K,Q.prevResolvedValues=kt,Q.isActive&&(G={...G,...kt}),r&&t.blockInitialAnimation&&(ct=!1);const At=rt&&ht;ct&&(!At||mt)&&z.push(...wt.map(yt=>{const st={type:Y};if(typeof yt=="string"&&r&&!At&&t.manuallyAnimateOnMount&&t.parent){const{parent:pt}=t,dt=resolveVariant(pt,yt);if(pt.enteringChildren&&dt){const{delayChildren:xt}=dt.transition||{};st.delay=calcChildStagger(pt.enteringChildren,t,xt)}}return{animation:yt,options:st}}))}if($.size){const W={};if(typeof N.initial!="boolean"){const Y=resolveVariant(t,Array.isArray(N.initial)?N.initial[0]:N.initial);Y&&Y.transition&&(W.transition=Y.transition)}$.forEach(Y=>{const Q=t.getBaseTarget(Y),K=t.getValue(Y);K&&(K.liveStyle=!0),W[Y]=Q??null}),z.push({animation:W})}let U=!!z.length;return r&&(N.initial===!1||N.initial===N.animate)&&!t.manuallyAnimateOnMount&&(U=!1),r=!1,U?e(z):Promise.resolve()}function P(M,N){if(n[M].isActive===N)return Promise.resolve();t.variantChildren?.forEach(z=>z.animationState?.setActive(M,N)),n[M].isActive=N;const F=S(M);for(const z in n)n[z].protectedKeys={};return F}return{animateChanges:S,setActive:P,setAnimateFunction:a,getState:()=>n,reset:()=>{n=createState(),r=!0}}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();isAnimationControls(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function extractEventInfo(t){return{point:{x:t.pageX,y:t.pageY}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,n,r){return addDomEvent(t,e,addPointerInfo(n),r)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(t){return t.max-t.min}function isNear(t,e,n){return Math.abs(t-e)<=n}function calcAxisDelta(t,e,n,r=.5){t.origin=r,t.originPoint=mixNumber$1(e.min,e.max,t.origin),t.scale=calcLength(n)/calcLength(e),t.translate=mixNumber$1(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SCALE_MIN&&t.scale<=SCALE_MAX||isNaN(t.scale))&&(t.scale=1),(t.translate>=TRANSLATE_MIN&&t.translate<=TRANSLATE_MAX||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,n,r){calcAxisDelta(t.x,e.x,n.x,r?r.originX:void 0),calcAxisDelta(t.y,e.y,n.y,r?r.originY:void 0)}function calcRelativeAxis(t,e,n){t.min=n.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,n){calcRelativeAxis(t.x,e.x,n.x),calcRelativeAxis(t.y,e.y,n.y)}function calcRelativeAxisPosition(t,e,n){t.min=e.min-n.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,n){calcRelativeAxisPosition(t.x,e.x,n.x),calcRelativeAxisPosition(t.y,e.y,n.y)}function eachAxis(t){return[t("x"),t("y")]}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const n=distance(t.x,e.x),r=distance(t.y,e.y);return Math.sqrt(n**2+r**2)}class PanSession{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:S=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=getPanInfo(this.lastMoveEventInfo,this.history),G=this.startEvent!==null,H=distance2D($.offset,{x:0,y:0})>=this.distanceThreshold;if(!G&&!H)return;const{point:U}=$,{timestamp:W}=frameData;this.history.push({...U,timestamp:W});const{onStart:Y,onMove:Q}=this.handlers;G||(Y&&Y(this.lastMoveEvent,$),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,$)},this.handlePointerMove=($,G)=>{this.lastMoveEvent=$,this.lastMoveEventInfo=transformPoint(G,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=($,G)=>{this.end();const{onEnd:H,onSessionEnd:U,resumeAnimation:W}=this.handlers;if(this.dragSnapToOrigin&&W&&W(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Y=getPanInfo($.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(G,this.transformPagePoint),this.history);this.startEvent&&H&&H($,Y),U&&U($,Y)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=S,this.contextWindow=s||window;const P=extractEventInfo(e),M=transformPoint(P,this.transformPagePoint),{point:N}=M,{timestamp:F}=frameData;this.history=[{...N,timestamp:F}];const{onSessionStart:z}=n;z&&z(e,getPanInfo(M,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=lastDevicePoint(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>secondsToMilliseconds(e)));)n--;if(!r)return{x:0,y:0};const a=millisecondsToSeconds(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const S={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return S.x===1/0&&(S.x=0),S.y===1/0&&(S.y=0),S}function applyConstraints(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?mixNumber$1(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?mixNumber$1(n,t,r.max):Math.min(t,n)),t}function calcRelativeAxisConstraints(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:n,bottom:r,right:s}){return{x:calcRelativeAxisConstraints(t.x,n,s),y:calcRelativeAxisConstraints(t.y,e,r)}}function calcViewportAxisConstraints(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let n=.5;const r=calcLength(t),s=calcLength(e);return s>r?n=progress(e.min,e.max-r,t.min):r>s&&(n=progress(t.min,t.max-s,e.min)),clamp(0,1,n)}function rebaseAxisConstraints(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,n){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,n)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=z=>{const{dragSnapToOrigin:$}=this.getProps();$?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(z).point)},S=(z,$)=>{const{drag:G,dragPropagation:H,onDragStart:U}=this.getProps();if(G&&!H&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(G),!this.openDragLock))return;this.latestPointerEvent=z,this.latestPanInfo=$,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Y=>{let Q=this.getAxisMotionValue(Y).get()||0;if(percent.test(Q)){const{projection:K}=this.visualElement;if(K&&K.layout){const tt=K.layout.layoutBox[Y];tt&&(Q=calcLength(tt)*(parseFloat(Q)/100))}}this.originPoint[Y]=Q}),U&&frame.postRender(()=>U(z,$)),addValueToWillChange(this.visualElement,"transform");const{animationState:W}=this.visualElement;W&&W.setActive("whileDrag",!0)},P=(z,$)=>{this.latestPointerEvent=z,this.latestPanInfo=$;const{dragPropagation:G,dragDirectionLock:H,onDirectionLock:U,onDrag:W}=this.getProps();if(!G&&!this.openDragLock)return;const{offset:Y}=$;if(H&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Y),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",$.point,Y),this.updateAxis("y",$.point,Y),this.visualElement.render(),W&&W(z,$)},M=(z,$)=>{this.latestPointerEvent=z,this.latestPanInfo=$,this.stop(z,$),this.latestPointerEvent=null,this.latestPanInfo=null},N=()=>eachAxis(z=>this.getAnimationState(z)==="paused"&&this.getAxisMotionValue(z).animation?.play()),{dragSnapToOrigin:F}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:a,onStart:S,onMove:P,onSessionEnd:M,resumeAnimation:N},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:F,distanceThreshold:r,contextWindow:getContextWindow(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:S}=s;this.startAnimation(S);const{onDragEnd:P}=this.getProps();P&&frame.postRender(()=>P(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!shouldDrag(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let S=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(S=applyConstraints(S,this.constraints[e],this.elastic[e])),a.set(S)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&isRefObject(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=calcRelativeConstraints(r.layoutBox,e):this.constraints=!1,this.elastic=resolveDragElastic(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=rebaseAxisConstraints(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!isRefObject(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=measurePageBox(r,s.root,this.visualElement.getTransformPagePoint());let S=calcViewportConstraints(s.layout.layoutBox,a);if(n){const P=n(convertBoxToBoundingBox(S));this.hasMutatedConstraints=!!P,P&&(S=convertBoundingBoxToBox(P))}return S}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:S,onDragTransitionEnd:P}=this.getProps(),M=this.constraints||{},N=eachAxis(F=>{if(!shouldDrag(F,n,this.currentDirection))return;let z=M&&M[F]||{};S&&(z={min:0,max:0});const $=s?200:1e6,G=s?40:1e7,H={type:"inertia",velocity:r?e[F]:0,bounceStiffness:$,bounceDamping:G,timeConstant:750,restDelta:1,restSpeed:10,...a,...z};return this.startAxisValueAnimation(F,H)});return Promise.all(N).then(P)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return addValueToWillChange(this.visualElement,e),r.start(animateMotionValue(e,r,0,n,this.visualElement,!1))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(n=>{const{drag:r}=this.getProps();if(!shouldDrag(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:S,max:P}=s.layout.layoutBox[n];a.set(e[n]-mixNumber$1(S,P,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!isRefObject(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};eachAxis(S=>{const P=this.getAxisMotionValue(S);if(P&&this.constraints!==!1){const M=P.get();s[S]=calcOrigin({min:M,max:M},this.constraints[S])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),eachAxis(S=>{if(!shouldDrag(S,e,null))return;const P=this.getAxisMotionValue(S),{min:M,max:N}=this.constraints[S];P.set(mixNumber$1(M,N,s[S]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,n=addPointerEvent(e,"pointerdown",M=>{const{drag:N,dragListener:F=!0}=this.getProps();N&&F&&this.start(M)}),r=()=>{const{dragConstraints:M}=this.getProps();isRefObject(M)&&M.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),frame.read(r);const S=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),P=s.addEventListener("didUpdate",(({delta:M,hasLayoutChanged:N})=>{this.isDragging&&N&&(eachAxis(F=>{const z=this.getAxisMotionValue(F);z&&(this.originPoint[F]+=M[F].translate,z.set(z.get()+M[F].translate))}),this.visualElement.render())}));return()=>{S(),n(),a(),P&&P()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:S=defaultElastic,dragMomentum:P=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:S,dragMomentum:P}}}function shouldDrag(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function getCurrentDirection(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,n)=>{t&&frame.postRender(()=>t(e,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(n),onMove:r,onEnd:(a,S)=>{delete this.session,s&&frame.postRender(()=>s(a,S))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px.test(t))t=parseFloat(t);else return t;const n=pixelsToPercent(t,e.target.x),r=pixelsToPercent(t,e.target.y);return`${n}% ${r}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=complex.parse(t);if(s.length>5)return r;const a=complex.createTransformer(t),S=typeof s[0]!="number"?1:0,P=n.x.scale*e.x,M=n.y.scale*e.y;s[0+S]/=P,s[1+S]/=M;const N=mixNumber$1(P,M,.5);return typeof s[2+S]=="number"&&(s[2+S]/=N),typeof s[3+S]=="number"&&(s[3+S]/=N),a(s)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;addScaleCorrector(defaultScaleCorrectors),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),hasTakenAnySnapshot&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:S}=r;return S&&(S.isPresent=a,hasTakenAnySnapshot=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?S.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?S.promote():S.relegate()||frame.postRender(()=>{const P=S.getStack();(!P||!P.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;hasTakenAnySnapshot=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,n]=usePresence(),r=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...t,layoutGroup:r,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(t,e,n){const r=isMotionValue(t)?t:motionValue(t);return r.start(animateMotionValue("",r,e,n)),r.animation}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const n=time.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(cancelFrame(r),t(a-e))};return frame.setup(r,!0),()=>cancelFrame(r)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px.test(t);function mixValues(t,e,n,r,s,a){s?(t.opacity=mixNumber$1(0,n.opacity??1,easeCrossfadeIn(r)),t.opacityExit=mixNumber$1(e.opacity??1,0,easeCrossfadeOut(r))):a&&(t.opacity=mixNumber$1(e.opacity??1,n.opacity??1,r));for(let S=0;S<numBorders;S++){const P=`border${borders[S]}Radius`;let M=getRadius(e,P),N=getRadius(n,P);if(M===void 0&&N===void 0)continue;M||(M=0),N||(N=0),M===0||N===0||isPx(M)===isPx(N)?(t[P]=Math.max(mixNumber$1(asNumber(M),asNumber(N),r),0),(percent.test(N)||percent.test(M))&&(t[P]+="%")):t[P]=N}(e.rotate||n.rotate)&&(t.rotate=mixNumber$1(e.rotate||0,n.rotate||0,r))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(t,e,n){return r=>r<t?0:r>e?1:n(progress(t,e,r))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function copyAxisDeltaInto(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function removePointDelta(t,e,n,r,s){return t-=e,t=scalePoint(t,1/n,r),s!==void 0&&(t=scalePoint(t,1/s,r)),t}function removeAxisDelta(t,e=0,n=1,r=.5,s,a=t,S=t){if(percent.test(e)&&(e=parseFloat(e),e=mixNumber$1(S.min,S.max,e/100)-S.min),typeof e!="number")return;let P=mixNumber$1(a.min,a.max,r);t===a&&(P-=e),t.min=removePointDelta(t.min,e,n,P,s),t.max=removePointDelta(t.max,e,n,P,s)}function removeAxisTransforms(t,e,[n,r,s],a,S){removeAxisDelta(t,e[n],e[r],e[s],e.scale,a,S)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,n,r){removeAxisTransforms(t.x,e,xKeys,n?n.x:void 0,r?r.x:void 0),removeAxisTransforms(t.y,e,yKeys,n?n.y:void 0,r?r.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function axisEquals(t,e){return t.min===e.min&&t.max===e.max}function boxEquals(t,e){return axisEquals(t.x,e.x)&&axisEquals(t.y,e.y)}function axisEqualsRounded(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function boxEqualsRounded(t,e){return axisEqualsRounded(t.x,e.x)&&axisEqualsRounded(t.y,e.y)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}function axisDeltaEquals(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,S=n?.z||0;if((s||a||S)&&(r=`translate3d(${s}px, ${a}px, ${S}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:N,rotate:F,rotateX:z,rotateY:$,skewX:G,skewY:H}=n;N&&(r=`perspective(${N}px) ${r}`),F&&(r+=`rotate(${F}deg) `),z&&(r+=`rotateX(${z}deg) `),$&&(r+=`rotateY(${$}deg) `),G&&(r+=`skewX(${G}deg) `),H&&(r+=`skewY(${H}deg) `)}const P=t.x.scale*e.x,M=t.y.scale*e.y;return(P!==1||M!==1)&&(r+=`scale(${P}, ${M})`),r||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cancelTreeOptimisedTransformAnimations(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=getOptimisedAppearId(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(r)}function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(S={},P=e?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=S,this.root=P?P.root||P:this,this.path=P?[...P.path,P]:[],this.parent=P,this.depth=P?P.depth+1:0;for(let M=0;M<this.path.length;M++)this.path[M].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(S,P){return this.eventHandlers.has(S)||this.eventHandlers.set(S,new SubscriptionManager),this.eventHandlers.get(S).add(P)}notifyListeners(S,...P){const M=this.eventHandlers.get(S);M&&M.notify(...P)}hasListeners(S){return this.eventHandlers.has(S)}mount(S){if(this.instance)return;this.isSVG=isSVGElement(S)&&!isSVGSVGElement(S),this.instance=S;const{layoutId:P,layout:M,visualElement:N}=this.options;if(N&&!N.current&&N.mount(S),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(M||P)&&(this.isLayoutDirty=!0),t){let F,z=0;const $=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{z=window.innerWidth}),t(S,()=>{const G=window.innerWidth;G!==z&&(z=G,this.root.updateBlockedByResize=!0,F&&F(),F=delay($,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}P&&this.root.registerSharedNode(P,this),this.options.animate!==!1&&N&&(P||M)&&this.addEventListener("didUpdate",({delta:F,hasLayoutChanged:z,hasRelativeLayoutChanged:$,layout:G})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const H=this.options.transition||N.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:U,onLayoutAnimationComplete:W}=N.getProps(),Y=!this.targetLayout||!boxEqualsRounded(this.targetLayout,G),Q=!z&&$;if(this.options.layoutRoot||this.resumeFrom||Q||z&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...getValueTransition(H,"layout"),onPlay:U,onComplete:W};(N.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(F,Q)}else z||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=G})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const S=this.getStack();S&&S.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:S}=this.options;return S&&S.getProps().transformTemplate}willUpdate(S=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let F=0;F<this.path.length;F++){const z=this.path[F];z.shouldResetTransform=!0,z.updateScroll("snapshot"),z.options.layoutRoot&&z.willUpdate(!1)}const{layoutId:P,layout:M}=this.options;if(P===void 0&&!M)return;const N=this.getTransformTemplate();this.prevTransformTemplateValue=N?N(this.latestValues,""):void 0,this.updateSnapshot(),S&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const P=time.now();frameData.delta=clamp(0,1e3/60,P-frameData.timestamp),frameData.timestamp=P,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let M=0;M<this.path.length;M++)this.path[M].updateScroll();const S=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:P}=this.options;P&&P.notify("LayoutMeasure",this.layout.layoutBox,S?S.layoutBox:void 0)}updateScroll(S="measure"){let P=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===S&&(P=!1),P&&this.instance){const M=r(this.instance);this.scroll={animationId:this.root.animationId,phase:S,isRoot:M,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:M}}}resetTransform(){if(!s)return;const S=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,P=this.projectionDelta&&!isDeltaZero(this.projectionDelta),M=this.getTransformTemplate(),N=M?M(this.latestValues,""):void 0,F=N!==this.prevTransformTemplateValue;S&&this.instance&&(P||hasTransform(this.latestValues)||F)&&(s(this.instance,N),this.shouldResetTransform=!1,this.scheduleRender())}measure(S=!0){const P=this.measurePageBox();let M=this.removeElementScroll(P);return S&&(M=this.removeTransform(M)),roundBox(M),{animationId:this.root.animationId,measuredBox:P,layoutBox:M,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:S}=this.options;if(!S)return createBox();const P=S.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:N}=this.root;N&&(translateAxis(P.x,N.offset.x),translateAxis(P.y,N.offset.y))}return P}removeElementScroll(S){const P=createBox();if(copyBoxInto(P,S),this.scroll?.wasRoot)return P;for(let M=0;M<this.path.length;M++){const N=this.path[M],{scroll:F,options:z}=N;N!==this.root&&F&&z.layoutScroll&&(F.wasRoot&&copyBoxInto(P,S),translateAxis(P.x,F.offset.x),translateAxis(P.y,F.offset.y))}return P}applyTransform(S,P=!1){const M=createBox();copyBoxInto(M,S);for(let N=0;N<this.path.length;N++){const F=this.path[N];!P&&F.options.layoutScroll&&F.scroll&&F!==F.root&&transformBox(M,{x:-F.scroll.offset.x,y:-F.scroll.offset.y}),hasTransform(F.latestValues)&&transformBox(M,F.latestValues)}return hasTransform(this.latestValues)&&transformBox(M,this.latestValues),M}removeTransform(S){const P=createBox();copyBoxInto(P,S);for(let M=0;M<this.path.length;M++){const N=this.path[M];if(!N.instance||!hasTransform(N.latestValues))continue;hasScale(N.latestValues)&&N.updateSnapshot();const F=createBox(),z=N.measurePageBox();copyBoxInto(F,z),removeBoxTransforms(P,N.latestValues,N.snapshot?N.snapshot.layoutBox:void 0,F)}return hasTransform(this.latestValues)&&removeBoxTransforms(P,this.latestValues),P}setTargetDelta(S){this.targetDelta=S,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(S){this.options={...this.options,...S,crossfade:S.crossfade!==void 0?S.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(S=!1){const P=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=P.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=P.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=P.isSharedProjectionDirty);const M=!!this.resumingFrom||this!==P;if(!(S||M&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:F,layoutId:z}=this.options;if(!(!this.layout||!(F||z))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const $=this.getClosestProjectingParent();$&&$.layout&&this.animationProgress!==1?(this.relativeParent=$,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,$.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const $=this.getClosestProjectingParent();$&&!!$.resumingFrom==!!this.resumingFrom&&!$.options.layoutScroll&&$.target&&this.animationProgress!==1?(this.relativeParent=$,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,$.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const S=this.getLead(),P=!!this.resumingFrom||this!==S;let M=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(M=!1),P&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(M=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(M=!1),M)return;const{layout:N,layoutId:F}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(N||F))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const z=this.treeScale.x,$=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,P),S.layout&&!S.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(S.target=S.layout.layoutBox,S.targetWithTransforms=createBox());const{target:G}=S;if(!G){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,G,this.latestValues),(this.treeScale.x!==z||this.treeScale.y!==$||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",G))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(S=!0){if(this.options.visualElement?.scheduleRender(),S){const P=this.getStack();P&&P.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(S,P=!1){const M=this.snapshot,N=M?M.latestValues:{},F={...this.latestValues},z=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!P;const $=createBox(),G=M?M.source:void 0,H=this.layout?this.layout.source:void 0,U=G!==H,W=this.getStack(),Y=!W||W.members.length<=1,Q=!!(U&&!Y&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let K;this.mixTargetDelta=tt=>{const nt=tt/1e3;mixAxisDelta(z.x,S.x,nt),mixAxisDelta(z.y,S.y,nt),this.setTargetDelta(z),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition($,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,$,nt),K&&boxEquals(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=createBox()),copyBoxInto(K,this.relativeTarget)),U&&(this.animationValues=F,mixValues(F,N,this.latestValues,nt,Q,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(S){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...S,velocity:0,isSync:!0,onUpdate:P=>{this.mixTargetDelta(P),S.onUpdate&&S.onUpdate(P)},onStop:()=>{},onComplete:()=>{S.onComplete&&S.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const S=this.getStack();S&&S.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const S=this.getLead();let{targetWithTransforms:P,target:M,layout:N,latestValues:F}=S;if(!(!P||!M||!N)){if(this!==S&&this.layout&&N&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,N.layoutBox)){M=this.target||createBox();const z=calcLength(this.layout.layoutBox.x);M.x.min=S.target.x.min,M.x.max=M.x.min+z;const $=calcLength(this.layout.layoutBox.y);M.y.min=S.target.y.min,M.y.max=M.y.min+$}copyBoxInto(P,M),transformBox(P,F),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,P,F)}}registerSharedNode(S,P){this.sharedNodes.has(S)||this.sharedNodes.set(S,new NodeStack),this.sharedNodes.get(S).add(P);const N=P.options.initialPromotionConfig;P.promote({transition:N?N.transition:void 0,preserveFollowOpacity:N&&N.shouldPreserveFollowOpacity?N.shouldPreserveFollowOpacity(P):void 0})}isLead(){const S=this.getStack();return S?S.lead===this:!0}getLead(){const{layoutId:S}=this.options;return S?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:S}=this.options;return S?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:S}=this.options;if(S)return this.root.sharedNodes.get(S)}promote({needsReset:S,transition:P,preserveFollowOpacity:M}={}){const N=this.getStack();N&&N.promote(this,M),S&&(this.projectionDelta=void 0,this.needsReset=!0),P&&this.setOptions({transition:P})}relegate(){const S=this.getStack();return S?S.relegate(this):!1}resetSkewAndRotation(){const{visualElement:S}=this.options;if(!S)return;let P=!1;const{latestValues:M}=S;if((M.z||M.rotate||M.rotateX||M.rotateY||M.rotateZ||M.skewX||M.skewY)&&(P=!0),!P)return;const N={};M.z&&resetDistortingTransform("z",S,N,this.animationValues);for(let F=0;F<transformAxes.length;F++)resetDistortingTransform(`rotate${transformAxes[F]}`,S,N,this.animationValues),resetDistortingTransform(`skew${transformAxes[F]}`,S,N,this.animationValues);S.render();for(const F in N)S.setStaticValue(F,N[F]),this.animationValues&&(this.animationValues[F]=N[F]);S.scheduleRender()}applyProjectionStyles(S,P){if(!this.instance||this.isSVG)return;if(!this.isVisible){S.visibility="hidden";return}const M=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,S.visibility="",S.opacity="",S.pointerEvents=resolveMotionValue(P?.pointerEvents)||"",S.transform=M?M(this.latestValues,""):"none";return}const N=this.getLead();if(!this.projectionDelta||!this.layout||!N.target){this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=resolveMotionValue(P?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(S.transform=M?M({},""):"none",this.hasProjected=!1);return}S.visibility="";const F=N.animationValues||N.latestValues;this.applyTransformsToTarget();let z=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,F);M&&(z=M(F,z)),S.transform=z;const{x:$,y:G}=this.projectionDelta;S.transformOrigin=`${$.origin*100}% ${G.origin*100}% 0`,N.animationValues?S.opacity=N===this?F.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:F.opacityExit:S.opacity=N===this?F.opacity!==void 0?F.opacity:"":F.opacityExit!==void 0?F.opacityExit:0;for(const H in scaleCorrectors){if(F[H]===void 0)continue;const{correct:U,applyTo:W,isCSSVariable:Y}=scaleCorrectors[H],Q=z==="none"?F[H]:U(F[H],N);if(W){const K=W.length;for(let tt=0;tt<K;tt++)S[W[tt]]=Q}else Y?this.options.visualElement.renderState.vars[H]=Q:S[H]=Q}this.options.layoutId&&(S.pointerEvents=N===this?resolveMotionValue(P?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(S=>S.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?eachAxis(F=>{const z=a?e.measuredBox[F]:e.layoutBox[F],$=calcLength(z);z.min=n[F].min,z.max=z.min+$}):shouldAnimatePositionOnly(s,e.layoutBox,n)&&eachAxis(F=>{const z=a?e.measuredBox[F]:e.layoutBox[F],$=calcLength(n[F]);z.max=z.min+$,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[F].max=t.relativeTarget[F].min+$)});const S=createDelta();calcBoxDelta(S,n,e.layoutBox);const P=createDelta();a?calcBoxDelta(P,t.applyTransform(r,!0),e.measuredBox):calcBoxDelta(P,n,e.layoutBox);const M=!isDeltaZero(S);let N=!1;if(!t.resumeFrom){const F=t.getClosestProjectingParent();if(F&&!F.resumeFrom){const{snapshot:z,layout:$}=F;if(z&&$){const G=createBox();calcRelativePosition(G,e.layoutBox,z.layoutBox);const H=createBox();calcRelativePosition(H,n,$.layoutBox),boxEqualsRounded(G,H)||(N=!0),F.options.layoutRoot&&(t.relativeTarget=H,t.relativeTargetOrigin=G,t.relativeParent=F)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:P,layoutDelta:S,hasLayoutChanged:M,hasRelativeLayoutChanged:N})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function propagateDirtyNodes(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetSkewAndRotation(t){t.resetSkewAndRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,n){t.translate=mixNumber$1(e.translate,0,n),t.scale=mixNumber$1(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,n,r){t.min=mixNumber$1(e.min,n.min,r),t.max=mixNumber$1(e.max,n.max,r)}function mixBox(t,e,n,r){mixAxis(t.x,e.x,n.x,r),mixAxis(t.y,e.y,n.y,r)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,n){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(n),.2)}function checkNodeWasScrollRoot(t){return t!==t.root&&t.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&frame.postRender(()=>a(e,extractEventInfo(e)))}class HoverGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=hover(e,(n,r)=>(handleHoverEvent(this.node,r,"Start"),s=>handleHoverEvent(this.node,s,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&frame.postRender(()=>a(e,extractEventInfo(e)))}class PressGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=press(e,(n,r)=>(handlePressEvent(this.node,r,"Start"),(s,{success:a})=>handlePressEvent(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const n=t||document;observers.has(n)||observers.set(n,{});const r=observers.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),r[s]}function observeIntersection(t,e,n){const r=initIntersectionObserver(e);return observerCallbacks.set(t,n),r.observe(t),()=>{observerCallbacks.delete(t),r.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,S={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:thresholdNames[s]},P=M=>{const{isIntersecting:N}=M;if(this.isInView===N||(this.isInView=N,a&&!N&&this.hasEnteredView))return;N&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",N);const{onViewportEnter:F,onViewportLeave:z}=this.node.getProps(),$=N?F:z;$&&$(M)};return observeIntersection(this.node.current,S,P)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&(function(t,e){module.exports=e()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,r=t.length,s;for(n=0;n<r;n+=1){s=t[n].prototype;for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e.prototype[a]=s[a])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=(function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(n){this.audios.push(n)},pause:function(){var n,r=this.audios.length;for(n=0;n<r;n+=1)this.audios[n].pause()},resume:function(){var n,r=this.audios.length;for(n=0;n<r;n+=1)this.audios[n].resume()},setRate:function(n){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].setRate(n)},createAudio:function(n){return this.audioFactory?this.audioFactory(n):window.Howl?new window.Howl({src:[n]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(n){this.audioFactory=n},setVolume:function(n){this._volume=n,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var n,r=this.audios.length;for(n=0;n<r;n+=1)this.audios[n].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}})(),createTypedArray=(function(){function t(n,r){var s=0,a=[],S;switch(n){case"int16":case"uint8c":S=1;break;default:S=1.1;break}for(s=0;s<r;s+=1)a.push(S);return a}function e(n,r){return n==="float32"?new Float32Array(r):n==="int16"?new Int16Array(r):n==="uint8c"?new Uint8ClampedArray(r):t(n,r)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:t})();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if(e==="object"&&t.length){var n=createSizedArray(t.length),r,s=t.length;for(r=0;r<s;r+=1)n[r]=Math.abs(t[r]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,r){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,r){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}})();function HSVtoRGB(t,e,n){var r,s,a,S,P,M,N,F;switch(S=Math.floor(t*6),P=t*6-S,M=n*(1-e),N=n*(1-P*e),F=n*(1-(1-P)*e),S%6){case 0:r=n,s=F,a=M;break;case 1:r=N,s=n,a=M;break;case 2:r=M,s=n,a=F;break;case 3:r=M,s=N,a=n;break;case 4:r=F,s=M,a=n;break;case 5:r=n,s=M,a=N;break}return[r,s,a]}function RGBtoHSV(t,e,n){var r=Math.max(t,e,n),s=Math.min(t,e,n),a=r-s,S,P=r===0?0:a/r,M=r/255;switch(r){case s:S=0;break;case t:S=e-n+a*(e<n?6:0),S/=6*a;break;case e:S=n-t+a*2,S/=6*a;break;case n:S=t-e+a*4,S/=6*a;break}return[S,P,M]}function addSaturationToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=(function(){var t=[],e,n;for(e=0;e<256;e+=1)n=e.toString(16),t[e]=n.length===1?"0"+n:n;return function(r,s,a){return r<0&&(r=0),s<0&&(s=0),a<0&&(a=0),"#"+t[r]+t[s]+t[a]}})(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}var dataManager=(function(){var t=1,e=[],n,r,s={onmessage:function(){},postMessage:function(G){n({data:G})}},a={postMessage:function(G){s.onmessage({data:G})}};function S($){if(window.Worker&&window.Blob&&getWebWorker()){var G=new Blob(["var _workerSelf = self; self.onmessage = ",$.toString()],{type:"text/javascript"}),H=URL.createObjectURL(G);return new Worker(H)}return n=$,s}function P(){r||(r=S(function(G){function H(){function W(At,lt){var yt,st,pt=At.length,dt,xt,Pt,Dt;for(st=0;st<pt;st+=1)if(yt=At[st],"ks"in yt&&!yt.completed){if(yt.completed=!0,yt.hasMask){var Tt=yt.masksProperties;for(xt=Tt.length,dt=0;dt<xt;dt+=1)if(Tt[dt].pt.k.i)nt(Tt[dt].pt.k);else for(Dt=Tt[dt].pt.k.length,Pt=0;Pt<Dt;Pt+=1)Tt[dt].pt.k[Pt].s&&nt(Tt[dt].pt.k[Pt].s[0]),Tt[dt].pt.k[Pt].e&&nt(Tt[dt].pt.k[Pt].e[0])}yt.ty===0?(yt.layers=K(yt.refId,lt),W(yt.layers,lt)):yt.ty===4?tt(yt.shapes):yt.ty===5&&Vt(yt)}}function Y(At,lt){if(At){var yt=0,st=At.length;for(yt=0;yt<st;yt+=1)At[yt].t===1&&(At[yt].data.layers=K(At[yt].data.refId,lt),W(At[yt].data.layers,lt))}}function Q(At,lt){for(var yt=0,st=lt.length;yt<st;){if(lt[yt].id===At)return lt[yt];yt+=1}return null}function K(At,lt){var yt=Q(At,lt);return yt?yt.layers.__used?JSON.parse(JSON.stringify(yt.layers)):(yt.layers.__used=!0,yt.layers):null}function tt(At){var lt,yt=At.length,st,pt;for(lt=yt-1;lt>=0;lt-=1)if(At[lt].ty==="sh")if(At[lt].ks.k.i)nt(At[lt].ks.k);else for(pt=At[lt].ks.k.length,st=0;st<pt;st+=1)At[lt].ks.k[st].s&&nt(At[lt].ks.k[st].s[0]),At[lt].ks.k[st].e&&nt(At[lt].ks.k[st].e[0]);else At[lt].ty==="gr"&&tt(At[lt].it)}function nt(At){var lt,yt=At.i.length;for(lt=0;lt<yt;lt+=1)At.i[lt][0]+=At.v[lt][0],At.i[lt][1]+=At.v[lt][1],At.o[lt][0]+=At.v[lt][0],At.o[lt][1]+=At.v[lt][1]}function rt(At,lt){var yt=lt?lt.split("."):[100,100,100];return At[0]>yt[0]?!0:yt[0]>At[0]?!1:At[1]>yt[1]?!0:yt[1]>At[1]?!1:At[2]>yt[2]?!0:yt[2]>At[2]?!1:null}var ht=(function(){var At=[4,4,14];function lt(st){var pt=st.t.d;st.t.d={k:[{s:pt,t:0}]}}function yt(st){var pt,dt=st.length;for(pt=0;pt<dt;pt+=1)st[pt].ty===5&&lt(st[pt])}return function(st){if(rt(At,st.v)&&(yt(st.layers),st.assets)){var pt,dt=st.assets.length;for(pt=0;pt<dt;pt+=1)st.assets[pt].layers&&yt(st.assets[pt].layers)}}})(),ct=(function(){var At=[4,7,99];return function(lt){if(lt.chars&&!rt(At,lt.v)){var yt,st=lt.chars.length;for(yt=0;yt<st;yt+=1){var pt=lt.chars[yt];pt.data&&pt.data.shapes&&(tt(pt.data.shapes),pt.data.ip=0,pt.data.op=99999,pt.data.st=0,pt.data.sr=1,pt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},lt.chars[yt].t||(pt.data.shapes.push({ty:"no"}),pt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),mt=(function(){var At=[5,7,15];function lt(st){var pt=st.t.p;typeof pt.a=="number"&&(pt.a={a:0,k:pt.a}),typeof pt.p=="number"&&(pt.p={a:0,k:pt.p}),typeof pt.r=="number"&&(pt.r={a:0,k:pt.r})}function yt(st){var pt,dt=st.length;for(pt=0;pt<dt;pt+=1)st[pt].ty===5&&lt(st[pt])}return function(st){if(rt(At,st.v)&&(yt(st.layers),st.assets)){var pt,dt=st.assets.length;for(pt=0;pt<dt;pt+=1)st.assets[pt].layers&&yt(st.assets[pt].layers)}}})(),wt=(function(){var At=[4,1,9];function lt(st){var pt,dt=st.length,xt,Pt;for(pt=0;pt<dt;pt+=1)if(st[pt].ty==="gr")lt(st[pt].it);else if(st[pt].ty==="fl"||st[pt].ty==="st")if(st[pt].c.k&&st[pt].c.k[0].i)for(Pt=st[pt].c.k.length,xt=0;xt<Pt;xt+=1)st[pt].c.k[xt].s&&(st[pt].c.k[xt].s[0]/=255,st[pt].c.k[xt].s[1]/=255,st[pt].c.k[xt].s[2]/=255,st[pt].c.k[xt].s[3]/=255),st[pt].c.k[xt].e&&(st[pt].c.k[xt].e[0]/=255,st[pt].c.k[xt].e[1]/=255,st[pt].c.k[xt].e[2]/=255,st[pt].c.k[xt].e[3]/=255);else st[pt].c.k[0]/=255,st[pt].c.k[1]/=255,st[pt].c.k[2]/=255,st[pt].c.k[3]/=255}function yt(st){var pt,dt=st.length;for(pt=0;pt<dt;pt+=1)st[pt].ty===4&&lt(st[pt].shapes)}return function(st){if(rt(At,st.v)&&(yt(st.layers),st.assets)){var pt,dt=st.assets.length;for(pt=0;pt<dt;pt+=1)st.assets[pt].layers&&yt(st.assets[pt].layers)}}})(),kt=(function(){var At=[4,4,18];function lt(st){var pt,dt=st.length,xt,Pt;for(pt=dt-1;pt>=0;pt-=1)if(st[pt].ty==="sh")if(st[pt].ks.k.i)st[pt].ks.k.c=st[pt].closed;else for(Pt=st[pt].ks.k.length,xt=0;xt<Pt;xt+=1)st[pt].ks.k[xt].s&&(st[pt].ks.k[xt].s[0].c=st[pt].closed),st[pt].ks.k[xt].e&&(st[pt].ks.k[xt].e[0].c=st[pt].closed);else st[pt].ty==="gr"&&lt(st[pt].it)}function yt(st){var pt,dt,xt=st.length,Pt,Dt,Tt,Ht;for(dt=0;dt<xt;dt+=1){if(pt=st[dt],pt.hasMask){var Ut=pt.masksProperties;for(Dt=Ut.length,Pt=0;Pt<Dt;Pt+=1)if(Ut[Pt].pt.k.i)Ut[Pt].pt.k.c=Ut[Pt].cl;else for(Ht=Ut[Pt].pt.k.length,Tt=0;Tt<Ht;Tt+=1)Ut[Pt].pt.k[Tt].s&&(Ut[Pt].pt.k[Tt].s[0].c=Ut[Pt].cl),Ut[Pt].pt.k[Tt].e&&(Ut[Pt].pt.k[Tt].e[0].c=Ut[Pt].cl)}pt.ty===4&&lt(pt.shapes)}}return function(st){if(rt(At,st.v)&&(yt(st.layers),st.assets)){var pt,dt=st.assets.length;for(pt=0;pt<dt;pt+=1)st.assets[pt].layers&&yt(st.assets[pt].layers)}}})();function _t(At){At.__complete||(wt(At),ht(At),ct(At),mt(At),kt(At),W(At.layers,At.assets),Y(At.chars,At.assets),At.__complete=!0)}function Vt(At){At.t.a.length===0&&"m"in At.t.p}var jt={};return jt.completeData=_t,jt.checkColors=wt,jt.checkChars=ct,jt.checkPathProperties=mt,jt.checkShapes=kt,jt.completeLayers=W,jt}if(a.dataManager||(a.dataManager=H()),a.assetLoader||(a.assetLoader=(function(){function W(Q){var K=Q.getResponseHeader("content-type");return K&&Q.responseType==="json"&&K.indexOf("json")!==-1||Q.response&&_typeof$5(Q.response)==="object"?Q.response:Q.response&&typeof Q.response=="string"?JSON.parse(Q.response):Q.responseText?JSON.parse(Q.responseText):null}function Y(Q,K,tt,nt){var rt,ht=new XMLHttpRequest;try{ht.responseType="json"}catch{}ht.onreadystatechange=function(){if(ht.readyState===4)if(ht.status===200)rt=W(ht),tt(rt);else try{rt=W(ht),tt(rt)}catch(ct){nt&&nt(ct)}};try{ht.open(["G","E","T"].join(""),Q,!0)}catch{ht.open(["G","E","T"].join(""),K+"/"+Q,!0)}ht.send()}return{load:Y}})()),G.data.type==="loadAnimation")a.assetLoader.load(G.data.path,G.data.fullPath,function(W){a.dataManager.completeData(W),a.postMessage({id:G.data.id,payload:W,status:"success"})},function(){a.postMessage({id:G.data.id,status:"error"})});else if(G.data.type==="complete"){var U=G.data.animation;a.dataManager.completeData(U),a.postMessage({id:G.data.id,payload:U,status:"success"})}else G.data.type==="loadData"&&a.assetLoader.load(G.data.path,G.data.fullPath,function(W){a.postMessage({id:G.data.id,payload:W,status:"success"})},function(){a.postMessage({id:G.data.id,status:"error"})})}),r.onmessage=function($){var G=$.data,H=G.id,U=e[H];e[H]=null,G.status==="success"?U.onComplete(G.payload):U.onError&&U.onError()})}function M($,G){t+=1;var H="processId_"+t;return e[H]={onComplete:$,onError:G},H}function N($,G,H){P();var U=M(G,H);r.postMessage({type:"loadAnimation",path:$,fullPath:window.location.origin+window.location.pathname,id:U})}function F($,G,H){P();var U=M(G,H);r.postMessage({type:"loadData",path:$,fullPath:window.location.origin+window.location.pathname,id:U})}function z($,G,H){P();var U=M(G,H);r.postMessage({type:"complete",animation:$,id:U})}return{loadAnimation:N,loadData:F,completeAnimation:z}})(),ImagePreloader=(function(){var t=(function(){var Y=createTag("canvas");Y.width=1,Y.height=1;var Q=Y.getContext("2d");return Q.fillStyle="rgba(0,0,0,0)",Q.fillRect(0,0,1,1),Y})();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(Y,Q,K){var tt="";if(Y.e)tt=Y.p;else if(Q){var nt=Y.p;nt.indexOf("images/")!==-1&&(nt=nt.split("/")[1]),tt=Q+nt}else tt=K,tt+=Y.u?Y.u:"",tt+=Y.p;return tt}function s(Y){var Q=0,K=setInterval((function(){var tt=Y.getBBox();(tt.width||Q>500)&&(this._imageLoaded(),clearInterval(K)),Q+=1}).bind(this),50)}function a(Y){var Q=r(Y,this.assetsPath,this.path),K=createNS("image");isSafari?this.testImageLoaded(K):K.addEventListener("load",this._imageLoaded,!1),K.addEventListener("error",(function(){tt.img=t,this._imageLoaded()}).bind(this),!1),K.setAttributeNS("http://www.w3.org/1999/xlink","href",Q),this._elementHelper.append?this._elementHelper.append(K):this._elementHelper.appendChild(K);var tt={img:K,assetData:Y};return tt}function S(Y){var Q=r(Y,this.assetsPath,this.path),K=createTag("img");K.crossOrigin="anonymous",K.addEventListener("load",this._imageLoaded,!1),K.addEventListener("error",(function(){tt.img=t,this._imageLoaded()}).bind(this),!1),K.src=Q;var tt={img:K,assetData:Y};return tt}function P(Y){var Q={assetData:Y},K=r(Y,this.assetsPath,this.path);return dataManager.loadData(K,(function(tt){Q.img=tt,this._footageLoaded()}).bind(this),(function(){Q.img={},this._footageLoaded()}).bind(this)),Q}function M(Y,Q){this.imagesLoadedCb=Q;var K,tt=Y.length;for(K=0;K<tt;K+=1)Y[K].layers||(!Y[K].t||Y[K].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Y[K]))):Y[K].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Y[K]))))}function N(Y){this.path=Y||""}function F(Y){this.assetsPath=Y||""}function z(Y){for(var Q=0,K=this.images.length;Q<K;){if(this.images[Q].assetData===Y)return this.images[Q].img;Q+=1}return null}function $(){this.imagesLoadedCb=null,this.images.length=0}function G(){return this.totalImages===this.loadedAssets}function H(){return this.totalFootages===this.loadedFootagesCount}function U(Y,Q){Y==="svg"?(this._elementHelper=Q,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function W(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=P.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return W.prototype={loadAssets:M,setAssetsPath:F,setPath:N,loadedImages:G,loadedFootages:H,destroy:$,getAsset:z,createImgData:S,createImageData:a,imageLoaded:e,footageLoaded:n,setCacheType:U},W})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,n){if(this._cbs[e])for(var r=this._cbs[e],s=0;s<r.length;s+=1)r[s](n)},addEventListener:function(e,n){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(n),(function(){this.removeEventListener(e,n)}).bind(this)},removeEventListener:function(e,n){if(!n)this._cbs[e]=null;else if(this._cbs[e]){for(var r=0,s=this._cbs[e].length;r<s;)this._cbs[e][r]===n&&(this._cbs[e].splice(r,1),r-=1,s-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=(function(){function t(e){for(var n=e.split(`\r
`),r={},s,a=0,S=0;S<n.length;S+=1)s=n[S].split(":"),s.length===2&&(r[s[0]]=s[1].trim(),a+=1);if(a===0)throw new Error;return r}return function(e){for(var n=[],r=0;r<e.length;r+=1){var s=e[r],a={time:s.tm,duration:s.dr};try{a.payload=JSON.parse(e[r].cm)}catch{try{a.payload=t(e[r].cm)}catch{a.payload={name:e[r].cm}}}n.push(a)}return n}})(),ProjectInterface=(function(){function t(e){this.compositions.push(e)}return function(){function e(n){for(var r=0,s=this.compositions.length;r<s;){if(this.compositions[r].data&&this.compositions[r].data.nm===n)return this.compositions[r].prepareFrame&&this.compositions[r].data.xt&&this.compositions[r].prepareFrame(this.currentFrame),this.compositions[r].compInterface;r+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}})(),renderers={},registerRenderer=function(e,n){renderers[e]=n};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},r=t.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var s=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";s==="false"?n.loop=!1:s==="true"?n.loop=!0:s!==""&&(n.loop=parseInt(s,10));var a=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:r.getNamedItem("bm-autoplay")?r.getNamedItem("bm-autoplay").value:!0;n.autoplay=a!=="false",n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"";var S=r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"";S==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e=this.animationData.layers,n,r=e.length,s=t.layers,a,S=s.length;for(a=0;a<S;a+=1)for(n=0;n<r;){if(e[n].id===s[a].id){e[n]=s[a];break}n+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,n=0;n<r;n+=1)this.animationData.assets.push(t.assets[n]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n=typeof t=="number"?t:void 0,r=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(n,r)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if(e=this.markers[n],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!(n&&this.name!==n)){var r=Number(t);if(isNaN(r)){var s=this.getMarkerData(t);s&&this.goToAndStop(s.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!(n&&this.name!==n)){var r=Number(t);if(isNaN(r)){var s=this.getMarkerData(t);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(r,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(n=!0,e=0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var n,r=t.length;for(n=0;n<r;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{var r=this.renderer.getElementByPath(t);r.updateDocumentData(e,n)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=(function(){var t={},e=[],n=0,r=0,s=0,a=!0,S=!1;function P(lt){for(var yt=0,st=lt.target;yt<r;)e[yt].animation===st&&(e.splice(yt,1),yt-=1,r-=1,st.isPaused||z()),yt+=1}function M(lt,yt){if(!lt)return null;for(var st=0;st<r;){if(e[st].elem===lt&&e[st].elem!==null)return e[st].animation;st+=1}var pt=new AnimationItem;return $(pt,lt),pt.setData(lt,yt),pt}function N(){var lt,yt=e.length,st=[];for(lt=0;lt<yt;lt+=1)st.push(e[lt].animation);return st}function F(){s+=1,wt()}function z(){s-=1}function $(lt,yt){lt.addEventListener("destroy",P),lt.addEventListener("_active",F),lt.addEventListener("_idle",z),e.push({elem:yt,animation:lt}),r+=1}function G(lt){var yt=new AnimationItem;return $(yt,null),yt.setParams(lt),yt}function H(lt,yt){var st;for(st=0;st<r;st+=1)e[st].animation.setSpeed(lt,yt)}function U(lt,yt){var st;for(st=0;st<r;st+=1)e[st].animation.setDirection(lt,yt)}function W(lt){var yt;for(yt=0;yt<r;yt+=1)e[yt].animation.play(lt)}function Y(lt){var yt=lt-n,st;for(st=0;st<r;st+=1)e[st].animation.advanceTime(yt);n=lt,s&&!S?window.requestAnimationFrame(Y):a=!0}function Q(lt){n=lt,window.requestAnimationFrame(Y)}function K(lt){var yt;for(yt=0;yt<r;yt+=1)e[yt].animation.pause(lt)}function tt(lt,yt,st){var pt;for(pt=0;pt<r;pt+=1)e[pt].animation.goToAndStop(lt,yt,st)}function nt(lt){var yt;for(yt=0;yt<r;yt+=1)e[yt].animation.stop(lt)}function rt(lt){var yt;for(yt=0;yt<r;yt+=1)e[yt].animation.togglePause(lt)}function ht(lt){var yt;for(yt=r-1;yt>=0;yt-=1)e[yt].animation.destroy(lt)}function ct(lt,yt,st){var pt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),dt,xt=pt.length;for(dt=0;dt<xt;dt+=1)st&&pt[dt].setAttribute("data-bm-type",st),M(pt[dt],lt);if(yt&&xt===0){st||(st="svg");var Pt=document.getElementsByTagName("body")[0];Pt.innerText="";var Dt=createTag("div");Dt.style.width="100%",Dt.style.height="100%",Dt.setAttribute("data-bm-type",st),Pt.appendChild(Dt),M(Dt,lt)}}function mt(){var lt;for(lt=0;lt<r;lt+=1)e[lt].animation.resize()}function wt(){!S&&s&&a&&(window.requestAnimationFrame(Q),a=!1)}function kt(){S=!0}function _t(){S=!1,wt()}function Vt(lt,yt){var st;for(st=0;st<r;st+=1)e[st].animation.setVolume(lt,yt)}function jt(lt){var yt;for(yt=0;yt<r;yt+=1)e[yt].animation.mute(lt)}function At(lt){var yt;for(yt=0;yt<r;yt+=1)e[yt].animation.unmute(lt)}return t.registerAnimation=M,t.loadAnimation=G,t.setSpeed=H,t.setDirection=U,t.play=W,t.pause=K,t.stop=nt,t.togglePause=rt,t.searchAnimations=ct,t.resize=mt,t.goToAndStop=tt,t.destroy=ht,t.freeze=kt,t.unfreeze=_t,t.setVolume=Vt,t.mute=jt,t.unmute=At,t.getRegisteredAnimations=N,t})(),BezierFactory=(function(){var t={};t.getBezierEasing=n;var e={};function n(Q,K,tt,nt,rt){var ht=rt||("bez_"+Q+"_"+K+"_"+tt+"_"+nt).replace(/\./g,"p");if(e[ht])return e[ht];var ct=new Y([Q,K,tt,nt]);return e[ht]=ct,ct}var r=4,s=.001,a=1e-7,S=10,P=11,M=1/(P-1),N=typeof Float32Array=="function";function F(Q,K){return 1-3*K+3*Q}function z(Q,K){return 3*K-6*Q}function $(Q){return 3*Q}function G(Q,K,tt){return((F(K,tt)*Q+z(K,tt))*Q+$(K))*Q}function H(Q,K,tt){return 3*F(K,tt)*Q*Q+2*z(K,tt)*Q+$(K)}function U(Q,K,tt,nt,rt){var ht,ct,mt=0;do ct=K+(tt-K)/2,ht=G(ct,nt,rt)-Q,ht>0?tt=ct:K=ct;while(Math.abs(ht)>a&&++mt<S);return ct}function W(Q,K,tt,nt){for(var rt=0;rt<r;++rt){var ht=H(K,tt,nt);if(ht===0)return K;var ct=G(K,tt,nt)-Q;K-=ct/ht}return K}function Y(Q){this._p=Q,this._mSampleValues=N?new Float32Array(P):new Array(P),this._precomputed=!1,this.get=this.get.bind(this)}return Y.prototype={get:function(K){var tt=this._p[0],nt=this._p[1],rt=this._p[2],ht=this._p[3];return this._precomputed||this._precompute(),tt===nt&&rt===ht?K:K===0?0:K===1?1:G(this._getTForX(K),nt,ht)},_precompute:function(){var K=this._p[0],tt=this._p[1],nt=this._p[2],rt=this._p[3];this._precomputed=!0,(K!==tt||nt!==rt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var K=this._p[0],tt=this._p[2],nt=0;nt<P;++nt)this._mSampleValues[nt]=G(nt*M,K,tt)},_getTForX:function(K){for(var tt=this._p[0],nt=this._p[2],rt=this._mSampleValues,ht=0,ct=1,mt=P-1;ct!==mt&&rt[ct]<=K;++ct)ht+=M;--ct;var wt=(K-rt[ct])/(rt[ct+1]-rt[ct]),kt=ht+wt*M,_t=H(kt,tt,nt);return _t>=s?W(K,kt,tt,nt):_t===0?kt:U(K,ht,ht+M,tt,nt)}},t})(),pooling=(function(){function t(e){return e.concat(createSizedArray(e.length))}return{double:t}})(),poolFactory=(function(){return function(t,e,n){var r=0,s=t,a=createSizedArray(s),S={newElement:P,release:M};function P(){var N;return r?(r-=1,N=a[r]):N=e(),N}function M(N){r===s&&(a=pooling.double(a),s*=2),n&&n(N),a[r]=N,r+=1}return S}})(),bezierLengthPool=(function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)})(),segmentsLengthPool=(function(){function t(){return{lengths:[],totalLength:0}}function e(n){var r,s=n.lengths.length;for(r=0;r<s;r+=1)bezierLengthPool.release(n.lengths[r]);n.lengths.length=0}return poolFactory(8,t,e)})();function bezFunction(){var t=Math;function e($,G,H,U,W,Y){var Q=$*U+G*W+H*Y-W*U-Y*$-H*G;return Q>-.001&&Q<.001}function n($,G,H,U,W,Y,Q,K,tt){if(H===0&&Y===0&&tt===0)return e($,G,U,W,Q,K);var nt=t.sqrt(t.pow(U-$,2)+t.pow(W-G,2)+t.pow(Y-H,2)),rt=t.sqrt(t.pow(Q-$,2)+t.pow(K-G,2)+t.pow(tt-H,2)),ht=t.sqrt(t.pow(Q-U,2)+t.pow(K-W,2)+t.pow(tt-Y,2)),ct;return nt>rt?nt>ht?ct=nt-rt-ht:ct=ht-rt-nt:ht>rt?ct=ht-rt-nt:ct=rt-nt-ht,ct>-1e-4&&ct<1e-4}var r=(function(){return function($,G,H,U){var W=getDefaultCurveSegments(),Y,Q,K,tt,nt,rt=0,ht,ct=[],mt=[],wt=bezierLengthPool.newElement();for(K=H.length,Y=0;Y<W;Y+=1){for(nt=Y/(W-1),ht=0,Q=0;Q<K;Q+=1)tt=bmPow(1-nt,3)*$[Q]+3*bmPow(1-nt,2)*nt*H[Q]+3*(1-nt)*bmPow(nt,2)*U[Q]+bmPow(nt,3)*G[Q],ct[Q]=tt,mt[Q]!==null&&(ht+=bmPow(ct[Q]-mt[Q],2)),mt[Q]=ct[Q];ht&&(ht=bmSqrt(ht),rt+=ht),wt.percents[Y]=nt,wt.lengths[Y]=rt}return wt.addedLength=rt,wt}})();function s($){var G=segmentsLengthPool.newElement(),H=$.c,U=$.v,W=$.o,Y=$.i,Q,K=$._length,tt=G.lengths,nt=0;for(Q=0;Q<K-1;Q+=1)tt[Q]=r(U[Q],U[Q+1],W[Q],Y[Q+1]),nt+=tt[Q].addedLength;return H&&K&&(tt[Q]=r(U[Q],U[0],W[Q],Y[0]),nt+=tt[Q].addedLength),G.totalLength=nt,G}function a($){this.segmentLength=0,this.points=new Array($)}function S($,G){this.partialLength=$,this.point=G}var P=(function(){var $={};return function(G,H,U,W){var Y=(G[0]+"_"+G[1]+"_"+H[0]+"_"+H[1]+"_"+U[0]+"_"+U[1]+"_"+W[0]+"_"+W[1]).replace(/\./g,"p");if(!$[Y]){var Q=getDefaultCurveSegments(),K,tt,nt,rt,ht,ct=0,mt,wt,kt=null;G.length===2&&(G[0]!==H[0]||G[1]!==H[1])&&e(G[0],G[1],H[0],H[1],G[0]+U[0],G[1]+U[1])&&e(G[0],G[1],H[0],H[1],H[0]+W[0],H[1]+W[1])&&(Q=2);var _t=new a(Q);for(nt=U.length,K=0;K<Q;K+=1){for(wt=createSizedArray(nt),ht=K/(Q-1),mt=0,tt=0;tt<nt;tt+=1)rt=bmPow(1-ht,3)*G[tt]+3*bmPow(1-ht,2)*ht*(G[tt]+U[tt])+3*(1-ht)*bmPow(ht,2)*(H[tt]+W[tt])+bmPow(ht,3)*H[tt],wt[tt]=rt,kt!==null&&(mt+=bmPow(wt[tt]-kt[tt],2));mt=bmSqrt(mt),ct+=mt,_t.points[K]=new S(mt,wt),kt=wt}_t.segmentLength=ct,$[Y]=_t}return $[Y]}})();function M($,G){var H=G.percents,U=G.lengths,W=H.length,Y=bmFloor((W-1)*$),Q=$*G.addedLength,K=0;if(Y===W-1||Y===0||Q===U[Y])return H[Y];for(var tt=U[Y]>Q?-1:1,nt=!0;nt;)if(U[Y]<=Q&&U[Y+1]>Q?(K=(Q-U[Y])/(U[Y+1]-U[Y]),nt=!1):Y+=tt,Y<0||Y>=W-1){if(Y===W-1)return H[Y];nt=!1}return H[Y]+(H[Y+1]-H[Y])*K}function N($,G,H,U,W,Y){var Q=M(W,Y),K=1-Q,tt=t.round((K*K*K*$[0]+(Q*K*K+K*Q*K+K*K*Q)*H[0]+(Q*Q*K+K*Q*Q+Q*K*Q)*U[0]+Q*Q*Q*G[0])*1e3)/1e3,nt=t.round((K*K*K*$[1]+(Q*K*K+K*Q*K+K*K*Q)*H[1]+(Q*Q*K+K*Q*Q+Q*K*Q)*U[1]+Q*Q*Q*G[1])*1e3)/1e3;return[tt,nt]}var F=createTypedArray("float32",8);function z($,G,H,U,W,Y,Q){W<0?W=0:W>1&&(W=1);var K=M(W,Q);Y=Y>1?1:Y;var tt=M(Y,Q),nt,rt=$.length,ht=1-K,ct=1-tt,mt=ht*ht*ht,wt=K*ht*ht*3,kt=K*K*ht*3,_t=K*K*K,Vt=ht*ht*ct,jt=K*ht*ct+ht*K*ct+ht*ht*tt,At=K*K*ct+ht*K*tt+K*ht*tt,lt=K*K*tt,yt=ht*ct*ct,st=K*ct*ct+ht*tt*ct+ht*ct*tt,pt=K*tt*ct+ht*tt*tt+K*ct*tt,dt=K*tt*tt,xt=ct*ct*ct,Pt=tt*ct*ct+ct*tt*ct+ct*ct*tt,Dt=tt*tt*ct+ct*tt*tt+tt*ct*tt,Tt=tt*tt*tt;for(nt=0;nt<rt;nt+=1)F[nt*4]=t.round((mt*$[nt]+wt*H[nt]+kt*U[nt]+_t*G[nt])*1e3)/1e3,F[nt*4+1]=t.round((Vt*$[nt]+jt*H[nt]+At*U[nt]+lt*G[nt])*1e3)/1e3,F[nt*4+2]=t.round((yt*$[nt]+st*H[nt]+pt*U[nt]+dt*G[nt])*1e3)/1e3,F[nt*4+3]=t.round((xt*$[nt]+Pt*H[nt]+Dt*U[nt]+Tt*G[nt])*1e3)/1e3;return F}return{getSegmentsLength:s,getNewSegment:z,getPointInSegment:N,buildBezierData:P,pointOnLine2D:e,pointOnLine3D:n}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n=this.offsetTime,r;this.propType==="multidimensional"&&(r=createTypedArray("float32",this.pv.length));for(var s=e.lastIndex,a=s,S=this.keyframes.length-1,P=!0,M,N,F;P;){if(M=this.keyframes[a],N=this.keyframes[a+1],a===S-1&&t>=N.t-n){M.h&&(M=N),s=0;break}if(N.t-n>t){s=a;break}a<S-1?a+=1:(s=0,P=!1)}F=this.keyframesMetadata[a]||{};var z,$,G,H,U,W,Y=N.t-n,Q=M.t-n,K;if(M.to){F.bezierData||(F.bezierData=bez.buildBezierData(M.s,N.s||M.e,M.to,M.ti));var tt=F.bezierData;if(t>=Y||t<Q){var nt=t>=Y?tt.points.length-1:0;for($=tt.points[nt].point.length,z=0;z<$;z+=1)r[z]=tt.points[nt].point[z]}else{F.__fnct?W=F.__fnct:(W=BezierFactory.getBezierEasing(M.o.x,M.o.y,M.i.x,M.i.y,M.n).get,F.__fnct=W),G=W((t-Q)/(Y-Q));var rt=tt.segmentLength*G,ht,ct=e.lastFrame<t&&e._lastKeyframeIndex===a?e._lastAddedLength:0;for(U=e.lastFrame<t&&e._lastKeyframeIndex===a?e._lastPoint:0,P=!0,H=tt.points.length;P;){if(ct+=tt.points[U].partialLength,rt===0||G===0||U===tt.points.length-1){for($=tt.points[U].point.length,z=0;z<$;z+=1)r[z]=tt.points[U].point[z];break}else if(rt>=ct&&rt<ct+tt.points[U+1].partialLength){for(ht=(rt-ct)/tt.points[U+1].partialLength,$=tt.points[U].point.length,z=0;z<$;z+=1)r[z]=tt.points[U].point[z]+(tt.points[U+1].point[z]-tt.points[U].point[z])*ht;break}U<H-1?U+=1:P=!1}e._lastPoint=U,e._lastAddedLength=ct-tt.points[U].partialLength,e._lastKeyframeIndex=a}}else{var mt,wt,kt,_t,Vt;if(S=M.s.length,K=N.s||M.e,this.sh&&M.h!==1)if(t>=Y)r[0]=K[0],r[1]=K[1],r[2]=K[2];else if(t<=Q)r[0]=M.s[0],r[1]=M.s[1],r[2]=M.s[2];else{var jt=createQuaternion(M.s),At=createQuaternion(K),lt=(t-Q)/(Y-Q);quaternionToEuler(r,slerp(jt,At,lt))}else for(a=0;a<S;a+=1)M.h!==1&&(t>=Y?G=1:t<Q?G=0:(M.o.x.constructor===Array?(F.__fnct||(F.__fnct=[]),F.__fnct[a]?W=F.__fnct[a]:(mt=M.o.x[a]===void 0?M.o.x[0]:M.o.x[a],wt=M.o.y[a]===void 0?M.o.y[0]:M.o.y[a],kt=M.i.x[a]===void 0?M.i.x[0]:M.i.x[a],_t=M.i.y[a]===void 0?M.i.y[0]:M.i.y[a],W=BezierFactory.getBezierEasing(mt,wt,kt,_t).get,F.__fnct[a]=W)):F.__fnct?W=F.__fnct:(mt=M.o.x,wt=M.o.y,kt=M.i.x,_t=M.i.y,W=BezierFactory.getBezierEasing(mt,wt,kt,_t).get,M.keyframeMetadata=W),G=W((t-Q)/(Y-Q)))),K=N.s||M.e,Vt=M.h===1?M.s[a]:M.s[a]+(K[a]-M.s[a])*G,this.propType==="multidimensional"?r[a]=Vt:r=Vt}return e.lastIndex=s,r}function slerp(t,e,n){var r=[],s=t[0],a=t[1],S=t[2],P=t[3],M=e[0],N=e[1],F=e[2],z=e[3],$,G,H,U,W;return G=s*M+a*N+S*F+P*z,G<0&&(G=-G,M=-M,N=-N,F=-F,z=-z),1-G>1e-6?($=Math.acos(G),H=Math.sin($),U=Math.sin((1-n)*$)/H,W=Math.sin(n*$)/H):(U=1-n,W=n),r[0]=U*s+W*M,r[1]=U*a+W*N,r[2]=U*S+W*F,r[3]=U*P+W*z,r}function quaternionToEuler(t,e){var n=e[0],r=e[1],s=e[2],a=e[3],S=Math.atan2(2*r*a-2*n*s,1-2*r*r-2*s*s),P=Math.asin(2*n*r+2*s*a),M=Math.atan2(2*n*a-2*r*s,1-2*n*n-2*s*s);t[0]=S/degToRads,t[1]=P/degToRads,t[2]=M/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,r=t[2]*degToRads,s=Math.cos(e/2),a=Math.cos(n/2),S=Math.cos(r/2),P=Math.sin(e/2),M=Math.sin(n/2),N=Math.sin(r/2),F=s*a*S-P*M*N,z=P*M*S+s*a*N,$=P*a*S+s*M*N,G=s*M*S-P*a*N;return[z,$,G,F]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,r=this.v.length;n<r;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,r){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,r){this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s,a=e.k.length;for(this.v=createTypedArray("float32",a),this.pv=createTypedArray("float32",a),this.vel=createTypedArray("float32",a),s=0;s<a;s+=1)this.v[s]=e.k[s]*this.mult,this.pv[s]=e.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,r){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,r){this.propType="multidimensional";var s,a=e.k.length,S,P,M,N;for(s=0;s<a-1;s+=1)e.k[s].to&&e.k[s].s&&e.k[s+1]&&e.k[s+1].s&&(S=e.k[s].s,P=e.k[s+1].s,M=e.k[s].to,N=e.k[s].ti,(S.length===2&&!(S[0]===P[0]&&S[1]===P[1])&&bez.pointOnLine2D(S[0],S[1],P[0],P[1],S[0]+M[0],S[1]+M[1])&&bez.pointOnLine2D(S[0],S[1],P[0],P[1],P[0]+N[0],P[1]+N[1])||S.length===3&&!(S[0]===P[0]&&S[1]===P[1]&&S[2]===P[2])&&bez.pointOnLine3D(S[0],S[1],S[2],P[0],P[1],P[2],S[0]+M[0],S[1]+M[1],S[2]+M[2])&&bez.pointOnLine3D(S[0],S[1],S[2],P[0],P[1],P[2],P[0]+N[0],P[1]+N[1],P[2]+N[2]))&&(e.k[s].to=null,e.k[s].ti=null),S[0]===P[0]&&S[1]===P[1]&&M[0]===0&&M[1]===0&&N[0]===0&&N[1]===0&&(S.length===2||S[2]===P[2]&&M[2]===0&&N[2]===0)&&(e.k[s].to=null,e.k[s].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var F=e.k[0].s.length;for(this.v=createTypedArray("float32",F),this.pv=createTypedArray("float32",F),s=0;s<F;s+=1)this.v[s]=initFrame,this.pv[s]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",F)},this.addEffect=addEffect}var PropertyFactory=(function(){function t(n,r,s,a,S){r.sid&&(r=n.globalData.slotManager.getProp(r));var P;if(!r.k.length)P=new ValueProperty(n,r,a,S);else if(typeof r.k[0]=="number")P=new MultiDimensionalProperty(n,r,a,S);else switch(s){case 0:P=new KeyframedValueProperty(n,r,a,S);break;case 1:P=new KeyframedMultidimensionalProperty(n,r,a,S);break}return P.effectsSequence.length&&S.addDynamicProperty(P),P}var e={getProp:t};return e})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,n=this.dynamicProperties.length;for(e=0;e<n;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,r,s){var a;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o;break;default:a=[];break}(!a[r]||a[r]&&!s)&&(a[r]=pointPool.newElement()),a[r][0]=t,a[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,r,s,a,S,P){this.setXYAt(t,e,"v",S,P),this.setXYAt(n,r,"o",S,P),this.setXYAt(s,a,"i",S,P)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,r=this.i,s=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),s=1);var a=this._length-1,S=this._length,P;for(P=s;P<S;P+=1)t.setTripleAt(e[a][0],e[a][1],r[a][0],r[a][1],n[a][0],n[a][1],P,!1),a-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function t(){return new ShapePath}function e(s){var a=s._length,S;for(S=0;S<a;S+=1)pointPool.release(s.v[S]),pointPool.release(s.i[S]),pointPool.release(s.o[S]),s.v[S]=null,s.i[S]=null,s.o[S]=null;s._length=0,s.c=!1}function n(s){var a=r.newElement(),S,P=s._length===void 0?s.v.length:s._length;for(a.setLength(P),a.c=s.c,S=0;S<P;S+=1)a.setTripleAt(s.v[S][0],s.v[S][1],s.o[S][0],s.o[S][1],s.i[S][0],s.i[S][1],S);return a}var r=poolFactory(4,t,e);return r.clone=n,r})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(function(){var t={newShapeCollection:s,release:a},e=0,n=4,r=createSizedArray(n);function s(){var S;return e?(e-=1,S=r[e]):S=new ShapeCollection,S}function a(S){var P,M=S._length;for(P=0;P<M;P+=1)shapePool.release(S.shapes[P]);S._length=0,e===n&&(r=pooling.double(r),n*=2),r[e]=S,e+=1}return t})(),ShapePropertyFactory=(function(){var t=-999999;function e(Y,Q,K){var tt=K.lastIndex,nt,rt,ht,ct,mt,wt,kt,_t,Vt,jt=this.keyframes;if(Y<jt[0].t-this.offsetTime)nt=jt[0].s[0],ht=!0,tt=0;else if(Y>=jt[jt.length-1].t-this.offsetTime)nt=jt[jt.length-1].s?jt[jt.length-1].s[0]:jt[jt.length-2].e[0],ht=!0;else{for(var At=tt,lt=jt.length-1,yt=!0,st,pt,dt;yt&&(st=jt[At],pt=jt[At+1],!(pt.t-this.offsetTime>Y));)At<lt-1?At+=1:yt=!1;if(dt=this.keyframesMetadata[At]||{},ht=st.h===1,tt=At,!ht){if(Y>=pt.t-this.offsetTime)_t=1;else if(Y<st.t-this.offsetTime)_t=0;else{var xt;dt.__fnct?xt=dt.__fnct:(xt=BezierFactory.getBezierEasing(st.o.x,st.o.y,st.i.x,st.i.y).get,dt.__fnct=xt),_t=xt((Y-(st.t-this.offsetTime))/(pt.t-this.offsetTime-(st.t-this.offsetTime)))}rt=pt.s?pt.s[0]:st.e[0]}nt=st.s[0]}for(wt=Q._length,kt=nt.i[0].length,K.lastIndex=tt,ct=0;ct<wt;ct+=1)for(mt=0;mt<kt;mt+=1)Vt=ht?nt.i[ct][mt]:nt.i[ct][mt]+(rt.i[ct][mt]-nt.i[ct][mt])*_t,Q.i[ct][mt]=Vt,Vt=ht?nt.o[ct][mt]:nt.o[ct][mt]+(rt.o[ct][mt]-nt.o[ct][mt])*_t,Q.o[ct][mt]=Vt,Vt=ht?nt.v[ct][mt]:nt.v[ct][mt]+(rt.v[ct][mt]-nt.v[ct][mt])*_t,Q.v[ct][mt]=Vt}function n(){var Y=this.comp.renderedFrame-this.offsetTime,Q=this.keyframes[0].t-this.offsetTime,K=this.keyframes[this.keyframes.length-1].t-this.offsetTime,tt=this._caching.lastFrame;return tt!==t&&(tt<Q&&Y<Q||tt>K&&Y>K)||(this._caching.lastIndex=tt<Y?this._caching.lastIndex:0,this.interpolateShape(Y,this.pv,this._caching)),this._caching.lastFrame=Y,this.pv}function r(){this.paths=this.localShapeCollection}function s(Y,Q){if(Y._length!==Q._length||Y.c!==Q.c)return!1;var K,tt=Y._length;for(K=0;K<tt;K+=1)if(Y.v[K][0]!==Q.v[K][0]||Y.v[K][1]!==Q.v[K][1]||Y.o[K][0]!==Q.o[K][0]||Y.o[K][1]!==Q.o[K][1]||Y.i[K][0]!==Q.i[K][0]||Y.i[K][1]!==Q.i[K][1])return!1;return!0}function a(Y){s(this.v,Y)||(this.v=shapePool.clone(Y),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function S(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Y;this.kf?Y=this.pv:this.data.ks?Y=this.data.ks.k:Y=this.data.pt.k;var Q,K=this.effectsSequence.length;for(Q=0;Q<K;Q+=1)Y=this.effectsSequence[Q](Y);this.setVValue(Y),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function P(Y,Q,K){this.propType="shape",this.comp=Y.comp,this.container=Y,this.elem=Y,this.data=Q,this.k=!1,this.kf=!1,this._mdf=!1;var tt=K===3?Q.pt.k:Q.ks.k;this.v=shapePool.clone(tt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function M(Y){this.effectsSequence.push(Y),this.container.addDynamicProperty(this)}P.prototype.interpolateShape=e,P.prototype.getValue=S,P.prototype.setVValue=a,P.prototype.addEffect=M;function N(Y,Q,K){this.propType="shape",this.comp=Y.comp,this.elem=Y,this.container=Y,this.offsetTime=Y.data.st,this.keyframes=K===3?Q.pt.k:Q.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var tt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,tt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}N.prototype.getValue=S,N.prototype.interpolateShape=e,N.prototype.setVValue=a,N.prototype.addEffect=M;var F=(function(){var Y=roundCorner;function Q(K,tt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=tt.d,this.elem=K,this.comp=K.comp,this.frameId=-1,this.initDynamicPropertyContainer(K),this.p=PropertyFactory.getProp(K,tt.p,1,0,this),this.s=PropertyFactory.getProp(K,tt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Q.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var tt=this.p.v[0],nt=this.p.v[1],rt=this.s.v[0]/2,ht=this.s.v[1]/2,ct=this.d!==3,mt=this.v;mt.v[0][0]=tt,mt.v[0][1]=nt-ht,mt.v[1][0]=ct?tt+rt:tt-rt,mt.v[1][1]=nt,mt.v[2][0]=tt,mt.v[2][1]=nt+ht,mt.v[3][0]=ct?tt-rt:tt+rt,mt.v[3][1]=nt,mt.i[0][0]=ct?tt-rt*Y:tt+rt*Y,mt.i[0][1]=nt-ht,mt.i[1][0]=ct?tt+rt:tt-rt,mt.i[1][1]=nt-ht*Y,mt.i[2][0]=ct?tt+rt*Y:tt-rt*Y,mt.i[2][1]=nt+ht,mt.i[3][0]=ct?tt-rt:tt+rt,mt.i[3][1]=nt+ht*Y,mt.o[0][0]=ct?tt+rt*Y:tt-rt*Y,mt.o[0][1]=nt-ht,mt.o[1][0]=ct?tt+rt:tt-rt,mt.o[1][1]=nt+ht*Y,mt.o[2][0]=ct?tt-rt*Y:tt+rt*Y,mt.o[2][1]=nt+ht,mt.o[3][0]=ct?tt-rt:tt+rt,mt.o[3][1]=nt-ht*Y}},extendPrototype([DynamicPropertyContainer],Q),Q})(),z=(function(){function Y(Q,K){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Q,this.comp=Q.comp,this.data=K,this.frameId=-1,this.d=K.d,this.initDynamicPropertyContainer(Q),K.sy===1?(this.ir=PropertyFactory.getProp(Q,K.ir,0,0,this),this.is=PropertyFactory.getProp(Q,K.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Q,K.pt,0,0,this),this.p=PropertyFactory.getProp(Q,K.p,1,0,this),this.r=PropertyFactory.getProp(Q,K.r,0,degToRads,this),this.or=PropertyFactory.getProp(Q,K.or,0,0,this),this.os=PropertyFactory.getProp(Q,K.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Y.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var K=Math.floor(this.pt.v)*2,tt=Math.PI*2/K,nt=!0,rt=this.or.v,ht=this.ir.v,ct=this.os.v,mt=this.is.v,wt=2*Math.PI*rt/(K*2),kt=2*Math.PI*ht/(K*2),_t,Vt,jt,At,lt=-Math.PI/2;lt+=this.r.v;var yt=this.data.d===3?-1:1;for(this.v._length=0,_t=0;_t<K;_t+=1){Vt=nt?rt:ht,jt=nt?ct:mt,At=nt?wt:kt;var st=Vt*Math.cos(lt),pt=Vt*Math.sin(lt),dt=st===0&&pt===0?0:pt/Math.sqrt(st*st+pt*pt),xt=st===0&&pt===0?0:-st/Math.sqrt(st*st+pt*pt);st+=+this.p.v[0],pt+=+this.p.v[1],this.v.setTripleAt(st,pt,st-dt*At*jt*yt,pt-xt*At*jt*yt,st+dt*At*jt*yt,pt+xt*At*jt*yt,_t,!0),nt=!nt,lt+=tt*yt}},convertPolygonToPath:function(){var K=Math.floor(this.pt.v),tt=Math.PI*2/K,nt=this.or.v,rt=this.os.v,ht=2*Math.PI*nt/(K*4),ct,mt=-Math.PI*.5,wt=this.data.d===3?-1:1;for(mt+=this.r.v,this.v._length=0,ct=0;ct<K;ct+=1){var kt=nt*Math.cos(mt),_t=nt*Math.sin(mt),Vt=kt===0&&_t===0?0:_t/Math.sqrt(kt*kt+_t*_t),jt=kt===0&&_t===0?0:-kt/Math.sqrt(kt*kt+_t*_t);kt+=+this.p.v[0],_t+=+this.p.v[1],this.v.setTripleAt(kt,_t,kt-Vt*ht*rt*wt,_t-jt*ht*rt*wt,kt+Vt*ht*rt*wt,_t+jt*ht*rt*wt,ct,!0),mt+=tt*wt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Y),Y})(),$=(function(){function Y(Q,K){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Q,this.comp=Q.comp,this.frameId=-1,this.d=K.d,this.initDynamicPropertyContainer(Q),this.p=PropertyFactory.getProp(Q,K.p,1,0,this),this.s=PropertyFactory.getProp(Q,K.s,1,0,this),this.r=PropertyFactory.getProp(Q,K.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Y.prototype={convertRectToPath:function(){var K=this.p.v[0],tt=this.p.v[1],nt=this.s.v[0]/2,rt=this.s.v[1]/2,ht=bmMin(nt,rt,this.r.v),ct=ht*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(K+nt,tt-rt+ht,K+nt,tt-rt+ht,K+nt,tt-rt+ct,0,!0),this.v.setTripleAt(K+nt,tt+rt-ht,K+nt,tt+rt-ct,K+nt,tt+rt-ht,1,!0),ht!==0?(this.v.setTripleAt(K+nt-ht,tt+rt,K+nt-ht,tt+rt,K+nt-ct,tt+rt,2,!0),this.v.setTripleAt(K-nt+ht,tt+rt,K-nt+ct,tt+rt,K-nt+ht,tt+rt,3,!0),this.v.setTripleAt(K-nt,tt+rt-ht,K-nt,tt+rt-ht,K-nt,tt+rt-ct,4,!0),this.v.setTripleAt(K-nt,tt-rt+ht,K-nt,tt-rt+ct,K-nt,tt-rt+ht,5,!0),this.v.setTripleAt(K-nt+ht,tt-rt,K-nt+ht,tt-rt,K-nt+ct,tt-rt,6,!0),this.v.setTripleAt(K+nt-ht,tt-rt,K+nt-ct,tt-rt,K+nt-ht,tt-rt,7,!0)):(this.v.setTripleAt(K-nt,tt+rt,K-nt+ct,tt+rt,K-nt,tt+rt,2),this.v.setTripleAt(K-nt,tt-rt,K-nt,tt-rt+ct,K-nt,tt-rt,3))):(this.v.setTripleAt(K+nt,tt-rt+ht,K+nt,tt-rt+ct,K+nt,tt-rt+ht,0,!0),ht!==0?(this.v.setTripleAt(K+nt-ht,tt-rt,K+nt-ht,tt-rt,K+nt-ct,tt-rt,1,!0),this.v.setTripleAt(K-nt+ht,tt-rt,K-nt+ct,tt-rt,K-nt+ht,tt-rt,2,!0),this.v.setTripleAt(K-nt,tt-rt+ht,K-nt,tt-rt+ht,K-nt,tt-rt+ct,3,!0),this.v.setTripleAt(K-nt,tt+rt-ht,K-nt,tt+rt-ct,K-nt,tt+rt-ht,4,!0),this.v.setTripleAt(K-nt+ht,tt+rt,K-nt+ht,tt+rt,K-nt+ct,tt+rt,5,!0),this.v.setTripleAt(K+nt-ht,tt+rt,K+nt-ct,tt+rt,K+nt-ht,tt+rt,6,!0),this.v.setTripleAt(K+nt,tt+rt-ht,K+nt,tt+rt-ht,K+nt,tt+rt-ct,7,!0)):(this.v.setTripleAt(K-nt,tt-rt,K-nt+ct,tt-rt,K-nt,tt-rt,1,!0),this.v.setTripleAt(K-nt,tt+rt,K-nt,tt+rt-ct,K-nt,tt+rt,2,!0),this.v.setTripleAt(K+nt,tt+rt,K+nt-ct,tt+rt,K+nt,tt+rt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],Y),Y})();function G(Y,Q,K){var tt;if(K===3||K===4){var nt=K===3?Q.pt:Q.ks,rt=nt.k;rt.length?tt=new N(Y,Q,K):tt=new P(Y,Q,K)}else K===5?tt=new $(Y,Q):K===6?tt=new F(Y,Q):K===7&&(tt=new z(Y,Q));return tt.k&&Y.addDynamicProperty(tt),tt}function H(){return P}function U(){return N}var W={};return W.getShapeProp=G,W.getConstructorFunction=H,W.getKeyframedConstructorFunction=U,W})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var t=Math.cos,e=Math.sin,n=Math.tan,r=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function a(st){if(st===0)return this;var pt=t(st),dt=e(st);return this._t(pt,-dt,0,0,dt,pt,0,0,0,0,1,0,0,0,0,1)}function S(st){if(st===0)return this;var pt=t(st),dt=e(st);return this._t(1,0,0,0,0,pt,-dt,0,0,dt,pt,0,0,0,0,1)}function P(st){if(st===0)return this;var pt=t(st),dt=e(st);return this._t(pt,0,dt,0,0,1,0,0,-dt,0,pt,0,0,0,0,1)}function M(st){if(st===0)return this;var pt=t(st),dt=e(st);return this._t(pt,-dt,0,0,dt,pt,0,0,0,0,1,0,0,0,0,1)}function N(st,pt){return this._t(1,pt,st,1,0,0)}function F(st,pt){return this.shear(n(st),n(pt))}function z(st,pt){var dt=t(pt),xt=e(pt);return this._t(dt,xt,0,0,-xt,dt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(st),1,0,0,0,0,1,0,0,0,0,1)._t(dt,-xt,0,0,xt,dt,0,0,0,0,1,0,0,0,0,1)}function $(st,pt,dt){return!dt&&dt!==0&&(dt=1),st===1&&pt===1&&dt===1?this:this._t(st,0,0,0,0,pt,0,0,0,0,dt,0,0,0,0,1)}function G(st,pt,dt,xt,Pt,Dt,Tt,Ht,Ut,xe,Mt,Ne,me,Jt,St,ge){return this.props[0]=st,this.props[1]=pt,this.props[2]=dt,this.props[3]=xt,this.props[4]=Pt,this.props[5]=Dt,this.props[6]=Tt,this.props[7]=Ht,this.props[8]=Ut,this.props[9]=xe,this.props[10]=Mt,this.props[11]=Ne,this.props[12]=me,this.props[13]=Jt,this.props[14]=St,this.props[15]=ge,this}function H(st,pt,dt){return dt=dt||0,st!==0||pt!==0||dt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,st,pt,dt,1):this}function U(st,pt,dt,xt,Pt,Dt,Tt,Ht,Ut,xe,Mt,Ne,me,Jt,St,ge){var ee=this.props;if(st===1&&pt===0&&dt===0&&xt===0&&Pt===0&&Dt===1&&Tt===0&&Ht===0&&Ut===0&&xe===0&&Mt===1&&Ne===0)return ee[12]=ee[12]*st+ee[15]*me,ee[13]=ee[13]*Dt+ee[15]*Jt,ee[14]=ee[14]*Mt+ee[15]*St,ee[15]*=ge,this._identityCalculated=!1,this;var De=ee[0],kn=ee[1],Xe=ee[2],Nn=ee[3],Wt=ee[4],jn=ee[5],We=ee[6],mn=ee[7],Cn=ee[8],oe=ee[9],_e=ee[10],Qe=ee[11],Ue=ee[12],ie=ee[13],Ze=ee[14],ve=ee[15];return ee[0]=De*st+kn*Pt+Xe*Ut+Nn*me,ee[1]=De*pt+kn*Dt+Xe*xe+Nn*Jt,ee[2]=De*dt+kn*Tt+Xe*Mt+Nn*St,ee[3]=De*xt+kn*Ht+Xe*Ne+Nn*ge,ee[4]=Wt*st+jn*Pt+We*Ut+mn*me,ee[5]=Wt*pt+jn*Dt+We*xe+mn*Jt,ee[6]=Wt*dt+jn*Tt+We*Mt+mn*St,ee[7]=Wt*xt+jn*Ht+We*Ne+mn*ge,ee[8]=Cn*st+oe*Pt+_e*Ut+Qe*me,ee[9]=Cn*pt+oe*Dt+_e*xe+Qe*Jt,ee[10]=Cn*dt+oe*Tt+_e*Mt+Qe*St,ee[11]=Cn*xt+oe*Ht+_e*Ne+Qe*ge,ee[12]=Ue*st+ie*Pt+Ze*Ut+ve*me,ee[13]=Ue*pt+ie*Dt+Ze*xe+ve*Jt,ee[14]=Ue*dt+ie*Tt+Ze*Mt+ve*St,ee[15]=Ue*xt+ie*Ht+Ze*Ne+ve*ge,this._identityCalculated=!1,this}function W(st){var pt=st.props;return this.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],pt[8],pt[9],pt[10],pt[11],pt[12],pt[13],pt[14],pt[15])}function Y(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Q(st){for(var pt=0;pt<16;){if(st.props[pt]!==this.props[pt])return!1;pt+=1}return!0}function K(st){var pt;for(pt=0;pt<16;pt+=1)st.props[pt]=this.props[pt];return st}function tt(st){var pt;for(pt=0;pt<16;pt+=1)this.props[pt]=st[pt]}function nt(st,pt,dt){return{x:st*this.props[0]+pt*this.props[4]+dt*this.props[8]+this.props[12],y:st*this.props[1]+pt*this.props[5]+dt*this.props[9]+this.props[13],z:st*this.props[2]+pt*this.props[6]+dt*this.props[10]+this.props[14]}}function rt(st,pt,dt){return st*this.props[0]+pt*this.props[4]+dt*this.props[8]+this.props[12]}function ht(st,pt,dt){return st*this.props[1]+pt*this.props[5]+dt*this.props[9]+this.props[13]}function ct(st,pt,dt){return st*this.props[2]+pt*this.props[6]+dt*this.props[10]+this.props[14]}function mt(){var st=this.props[0]*this.props[5]-this.props[1]*this.props[4],pt=this.props[5]/st,dt=-this.props[1]/st,xt=-this.props[4]/st,Pt=this.props[0]/st,Dt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/st,Tt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/st,Ht=new Matrix;return Ht.props[0]=pt,Ht.props[1]=dt,Ht.props[4]=xt,Ht.props[5]=Pt,Ht.props[12]=Dt,Ht.props[13]=Tt,Ht}function wt(st){var pt=this.getInverseMatrix();return pt.applyToPointArray(st[0],st[1],st[2]||0)}function kt(st){var pt,dt=st.length,xt=[];for(pt=0;pt<dt;pt+=1)xt[pt]=wt(st[pt]);return xt}function _t(st,pt,dt){var xt=createTypedArray("float32",6);if(this.isIdentity())xt[0]=st[0],xt[1]=st[1],xt[2]=pt[0],xt[3]=pt[1],xt[4]=dt[0],xt[5]=dt[1];else{var Pt=this.props[0],Dt=this.props[1],Tt=this.props[4],Ht=this.props[5],Ut=this.props[12],xe=this.props[13];xt[0]=st[0]*Pt+st[1]*Tt+Ut,xt[1]=st[0]*Dt+st[1]*Ht+xe,xt[2]=pt[0]*Pt+pt[1]*Tt+Ut,xt[3]=pt[0]*Dt+pt[1]*Ht+xe,xt[4]=dt[0]*Pt+dt[1]*Tt+Ut,xt[5]=dt[0]*Dt+dt[1]*Ht+xe}return xt}function Vt(st,pt,dt){var xt;return this.isIdentity()?xt=[st,pt,dt]:xt=[st*this.props[0]+pt*this.props[4]+dt*this.props[8]+this.props[12],st*this.props[1]+pt*this.props[5]+dt*this.props[9]+this.props[13],st*this.props[2]+pt*this.props[6]+dt*this.props[10]+this.props[14]],xt}function jt(st,pt){if(this.isIdentity())return st+","+pt;var dt=this.props;return Math.round((st*dt[0]+pt*dt[4]+dt[12])*100)/100+","+Math.round((st*dt[1]+pt*dt[5]+dt[13])*100)/100}function At(){for(var st=0,pt=this.props,dt="matrix3d(",xt=1e4;st<16;)dt+=r(pt[st]*xt)/xt,dt+=st===15?")":",",st+=1;return dt}function lt(st){var pt=1e4;return st<1e-6&&st>0||st>-1e-6&&st<0?r(st*pt)/pt:st}function yt(){var st=this.props,pt=lt(st[0]),dt=lt(st[1]),xt=lt(st[4]),Pt=lt(st[5]),Dt=lt(st[12]),Tt=lt(st[13]);return"matrix("+pt+","+dt+","+xt+","+Pt+","+Dt+","+Tt+")"}return function(){this.reset=s,this.rotate=a,this.rotateX=S,this.rotateY=P,this.rotateZ=M,this.skew=F,this.skewFromAxis=z,this.shear=N,this.scale=$,this.setTransform=G,this.translate=H,this.transform=U,this.multiply=W,this.applyToPoint=nt,this.applyToX=rt,this.applyToY=ht,this.applyToZ=ct,this.applyToPointArray=Vt,this.applyToTriplePoints=_t,this.applyToPointStringified=jt,this.toCSS=At,this.to2dCSS=yt,this.clone=K,this.cloneFromProps=tt,this.equals=Q,this.inversePoints=kt,this.inversePoint=wt,this.getInverseMatrix=mt,this._t=this.transform,this.isIdentity=Y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var r=e[n].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=(function(){var t={},e={};t.registerModifier=n,t.getModifier=r;function n(s,a){e[s]||(e[s]=a)}function r(s,a,S){return new e[s](a,S)}return t})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,r,s){var a=[];e<=1?a.push({s:t,e}):t>=1?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));var S=[],P,M=a.length,N;for(P=0;P<M;P+=1)if(N=a[P],!(N.e*s<r||N.s*s>r+n)){var F,z;N.s*s<=r?F=0:F=(N.s*s-r)/n,N.e*s>=r+n?z=1:z=(N.e*s-r)/n,S.push([F,z])}return S.length||S.push([0,0]),S},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n;if(this._mdf||t){var r=this.o.v%360/360;if(r<0&&(r+=1),this.s.v>1?e=1+r:this.s.v<0?e=0+r:e=this.s.v+r,this.e.v>1?n=1+r:this.e.v<0?n=0+r:n=this.e.v+r,e>n){var s=e;e=n,n=s}e=Math.round(e*1e4)*1e-4,n=Math.round(n*1e4)*1e-4,this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var a,S,P=this.shapes.length,M,N,F,z,$,G=0;if(n===e)for(S=0;S<P;S+=1)this.shapes[S].localShapeCollection.releaseShapes(),this.shapes[S].shape._mdf=!0,this.shapes[S].shape.paths=this.shapes[S].localShapeCollection,this._mdf&&(this.shapes[S].pathsData.length=0);else if(n===1&&e===0||n===0&&e===1){if(this._mdf)for(S=0;S<P;S+=1)this.shapes[S].pathsData.length=0,this.shapes[S].shape._mdf=!0}else{var H=[],U,W;for(S=0;S<P;S+=1)if(U=this.shapes[S],!U.shape._mdf&&!this._mdf&&!t&&this.m!==2)U.shape.paths=U.localShapeCollection;else{if(a=U.shape.paths,N=a._length,$=0,!U.shape._mdf&&U.pathsData.length)$=U.totalShapeLength;else{for(F=this.releasePathsData(U.pathsData),M=0;M<N;M+=1)z=bez.getSegmentsLength(a.shapes[M]),F.push(z),$+=z.totalLength;U.totalShapeLength=$,U.pathsData=F}G+=$,U.shape._mdf=!0}var Y=e,Q=n,K=0,tt;for(S=P-1;S>=0;S-=1)if(U=this.shapes[S],U.shape._mdf){for(W=U.localShapeCollection,W.releaseShapes(),this.m===2&&P>1?(tt=this.calculateShapeEdges(e,n,U.totalShapeLength,K,G),K+=U.totalShapeLength):tt=[[Y,Q]],N=tt.length,M=0;M<N;M+=1){Y=tt[M][0],Q=tt[M][1],H.length=0,Q<=1?H.push({s:U.totalShapeLength*Y,e:U.totalShapeLength*Q}):Y>=1?H.push({s:U.totalShapeLength*(Y-1),e:U.totalShapeLength*(Q-1)}):(H.push({s:U.totalShapeLength*Y,e:U.totalShapeLength}),H.push({s:0,e:U.totalShapeLength*(Q-1)}));var nt=this.addShapes(U,H[0]);if(H[0].s!==H[0].e){if(H.length>1){var rt=U.shape.paths.shapes[U.shape.paths._length-1];if(rt.c){var ht=nt.pop();this.addPaths(nt,W),nt=this.addShapes(U,H[1],ht)}else this.addPaths(nt,W),nt=this.addShapes(U,H[1])}this.addPaths(nt,W)}}U.shape.paths=W}}},TrimModifier.prototype.addPaths=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,r,s,a,S){s.setXYAt(e[0],e[1],"o",a),s.setXYAt(n[0],n[1],"i",a+1),S&&s.setXYAt(t[0],t[1],"v",a),s.setXYAt(r[0],r[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,r){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),r&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var r=t.pathsData,s=t.shape.paths.shapes,a,S=t.shape.paths._length,P,M,N=0,F,z,$,G,H=[],U,W=!0;for(n?(z=n._length,U=n._length):(n=shapePool.newElement(),z=0,U=0),H.push(n),a=0;a<S;a+=1){for($=r[a].lengths,n.c=s[a].c,M=s[a].c?$.length:$.length+1,P=1;P<M;P+=1)if(F=$[P-1],N+F.addedLength<e.s)N+=F.addedLength,n.c=!1;else if(N>e.e){n.c=!1;break}else e.s<=N&&e.e>=N+F.addedLength?(this.addSegment(s[a].v[P-1],s[a].o[P-1],s[a].i[P],s[a].v[P],n,z,W),W=!1):(G=bez.getNewSegment(s[a].v[P-1],s[a].v[P],s[a].o[P-1],s[a].i[P],(e.s-N)/F.addedLength,(e.e-N)/F.addedLength,$[P-1]),this.addSegmentFromArray(G,n,z,W),W=!1,n.c=!1),N+=F.addedLength,z+=1;if(s[a].c&&$.length){if(F=$[P-1],N<=e.e){var Y=$[P-1].addedLength;e.s<=N&&e.e>=N+Y?(this.addSegment(s[a].v[P-1],s[a].o[P-1],s[a].i[0],s[a].v[0],n,z,W),W=!1):(G=bez.getNewSegment(s[a].v[P-1],s[a].v[0],s[a].o[P-1],s[a].i[0],(e.s-N)/Y,(e.e-N)/Y,$[P-1]),this.addSegmentFromArray(G,n,z,W),W=!1,n.c=!1)}else n.c=!1;N+=F.addedLength,z+=1}if(n._length&&(n.setXYAt(n.v[U][0],n.v[U][1],"i",U),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),N>e.e)break;a<S-1&&(n=shapePool.newElement(),W=!0,H.push(n),z=0)}return H};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,r=[0,0],s=t._length,a=0;for(a=0;a<s;a+=1)r[0]+=t.v[a][0],r[1]+=t.v[a][1];r[0]/=s,r[1]/=s;var S=shapePool.newElement();S.c=t.c;var P,M,N,F,z,$;for(a=0;a<s;a+=1)P=t.v[a][0]+(r[0]-t.v[a][0])*n,M=t.v[a][1]+(r[1]-t.v[a][1])*n,N=t.o[a][0]+(r[0]-t.o[a][0])*-n,F=t.o[a][1]+(r[1]-t.o[a][1])*-n,z=t.i[a][0]+(r[0]-t.i[a][0])*-n,$=t.i[a][1]+(r[1]-t.i[a][1])*-n,S.setTripleAt(P,M,N,F,z,$,a);return S},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,r=this.shapes.length,s,a,S=this.amount.v;if(S!==0){var P,M;for(n=0;n<r;n+=1){if(P=this.shapes[n],M=P.localShapeCollection,!(!P.shape._mdf&&!this._mdf&&!t))for(M.releaseShapes(),P.shape._mdf=!0,e=P.shape.paths.shapes,a=P.shape.paths._length,s=0;s<a;s+=1)M.addShape(this.processPath(e[s],S));P.shape.paths=P.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var t=[0,0];function e(M){var N=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||N,this.a&&M.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&M.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&M.skewFromAxis(-this.sk.v,this.sa.v),this.r?M.rotate(-this.r.v):M.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?M.translate(this.px.v,this.py.v,-this.pz.v):M.translate(this.px.v,this.py.v,0):M.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function n(M){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||M){var N;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var F,z;if(N=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(F=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/N,0),z=this.p.getValueAtTime(this.p.keyframes[0].t/N,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(F=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/N,0),z=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/N,0)):(F=this.p.pv,z=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/N,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){F=[],z=[];var $=this.px,G=this.py;$._caching.lastFrame+$.offsetTime<=$.keyframes[0].t?(F[0]=$.getValueAtTime(($.keyframes[0].t+.01)/N,0),F[1]=G.getValueAtTime((G.keyframes[0].t+.01)/N,0),z[0]=$.getValueAtTime($.keyframes[0].t/N,0),z[1]=G.getValueAtTime(G.keyframes[0].t/N,0)):$._caching.lastFrame+$.offsetTime>=$.keyframes[$.keyframes.length-1].t?(F[0]=$.getValueAtTime($.keyframes[$.keyframes.length-1].t/N,0),F[1]=G.getValueAtTime(G.keyframes[G.keyframes.length-1].t/N,0),z[0]=$.getValueAtTime(($.keyframes[$.keyframes.length-1].t-.01)/N,0),z[1]=G.getValueAtTime((G.keyframes[G.keyframes.length-1].t-.01)/N,0)):(F=[$.pv,G.pv],z[0]=$.getValueAtTime(($._caching.lastFrame+$.offsetTime-.01)/N,$.offsetTime),z[1]=G.getValueAtTime((G._caching.lastFrame+G.offsetTime-.01)/N,G.offsetTime))}else z=t,F=z;this.v.rotate(-Math.atan2(F[1]-z[1],F[0]-z[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function r(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function s(){}function a(M){this._addDynamicProperty(M),this.elem.addDynamicProperty(M),this._isDirty=!0}function S(M,N,F){if(this.elem=M,this.frameId=-1,this.propType="transform",this.data=N,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(F||M),N.p&&N.p.s?(this.px=PropertyFactory.getProp(M,N.p.x,0,0,this),this.py=PropertyFactory.getProp(M,N.p.y,0,0,this),N.p.z&&(this.pz=PropertyFactory.getProp(M,N.p.z,0,0,this))):this.p=PropertyFactory.getProp(M,N.p||{k:[0,0,0]},1,0,this),N.rx){if(this.rx=PropertyFactory.getProp(M,N.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(M,N.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(M,N.rz,0,degToRads,this),N.or.k[0].ti){var z,$=N.or.k.length;for(z=0;z<$;z+=1)N.or.k[z].to=null,N.or.k[z].ti=null}this.or=PropertyFactory.getProp(M,N.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(M,N.r||{k:0},0,degToRads,this);N.sk&&(this.sk=PropertyFactory.getProp(M,N.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(M,N.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(M,N.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(M,N.s||{k:[100,100,100]},1,.01,this),N.o?this.o=PropertyFactory.getProp(M,N.o,0,.01,M):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}S.prototype={applyToMatrix:e,getValue:n,precalculateMatrix:r,autoOrient:s},extendPrototype([DynamicPropertyContainer],S),S.prototype.addDynamicProperty=a,S.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function P(M,N,F){return new S(M,N,F)}return{getTransformProperty:P}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,r,s,a){var S=a?-1:1,P=r.s.v[0]+(1-r.s.v[0])*(1-s),M=r.s.v[1]+(1-r.s.v[1])*(1-s);t.translate(r.p.v[0]*S*s,r.p.v[1]*S*s,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*S*s),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(a?1/P:P,a?1/M:M),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,r){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._render=e,t[n].ty==="gr"&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,r,s,a,S=!1;if(this._mdf||t){var P=Math.ceil(this.c.v);if(this._groups.length<P){for(;this._groups.length<P;){var M={it:this.cloneElements(this._elements),ty:"gr"};M.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,M),this._groups.splice(0,0,M),this._currentCopies+=1}this.elem.reloadShapes(),S=!0}a=0;var N;for(r=0;r<=this._groups.length-1;r+=1){if(N=a<P,this._groups[r]._render=N,this.changeGroupRender(this._groups[r].it,N),!N){var F=this.elemsData[r].it,z=F[F.length-1];z.transform.op.v!==0?(z.transform.op._mdf=!0,z.transform.op.v=0):z.transform.op._mdf=!1}a+=1}this._currentCopies=P;var $=this.o.v,G=$%1,H=$>0?Math.floor($):Math.ceil($),U=this.pMatrix.props,W=this.rMatrix.props,Y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Q=0;if($>0){for(;Q<H;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Q+=1;G&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,G,!1),Q+=G)}else if($<0){for(;Q>H;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Q-=1;G&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-G,!0),Q-=G)}r=this.data.m===1?0:this._currentCopies-1,s=this.data.m===1?1:-1,a=this._currentCopies;for(var K,tt;a;){if(e=this.elemsData[r].it,n=e[e.length-1].transform.mProps.v.props,tt=n.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),Q!==0){for((r!==0&&s===1||r!==this._currentCopies-1&&s===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15]),this.matrix.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[8],Y[9],Y[10],Y[11],Y[12],Y[13],Y[14],Y[15]),this.matrix.transform(U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],U[8],U[9],U[10],U[11],U[12],U[13],U[14],U[15]),K=0;K<tt;K+=1)n[K]=this.matrix.props[K];this.matrix.reset()}else for(this.matrix.reset(),K=0;K<tt;K+=1)n[K]=this.matrix.props[K];Q+=1,a-=1,r+=s}}else for(a=this._currentCopies,r=0,s=1;a;)e=this.elemsData[r].it,n=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,a-=1,r+=s;return S},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n=shapePool.newElement();n.c=t.c;var r,s=t._length,a,S,P,M,N,F,z=0,$,G,H,U,W,Y;for(r=0;r<s;r+=1)a=t.v[r],P=t.o[r],S=t.i[r],a[0]===P[0]&&a[1]===P[1]&&a[0]===S[0]&&a[1]===S[1]?(r===0||r===s-1)&&!t.c?(n.setTripleAt(a[0],a[1],P[0],P[1],S[0],S[1],z),z+=1):(r===0?M=t.v[s-1]:M=t.v[r-1],N=Math.sqrt(Math.pow(a[0]-M[0],2)+Math.pow(a[1]-M[1],2)),F=N?Math.min(N/2,e)/N:0,W=a[0]+(M[0]-a[0])*F,$=W,Y=a[1]-(a[1]-M[1])*F,G=Y,H=$-($-a[0])*roundCorner,U=G-(G-a[1])*roundCorner,n.setTripleAt($,G,H,U,W,Y,z),z+=1,r===s-1?M=t.v[0]:M=t.v[r+1],N=Math.sqrt(Math.pow(a[0]-M[0],2)+Math.pow(a[1]-M[1],2)),F=N?Math.min(N/2,e)/N:0,H=a[0]+(M[0]-a[0])*F,$=H,U=a[1]+(M[1]-a[1])*F,G=U,W=$-($-a[0])*roundCorner,Y=G-(G-a[1])*roundCorner,n.setTripleAt($,G,H,U,W,Y,z),z+=1):(n.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],z),z+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,n,r=this.shapes.length,s,a,S=this.rd.v;if(S!==0){var P,M;for(n=0;n<r;n+=1){if(P=this.shapes[n],M=P.localShapeCollection,!(!P.shape._mdf&&!this._mdf&&!t))for(M.releaseShapes(),P.shape._mdf=!0,e=P.shape.paths.shapes,a=P.shape.paths._length,s=0;s<a;s+=1)M.addShape(this.processPath(e[s],S));P.shape.paths=P.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(t,e){return Math.abs(t-e)*1e5<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(t===0)return[];var r=e*e-4*t*n;if(r<0)return[];var s=-e/(2*t);if(r===0)return[s];var a=Math.sqrt(r)/(2*t);return[s-a,s+a]}function polynomialCoefficients(t,e,n,r){return[-t+3*e-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,r,s){s&&pointEqual(t,e)&&(e=lerpPoint(t,r,1/3)),s&&pointEqual(n,r)&&(n=lerpPoint(t,r,2/3));var a=polynomialCoefficients(t[0],e[0],n[0],r[0]),S=polynomialCoefficients(t[1],e[1],n[1],r[1]);this.a=[a[0],S[0]],this.b=[a[1],S[1]],this.c=[a[2],S[2]],this.d=[a[3],S[3]],this.points=[t,e,n,r]}PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var r=Math.sqrt(n);return floatZero(r)?r>0&&r<1?[e]:[]:[e-r,e+r].filter(function(s){return s>0&&s<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),r=lerpPoint(this.points[2],this.points[3],t),s=lerpPoint(e,n,t),a=lerpPoint(n,r,t),S=lerpPoint(s,a,t);return[new PolynomialBezier(this.points[0],e,s,S,!0),new PolynomialBezier(S,a,r,this.points[3],!0)]};function extrema(t,e){var n=t.points[0][e],r=t.points[t.points.length-1][e];if(n>r){var s=r;r=n,n=s}for(var a=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),S=0;S<a.length;S+=1)if(a[S]>0&&a[S]<1){var P=t.point(a[S])[e];P<n?n=P:P>r&&(r=P)}return{min:n,max:r}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}};function intersectData(t,e,n){var r=t.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return Math.abs(t.cx-e.cx)*2<t.width+e.width&&Math.abs(t.cy-e.cy)*2<t.height+e.height}function intersectsImpl(t,e,n,r,s,a){if(boxIntersect(t,e)){if(n>=a||t.width<=r&&t.height<=r&&e.width<=r&&e.height<=r){s.push([t.t,e.t]);return}var S=splitData(t),P=splitData(e);intersectsImpl(S[0],P[0],n+1,r,s,a),intersectsImpl(S[0],P[1],n+1,r,s,a),intersectsImpl(S[1],P[0],n+1,r,s,a),intersectsImpl(S[1],P[1],n+1,r,s,a)}}PolynomialBezier.prototype.intersections=function(t,e,n){e===void 0&&(e=2),n===void 0&&(n=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,r,n),r},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)};function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,r){var s=[t[0],t[1],1],a=[e[0],e[1],1],S=[n[0],n[1],1],P=[r[0],r[1],1],M=crossProduct(crossProduct(s,a),crossProduct(S,P));return floatZero(M[2])?null:[M[0]/M[2],M[1]/M[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(t,e,n,r,s,a,S){var P=n-Math.PI/2,M=n+Math.PI/2,N=e[0]+Math.cos(n)*r*s,F=e[1]-Math.sin(n)*r*s;t.setTripleAt(N,F,N+Math.cos(P)*a,F-Math.sin(P)*a,N+Math.cos(M)*S,F-Math.sin(M)*S,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],r=-Math.PI*.5,s=[Math.cos(r)*n[0]-Math.sin(r)*n[1],Math.sin(r)*n[0]+Math.cos(r)*n[1]];return s}function getProjectingAngle(t,e){var n=e===0?t.length()-1:e-1,r=(e+1)%t.length(),s=t.v[n],a=t.v[r],S=getPerpendicularVector(s,a);return Math.atan2(0,1)-Math.atan2(S[1],S[0])}function zigZagCorner(t,e,n,r,s,a,S){var P=getProjectingAngle(e,n),M=e.v[n%e._length],N=e.v[n===0?e._length-1:n-1],F=e.v[(n+1)%e._length],z=a===2?Math.sqrt(Math.pow(M[0]-N[0],2)+Math.pow(M[1]-N[1],2)):0,$=a===2?Math.sqrt(Math.pow(M[0]-F[0],2)+Math.pow(M[1]-F[1],2)):0;setPoint(t,e.v[n%e._length],P,S,r,$/((s+1)*2),z/((s+1)*2))}function zigZagSegment(t,e,n,r,s,a){for(var S=0;S<r;S+=1){var P=(S+1)/(r+1),M=s===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,N=e.normalAngle(P),F=e.point(P);setPoint(t,F,N,a,n,M/((r+1)*2),M/((r+1)*2)),a=-a}return a}ZigZagModifier.prototype.processPath=function(t,e,n,r){var s=t._length,a=shapePool.newElement();if(a.c=t.c,t.c||(s-=1),s===0)return a;var S=-1,P=PolynomialBezier.shapeSegment(t,0);zigZagCorner(a,t,0,e,n,r,S);for(var M=0;M<s;M+=1)S=zigZagSegment(a,P,e,n,r,-S),M===s-1&&!t.c?P=null:P=PolynomialBezier.shapeSegment(t,(M+1)%s),zigZagCorner(a,t,M+1,e,n,r,S);return a},ZigZagModifier.prototype.processShapes=function(t){var e,n,r=this.shapes.length,s,a,S=this.amplitude.v,P=Math.max(0,Math.round(this.frequency.v)),M=this.pointsType.v;if(S!==0){var N,F;for(n=0;n<r;n+=1){if(N=this.shapes[n],F=N.localShapeCollection,!(!N.shape._mdf&&!this._mdf&&!t))for(F.releaseShapes(),N.shape._mdf=!0,e=N.shape.paths.shapes,a=N.shape.paths._length,s=0;s<a;s+=1)F.addShape(this.processPath(e[s],S,P,M));N.shape.paths=N.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(t,e,n){var r=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,r,n),polarOffset(e,r,n)]}function offsetSegment(t,e){var n,r,s,a,S,P,M;M=linearOffset(t.points[0],t.points[1],e),n=M[0],r=M[1],M=linearOffset(t.points[1],t.points[2],e),s=M[0],a=M[1],M=linearOffset(t.points[2],t.points[3],e),S=M[0],P=M[1];var N=lineIntersection(n,r,s,a);N===null&&(N=r);var F=lineIntersection(S,P,s,a);return F===null&&(F=S),new PolynomialBezier(n,N,F,P)}function joinLines(t,e,n,r,s){var a=e.points[3],S=n.points[0];if(r===3||pointEqual(a,S))return a;if(r===2){var P=-e.tangentAngle(1),M=-n.tangentAngle(0)+Math.PI,N=lineIntersection(a,polarOffset(a,P+Math.PI/2,100),S,polarOffset(S,P+Math.PI/2,100)),F=N?pointDistance(N,a):pointDistance(a,S)/2,z=polarOffset(a,P,2*F*roundCorner);return t.setXYAt(z[0],z[1],"o",t.length()-1),z=polarOffset(S,M,2*F*roundCorner),t.setTripleAt(S[0],S[1],S[0],S[1],z[0],z[1],t.length()),S}var $=pointEqual(a,e.points[2])?e.points[0]:e.points[2],G=pointEqual(S,n.points[1])?n.points[3]:n.points[1],H=lineIntersection($,a,S,G);return H&&pointDistance(H,a)<s?(t.setTripleAt(H[0],H[1],H[0],H[1],H[0],H[1],t.length()),H):a}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),r=e.slice(),s=getIntersection(t[t.length-1],e[0]);return s&&(n[t.length-1]=t[t.length-1].split(s[0])[0],r[0]=e[0].split(s[1])[1]),t.length>1&&e.length>1&&(s=getIntersection(t[0],e[e.length-1]),s)?[[t[0].split(s[0])[0]],[e[e.length-1].split(s[1])[1]]]:[n,r]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n=t.inflectionPoints(),r,s,a,S;if(n.length===0)return[offsetSegment(t,e)];if(n.length===1||floatEqual(n[1],1))return a=t.split(n[0]),r=a[0],s=a[1],[offsetSegment(r,e),offsetSegment(s,e)];a=t.split(n[0]),r=a[0];var P=(n[1]-n[0])/(1-n[0]);return a=a[1].split(P),S=a[0],s=a[1],[offsetSegment(r,e),offsetSegment(S,e),offsetSegment(s,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,n,r){var s=shapePool.newElement();s.c=t.c;var a=t.length();t.c||(a-=1);var S,P,M,N=[];for(S=0;S<a;S+=1)M=PolynomialBezier.shapeSegment(t,S),N.push(offsetSegmentSplit(M,e));if(!t.c)for(S=a-1;S>=0;S-=1)M=PolynomialBezier.shapeSegmentInverted(t,S),N.push(offsetSegmentSplit(M,e));N=pruneIntersections(N);var F=null,z=null;for(S=0;S<N.length;S+=1){var $=N[S];for(z&&(F=joinLines(s,z,$[0],n,r)),z=$[$.length-1],P=0;P<$.length;P+=1)M=$[P],F&&pointEqual(M.points[0],F)?s.setXYAt(M.points[1][0],M.points[1][1],"o",s.length()-1):s.setTripleAt(M.points[0][0],M.points[0][1],M.points[1][0],M.points[1][1],M.points[0][0],M.points[0][1],s.length()),s.setTripleAt(M.points[3][0],M.points[3][1],M.points[3][0],M.points[3][1],M.points[2][0],M.points[2][1],s.length()),F=M.points[3]}return N.length&&joinLines(s,z,N[0][0],n,r),s},OffsetPathModifier.prototype.processShapes=function(t){var e,n,r=this.shapes.length,s,a,S=this.amount.v,P=this.miterLimit.v,M=this.lineJoin;if(S!==0){var N,F;for(n=0;n<r;n+=1){if(N=this.shapes[n],F=N.localShapeCollection,!(!N.shape._mdf&&!this._mdf&&!t))for(F.releaseShapes(),N.shape._mdf=!0,e=N.shape.paths.shapes,a=N.shape.paths._length,s=0;s<a;s+=1)F.addShape(this.processPath(e[s],S,M,P));N.shape.paths=N.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",r="normal",s=e.length,a,S=0;S<s;S+=1)switch(a=e[S].toLowerCase(),a){case"italic":r="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200";break}return{style:r,weight:t.fWeight||n}}var FontManager=(function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,s=917631,a=917601,S=917626,P=65039,M=8205,N=127462,F=127487,z=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function $(lt){var yt=lt.split(","),st,pt=yt.length,dt=[];for(st=0;st<pt;st+=1)yt[st]!=="sans-serif"&&yt[st]!=="monospace"&&dt.push(yt[st]);return dt.join(",")}function G(lt,yt){var st=createTag("span");st.setAttribute("aria-hidden",!0),st.style.fontFamily=yt;var pt=createTag("span");pt.innerText="giItT1WQy@!-/#",st.style.position="absolute",st.style.left="-10000px",st.style.top="-10000px",st.style.fontSize="300px",st.style.fontVariant="normal",st.style.fontStyle="normal",st.style.fontWeight="normal",st.style.letterSpacing="0",st.appendChild(pt),document.body.appendChild(st);var dt=pt.offsetWidth;return pt.style.fontFamily=$(lt)+", "+yt,{node:pt,w:dt,parent:st}}function H(){var lt,yt=this.fonts.length,st,pt,dt=yt;for(lt=0;lt<yt;lt+=1)this.fonts[lt].loaded?dt-=1:this.fonts[lt].fOrigin==="n"||this.fonts[lt].origin===0?this.fonts[lt].loaded=!0:(st=this.fonts[lt].monoCase.node,pt=this.fonts[lt].monoCase.w,st.offsetWidth!==pt?(dt-=1,this.fonts[lt].loaded=!0):(st=this.fonts[lt].sansCase.node,pt=this.fonts[lt].sansCase.w,st.offsetWidth!==pt&&(dt-=1,this.fonts[lt].loaded=!0)),this.fonts[lt].loaded&&(this.fonts[lt].sansCase.parent.parentNode.removeChild(this.fonts[lt].sansCase.parent),this.fonts[lt].monoCase.parent.parentNode.removeChild(this.fonts[lt].monoCase.parent)));dt!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function U(lt,yt){var st=document.body&&yt?"svg":"canvas",pt,dt=getFontProperties(lt);if(st==="svg"){var xt=createNS("text");xt.style.fontSize="100px",xt.setAttribute("font-family",lt.fFamily),xt.setAttribute("font-style",dt.style),xt.setAttribute("font-weight",dt.weight),xt.textContent="1",lt.fClass?(xt.style.fontFamily="inherit",xt.setAttribute("class",lt.fClass)):xt.style.fontFamily=lt.fFamily,yt.appendChild(xt),pt=xt}else{var Pt=new OffscreenCanvas(500,500).getContext("2d");Pt.font=dt.style+" "+dt.weight+" 100px "+lt.fFamily,pt=Pt}function Dt(Tt){return st==="svg"?(pt.textContent=Tt,pt.getComputedTextLength()):pt.measureText(Tt).width}return{measureText:Dt}}function W(lt,yt){if(!lt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=lt.list;return}if(!document.body){this.isLoaded=!0,lt.list.forEach(function(Mt){Mt.helper=U(Mt),Mt.cache={}}),this.fonts=lt.list;return}var st=lt.list,pt,dt=st.length,xt=dt;for(pt=0;pt<dt;pt+=1){var Pt=!0,Dt,Tt;if(st[pt].loaded=!1,st[pt].monoCase=G(st[pt].fFamily,"monospace"),st[pt].sansCase=G(st[pt].fFamily,"sans-serif"),!st[pt].fPath)st[pt].loaded=!0,xt-=1;else if(st[pt].fOrigin==="p"||st[pt].origin===3){if(Dt=document.querySelectorAll('style[f-forigin="p"][f-family="'+st[pt].fFamily+'"], style[f-origin="3"][f-family="'+st[pt].fFamily+'"]'),Dt.length>0&&(Pt=!1),Pt){var Ht=createTag("style");Ht.setAttribute("f-forigin",st[pt].fOrigin),Ht.setAttribute("f-origin",st[pt].origin),Ht.setAttribute("f-family",st[pt].fFamily),Ht.type="text/css",Ht.innerText="@font-face {font-family: "+st[pt].fFamily+"; font-style: normal; src: url('"+st[pt].fPath+"');}",yt.appendChild(Ht)}}else if(st[pt].fOrigin==="g"||st[pt].origin===1){for(Dt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Tt=0;Tt<Dt.length;Tt+=1)Dt[Tt].href.indexOf(st[pt].fPath)!==-1&&(Pt=!1);if(Pt){var Ut=createTag("link");Ut.setAttribute("f-forigin",st[pt].fOrigin),Ut.setAttribute("f-origin",st[pt].origin),Ut.type="text/css",Ut.rel="stylesheet",Ut.href=st[pt].fPath,document.body.appendChild(Ut)}}else if(st[pt].fOrigin==="t"||st[pt].origin===2){for(Dt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Tt=0;Tt<Dt.length;Tt+=1)st[pt].fPath===Dt[Tt].src&&(Pt=!1);if(Pt){var xe=createTag("link");xe.setAttribute("f-forigin",st[pt].fOrigin),xe.setAttribute("f-origin",st[pt].origin),xe.setAttribute("rel","stylesheet"),xe.setAttribute("href",st[pt].fPath),yt.appendChild(xe)}}st[pt].helper=U(st[pt],yt),st[pt].cache={},this.fonts.push(st[pt])}xt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Y(lt){if(lt){this.chars||(this.chars=[]);var yt,st=lt.length,pt,dt=this.chars.length,xt;for(yt=0;yt<st;yt+=1){for(pt=0,xt=!1;pt<dt;)this.chars[pt].style===lt[yt].style&&this.chars[pt].fFamily===lt[yt].fFamily&&this.chars[pt].ch===lt[yt].ch&&(xt=!0),pt+=1;xt||(this.chars.push(lt[yt]),dt+=1)}}}function Q(lt,yt,st){for(var pt=0,dt=this.chars.length;pt<dt;){if(this.chars[pt].ch===lt&&this.chars[pt].style===yt&&this.chars[pt].fFamily===st)return this.chars[pt];pt+=1}return(typeof lt=="string"&&lt.charCodeAt(0)!==13||!lt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",lt,yt,st)),e}function K(lt,yt,st){var pt=this.getFontByName(yt),dt=lt;if(!pt.cache[dt]){var xt=pt.helper;if(lt===" "){var Pt=xt.measureText("|"+lt+"|"),Dt=xt.measureText("||");pt.cache[dt]=(Pt-Dt)/100}else pt.cache[dt]=xt.measureText(lt)/100}return pt.cache[dt]*st}function tt(lt){for(var yt=0,st=this.fonts.length;yt<st;){if(this.fonts[yt].fName===lt)return this.fonts[yt];yt+=1}return this.fonts[0]}function nt(lt){var yt=0,st=lt.charCodeAt(0);if(st>=55296&&st<=56319){var pt=lt.charCodeAt(1);pt>=56320&&pt<=57343&&(yt=(st-55296)*1024+pt-56320+65536)}return yt}function rt(lt,yt){var st=lt.toString(16)+yt.toString(16);return z.indexOf(st)!==-1}function ht(lt){return lt===M}function ct(lt){return lt===P}function mt(lt){var yt=nt(lt);return yt>=N&&yt<=F}function wt(lt){return mt(lt.substr(0,2))&&mt(lt.substr(2,2))}function kt(lt){return n.indexOf(lt)!==-1}function _t(lt,yt){var st=nt(lt.substr(yt,2));if(st!==r)return!1;var pt=0;for(yt+=2;pt<5;){if(st=nt(lt.substr(yt,2)),st<a||st>S)return!1;pt+=1,yt+=2}return nt(lt.substr(yt,2))===s}function Vt(){this.isLoaded=!0}var jt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};jt.isModifier=rt,jt.isZeroWidthJoiner=ht,jt.isFlagEmoji=wt,jt.isRegionalCode=mt,jt.isCombinedCharacter=kt,jt.isRegionalFlag=_t,jt.isVariationSelector=ct,jt.BLACK_FLAG_CODE_POINT=r;var At={addChars:Y,addFonts:W,getCharData:Q,getFontByName:tt,measureText:K,checkLoadedFonts:H,setIsLoaded:Vt};return jt.prototype=At,jt})();function SlotManager(t){this.animationData=t}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t};function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,n=this.renderableComponents.length;for(e=0;e<n;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}})();function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n=t.ef||[];this.effectElements=[];var r,s=n.length,a;for(r=0;r<s;r+=1)a=new GroupEffect(n[r],e),this.effectElements.push(a)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,r=this.data.ef.length,s,a=this.data.ef;for(n=0;n<r;n+=1){switch(s=null,a[n].ty){case 0:s=new SliderEffect(a[n],e,this);break;case 1:s=new AngleEffect(a[n],e,this);break;case 2:s=new ColorEffect(a[n],e,this);break;case 3:s=new PointEffect(a[n],e,this);break;case 4:case 7:s=new CheckboxEffect(a[n],e,this);break;case 10:s=new LayerIndexEffect(a[n],e,this);break;case 11:s=new MaskIndexEffect(a[n],e,this);break;case 5:s=new EffectsManager(a[n],e);break;default:s=new NoValueEffect(a[n]);break}s&&this.effectElements.push(s)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,n=this.data.masksProperties.length;e<n;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var n=e("layer"),r=e("effects"),s=e("shape"),a=e("text"),S=e("comp");this.layerInterface=n(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var P=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(P),this.data.ty===0||this.data.xt?this.compInterface=S(this):this.data.ty===4?(this.layerInterface.shapeInterface=s(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=a(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm),n=this.baseElement||this.layerElement;n.style["mix-blend-mode"]=e},initBaseData:function(e,n,r){this.globalData=n,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,n){var r,s=this.dynamicProperties.length;for(r=0;r<s;r+=1)(n||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,n=this.layers.length,r;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e],r.ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,n=t.length,r,s=this.layers.length;for(e=0;e<n;e+=1)for(r=0;r<s;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var r=this.elements,s=this.layers,a=0,S=s.length;a<S;)s[a].ind==e&&(!r[a]||r[a]===!0?(this.buildItem(a),this.addPendingElement(t)):(n.push(r[a]),r[a].setAsParent(),s[a].parent!==void 0?this.buildElementParenting(t,s[a].parent,n):t.setHierarchy(n))),a+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift(),n;if(typeof e=="number")n=this.elements[e];else{var r,s=this.elements.length;for(r=0;r<s;r+=1)if(this.elements[r].data.nm===e){n=this.elements[r];break}}return t.length===0?n:n.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,n=this.finalTransform.mat,r=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<s;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,n.cloneFromProps(e),r=0;r<s;r+=1)n.multiply(this.hierarchy[r].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,n=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<n;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),e=1;e<n;e+=1){var s=this.localTransforms[e].matrix;r.multiply(s)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var a=this.finalTransform.localOpacity;for(e=0;e<n;e+=1)a*=this.localTransforms[e].opacity*.01;this.finalTransform.localOpacity=a}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var n=0,r=e.length;for(n=0;n<r;n+=1)this.localTransforms.push(e[n])}}},globalToLocal:function(e){var n=[];n.push(this.finalTransform);for(var r=!0,s=this.comp;r;)s.finalTransform?(s.data.hasMask&&n.splice(0,0,s.finalTransform),s=s.comp):r=!1;var a,S=n.length,P;for(a=0;a<S;a+=1)P=n[a].mat.applyToPointArray(0,0,0),e=[e[0]-P[0],e[1]-P[1],0];return e},mHelper:new Matrix};function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r=this.globalData.defs,s,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var S,P=this.masksProperties,M=0,N=[],F,z,$=createElementID(),G,H,U,W,Y="clipPath",Q="clip-path";for(s=0;s<a;s+=1)if((P[s].mode!=="a"&&P[s].mode!=="n"||P[s].inv||P[s].o.k!==100||P[s].o.x)&&(Y="mask",Q="mask"),(P[s].mode==="s"||P[s].mode==="i")&&M===0?(G=createNS("rect"),G.setAttribute("fill","#ffffff"),G.setAttribute("width",this.element.comp.data.w||0),G.setAttribute("height",this.element.comp.data.h||0),N.push(G)):G=null,S=createNS("path"),P[s].mode==="n")this.viewData[s]={op:PropertyFactory.getProp(this.element,P[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,P[s],3),elem:S,lastPath:""},r.appendChild(S);else{M+=1,S.setAttribute("fill",P[s].mode==="s"?"#000000":"#ffffff"),S.setAttribute("clip-rule","nonzero");var K;if(P[s].x.k!==0?(Y="mask",Q="mask",W=PropertyFactory.getProp(this.element,P[s].x,0,null,this.element),K=createElementID(),H=createNS("filter"),H.setAttribute("id",K),U=createNS("feMorphology"),U.setAttribute("operator","erode"),U.setAttribute("in","SourceGraphic"),U.setAttribute("radius","0"),H.appendChild(U),r.appendChild(H),S.setAttribute("stroke",P[s].mode==="s"?"#000000":"#ffffff")):(U=null,W=null),this.storedData[s]={elem:S,x:W,expan:U,lastPath:"",lastOperator:"",filterId:K,lastRadius:0},P[s].mode==="i"){z=N.length;var tt=createNS("g");for(F=0;F<z;F+=1)tt.appendChild(N[F]);var nt=createNS("mask");nt.setAttribute("mask-type","alpha"),nt.setAttribute("id",$+"_"+M),nt.appendChild(S),r.appendChild(nt),tt.setAttribute("mask","url("+getLocationHref()+"#"+$+"_"+M+")"),N.length=0,N.push(tt)}else N.push(S);P[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:S,lastPath:"",op:PropertyFactory.getProp(this.element,P[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,P[s],3),invRect:G},this.viewData[s].prop.k||this.drawPath(P[s],this.viewData[s].prop.v,this.viewData[s])}for(this.maskElement=createNS(Y),a=N.length,s=0;s<a;s+=1)this.maskElement.appendChild(N[s]);M>0&&(this.maskElement.setAttribute("id",$),this.element.maskedElement.setAttribute(Q,"url("+getLocationHref()+"#"+$+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e=this.element.finalTransform.mat,n,r=this.masksProperties.length;for(n=0;n<r;n+=1)if((this.viewData[n].prop._mdf||t)&&this.drawPath(this.masksProperties[n],this.viewData[n].prop.v,this.viewData[n]),(this.viewData[n].op._mdf||t)&&this.viewData[n].elem.setAttribute("fill-opacity",this.viewData[n].op.v),this.masksProperties[n].mode!=="n"&&(this.viewData[n].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[n].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[n].x&&(this.storedData[n].x._mdf||t))){var s=this.storedData[n].expan;this.storedData[n].x.v<0?(this.storedData[n].lastOperator!=="erode"&&(this.storedData[n].lastOperator="erode",this.storedData[n].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[n].filterId+")")),s.setAttribute("radius",-this.storedData[n].x.v)):(this.storedData[n].lastOperator!=="dilate"&&(this.storedData[n].lastOperator="dilate",this.storedData[n].elem.setAttribute("filter",null)),this.storedData[n].elem.setAttribute("stroke-width",this.storedData[n].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,n){var r=" M"+e.v[0][0]+","+e.v[0][1],s,a;for(a=e._length,s=1;s<a;s+=1)r+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[s][0]+","+e.i[s][1]+" "+e.v[s][0]+","+e.v[s][1];if(e.c&&a>1&&(r+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==r){var S="";n.elem&&(e.c&&(S=t.inv?this.solidPath+r:r),n.elem.setAttribute("d",S)),n.lastPath=r}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var t={};t.createFilter=e,t.createAlphaToLuminanceFilter=n;function e(r,s){var a=createNS("filter");return a.setAttribute("id",r),s!==!0&&(a.setAttribute("filterUnits","objectBoundingBox"),a.setAttribute("x","0%"),a.setAttribute("y","0%"),a.setAttribute("width","100%"),a.setAttribute("height","100%")),a}function n(){var r=createNS("feColorMatrix");return r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),r}return t})(),featureSupport=(function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n="SourceGraphic",r=t.data.ef?t.data.ef.length:0,s=createElementID(),a=filtersFactory.createFilter(s,!0),S=0;this.filters=[];var P;for(e=0;e<r;e+=1){P=null;var M=t.data.ef[e].ty;if(registeredEffects$1[M]){var N=registeredEffects$1[M].effect;P=new N(a,t.effectsManager.effectElements[e],t,idPrefix+S,n),n=idPrefix+S,registeredEffects$1[M].countsAsEffect&&(S+=1)}P&&this.filters.push(P)}S&&(t.globalData.defs.appendChild(a),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r};function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var n=createNS("g");n.setAttribute("id",this.layerId),n.appendChild(this.layerElement),e=n,this.globalData.defs.appendChild(n)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var r=createNS("clipPath"),s=createNS("path");s.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var a=createElementID();if(r.setAttribute("id",a),r.appendChild(s),this.globalData.defs.appendChild(r),this.checkMasks()){var S=createNS("g");S.setAttribute("clip-path","url("+getLocationHref()+"#"+a+")"),S.appendChild(this.layerElement),this.transformedElement=S,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+a+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var n=this.layerId+"_"+e,r,s,a,S;if(e===1||e===3){var P=createNS("mask");P.setAttribute("id",n),P.setAttribute("mask-type",e===3?"luminance":"alpha"),a=createNS("use"),a.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),P.appendChild(a),this.globalData.defs.appendChild(P),!featureSupport.maskType&&e===1&&(P.setAttribute("mask-type","luminance"),r=createElementID(),s=filtersFactory.createFilter(r),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),S=createNS("g"),S.appendChild(a),P.appendChild(S),S.setAttribute("filter","url("+getLocationHref()+"#"+r+")"))}else if(e===2){var M=createNS("mask");M.setAttribute("id",n),M.setAttribute("mask-type","alpha");var N=createNS("g");M.appendChild(N),r=createElementID(),s=filtersFactory.createFilter(r);var F=createNS("feComponentTransfer");F.setAttribute("in","SourceGraphic"),s.appendChild(F);var z=createNS("feFuncA");z.setAttribute("type","table"),z.setAttribute("tableValues","1.0 0.0"),F.appendChild(z),this.globalData.defs.appendChild(s);var $=createNS("rect");$.setAttribute("width",this.comp.data.w),$.setAttribute("height",this.comp.data.h),$.setAttribute("x","0"),$.setAttribute("y","0"),$.setAttribute("fill","#ffffff"),$.setAttribute("opacity","0"),N.setAttribute("filter","url("+getLocationHref()+"#"+r+")"),N.appendChild($),a=createNS("use"),a.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),N.appendChild(a),featureSupport.maskType||(M.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),S=createNS("g"),N.appendChild($),S.appendChild(this.layerElement),N.appendChild(S)),this.globalData.defs.appendChild(M)}this.matteMasks[e]=n}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(n,r,s){this.initFrame(),this.initBaseData(n,r,s),this.initTransform(n,r,s),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var n=this.baseElement||this.layerElement;n.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var n=this.baseElement||this.layerElement;n.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(n){this._mdf=!1,this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var n,r=this.shapeModifiers.length;for(n=0;n<r;n+=1)this.shapeModifiers[n].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var n=0,r=this.shapeModifiers.length;n<r;)if(this.shapeModifiers[n].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,n=this.shapes.length;for(e=0;e<n;e+=1)this.shapes[e].sh.reset();n=this.shapeModifiers.length;var r;for(e=n-1;e>=0&&(r=this.shapeModifiers[e].processShapes(this._isFirstFrame),!r);e-=1);}},searchProcessedElement:function(e){for(var n=this.processedElements,r=0,s=n.length;r<s;){if(n[r].elem===e)return n[r].pos;r+=1}return 0},addProcessedElement:function(e,n){for(var r=this.processedElements,s=r.length;s;)if(s-=1,r[s].elem===e){r[s].pos=n;return}r.push(new ProcessedElement(e,n))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var r=0,s=t.length;r<s;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,e,n,r){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var s,a=e.length||0,S;for(s=0;s<a;s+=1)S=PropertyFactory.getProp(t,e[s].v,0,0,this),this.k=S.k||this.k,this.dataProps[s]={n:e[s].n,p:S};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<n;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var r=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,r=this.o.length/2,s;n<r;){if(s=Math.abs(t[n*4]-t[e*4+n*2]),s>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n=this.data.p*4,r,s;for(e=0;e<n;e+=1)r=e%4===0?100:255,s=Math.round(this.prop.v[e]*r),this.c[e]!==s&&(this.c[e]=s,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=this.data.p*4;e<n;e+=1)r=e%2===0?100:1,s=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==s&&(this.o[e-this.data.p*4]=s,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),r=createNS(e.t===1?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var s=[],a,S,P;for(P=e.g.p*4,S=0;S<P;S+=4)a=createNS("stop"),r.appendChild(a),s.push(a);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=r,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,s,a=createNS("mask"),S=createNS("path");a.appendChild(S);var P=createElementID(),M=createElementID();a.setAttribute("id",M);var N=createNS(t.t===1?"linearGradient":"radialGradient");N.setAttribute("id",P),N.setAttribute("spreadMethod","pad"),N.setAttribute("gradientUnits","userSpaceOnUse"),s=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var F=this.stops;for(r=t.g.p*4;r<s;r+=2)n=createNS("stop"),n.setAttribute("stop-color","rgb(255,255,255)"),N.appendChild(n),F.push(n);S.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+P+")"),t.ty==="gs"&&(S.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),S.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&S.setAttribute("stroke-miterlimit",t.ml)),this.of=N,this.ms=a,this.ost=F,this.maskId=M,e.msElem=S}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,n,r,s){if(n===0)return"";var a=e.o,S=e.i,P=e.v,M,N=" M"+s.applyToPointStringified(P[0][0],P[0][1]);for(M=1;M<n;M+=1)N+=" C"+s.applyToPointStringified(a[M-1][0],a[M-1][1])+" "+s.applyToPointStringified(S[M][0],S[M][1])+" "+s.applyToPointStringified(P[M][0],P[M][1]);return r&&n&&(N+=" C"+s.applyToPointStringified(a[M-1][0],a[M-1][1])+" "+s.applyToPointStringified(S[0][0],S[0][1])+" "+s.applyToPointStringified(P[0][0],P[0][1]),N+="z"),N},SVGElementsRenderer=(function(){var t=new Matrix,e=new Matrix,n={createRenderFunction:r};function r(z){switch(z.ty){case"fl":return P;case"gf":return N;case"gs":return M;case"st":return F;case"sh":case"el":case"rc":case"sr":return S;case"tr":return s;case"no":return a;default:return null}}function s(z,$,G){(G||$.transform.op._mdf)&&$.transform.container.setAttribute("opacity",$.transform.op.v),(G||$.transform.mProps._mdf)&&$.transform.container.setAttribute("transform",$.transform.mProps.v.to2dCSS())}function a(){}function S(z,$,G){var H,U,W,Y,Q,K,tt=$.styles.length,nt=$.lvl,rt,ht,ct,mt;for(K=0;K<tt;K+=1){if(Y=$.sh._mdf||G,$.styles[K].lvl<nt){for(ht=e.reset(),ct=nt-$.styles[K].lvl,mt=$.transformers.length-1;!Y&&ct>0;)Y=$.transformers[mt].mProps._mdf||Y,ct-=1,mt-=1;if(Y)for(ct=nt-$.styles[K].lvl,mt=$.transformers.length-1;ct>0;)ht.multiply($.transformers[mt].mProps.v),ct-=1,mt-=1}else ht=t;if(rt=$.sh.paths,U=rt._length,Y){for(W="",H=0;H<U;H+=1)Q=rt.shapes[H],Q&&Q._length&&(W+=buildShapeString(Q,Q._length,Q.c,ht));$.caches[K]=W}else W=$.caches[K];$.styles[K].d+=z.hd===!0?"":W,$.styles[K]._mdf=Y||$.styles[K]._mdf}}function P(z,$,G){var H=$.style;($.c._mdf||G)&&H.pElem.setAttribute("fill","rgb("+bmFloor($.c.v[0])+","+bmFloor($.c.v[1])+","+bmFloor($.c.v[2])+")"),($.o._mdf||G)&&H.pElem.setAttribute("fill-opacity",$.o.v)}function M(z,$,G){N(z,$,G),F(z,$,G)}function N(z,$,G){var H=$.gf,U=$.g._hasOpacity,W=$.s.v,Y=$.e.v;if($.o._mdf||G){var Q=z.ty==="gf"?"fill-opacity":"stroke-opacity";$.style.pElem.setAttribute(Q,$.o.v)}if($.s._mdf||G){var K=z.t===1?"x1":"cx",tt=K==="x1"?"y1":"cy";H.setAttribute(K,W[0]),H.setAttribute(tt,W[1]),U&&!$.g._collapsable&&($.of.setAttribute(K,W[0]),$.of.setAttribute(tt,W[1]))}var nt,rt,ht,ct;if($.g._cmdf||G){nt=$.cst;var mt=$.g.c;for(ht=nt.length,rt=0;rt<ht;rt+=1)ct=nt[rt],ct.setAttribute("offset",mt[rt*4]+"%"),ct.setAttribute("stop-color","rgb("+mt[rt*4+1]+","+mt[rt*4+2]+","+mt[rt*4+3]+")")}if(U&&($.g._omdf||G)){var wt=$.g.o;for($.g._collapsable?nt=$.cst:nt=$.ost,ht=nt.length,rt=0;rt<ht;rt+=1)ct=nt[rt],$.g._collapsable||ct.setAttribute("offset",wt[rt*2]+"%"),ct.setAttribute("stop-opacity",wt[rt*2+1])}if(z.t===1)($.e._mdf||G)&&(H.setAttribute("x2",Y[0]),H.setAttribute("y2",Y[1]),U&&!$.g._collapsable&&($.of.setAttribute("x2",Y[0]),$.of.setAttribute("y2",Y[1])));else{var kt;if(($.s._mdf||$.e._mdf||G)&&(kt=Math.sqrt(Math.pow(W[0]-Y[0],2)+Math.pow(W[1]-Y[1],2)),H.setAttribute("r",kt),U&&!$.g._collapsable&&$.of.setAttribute("r",kt)),$.s._mdf||$.e._mdf||$.h._mdf||$.a._mdf||G){kt||(kt=Math.sqrt(Math.pow(W[0]-Y[0],2)+Math.pow(W[1]-Y[1],2)));var _t=Math.atan2(Y[1]-W[1],Y[0]-W[0]),Vt=$.h.v;Vt>=1?Vt=.99:Vt<=-1&&(Vt=-.99);var jt=kt*Vt,At=Math.cos(_t+$.a.v)*jt+W[0],lt=Math.sin(_t+$.a.v)*jt+W[1];H.setAttribute("fx",At),H.setAttribute("fy",lt),U&&!$.g._collapsable&&($.of.setAttribute("fx",At),$.of.setAttribute("fy",lt))}}}function F(z,$,G){var H=$.style,U=$.d;U&&(U._mdf||G)&&U.dashStr&&(H.pElem.setAttribute("stroke-dasharray",U.dashStr),H.pElem.setAttribute("stroke-dashoffset",U.dashoffset[0])),$.c&&($.c._mdf||G)&&H.pElem.setAttribute("stroke","rgb("+bmFloor($.c.v[0])+","+bmFloor($.c.v[1])+","+bmFloor($.c.v[2])+")"),($.o._mdf||G)&&H.pElem.setAttribute("stroke-opacity",$.o.v),($.w._mdf||G)&&(H.pElem.setAttribute("stroke-width",$.w.v),H.msElem&&H.msElem.setAttribute("stroke-width",$.w.v))}return n})();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e=this.shapes.length,n,r,s=this.stylesList.length,a,S=[],P=!1;for(r=0;r<s;r+=1){for(a=this.stylesList[r],P=!1,S.length=0,t=0;t<e;t+=1)n=this.shapes[t],n.styles.indexOf(a)!==-1&&(S.push(n),P=n._isAnimated||P);S.length>1&&P&&this.setShapesAsAnimated(S)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,r=new SVGStyleData(t,e),s=r.pElem;if(t.ty==="st")n=new SVGStrokeStyleData(this,t,r);else if(t.ty==="fl")n=new SVGFillStyleData(this,t,r);else if(t.ty==="gf"||t.ty==="gs"){var a=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;n=new a(this,t,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),s.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else t.ty==="no"&&(n=new SVGNoStyleData(this,t,r));return(t.ty==="st"||t.ty==="gs")&&(s.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),s.setAttribute("fill-opacity","0"),t.lj===1&&s.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&s.setAttribute("fill-rule","evenodd"),t.ln&&s.setAttribute("id",t.ln),t.cl&&s.setAttribute("class",t.cl),t.bm&&(s.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var r=4;t.ty==="rc"?r=5:t.ty==="el"?r=6:t.ty==="sr"&&(r=7);var s=ShapePropertyFactory.getShapeProp(this,t,r,this),a=new SVGShapeData(e,n,s);return this.shapes.push(a),this.addShapeToModifiers(a),this.addToAnimatedContents(t,a),a},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e=t.styles,n,r=this.stylesList.length;for(n=0;n<r;n+=1)e.indexOf(this.stylesList[n])===-1&&!this.stylesList[n].closed&&e.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,r,s,a,S){var P=[].concat(a),M,N=t.length-1,F,z,$=[],G=[],H,U,W;for(M=N;M>=0;M-=1){if(W=this.searchProcessedElement(t[M]),W?e[M]=n[W-1]:t[M]._render=S,t[M].ty==="fl"||t[M].ty==="st"||t[M].ty==="gf"||t[M].ty==="gs"||t[M].ty==="no")W?e[M].style.closed=t[M].hd:e[M]=this.createStyleElement(t[M],s),t[M]._render&&e[M].style.pElem.parentNode!==r&&r.appendChild(e[M].style.pElem),$.push(e[M].style);else if(t[M].ty==="gr"){if(!W)e[M]=this.createGroupElement(t[M]);else for(z=e[M].it.length,F=0;F<z;F+=1)e[M].prevViewData[F]=e[M].it[F];this.searchShapes(t[M].it,e[M].it,e[M].prevViewData,e[M].gr,s+1,P,S),t[M]._render&&e[M].gr.parentNode!==r&&r.appendChild(e[M].gr)}else t[M].ty==="tr"?(W||(e[M]=this.createTransformElement(t[M],r)),H=e[M].transform,P.push(H)):t[M].ty==="sh"||t[M].ty==="rc"||t[M].ty==="el"||t[M].ty==="sr"?(W||(e[M]=this.createShapeElement(t[M],P,s)),this.setElementStyles(e[M])):t[M].ty==="tm"||t[M].ty==="rd"||t[M].ty==="ms"||t[M].ty==="pb"||t[M].ty==="zz"||t[M].ty==="op"?(W?(U=e[M],U.closed=!1):(U=ShapeModifiers.getModifier(t[M].ty),U.init(this,t[M]),e[M]=U,this.shapeModifiers.push(U)),G.push(U)):t[M].ty==="rp"&&(W?(U=e[M],U.closed=!0):(U=ShapeModifiers.getModifier(t[M].ty),e[M]=U,U.init(this,t,M,e),this.shapeModifiers.push(U),S=!1),G.push(U));this.addProcessedElement(t[M],M+1)}for(N=$.length,M=0;M<N;M+=1)$[M].closed=!0;for(N=G.length,M=0;M<N;M+=1)G[M].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e=this.animatedContents.length,n;for(t=0;t<e;t+=1)n=this.animatedContents[t],(this._isFirstFrame||n.element._isAnimated)&&n.data!==!0&&n.fn(n.data,n.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,e,n,r,s,a){this.o=t,this.sw=e,this.sc=n,this.fc=r,this.m=s,this.p=a,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!r,m:!0,p:!0}}LetterProps.prototype.update=function(t,e,n,r,s,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var S=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,S=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,S=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,S=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,S=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,S=!0),a.length&&(this.p[0]!==a[0]||this.p[1]!==a[1]||this.p[4]!==a[4]||this.p[5]!==a[5]||this.p[12]!==a[12]||this.p[13]!==a[13])&&(this.p=a,this._mdf.p=!0,S=!0),S};function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var r,s=this.effectsSequence.length,a=t||this.data.d.k[this.keysIndex].s;for(r=0;r<s;r+=1)n!==this.keysIndex?a=this.effectsSequence[r](a,a.t):a=this.effectsSequence[r](this.currentData,a.t);e!==a&&this.setCurrentData(a),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,r=t.length;n<=r-1&&!(n===r-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=[],n=0,r=t.length,s,a,S=!1,P=!1,M="";n<r;)S=P,P=!1,s=t.charCodeAt(n),M=t.charAt(n),FontManager.isCombinedCharacter(s)?S=!0:s>=55296&&s<=56319?FontManager.isRegionalFlag(t,n)?M=t.substr(n,14):(a=t.charCodeAt(n+1),a>=56320&&a<=57343&&(FontManager.isModifier(s,a)?(M=t.substr(n,2),S=!0):FontManager.isFlagEmoji(t.substr(n,4))?M=t.substr(n,4):M=t.substr(n,2))):s>56319?(a=t.charCodeAt(n+1),FontManager.isVariationSelector(s)&&(S=!0)):FontManager.isZeroWidthJoiner(s)&&(S=!0,P=!0),S?(e[e.length-1]+=M,S=!1):e.push(M),n+=M.length;return e},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,n=this.data,r=[],s,a,S,P=0,M,N=n.m.g,F=0,z=0,$=0,G=[],H=0,U=0,W,Y,Q=e.getFontByName(t.f),K,tt=0,nt=getFontProperties(Q);t.fWeight=nt.weight,t.fStyle=nt.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),a=t.finalText.length,t.finalLineHeight=t.lh;var rt=t.tr/1e3*t.finalSize,ht;if(t.sz)for(var ct=!0,mt=t.sz[0],wt=t.sz[1],kt,_t;ct;){_t=this.buildFinalText(t.t),kt=0,H=0,a=_t.length,rt=t.tr/1e3*t.finalSize;var Vt=-1;for(s=0;s<a;s+=1)ht=_t[s].charCodeAt(0),S=!1,_t[s]===" "?Vt=s:(ht===13||ht===3)&&(H=0,S=!0,kt+=t.finalLineHeight||t.finalSize*1.2),e.chars?(K=e.getCharData(_t[s],Q.fStyle,Q.fFamily),tt=S?0:K.w*t.finalSize/100):tt=e.measureText(_t[s],t.f,t.finalSize),H+tt>mt&&_t[s]!==" "?(Vt===-1?a+=1:s=Vt,kt+=t.finalLineHeight||t.finalSize*1.2,_t.splice(s,Vt===s?1:0,"\r"),Vt=-1,H=0):(H+=tt,H+=rt);kt+=Q.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&wt<kt?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=_t,a=t.finalText.length,ct=!1)}H=-rt,tt=0;var jt=0,At;for(s=0;s<a;s+=1)if(S=!1,At=t.finalText[s],ht=At.charCodeAt(0),ht===13||ht===3?(jt=0,G.push(H),U=H>U?H:U,H=-2*rt,M="",S=!0,$+=1):M=At,e.chars?(K=e.getCharData(At,Q.fStyle,e.getFontByName(t.f).fFamily),tt=S?0:K.w*t.finalSize/100):tt=e.measureText(M,t.f,t.finalSize),At===" "?jt+=tt+rt:(H+=tt+rt+jt,jt=0),r.push({l:tt,an:tt,add:F,n:S,anIndexes:[],val:M,line:$,animatorJustifyOffset:0}),N==2){if(F+=tt,M===""||M===" "||s===a-1){for((M===""||M===" ")&&(F-=tt);z<=s;)r[z].an=F,r[z].ind=P,r[z].extra=tt,z+=1;P+=1,F=0}}else if(N==3){if(F+=tt,M===""||s===a-1){for(M===""&&(F-=tt);z<=s;)r[z].an=F,r[z].ind=P,r[z].extra=tt,z+=1;F=0,P+=1}}else r[P].ind=P,r[P].extra=0,P+=1;if(t.l=r,U=H>U?H:U,G.push(H),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=U,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=G;var lt=n.a,yt,st;Y=lt.length;var pt,dt,xt=[];for(W=0;W<Y;W+=1){for(yt=lt[W],yt.a.sc&&(t.strokeColorAnim=!0),yt.a.sw&&(t.strokeWidthAnim=!0),(yt.a.fc||yt.a.fh||yt.a.fs||yt.a.fb)&&(t.fillColorAnim=!0),dt=0,pt=yt.s.b,s=0;s<a;s+=1)st=r[s],st.anIndexes[W]=dt,(pt==1&&st.val!==""||pt==2&&st.val!==""&&st.val!==" "||pt==3&&(st.n||st.val==" "||s==a-1)||pt==4&&(st.n||s==a-1))&&(yt.s.rn===1&&xt.push(dt),dt+=1);n.a[W].s.totalChars=dt;var Pt=-1,Dt;if(yt.s.rn===1)for(s=0;s<a;s+=1)st=r[s],Pt!=st.anIndexes[W]&&(Pt=st.anIndexes[W],Dt=xt.splice(Math.floor(Math.random()*xt.length),1)[0]),st.anIndexes[W]=Dt}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=Q.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var t=Math.max,e=Math.min,n=Math.floor;function r(a,S){this._currentTextLength=-1,this.k=!1,this.data=S,this.elem=a,this.comp=a.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(a),this.s=PropertyFactory.getProp(a,S.s||{k:0},0,0,this),"e"in S?this.e=PropertyFactory.getProp(a,S.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(a,S.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(a,S.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(a,S.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(a,S.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(a,S.a,0,.01,this),this.dynamicProperties.length||this.getValue()}r.prototype={getMult:function(S){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var P=0,M=0,N=1,F=1;this.ne.v>0?P=this.ne.v/100:M=-this.ne.v/100,this.xe.v>0?N=1-this.xe.v/100:F=1+this.xe.v/100;var z=BezierFactory.getBezierEasing(P,M,N,F).get,$=0,G=this.finalS,H=this.finalE,U=this.data.sh;if(U===2)H===G?$=S>=H?1:0:$=t(0,e(.5/(H-G)+(S-G)/(H-G),1)),$=z($);else if(U===3)H===G?$=S>=H?0:1:$=1-t(0,e(.5/(H-G)+(S-G)/(H-G),1)),$=z($);else if(U===4)H===G?$=0:($=t(0,e(.5/(H-G)+(S-G)/(H-G),1)),$<.5?$*=2:$=1-2*($-.5)),$=z($);else if(U===5){if(H===G)$=0;else{var W=H-G;S=e(t(0,S+.5-G),H-G);var Y=-W/2+S,Q=W/2;$=Math.sqrt(1-Y*Y/(Q*Q))}$=z($)}else U===6?(H===G?$=0:(S=e(t(0,S+.5-G),H-G),$=(1+Math.cos(Math.PI+Math.PI*2*S/(H-G)))/2),$=z($)):(S>=n(G)&&(S-G<0?$=t(0,e(e(H,1)-(G-S),1)):$=t(0,e(H-S,1))),$=z($));if(this.sm.v!==100){var K=this.sm.v*.01;K===0&&(K=1e-8);var tt=.5-K*.5;$<tt?$=0:($=($-tt)/K,$>1&&($=1))}return $*this.a.v},getValue:function(S){this.iterateDynamicProperties(),this._mdf=S||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,S&&this.data.r===2&&(this.e.v=this._currentTextLength);var P=this.data.r===2?1:100/this.data.totalChars,M=this.o.v/P,N=this.s.v/P+M,F=this.e.v/P+M;if(N>F){var z=N;N=F,F=z}this.finalS=N,this.finalE=F}},extendPrototype([DynamicPropertyContainer],r);function s(a,S,P){return new r(a,S)}return{getTextSelectorProp:s}})();function TextAnimatorDataProperty(t,e,n){var r={propType:!1},s=PropertyFactory.getProp,a=e.a;this.a={r:a.r?s(t,a.r,0,degToRads,n):r,rx:a.rx?s(t,a.rx,0,degToRads,n):r,ry:a.ry?s(t,a.ry,0,degToRads,n):r,sk:a.sk?s(t,a.sk,0,degToRads,n):r,sa:a.sa?s(t,a.sa,0,degToRads,n):r,s:a.s?s(t,a.s,1,.01,n):r,a:a.a?s(t,a.a,1,0,n):r,o:a.o?s(t,a.o,0,.01,n):r,p:a.p?s(t,a.p,1,0,n):r,sw:a.sw?s(t,a.sw,0,0,n):r,sc:a.sc?s(t,a.sc,1,0,n):r,fc:a.fc?s(t,a.fc,1,0,n):r,fh:a.fh?s(t,a.fh,0,0,n):r,fs:a.fs?s(t,a.fs,0,.01,n):r,fb:a.fb?s(t,a.fb,0,.01,n):r,t:a.t?s(t,a.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,n,r=PropertyFactory.getProp;for(t=0;t<e;t+=1)n=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,n,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var n=this._moreOptions.alignment.v,r=this._animatorsData,s=this._textData,a=this.mHelper,S=this._renderType,P=this.renderedLetters.length,M,N,F,z,$=t.l,G,H,U,W,Y,Q,K,tt,nt,rt,ht,ct,mt,wt,kt;if(this._hasMaskedPath){if(kt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var _t=kt.v;this._pathData.r.v&&(_t=_t.reverse()),G={tLength:0,segments:[]},z=_t._length-1;var Vt;for(ct=0,F=0;F<z;F+=1)Vt=bez.buildBezierData(_t.v[F],_t.v[F+1],[_t.o[F][0]-_t.v[F][0],_t.o[F][1]-_t.v[F][1]],[_t.i[F+1][0]-_t.v[F+1][0],_t.i[F+1][1]-_t.v[F+1][1]]),G.tLength+=Vt.segmentLength,G.segments.push(Vt),ct+=Vt.segmentLength;F=z,kt.v.c&&(Vt=bez.buildBezierData(_t.v[F],_t.v[0],[_t.o[F][0]-_t.v[F][0],_t.o[F][1]-_t.v[F][1]],[_t.i[0][0]-_t.v[0][0],_t.i[0][1]-_t.v[0][1]]),G.tLength+=Vt.segmentLength,G.segments.push(Vt),ct+=Vt.segmentLength),this._pathData.pi=G}if(G=this._pathData.pi,H=this._pathData.f.v,K=0,Q=1,W=0,Y=!0,rt=G.segments,H<0&&kt.v.c)for(G.tLength<Math.abs(H)&&(H=-Math.abs(H)%G.tLength),K=rt.length-1,nt=rt[K].points,Q=nt.length-1;H<0;)H+=nt[Q].partialLength,Q-=1,Q<0&&(K-=1,nt=rt[K].points,Q=nt.length-1);nt=rt[K].points,tt=nt[Q-1],U=nt[Q],ht=U.partialLength}z=$.length,M=0,N=0;var jt=t.finalSize*1.2*.714,At=!0,lt,yt,st,pt,dt;pt=r.length;var xt,Pt=-1,Dt,Tt,Ht,Ut=H,xe=K,Mt=Q,Ne=-1,me,Jt,St,ge,ee,De,kn,Xe,Nn="",Wt=this.defaultPropsArray,jn;if(t.j===2||t.j===1){var We=0,mn=0,Cn=t.j===2?-.5:-1,oe=0,_e=!0;for(F=0;F<z;F+=1)if($[F].n){for(We&&(We+=mn);oe<F;)$[oe].animatorJustifyOffset=We,oe+=1;We=0,_e=!0}else{for(st=0;st<pt;st+=1)lt=r[st].a,lt.t.propType&&(_e&&t.j===2&&(mn+=lt.t.v*Cn),yt=r[st].s,xt=yt.getMult($[F].anIndexes[st],s.a[st].s.totalChars),xt.length?We+=lt.t.v*xt[0]*Cn:We+=lt.t.v*xt*Cn);_e=!1}for(We&&(We+=mn);oe<F;)$[oe].animatorJustifyOffset=We,oe+=1}for(F=0;F<z;F+=1){if(a.reset(),me=1,$[F].n)M=0,N+=t.yOffset,N+=At?1:0,H=Ut,At=!1,this._hasMaskedPath&&(K=xe,Q=Mt,nt=rt[K].points,tt=nt[Q-1],U=nt[Q],ht=U.partialLength,W=0),Nn="",Xe="",De="",jn="",Wt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ne!==$[F].line){switch(t.j){case 1:H+=ct-t.lineWidths[$[F].line];break;case 2:H+=(ct-t.lineWidths[$[F].line])/2;break}Ne=$[F].line}Pt!==$[F].ind&&($[Pt]&&(H+=$[Pt].extra),H+=$[F].an/2,Pt=$[F].ind),H+=n[0]*$[F].an*.005;var Qe=0;for(st=0;st<pt;st+=1)lt=r[st].a,lt.p.propType&&(yt=r[st].s,xt=yt.getMult($[F].anIndexes[st],s.a[st].s.totalChars),xt.length?Qe+=lt.p.v[0]*xt[0]:Qe+=lt.p.v[0]*xt),lt.a.propType&&(yt=r[st].s,xt=yt.getMult($[F].anIndexes[st],s.a[st].s.totalChars),xt.length?Qe+=lt.a.v[0]*xt[0]:Qe+=lt.a.v[0]*xt);for(Y=!0,this._pathData.a.v&&(H=$[0].an*.5+(ct-this._pathData.f.v-$[0].an*.5-$[$.length-1].an*.5)*Pt/(z-1),H+=this._pathData.f.v);Y;)W+ht>=H+Qe||!nt?(mt=(H+Qe-W)/U.partialLength,Tt=tt.point[0]+(U.point[0]-tt.point[0])*mt,Ht=tt.point[1]+(U.point[1]-tt.point[1])*mt,a.translate(-n[0]*$[F].an*.005,-(n[1]*jt)*.01),Y=!1):nt&&(W+=U.partialLength,Q+=1,Q>=nt.length&&(Q=0,K+=1,rt[K]?nt=rt[K].points:kt.v.c?(Q=0,K=0,nt=rt[K].points):(W-=U.partialLength,nt=null)),nt&&(tt=U,U=nt[Q],ht=U.partialLength));Dt=$[F].an/2-$[F].add,a.translate(-Dt,0,0)}else Dt=$[F].an/2-$[F].add,a.translate(-Dt,0,0),a.translate(-n[0]*$[F].an*.005,-n[1]*jt*.01,0);for(st=0;st<pt;st+=1)lt=r[st].a,lt.t.propType&&(yt=r[st].s,xt=yt.getMult($[F].anIndexes[st],s.a[st].s.totalChars),(M!==0||t.j!==0)&&(this._hasMaskedPath?xt.length?H+=lt.t.v*xt[0]:H+=lt.t.v*xt:xt.length?M+=lt.t.v*xt[0]:M+=lt.t.v*xt));for(t.strokeWidthAnim&&(St=t.sw||0),t.strokeColorAnim&&(t.sc?Jt=[t.sc[0],t.sc[1],t.sc[2]]:Jt=[0,0,0]),t.fillColorAnim&&t.fc&&(ge=[t.fc[0],t.fc[1],t.fc[2]]),st=0;st<pt;st+=1)lt=r[st].a,lt.a.propType&&(yt=r[st].s,xt=yt.getMult($[F].anIndexes[st],s.a[st].s.totalChars),xt.length?a.translate(-lt.a.v[0]*xt[0],-lt.a.v[1]*xt[1],lt.a.v[2]*xt[2]):a.translate(-lt.a.v[0]*xt,-lt.a.v[1]*xt,lt.a.v[2]*xt));for(st=0;st<pt;st+=1)lt=r[st].a,lt.s.propType&&(yt=r[st].s,xt=yt.getMult($[F].anIndexes[st],s.a[st].s.totalChars),xt.length?a.scale(1+(lt.s.v[0]-1)*xt[0],1+(lt.s.v[1]-1)*xt[1],1):a.scale(1+(lt.s.v[0]-1)*xt,1+(lt.s.v[1]-1)*xt,1));for(st=0;st<pt;st+=1){if(lt=r[st].a,yt=r[st].s,xt=yt.getMult($[F].anIndexes[st],s.a[st].s.totalChars),lt.sk.propType&&(xt.length?a.skewFromAxis(-lt.sk.v*xt[0],lt.sa.v*xt[1]):a.skewFromAxis(-lt.sk.v*xt,lt.sa.v*xt)),lt.r.propType&&(xt.length?a.rotateZ(-lt.r.v*xt[2]):a.rotateZ(-lt.r.v*xt)),lt.ry.propType&&(xt.length?a.rotateY(lt.ry.v*xt[1]):a.rotateY(lt.ry.v*xt)),lt.rx.propType&&(xt.length?a.rotateX(lt.rx.v*xt[0]):a.rotateX(lt.rx.v*xt)),lt.o.propType&&(xt.length?me+=(lt.o.v*xt[0]-me)*xt[0]:me+=(lt.o.v*xt-me)*xt),t.strokeWidthAnim&&lt.sw.propType&&(xt.length?St+=lt.sw.v*xt[0]:St+=lt.sw.v*xt),t.strokeColorAnim&&lt.sc.propType)for(ee=0;ee<3;ee+=1)xt.length?Jt[ee]+=(lt.sc.v[ee]-Jt[ee])*xt[0]:Jt[ee]+=(lt.sc.v[ee]-Jt[ee])*xt;if(t.fillColorAnim&&t.fc){if(lt.fc.propType)for(ee=0;ee<3;ee+=1)xt.length?ge[ee]+=(lt.fc.v[ee]-ge[ee])*xt[0]:ge[ee]+=(lt.fc.v[ee]-ge[ee])*xt;lt.fh.propType&&(xt.length?ge=addHueToRGB(ge,lt.fh.v*xt[0]):ge=addHueToRGB(ge,lt.fh.v*xt)),lt.fs.propType&&(xt.length?ge=addSaturationToRGB(ge,lt.fs.v*xt[0]):ge=addSaturationToRGB(ge,lt.fs.v*xt)),lt.fb.propType&&(xt.length?ge=addBrightnessToRGB(ge,lt.fb.v*xt[0]):ge=addBrightnessToRGB(ge,lt.fb.v*xt))}}for(st=0;st<pt;st+=1)lt=r[st].a,lt.p.propType&&(yt=r[st].s,xt=yt.getMult($[F].anIndexes[st],s.a[st].s.totalChars),this._hasMaskedPath?xt.length?a.translate(0,lt.p.v[1]*xt[0],-lt.p.v[2]*xt[1]):a.translate(0,lt.p.v[1]*xt,-lt.p.v[2]*xt):xt.length?a.translate(lt.p.v[0]*xt[0],lt.p.v[1]*xt[1],-lt.p.v[2]*xt[2]):a.translate(lt.p.v[0]*xt,lt.p.v[1]*xt,-lt.p.v[2]*xt));if(t.strokeWidthAnim&&(De=St<0?0:St),t.strokeColorAnim&&(kn="rgb("+Math.round(Jt[0]*255)+","+Math.round(Jt[1]*255)+","+Math.round(Jt[2]*255)+")"),t.fillColorAnim&&t.fc&&(Xe="rgb("+Math.round(ge[0]*255)+","+Math.round(ge[1]*255)+","+Math.round(ge[2]*255)+")"),this._hasMaskedPath){if(a.translate(0,-t.ls),a.translate(0,n[1]*jt*.01+N,0),this._pathData.p.v){wt=(U.point[1]-tt.point[1])/(U.point[0]-tt.point[0]);var Ue=Math.atan(wt)*180/Math.PI;U.point[0]<tt.point[0]&&(Ue+=180),a.rotate(-Ue*Math.PI/180)}a.translate(Tt,Ht,0),H-=n[0]*$[F].an*.005,$[F+1]&&Pt!==$[F+1].ind&&(H+=$[F].an/2,H+=t.tr*.001*t.finalSize)}else{switch(a.translate(M,N,0),t.ps&&a.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:a.translate($[F].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[$[F].line]),0,0);break;case 2:a.translate($[F].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[$[F].line])/2,0,0);break}a.translate(0,-t.ls),a.translate(Dt,0,0),a.translate(n[0]*$[F].an*.005,n[1]*jt*.01,0),M+=$[F].l+t.tr*.001*t.finalSize}S==="html"?Nn=a.toCSS():S==="svg"?Nn=a.to2dCSS():Wt=[a.props[0],a.props[1],a.props[2],a.props[3],a.props[4],a.props[5],a.props[6],a.props[7],a.props[8],a.props[9],a.props[10],a.props[11],a.props[12],a.props[13],a.props[14],a.props[15]],jn=me}P<=F?(dt=new LetterProps(jn,De,kn,Xe,Nn,Wt),this.renderedLetters.push(dt),P+=1,this.lettersChangedFlag=!0):(dt=this.renderedLetters[F],this.lettersChangedFlag=dt.update(jn,De,kn,Xe,Nn,Wt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,r=e.length,s,a="";for(n=0;n<r;n+=1)e[n].ty==="sh"&&(s=e[n].ks.k,a+=buildShapeString(s,s.i.length,!0,t));return a},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,r,s){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0);break}e.translate(r,s,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,r=[],s="";e<n;)t[e]==="\r"||t[e]===""?(r.push(s),s=""):s+=t[e],e+=1;return r.push(s),r},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var r=n.it[n.it.length-1];r.s&&(r.s.k[0]=e,r.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,e,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var s=n.fWeight,a=n.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",n.t);var S=n.l||[],P=!!this.globalData.fontManager.chars;e=S.length;var M,N=this.mHelper,F="",z=this.data.singleShape,$=0,G=0,H=!0,U=n.tr*.001*n.finalSize;if(z&&!P&&!n.sz){var W=this.textContainer,Y="start";switch(n.j){case 1:Y="end";break;case 2:Y="middle";break;default:Y="start";break}W.setAttribute("text-anchor",Y),W.setAttribute("letter-spacing",U);var Q=this.buildTextContents(n.finalText);for(e=Q.length,G=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)M=this.textSpans[t].span||createNS("tspan"),M.textContent=Q[t],M.setAttribute("x",0),M.setAttribute("y",G),M.style.display="inherit",W.appendChild(M),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=M,G+=n.finalLineHeight;this.layerElement.appendChild(W)}else{var K=this.textSpans.length,tt;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!P||!z||t===0){if(M=K>t?this.textSpans[t].span:createNS(P?"g":"text"),K<=t){if(M.setAttribute("stroke-linecap","butt"),M.setAttribute("stroke-linejoin","round"),M.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=M,P){var nt=createNS("g");M.appendChild(nt),this.textSpans[t].childSpan=nt}this.textSpans[t].span=M,this.layerElement.appendChild(M)}M.style.display="inherit"}if(N.reset(),z&&(S[t].n&&($=-U,G+=n.yOffset,G+=H?1:0,H=!1),this.applyTextPropertiesToMatrix(n,N,S[t].line,$,G),$+=S[t].l||0,$+=U),P){tt=this.globalData.fontManager.getCharData(n.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily);var rt;if(tt.t===1)rt=new SVGCompElement(tt.data,this.globalData,this);else{var ht=emptyShapeData;tt.data&&tt.data.shapes&&(ht=this.buildShapeData(tt.data,n.finalSize)),rt=new SVGShapeElement(ht,this.globalData,this)}if(this.textSpans[t].glyph){var ct=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(ct.layerElement),ct.destroy()}this.textSpans[t].glyph=rt,rt._debug=!0,rt.prepareFrame(0),rt.renderFrame(),this.textSpans[t].childSpan.appendChild(rt.layerElement),tt.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else z&&M.setAttribute("transform","translate("+N.props[12]+","+N.props[13]+")"),M.textContent=S[t].val,M.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}z&&M&&M.setAttribute("d",F)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e=this.textSpans.length,n;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<e;t+=1)n=this.textSpans[t].glyph,n&&(n.prepareFrame(this.comp.renderedFrame-this.data.st),n._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,n=this.textAnimator.renderedLetters,r=this.textProperty.currentData.l;e=r.length;var s,a,S;for(t=0;t<e;t+=1)r[t].n||(s=n[t],a=this.textSpans[t].span,S=this.textSpans[t].glyph,S&&S.renderFrame(),s._mdf.m&&a.setAttribute("transform",s.m),s._mdf.o&&a.setAttribute("opacity",s.o),s._mdf.sw&&a.setAttribute("stroke-width",s.sw),s._mdf.sc&&a.setAttribute("stroke",s.sc),s._mdf.fc&&a.setAttribute("fill",s.fc))}};function ISolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var s=createElementID();n.setAttribute("id",s),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var r="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(r===-1)return;if(!this.elements[r]||this.elements[r]===!0)this.buildItem(r),this.addPendingElement(n);else{var s=e[r],a=s.getMatte(this.layers[t].tt);n.setMatte(a)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var r="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,s=this.elements[r],a=s.getMatte(this.layers[e].tt);t.setMatte(a);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var r=0,s;r<e;)this.elements[r]&&this.elements[r]!==!0&&this.elements[r].getBaseElement()&&(s=this.elements[r].getBaseElement()),r+=1;s?this.layerElement.insertBefore(n,s):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var r=createNS("title"),s=createElementID();r.setAttribute("id",s),r.textContent=e.title,this.svgElement.appendChild(r),n+=s}if(e&&e.description){var a=createNS("desc"),S=createElementID();a.setAttribute("id",S),a.textContent=e.description,this.svgElement.appendChild(a),n+=" "+S}n&&this.svgElement.setAttribute("aria-labelledby",n);var P=createNS("defs");this.svgElement.appendChild(P);var M=createNS("g");this.svgElement.appendChild(M),this.layerElement=M,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:P,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var n,r=e.length,s="_";for(n=0;n<r;n+=1)s+=e[n].transform.key+"_";var a=this.sequences[s];return a||(a={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[s]=a,this.sequenceList.push(a)),a},processSequence:function(e,n){for(var r=0,s=e.transforms.length,a=n;r<s&&!n;){if(e.transforms[r].transform.mProps._mdf){a=!0;break}r+=1}if(a)for(e.finalTransform.reset(),r=s-1;r>=0;r-=1)e.finalTransform.multiply(e.transforms[r].transform.mProps.v);e._mdf=a},processSequences:function(e){var n,r=this.sequenceList.length;for(n=0;n<r;n+=1)this.processSequence(this.sequenceList[n],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",n=null,r=null,s=null;function a(){var M=createNS("svg"),N=createNS("filter"),F=createNS("feColorMatrix");return N.setAttribute("id",e),F.setAttribute("type","matrix"),F.setAttribute("color-interpolation-filters","sRGB"),F.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),N.appendChild(F),M.appendChild(N),M.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(M.style.display="none"),M}function S(){n||(s=a(),document.body.appendChild(s),n=createTag("canvas"),r=n.getContext("2d"),r.filter="url(#"+e+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}function P(M){return n||S(),n.width=M.width,n.height=M.height,r.filter="url(#"+e+")",n}return{load:S,get:P}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(t){var e,n=t.data.ef?t.data.ef.length:0;this.filters=[];var r;for(e=0;e<n;e+=1){r=null;var s=t.data.ef[e].ty;if(registeredEffects[s]){var a=registeredEffects[s].effect;r=new a(t.effectsManager.effectElements[e],t)}r&&this.filters.push(r)}this.filters.length&&t.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r};function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,r=this.masksProperties.length,s=!1;for(n=0;n<r;n+=1)this.masksProperties[n].mode!=="n"&&(s=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,n,r=this.masksProperties.length,s,a,S;for(e.beginPath(),n=0;n<r;n+=1)if(this.masksProperties[n].mode!=="n"){this.masksProperties[n].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),S=this.viewData[n].v,s=t.applyToPointArray(S.v[0][0],S.v[0][1],0),e.moveTo(s[0],s[1]);var P,M=S._length;for(P=1;P<M;P+=1)a=t.applyToTriplePoints(S.o[P-1],S.i[P],S.v[P]),e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);a=t.applyToTriplePoints(S.o[P-1],S.i[0],S.v[0]),e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,n=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(n);var r=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var n=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=n}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0],n=e.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],n=e.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var r=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(r.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var s=assetLoader.getLumaCanvas(this.canvasContext.canvas),a=s.getContext("2d");a.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(s,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var n=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(n),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(n),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,e,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s=4;e.ty==="rc"?s=5:e.ty==="el"?s=6:e.ty==="sr"&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,s,t);var a,S=n.length,P;for(a=0;a<S;a+=1)n[a].closed||(P={transforms:r.addTransformSequence(n[a].transforms),trNodes:[]},this.styledShapes.push(P),n[a].elements.push(P))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},r={};if(t.ty==="fl"||t.ty==="st"?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],t.lj==1&&(n.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(n.wi=r.w.v),t.d){var s=new DashProperty(this,t.d,"canvas",this);r.d=s,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,r,s){var a,S=t.length-1,P,M,N=[],F=[],z,$,G,H=[].concat(s);for(a=S;a>=0;a-=1){if(z=this.searchProcessedElement(t[a]),z?e[a]=n[z-1]:t[a]._shouldRender=r,t[a].ty==="fl"||t[a].ty==="st"||t[a].ty==="gf"||t[a].ty==="gs")z?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],H),N.push(e[a].style);else if(t[a].ty==="gr"){if(!z)e[a]=this.createGroupElement(t[a]);else for(M=e[a].it.length,P=0;P<M;P+=1)e[a].prevViewData[P]=e[a].it[P];this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,r,H)}else t[a].ty==="tr"?(z||(G=this.createTransformElement(t[a]),e[a]=G),H.push(e[a]),this.addTransformToStyleList(e[a])):t[a].ty==="sh"||t[a].ty==="rc"||t[a].ty==="el"||t[a].ty==="sr"?z||(e[a]=this.createShapeElement(t[a])):t[a].ty==="tm"||t[a].ty==="rd"||t[a].ty==="pb"||t[a].ty==="zz"||t[a].ty==="op"?(z?($=e[a],$.closed=!1):($=ShapeModifiers.getModifier(t[a].ty),$.init(this,t[a]),e[a]=$,this.shapeModifiers.push($)),F.push($)):t[a].ty==="rp"&&(z?($=e[a],$.closed=!0):($=ShapeModifiers.getModifier(t[a].ty),e[a]=$,$.init(this,t,a,e),this.shapeModifiers.push($),r=!1),F.push($));this.addProcessedElement(t[a],a+1)}for(this.removeTransformFromStyleList(),this.closeStyles(N),S=F.length,a=0;a<S;a+=1)F[a].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e=this.stylesList.length,n,r,s,a,S,P,M=this.globalData.renderer,N=this.globalData.canvasContext,F,z;for(t=0;t<e;t+=1)if(z=this.stylesList[t],F=z.type,!((F==="st"||F==="gs")&&z.wi===0||!z.data._shouldRender||z.coOp===0||this.globalData.currentGlobalAlpha===0)){for(M.save(),S=z.elements,F==="st"||F==="gs"?(M.ctxStrokeStyle(F==="st"?z.co:z.grd),M.ctxLineWidth(z.wi),M.ctxLineCap(z.lc),M.ctxLineJoin(z.lj),M.ctxMiterLimit(z.ml||0)):M.ctxFillStyle(F==="fl"?z.co:z.grd),M.ctxOpacity(z.coOp),F!=="st"&&F!=="gs"&&N.beginPath(),M.ctxTransform(z.preTransforms.finalTransform.props),r=S.length,n=0;n<r;n+=1){for((F==="st"||F==="gs")&&(N.beginPath(),z.da&&(N.setLineDash(z.da),N.lineDashOffset=z.do)),P=S[n].trNodes,a=P.length,s=0;s<a;s+=1)P[s].t==="m"?N.moveTo(P[s].p[0],P[s].p[1]):P[s].t==="c"?N.bezierCurveTo(P[s].pts[0],P[s].pts[1],P[s].pts[2],P[s].pts[3],P[s].pts[4],P[s].pts[5]):N.closePath();(F==="st"||F==="gs")&&(M.ctxStroke(),z.da&&N.setLineDash(this.dashResetter))}F!=="st"&&F!=="gs"&&this.globalData.renderer.ctxFill(z.r),M.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,r){var s,a=e.length-1,S;for(S=t,s=a;s>=0;s-=1)e[s].ty==="tr"?(S=n[s].transform,this.renderShapeTransform(t,S)):e[s].ty==="sh"||e[s].ty==="el"||e[s].ty==="rc"||e[s].ty==="sr"?this.renderPath(e[s],n[s]):e[s].ty==="fl"?this.renderFill(e[s],n[s],S):e[s].ty==="st"?this.renderStroke(e[s],n[s],S):e[s].ty==="gf"||e[s].ty==="gs"?this.renderGradientFill(e[s],n[s],S):e[s].ty==="gr"?this.renderShape(S,e[s].it,n[s].it):e[s].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n=t.trNodes,r=e.paths,s,a,S,P=r._length;n.length=0;var M=t.transforms.finalTransform;for(S=0;S<P;S+=1){var N=r.shapes[S];if(N&&N.v){for(a=N._length,s=1;s<a;s+=1)s===1&&n.push({t:"m",p:M.applyToPointArray(N.v[0][0],N.v[0][1],0)}),n.push({t:"c",pts:M.applyToTriplePoints(N.o[s-1],N.i[s],N.v[s])});a===1&&n.push({t:"m",p:M.applyToPointArray(N.v[0][0],N.v[0][1],0)}),N.c&&a&&(n.push({t:"c",pts:M.applyToTriplePoints(N.o[s-1],N.i[0],N.v[0])}),n.push({t:"z"}))}}t.trNodes=n}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var n,r=e.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var r=e.style,s;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var a=this.globalData.canvasContext,S=e.s.v,P=e.e.v;if(t.t===1)s=a.createLinearGradient(S[0],S[1],P[0],P[1]);else{var M=Math.sqrt(Math.pow(S[0]-P[0],2)+Math.pow(S[1]-P[1],2)),N=Math.atan2(P[1]-S[1],P[0]-S[0]),F=e.h.v;F>=1?F=.99:F<=-1&&(F=-.99);var z=M*F,$=Math.cos(N+e.a.v)*z+S[0],G=Math.sin(N+e.a.v)*z+S[1];s=a.createRadialGradient($,G,0,S[0],S[1],M)}var H,U=t.g.p,W=e.g.c,Y=1;for(H=0;H<U;H+=1)e.g._hasOpacity&&e.g._collapsable&&(Y=e.g.o[H*2+1]),s.addColorStop(W[H*4]/100,"rgba("+W[H*4+1]+","+W[H*4+2]+","+W[H*4+3]+","+Y+")");r.grd=s}r.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var r=e.style,s=e.d;s&&(s._mdf||this._isFirstFrame)&&(r.da=s.dashArray,r.do=s.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r=this.globalData.fontManager.getFontByName(t.f),s,a,S=t.l,P=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,a=t.finalText.length;var M,N,F,z,$,G,H,U,W,Y,Q=this.data.singleShape,K=t.tr*.001*t.finalSize,tt=0,nt=0,rt=!0,ht=0;for(s=0;s<a;s+=1){M=this.globalData.fontManager.getCharData(t.finalText[s],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),N=M&&M.data||{},P.reset(),Q&&S[s].n&&(tt=-K,nt+=t.yOffset,nt+=rt?1:0,rt=!1),$=N.shapes?N.shapes[0].it:[],H=$.length,P.scale(t.finalSize/100,t.finalSize/100),Q&&this.applyTextPropertiesToMatrix(t,P,S[s].line,tt,nt),W=createSizedArray(H-1);var ct=0;for(G=0;G<H;G+=1)if($[G].ty==="sh"){for(z=$[G].ks.k.i.length,U=$[G].ks.k,Y=[],F=1;F<z;F+=1)F===1&&Y.push(P.applyToX(U.v[0][0],U.v[0][1],0),P.applyToY(U.v[0][0],U.v[0][1],0)),Y.push(P.applyToX(U.o[F-1][0],U.o[F-1][1],0),P.applyToY(U.o[F-1][0],U.o[F-1][1],0),P.applyToX(U.i[F][0],U.i[F][1],0),P.applyToY(U.i[F][0],U.i[F][1],0),P.applyToX(U.v[F][0],U.v[F][1],0),P.applyToY(U.v[F][0],U.v[F][1],0));Y.push(P.applyToX(U.o[F-1][0],U.o[F-1][1],0),P.applyToY(U.o[F-1][0],U.o[F-1][1],0),P.applyToX(U.i[0][0],U.i[0][1],0),P.applyToY(U.i[0][0],U.i[0][1],0),P.applyToX(U.v[0][0],U.v[0][1],0),P.applyToY(U.v[0][0],U.v[0][1],0)),W[ct]=Y,ct+=1}Q&&(tt+=S[s].l,tt+=K),this.textSpans[ht]?this.textSpans[ht].elem=W:this.textSpans[ht]={elem:W},ht+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t=this.canvasContext;t.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,n,r,s,a,S,P=this.textAnimator.renderedLetters,M=this.textProperty.currentData.l;n=M.length;var N,F=null,z=null,$=null,G,H,U=this.globalData.renderer;for(e=0;e<n;e+=1)if(!M[e].n){if(N=P[e],N&&(U.save(),U.ctxTransform(N.p),U.ctxOpacity(N.o)),this.fill){for(N&&N.fc?F!==N.fc&&(U.ctxFillStyle(N.fc),F=N.fc):F!==this.values.fill&&(F=this.values.fill,U.ctxFillStyle(this.values.fill)),G=this.textSpans[e].elem,s=G.length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(H=G[r],S=H.length,this.globalData.canvasContext.moveTo(H[0],H[1]),a=2;a<S;a+=6)this.globalData.canvasContext.bezierCurveTo(H[a],H[a+1],H[a+2],H[a+3],H[a+4],H[a+5]);this.globalData.canvasContext.closePath(),U.ctxFill()}if(this.stroke){for(N&&N.sw?$!==N.sw&&($=N.sw,U.ctxLineWidth(N.sw)):$!==this.values.sWidth&&($=this.values.sWidth,U.ctxLineWidth(this.values.sWidth)),N&&N.sc?z!==N.sc&&(z=N.sc,U.ctxStrokeStyle(N.sc)):z!==this.values.stroke&&(z=this.values.stroke,U.ctxStrokeStyle(this.values.stroke)),G=this.textSpans[e].elem,s=G.length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(H=G[r],S=H.length,this.globalData.canvasContext.moveTo(H[0],H[1]),a=2;a<S;a+=6)this.globalData.canvasContext.bezierCurveTo(H[a],H[a+1],H[a+2],H[a+3],H[a+4],H[a+5]);this.globalData.canvasContext.closePath(),U.ctxStroke()}N&&this.globalData.renderer.restore()}};function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e=t.getContext("2d"),n=this.img.width,r=this.img.height,s=n/r,a=this.assetData.w/this.assetData.h,S,P,M=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&M==="xMidYMid slice"||s<a&&M!=="xMidYMid slice"?(P=r,S=P*a):(S=n,P=S/a),e.drawImage(this.img,(n-S)/2,(r-P)/2,S,P,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,r){this.canvasContext.fillRect(t,e,n,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){this.reset();var n,r;t?(n=t,r=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr);var s,a;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var S=this.renderConfig.preserveAspectRatio.split(" "),P=S[1]||"meet",M=S[0]||"xMidYMid",N=M.substr(0,4),F=M.substr(4);s=n/r,a=this.transformCanvas.w/this.transformCanvas.h,a>s&&P==="meet"||a<s&&P==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),N==="xMid"&&(a<s&&P==="meet"||a>s&&P==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:N==="xMax"&&(a<s&&P==="meet"||a>s&&P==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,F==="YMid"&&(a>s&&P==="meet"||a<s&&P==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:F==="YMax"&&(a>s&&P==="meet"||a<s&&P==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,e=15;for(t=0;t<e;t+=1){var n=new CanvasContext;this.stack[t]=n}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var t=this._length*2,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e=this.stack[this.cArrPos],n=e.transform,r,s=this.cTr.props;for(r=0;r<16;r+=1)s[r]=n[r];if(t){this.nativeContext.restore();var a=this.stack[this.cArrPos+1];this.appliedFillStyle=a.fillStyle,this.appliedStrokeStyle=a.strokeStyle,this.appliedLineWidth=a.lineWidth,this.appliedLineCap=a.lineCap,this.appliedLineJoin=a.lineJoin,this.appliedMiterLimit=a.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(t||e.opacity!==-1&&this.currentOpacity!==e.opacity)&&(this.nativeContext.globalAlpha=e.opacity,this.currentOpacity=e.opacity),this.currentFillStyle=e.fillStyle,this.currentStrokeStyle=e.strokeStyle,this.currentLineWidth=e.lineWidth,this.currentLineCap=e.lineCap,this.currentLineJoin=e.lineJoin,this.currentMiterLimit=e.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n=this.stack[this.cArrPos],r;for(r=0;r<16;r+=1)n.transform[r]=e[r];this.cArrPos+=1;var s=this.stack[this.cArrPos];s.opacity=n.opacity,s.fillStyle=n.fillStyle,s.strokeStyle=n.strokeStyle,s.lineWidth=n.lineWidth,s.lineCap=n.lineCap,s.lineJoin=n.lineJoin,s.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var e,n=this.layers.length;for(e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var n=this.finalTransform.mat.toCSS();e.transform=n,e.webkitTransform=n}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,e,n){this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n=t.sh.v,r=t.transformers,s,a=n._length,S,P,M,N;if(!(a<=1)){for(s=0;s<a-1;s+=1)S=this.getTransformedPoint(r,n.v[s]),P=this.getTransformedPoint(r,n.o[s]),M=this.getTransformedPoint(r,n.i[s+1]),N=this.getTransformedPoint(r,n.v[s+1]),this.checkBounds(S,P,M,N,e);n.c&&(S=this.getTransformedPoint(r,n.v[s]),P=this.getTransformedPoint(r,n.o[s]),M=this.getTransformedPoint(r,n.i[0]),N=this.getTransformedPoint(r,n.v[0]),this.checkBounds(S,P,M,N,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,r,s){this.getBoundsOfCurve(t,e,n,r);var a=this.shapeBoundingBox;s.x=bmMin(a.left,s.x),s.xMax=bmMax(a.right,s.xMax),s.y=bmMin(a.top,s.y),s.yMax=bmMax(a.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,r){for(var s=[[t[0],r[0]],[t[1],r[1]]],a,S,P,M,N,F,z,$=0;$<2;++$)S=6*t[$]-12*e[$]+6*n[$],a=-3*t[$]+9*e[$]-9*n[$]+3*r[$],P=3*e[$]-3*t[$],S|=0,a|=0,P|=0,a===0&&S===0||(a===0?(M=-P/S,M>0&&M<1&&s[$].push(this.calculateF(M,t,e,n,r,$))):(N=S*S-4*P*a,N>=0&&(F=(-S+bmSqrt(N))/(2*a),F>0&&F<1&&s[$].push(this.calculateF(F,t,e,n,r,$)),z=(-S-bmSqrt(N))/(2*a),z>0&&z<1&&s[$].push(this.calculateF(z,t,e,n,r,$)))));this.shapeBoundingBox.left=bmMin.apply(null,s[0]),this.shapeBoundingBox.top=bmMin.apply(null,s[1]),this.shapeBoundingBox.right=bmMax.apply(null,s[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,s[1])},HShapeElement.prototype.calculateF=function(t,e,n,r,s,a){return bmPow(1-t,3)*e[a]+3*bmPow(1-t,2)*t*n[a]+3*(1-t)*bmPow(t,2)*r[a]+bmPow(t,3)*s[a]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var r=0;r<t.keyframes.length;r+=1){var s=t.keyframes[r].s;s>n&&(n=s)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,s="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=s,r.webkitTransform=s}}};function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",r.fClass)this.innerElem.className=r.fClass;else{e.fontFamily=r.fFamily;var s=t.fWeight,a=t.fStyle;e.fontStyle=a,e.fontWeight=s}var S,P,M=t.l;P=M.length;var N,F,z,$=this.mHelper,G,H="",U=0;for(S=0;S<P;S+=1){if(this.globalData.fontManager.chars?(this.textPaths[U]?N=this.textPaths[U]:(N=createNS("path"),N.setAttribute("stroke-linecap",lineCapEnum[1]),N.setAttribute("stroke-linejoin",lineJoinEnum[2]),N.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[U]?(F=this.textSpans[U],z=F.children[0]):(F=createTag("div"),F.style.lineHeight=0,z=createNS("svg"),z.appendChild(N),styleDiv(F)))):this.isMasked?N=this.textPaths[U]?this.textPaths[U]:createNS("text"):this.textSpans[U]?(F=this.textSpans[U],N=this.textPaths[U]):(F=createTag("span"),styleDiv(F),N=createTag("span"),styleDiv(N),F.appendChild(N)),this.globalData.fontManager.chars){var W=this.globalData.fontManager.getCharData(t.finalText[S],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),Y;if(W?Y=W.data:Y=null,$.reset(),Y&&Y.shapes&&Y.shapes.length&&(G=Y.shapes[0].it,$.scale(t.finalSize/100,t.finalSize/100),H=this.createPathShape($,G),N.setAttribute("d",H)),this.isMasked)this.innerElem.appendChild(N);else{if(this.innerElem.appendChild(F),Y&&Y.shapes){document.body.appendChild(z);var Q=z.getBBox();z.setAttribute("width",Q.width+2),z.setAttribute("height",Q.height+2),z.setAttribute("viewBox",Q.x-1+" "+(Q.y-1)+" "+(Q.width+2)+" "+(Q.height+2));var K=z.style,tt="translate("+(Q.x-1)+"px,"+(Q.y-1)+"px)";K.transform=tt,K.webkitTransform=tt,M[S].yOffset=Q.y-1}else z.setAttribute("width",1),z.setAttribute("height",1);F.appendChild(z)}}else if(N.textContent=M[S].val,N.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(N);else{this.innerElem.appendChild(F);var nt=N.style,rt="translate3d(0,"+-t.finalSize/1.2+"px,0)";nt.transform=rt,nt.webkitTransform=rt}this.isMasked?this.textSpans[U]=N:this.textSpans[U]=F,this.textSpans[U].style.display="block",this.textPaths[U]=N,U+=1}for(;U<this.textSpans.length;)this.textSpans[U].style.display="none",U+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var n,r,s=0,a=this.textAnimator.renderedLetters,S=this.textProperty.currentData.l;r=S.length;var P,M,N;for(n=0;n<r;n+=1)S[n].n?s+=1:(M=this.textSpans[n],N=this.textPaths[n],P=a[s],s+=1,P._mdf.m&&(this.isMasked?M.setAttribute("transform",P.m):(M.style.webkitTransform=P.m,M.style.transform=P.m)),M.style.opacity=P.o,P.sw&&P._mdf.sw&&N.setAttribute("stroke-width",P.sw),P.sc&&P._mdf.sc&&N.setAttribute("stroke",P.sc),P.fc&&P._mdf.fc&&(N.setAttribute("fill",P.fc),N.style.color=P.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var F=this.innerElem.getBBox();this.currentBBox.w!==F.width&&(this.currentBBox.w=F.width,this.svgElement.setAttribute("width",F.width)),this.currentBBox.h!==F.height&&(this.currentBBox.h=F.height,this.svgElement.setAttribute("height",F.height));var z=1;if(this.currentBBox.w!==F.width+z*2||this.currentBBox.h!==F.height+z*2||this.currentBBox.x!==F.x-z||this.currentBBox.y!==F.y-z){this.currentBBox.w=F.width+z*2,this.currentBBox.h=F.height+z*2,this.currentBBox.x=F.x-z,this.currentBBox.y=F.y-z,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var $="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=$,t.webkitTransform=$}}}};function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var s,a=t.ks.or.k.length;for(s=0;s<a;s+=1)t.ks.or.k[s].to=null,t.ks.or.k[s].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e=this.comp.threeDElements.length,n,r,s;for(t=0;t<e;t+=1)if(n=this.comp.threeDElements[t],n.type==="3d"){r=n.perspectiveElem.style,s=n.container.style;var a=this.pe.v+"px",S="0px 0px 0px",P="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=a,r.webkitPerspective=a,s.transformOrigin=S,s.mozTransformOrigin=S,s.webkitTransformOrigin=S,r.transform=P,r.webkitTransform=P}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,e,n;if(this.hierarchy)for(n=this.hierarchy.length,e=0;e<n;e+=1)t=this.hierarchy[e].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(n=this.hierarchy.length-1,e=n;e>=0;e-=1){var r=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s;this.p?s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:s=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var a=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),S=[s[0]/a,s[1]/a,s[2]/a],P=Math.sqrt(S[2]*S[2]+S[0]*S[0]),M=Math.atan2(S[1],P),N=Math.atan2(S[0],-S[2]);this.mat.rotateY(N).rotateX(-M)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var F=!this._prevMat.equals(this.mat);if((F||this.pe._mdf)&&this.comp.threeDElements){n=this.comp.threeDElements.length;var z,$,G;for(e=0;e<n;e+=1)if(z=this.comp.threeDElements[e],z.type==="3d"){if(F){var H=this.mat.toCSS();G=z.container.style,G.transform=H,G.webkitTransform=H}this.pe._mdf&&($=z.perspectiveElem.style,$.perspective=this.pe.v+"px",$.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var r=this.layers[e];if(!r.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var s=0,a,S,P;s<e;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement&&(S=this.elements[s],P=this.layers[s].ddd?this.getThreeDContainerByPos(s):S.getBaseElement(),a=P||a),s+=1;a?(!r.ddd||!this.supports3d)&&this.layerElement.insertBefore(n,a):(!r.ddd||!this.supports3d)&&this.layerElement.appendChild(n)}else this.addTo3dContainer(n,e)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n=createTag("div"),r,s;styleDiv(n);var a=createTag("div");if(styleDiv(a),e==="3d"){r=n.style,r.width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var S="50% 50%";r.webkitTransformOrigin=S,r.mozTransformOrigin=S,r.transformOrigin=S,s=a.style;var P="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.transform=P,s.webkitTransform=P}n.appendChild(a);var M={container:a,perspectiveElem:n,startPos:t,endPos:t,type:e};return this.threeDElements.push(M),M},HybridRendererBase.prototype.build3dContainers=function(){var t,e=this.layers.length,n,r="";for(t=0;t<e;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(r!=="3d"&&(r="3d",n=this.createThreeDContainer(t,"3d")),n.endPos=Math.max(n.endPos,t)):(r!=="2d"&&(r="2d",n=this.createThreeDContainer(t,"2d")),n.endPos=Math.max(n.endPos,t));for(e=this.threeDElements.length,t=e-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,r=this.threeDElements.length;n<r;){if(e<=this.threeDElements[n].endPos){for(var s=this.threeDElements[n].startPos,a;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(a=this.elements[s].getBaseElement()),s+=1;a?this.threeDElements[n].container.insertBefore(t,a):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,r=e.style;r.width=t.w+"px",r.height=t.h+"px",this.resizerElem=e,styleDiv(e),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),r.overflow="hidden";var s=createNS("svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var a=createNS("defs");s.appendChild(a),this.data=t,this.setupGlobalData(t,s),this.globalData.defs=a,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,n=t/e,r=this.globalData.compSize.w/this.globalData.compSize.h,s,a,S,P;r>n?(s=t/this.globalData.compSize.w,a=t/this.globalData.compSize.w,S=0,P=(e-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(s=e/this.globalData.compSize.h,a=e/this.globalData.compSize.h,S=(t-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,P=0);var M=this.resizerElem.style;M.webkitTransform="matrix3d("+s+",0,0,0,0,"+a+",0,0,0,0,1,0,"+S+","+P+",0,1)",M.transform=M.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,e=this.globalData.compSize.h,n,r=this.threeDElements.length;for(n=0;n<r;n+=1){var s=this.threeDElements[n].perspectiveElem.style;s.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",s.perspective=s.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,r=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var s=this.createComp(t[e],r,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}};function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n=0,r;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=(function(){return function(t){function e(n){for(var r=0,s=t.layers.length;r<s;){if(t.layers[r].nm===n||t.layers[r].ind===n)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}})();function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function seedRandom(t,e){var n=this,r=256,s=6,a=52,S="random",P=e.pow(r,s),M=e.pow(2,a),N=M*2,F=r-1,z;function $(K,tt,nt){var rt=[];tt=tt===!0?{entropy:!0}:tt||{};var ht=W(U(tt.entropy?[K,Q(t)]:K===null?Y():K,3),rt),ct=new G(rt),mt=function(){for(var kt=ct.g(s),_t=P,Vt=0;kt<M;)kt=(kt+Vt)*r,_t*=r,Vt=ct.g(1);for(;kt>=N;)kt/=2,_t/=2,Vt>>>=1;return(kt+Vt)/_t};return mt.int32=function(){return ct.g(4)|0},mt.quick=function(){return ct.g(4)/4294967296},mt.double=mt,W(Q(ct.S),t),(tt.pass||nt||function(wt,kt,_t,Vt){return Vt&&(Vt.S&&H(Vt,ct),wt.state=function(){return H(ct,{})}),_t?(e[S]=wt,kt):wt})(mt,ht,"global"in tt?tt.global:this==e,tt.state)}e["seed"+S]=$;function G(K){var tt,nt=K.length,rt=this,ht=0,ct=rt.i=rt.j=0,mt=rt.S=[];for(nt||(K=[nt++]);ht<r;)mt[ht]=ht++;for(ht=0;ht<r;ht++)mt[ht]=mt[ct=F&ct+K[ht%nt]+(tt=mt[ht])],mt[ct]=tt;rt.g=function(wt){for(var kt,_t=0,Vt=rt.i,jt=rt.j,At=rt.S;wt--;)kt=At[Vt=F&Vt+1],_t=_t*r+At[F&(At[Vt]=At[jt=F&jt+kt])+(At[jt]=kt)];return rt.i=Vt,rt.j=jt,_t}}function H(K,tt){return tt.i=K.i,tt.j=K.j,tt.S=K.S.slice(),tt}function U(K,tt){var nt=[],rt=_typeof$2(K),ht;if(tt&&rt=="object")for(ht in K)try{nt.push(U(K[ht],tt-1))}catch{}return nt.length?nt:rt=="string"?K:K+"\0"}function W(K,tt){for(var nt=K+"",rt,ht=0;ht<nt.length;)tt[F&ht]=F&(rt^=tt[F&ht]*19)+nt.charCodeAt(ht++);return Q(tt)}function Y(){try{var K=new Uint8Array(r);return(n.crypto||n.msCrypto).getRandomValues(K),Q(K)}catch{var tt=n.navigator,nt=tt&&tt.plugins;return[+new Date,n,nt,n.screen,Q(t)]}}function Q(K){return String.fromCharCode.apply(0,K)}W(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var n,r=t.length,s=[];for(n=0;n<r;n+=1)s[n]=-t[n];return s}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e)||n==="string"||r==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var s=0,a=t.length,S=e.length,P=[];s<a||s<S;)(typeof t[s]=="number"||t[s]instanceof Number)&&(typeof e[s]=="number"||e[s]instanceof Number)?P[s]=t[s]+e[s]:P[s]=e[s]===void 0?t[s]:t[s]||e[s],s+=1;return P}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e))return n==="string"&&(t=parseInt(t,10)),r==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var s=0,a=t.length,S=e.length,P=[];s<a||s<S;)(typeof t[s]=="number"||t[s]instanceof Number)&&(typeof e[s]=="number"||e[s]instanceof Number)?P[s]=t[s]-e[s]:P[s]=e[s]===void 0?t[s]:t[s]||e[s],s+=1;return P}return 0}function mul(t,e){var n=_typeof$1(t),r=_typeof$1(e),s;if(isNumerable(n,t)&&isNumerable(r,e))return t*e;var a,S;if($bm_isInstanceOfArray(t)&&isNumerable(r,e)){for(S=t.length,s=createTypedArray("float32",S),a=0;a<S;a+=1)s[a]=t[a]*e;return s}if(isNumerable(n,t)&&$bm_isInstanceOfArray(e)){for(S=e.length,s=createTypedArray("float32",S),a=0;a<S;a+=1)s[a]=t*e[a];return s}return 0}function div(t,e){var n=_typeof$1(t),r=_typeof$1(e),s;if(isNumerable(n,t)&&isNumerable(r,e))return t/e;var a,S;if($bm_isInstanceOfArray(t)&&isNumerable(r,e)){for(S=t.length,s=createTypedArray("float32",S),a=0;a<S;a+=1)s[a]=t[a]/e;return s}if(isNumerable(n,t)&&$bm_isInstanceOfArray(e)){for(S=e.length,s=createTypedArray("float32",S),a=0;a<S;a+=1)s[a]=t/e[a];return s}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var r=n;n=e,e=r}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var n,r=Math.min(t.length,e.length),s=0;for(n=0;n<r;n+=1)s+=Math.pow(e[n]-t[n],2);return Math.sqrt(s)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],n=t[1],r=t[2],s=Math.max(e,n,r),a=Math.min(e,n,r),S,P,M=(s+a)/2;if(s===a)S=0,P=0;else{var N=s-a;switch(P=M>.5?N/(2-s-a):N/(s+a),s){case e:S=(n-r)/N+(n<r?6:0);break;case n:S=(r-e)/N+2;break;case r:S=(e-n)/N+4;break}S/=6}return[S,P,M,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e=t[0],n=t[1],r=t[2],s,a,S;if(n===0)s=r,S=r,a=r;else{var P=r<.5?r*(1+n):r+n-r*n,M=2*r-P;s=hue2rgb(M,P,e+1/3),a=hue2rgb(M,P,e),S=hue2rgb(M,P,e-1/3)}return[s,a,S,t[3]]}function linear(t,e,n,r,s){if((r===void 0||s===void 0)&&(r=e,s=n,e=0,n=1),n<e){var a=n;n=e,e=a}if(t<=e)return r;if(t>=n)return s;var S=n===e?0:(t-e)/(n-e);if(!r.length)return r+(s-r)*S;var P,M=r.length,N=createTypedArray("float32",M);for(P=0;P<M;P+=1)N[P]=r[P]+(s[P]-r[P])*S;return N}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var n,r=e.length;t||(t=createTypedArray("float32",r));var s=createTypedArray("float32",r),a=BMMath.random();for(n=0;n<r;n+=1)s[n]=t[n]+a*(e[n]-t[n]);return s}t===void 0&&(t=0);var S=BMMath.random();return t+S*(e-t)}function createPath(t,e,n,r){var s,a=t.length,S=shapePool.newElement();S.setPathData(!!r,a);var P=[0,0],M,N;for(s=0;s<a;s+=1)M=e&&e[s]?e[s]:P,N=n&&n[s]?n[s]:P,S.setTripleAt(t[s][0],t[s][1],N[0]+t[s][0],N[1]+t[s][1],M[0]+t[s][0],M[1]+t[s][1],s,!0);return S}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function t(e,n){var r,s,a=this.pv.length?this.pv.length:1,S=createTypedArray("float32",a);e=5;var P=Math.floor(time*e);for(r=0,s=0;r<P;){for(s=0;s<a;s+=1)S[s]+=-n+n*2*BMMath.random();r+=1}var M=time*e,N=M-Math.floor(M),F=createTypedArray("float32",a);if(a>1){for(s=0;s<a;s+=1)F[s]=this.pv[s]+S[s]+(-n+n*2*BMMath.random())*N;return F}return this.pv+S[0]+(-n+n*2*BMMath.random())*N}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads,s=-Math.atan2(n[1],n[2])/degToRads;return[s,r,0]}function easeOut(t,e,n,r,s){return applyEase(easeOutBez,t,e,n,r,s)}function easeIn(t,e,n,r,s){return applyEase(easeInBez,t,e,n,r,s)}function ease(t,e,n,r,s){return applyEase(easeInOutBez,t,e,n,r,s)}function applyEase(t,e,n,r,s,a){s===void 0?(s=n,a=r):e=(e-n)/(r-n),e>1?e=1:e<0&&(e=0);var S=t(e);if($bm_isInstanceOfArray(s)){var P,M=s.length,N=createTypedArray("float32",M);for(P=0;P<M;P+=1)N[P]=(a[P]-s[P])*S+s[P];return N}return(a-s)*S+s}function nearestKey(t){var e,n=data.k.length,r,s;if(!data.k.length||typeof data.k[0]=="number")r=0,s=0;else if(r=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)r=1,s=data.k[0].t;else{for(e=0;e<n-1;e+=1)if(t===data.k[e].t){r=e+1,s=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,s=data.k[e+1].t):(r=e+1,s=data.k[e].t);break}r===-1&&(r=e+1,s=data.k[e].t)}var a={};return a.index=r,a.time=s/elem.comp.globalData.frameRate,a}function key(t){var e,n,r;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var s=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(r=s.length,n=0;n<r;n+=1)e[n]=s[n],e.value[n]=s[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&t!==0&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var t={};t.initExpressions=e,t.resetFrame=ExpressionManager.resetFrame;function e(n){var r=0,s=[];function a(){r+=1}function S(){r-=1,r===0&&M()}function P(N){s.indexOf(N)===-1&&s.push(N)}function M(){var N,F=s.length;for(N=0;N<F;N+=1)s[N].release();s.length=0}n.renderer.compInterface=CompExpressionInterface(n.renderer),n.renderer.globalData.projectInterface.registerComposition(n.renderer),n.renderer.globalData.pushExpression=a,n.renderer.globalData.popExpression=S,n.renderer.globalData.registerExpressionProperty=P}return t})(),MaskManagerInterface=(function(){function t(n,r){this._mask=n,this._data=r}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(r){var s=createSizedArray(r.viewData.length),a,S=r.viewData.length;for(a=0;a<S;a+=1)s[a]=new t(r.viewData[a],r.masksProperties[a]);var P=function(N){for(a=0;a<S;){if(r.masksProperties[a].nm===N)return s[a];a+=1}return null};return P};return e})(),ExpressionPropertyInterface=(function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(S,P,M){Object.defineProperty(S,"velocity",{get:function(){return P.getVelocityAtTime(P.comp.currentFrame)}}),S.numKeys=P.keyframes?P.keyframes.length:0,S.key=function(N){if(!S.numKeys)return 0;var F="";"s"in P.keyframes[N-1]?F=P.keyframes[N-1].s:"e"in P.keyframes[N-2]?F=P.keyframes[N-2].e:F=P.keyframes[N-2].s;var z=M==="unidimensional"?new Number(F):Object.assign({},F);return z.time=P.keyframes[N-1].t/P.elem.comp.globalData.frameRate,z.value=M==="unidimensional"?F[0]:F,z},S.valueAtTime=P.getValueAtTime,S.speedAtTime=P.getSpeedAtTime,S.velocityAtTime=P.getVelocityAtTime,S.propertyGroup=P.propertyGroup}function r(S){(!S||!("pv"in S))&&(S=t);var P=1/S.mult,M=S.pv*P,N=new Number(M);return N.value=M,n(N,S,"unidimensional"),function(){return S.k&&S.getValue(),M=S.v*P,N.value!==M&&(N=new Number(M),N.value=M,N[0]=M,n(N,S,"unidimensional")),N}}function s(S){(!S||!("pv"in S))&&(S=e);var P=1/S.mult,M=S.data&&S.data.l||S.pv.length,N=createTypedArray("float32",M),F=createTypedArray("float32",M);return N.value=F,n(N,S,"multidimensional"),function(){S.k&&S.getValue();for(var z=0;z<M;z+=1)F[z]=S.v[z]*P,N[z]=F[z];return N}}function a(){return t}return function(S){return S?S.propType==="unidimensional"?r(S):s(S):a}})(),TransformExpressionInterface=(function(){return function(t){function e(S){switch(S){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)});var n,r,s,a;return t.p?a=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),r=ExpressionPropertyInterface(t.py),t.pz&&(s=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?a():[n(),r(),s?s():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}})(),LayerExpressionInterface=(function(){function t(N){var F=new Matrix;if(N!==void 0){var z=this._elem.finalTransform.mProp.getValueAtTime(N);z.clone(F)}else{var $=this._elem.finalTransform.mProp;$.applyToMatrix(F)}return F}function e(N,F){var z=this.getMatrix(F);return z.props[12]=0,z.props[13]=0,z.props[14]=0,this.applyPoint(z,N)}function n(N,F){var z=this.getMatrix(F);return this.applyPoint(z,N)}function r(N,F){var z=this.getMatrix(F);return z.props[12]=0,z.props[13]=0,z.props[14]=0,this.invertPoint(z,N)}function s(N,F){var z=this.getMatrix(F);return this.invertPoint(z,N)}function a(N,F){if(this._elem.hierarchy&&this._elem.hierarchy.length){var z,$=this._elem.hierarchy.length;for(z=0;z<$;z+=1)this._elem.hierarchy[z].finalTransform.mProp.applyToMatrix(N)}return N.applyToPointArray(F[0],F[1],F[2]||0)}function S(N,F){if(this._elem.hierarchy&&this._elem.hierarchy.length){var z,$=this._elem.hierarchy.length;for(z=0;z<$;z+=1)this._elem.hierarchy[z].finalTransform.mProp.applyToMatrix(N)}return N.inversePoint(F)}function P(N){var F=new Matrix;if(F.reset(),this._elem.finalTransform.mProp.applyToMatrix(F),this._elem.hierarchy&&this._elem.hierarchy.length){var z,$=this._elem.hierarchy.length;for(z=0;z<$;z+=1)this._elem.hierarchy[z].finalTransform.mProp.applyToMatrix(F);return F.inversePoint(N)}return F.inversePoint(N)}function M(){return[1,1,1,1]}return function(N){var F;function z(U){G.mask=new MaskManagerInterface(U,N)}function $(U){G.effect=U}function G(U){switch(U){case"ADBE Root Vectors Group":case"Contents":case 2:return G.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return F;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return G.effect;case"ADBE Text Properties":return G.textInterface;default:return null}}G.getMatrix=t,G.invertPoint=S,G.applyPoint=a,G.toWorld=n,G.toWorldVec=e,G.fromWorld=s,G.fromWorldVec=r,G.toComp=n,G.fromComp=P,G.sampleImage=M,G.sourceRectAtTime=N.sourceRectAtTime.bind(N),G._elem=N,F=TransformExpressionInterface(N.finalTransform.mProp);var H=getDescriptor(F,"anchorPoint");return Object.defineProperties(G,{hasParent:{get:function(){return N.hierarchy.length}},parent:{get:function(){return N.hierarchy[0].layerInterface}},rotation:getDescriptor(F,"rotation"),scale:getDescriptor(F,"scale"),position:getDescriptor(F,"position"),opacity:getDescriptor(F,"opacity"),anchorPoint:H,anchor_point:H,transform:{get:function(){return F}},active:{get:function(){return N.isInRange}}}),G.startTime=N.data.st,G.index=N.data.ind,G.source=N.data.refId,G.height=N.data.ty===0?N.data.h:100,G.width=N.data.ty===0?N.data.w:100,G.inPoint=N.data.ip/N.comp.globalData.frameRate,G.outPoint=N.data.op/N.comp.globalData.frameRate,G._name=N.data.nm,G.registerMaskInterface=z,G.registerEffectsInterface=$,G}})(),propertyGroupFactory=(function(){return function(t,e){return function(n){return n=n===void 0?1:n,n<=0?t:e(n-1)}}})(),PropertyInterface=(function(){return function(t,e){var n={_name:t};function r(s){return s=s===void 0?1:s,s<=0?n:e(s-1)}return r}})(),EffectsExpressionInterface=(function(){var t={createEffectsInterface:e};function e(s,a){if(s.effectsManager){var S=[],P=s.data.ef,M,N=s.effectsManager.effectElements.length;for(M=0;M<N;M+=1)S.push(n(P[M],s.effectsManager.effectElements[M],a,s));var F=s.data.ef||[],z=function(G){for(M=0,N=F.length;M<N;){if(G===F[M].nm||G===F[M].mn||G===F[M].ix)return S[M];M+=1}return null};return Object.defineProperty(z,"numProperties",{get:function(){return F.length}}),z}return null}function n(s,a,S,P){function M(G){for(var H=s.ef,U=0,W=H.length;U<W;){if(G===H[U].nm||G===H[U].mn||G===H[U].ix)return H[U].ty===5?F[U]:F[U]();U+=1}throw new Error}var N=propertyGroupFactory(M,S),F=[],z,$=s.ef.length;for(z=0;z<$;z+=1)s.ef[z].ty===5?F.push(n(s.ef[z],a.effectElements[z],a.effectElements[z].propertyGroup,P)):F.push(r(a.effectElements[z],s.ef[z].ty,P,N));return s.mn==="ADBE Color Control"&&Object.defineProperty(M,"color",{get:function(){return F[0]()}}),Object.defineProperties(M,{numProperties:{get:function(){return s.np}},_name:{value:s.nm},propertyGroup:{value:N}}),M.enabled=s.en!==0,M.active=M.enabled,M}function r(s,a,S,P){var M=ExpressionPropertyInterface(s.p);function N(){return a===10?S.comp.compInterface(s.p.v):M()}return s.p.setGroupProperty&&s.p.setGroupProperty(PropertyInterface("",P)),N}return t})(),ShapePathInterface=(function(){return function(e,n,r){var s=n.sh;function a(P){return P==="Shape"||P==="shape"||P==="Path"||P==="path"||P==="ADBE Vector Shape"||P===2?a.path:null}var S=propertyGroupFactory(a,r);return s.setGroupProperty(PropertyInterface("Path",S)),Object.defineProperties(a,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),a}})(),ShapeExpressionInterface=(function(){function t(H,U,W){var Y=[],Q,K=H?H.length:0;for(Q=0;Q<K;Q+=1)H[Q].ty==="gr"?Y.push(n(H[Q],U[Q],W)):H[Q].ty==="fl"?Y.push(r(H[Q],U[Q],W)):H[Q].ty==="st"?Y.push(S(H[Q],U[Q],W)):H[Q].ty==="tm"?Y.push(P(H[Q],U[Q],W)):H[Q].ty==="tr"||(H[Q].ty==="el"?Y.push(N(H[Q],U[Q],W)):H[Q].ty==="sr"?Y.push(F(H[Q],U[Q],W)):H[Q].ty==="sh"?Y.push(ShapePathInterface(H[Q],U[Q],W)):H[Q].ty==="rc"?Y.push(z(H[Q],U[Q],W)):H[Q].ty==="rd"?Y.push($(H[Q],U[Q],W)):H[Q].ty==="rp"?Y.push(G(H[Q],U[Q],W)):H[Q].ty==="gf"?Y.push(s(H[Q],U[Q],W)):Y.push(a(H[Q],U[Q])));return Y}function e(H,U,W){var Y,Q=function(nt){for(var rt=0,ht=Y.length;rt<ht;){if(Y[rt]._name===nt||Y[rt].mn===nt||Y[rt].propertyIndex===nt||Y[rt].ix===nt||Y[rt].ind===nt)return Y[rt];rt+=1}return typeof nt=="number"?Y[nt-1]:null};Q.propertyGroup=propertyGroupFactory(Q,W),Y=t(H.it,U.it,Q.propertyGroup),Q.numProperties=Y.length;var K=M(H.it[H.it.length-1],U.it[U.it.length-1],Q.propertyGroup);return Q.transform=K,Q.propertyIndex=H.cix,Q._name=H.nm,Q}function n(H,U,W){var Y=function(nt){switch(nt){case"ADBE Vectors Group":case"Contents":case 2:return Y.content;default:return Y.transform}};Y.propertyGroup=propertyGroupFactory(Y,W);var Q=e(H,U,Y.propertyGroup),K=M(H.it[H.it.length-1],U.it[U.it.length-1],Y.propertyGroup);return Y.content=Q,Y.transform=K,Object.defineProperty(Y,"_name",{get:function(){return H.nm}}),Y.numProperties=H.np,Y.propertyIndex=H.ix,Y.nm=H.nm,Y.mn=H.mn,Y}function r(H,U,W){function Y(Q){return Q==="Color"||Q==="color"?Y.color:Q==="Opacity"||Q==="opacity"?Y.opacity:null}return Object.defineProperties(Y,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},_name:{value:H.nm},mn:{value:H.mn}}),U.c.setGroupProperty(PropertyInterface("Color",W)),U.o.setGroupProperty(PropertyInterface("Opacity",W)),Y}function s(H,U,W){function Y(Q){return Q==="Start Point"||Q==="start point"?Y.startPoint:Q==="End Point"||Q==="end point"?Y.endPoint:Q==="Opacity"||Q==="opacity"?Y.opacity:null}return Object.defineProperties(Y,{startPoint:{get:ExpressionPropertyInterface(U.s)},endPoint:{get:ExpressionPropertyInterface(U.e)},opacity:{get:ExpressionPropertyInterface(U.o)},type:{get:function(){return"a"}},_name:{value:H.nm},mn:{value:H.mn}}),U.s.setGroupProperty(PropertyInterface("Start Point",W)),U.e.setGroupProperty(PropertyInterface("End Point",W)),U.o.setGroupProperty(PropertyInterface("Opacity",W)),Y}function a(){function H(){return null}return H}function S(H,U,W){var Y=propertyGroupFactory(ht,W),Q=propertyGroupFactory(rt,Y);function K(ct){Object.defineProperty(rt,H.d[ct].nm,{get:ExpressionPropertyInterface(U.d.dataProps[ct].p)})}var tt,nt=H.d?H.d.length:0,rt={};for(tt=0;tt<nt;tt+=1)K(tt),U.d.dataProps[tt].p.setGroupProperty(Q);function ht(ct){return ct==="Color"||ct==="color"?ht.color:ct==="Opacity"||ct==="opacity"?ht.opacity:ct==="Stroke Width"||ct==="stroke width"?ht.strokeWidth:null}return Object.defineProperties(ht,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},strokeWidth:{get:ExpressionPropertyInterface(U.w)},dash:{get:function(){return rt}},_name:{value:H.nm},mn:{value:H.mn}}),U.c.setGroupProperty(PropertyInterface("Color",Y)),U.o.setGroupProperty(PropertyInterface("Opacity",Y)),U.w.setGroupProperty(PropertyInterface("Stroke Width",Y)),ht}function P(H,U,W){function Y(K){return K===H.e.ix||K==="End"||K==="end"?Y.end:K===H.s.ix?Y.start:K===H.o.ix?Y.offset:null}var Q=propertyGroupFactory(Y,W);return Y.propertyIndex=H.ix,U.s.setGroupProperty(PropertyInterface("Start",Q)),U.e.setGroupProperty(PropertyInterface("End",Q)),U.o.setGroupProperty(PropertyInterface("Offset",Q)),Y.propertyIndex=H.ix,Y.propertyGroup=W,Object.defineProperties(Y,{start:{get:ExpressionPropertyInterface(U.s)},end:{get:ExpressionPropertyInterface(U.e)},offset:{get:ExpressionPropertyInterface(U.o)},_name:{value:H.nm}}),Y.mn=H.mn,Y}function M(H,U,W){function Y(K){return H.a.ix===K||K==="Anchor Point"?Y.anchorPoint:H.o.ix===K||K==="Opacity"?Y.opacity:H.p.ix===K||K==="Position"?Y.position:H.r.ix===K||K==="Rotation"||K==="ADBE Vector Rotation"?Y.rotation:H.s.ix===K||K==="Scale"?Y.scale:H.sk&&H.sk.ix===K||K==="Skew"?Y.skew:H.sa&&H.sa.ix===K||K==="Skew Axis"?Y.skewAxis:null}var Q=propertyGroupFactory(Y,W);return U.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Q)),U.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Q)),U.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Q)),U.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Q)),U.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Q)),U.transform.mProps.sk&&(U.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Q)),U.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Q))),U.transform.op.setGroupProperty(PropertyInterface("Opacity",Q)),Object.defineProperties(Y,{opacity:{get:ExpressionPropertyInterface(U.transform.mProps.o)},position:{get:ExpressionPropertyInterface(U.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(U.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(U.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(U.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(U.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(U.transform.mProps.sa)},_name:{value:H.nm}}),Y.ty="tr",Y.mn=H.mn,Y.propertyGroup=W,Y}function N(H,U,W){function Y(tt){return H.p.ix===tt?Y.position:H.s.ix===tt?Y.size:null}var Q=propertyGroupFactory(Y,W);Y.propertyIndex=H.ix;var K=U.sh.ty==="tm"?U.sh.prop:U.sh;return K.s.setGroupProperty(PropertyInterface("Size",Q)),K.p.setGroupProperty(PropertyInterface("Position",Q)),Object.defineProperties(Y,{size:{get:ExpressionPropertyInterface(K.s)},position:{get:ExpressionPropertyInterface(K.p)},_name:{value:H.nm}}),Y.mn=H.mn,Y}function F(H,U,W){function Y(tt){return H.p.ix===tt?Y.position:H.r.ix===tt?Y.rotation:H.pt.ix===tt?Y.points:H.or.ix===tt||tt==="ADBE Vector Star Outer Radius"?Y.outerRadius:H.os.ix===tt?Y.outerRoundness:H.ir&&(H.ir.ix===tt||tt==="ADBE Vector Star Inner Radius")?Y.innerRadius:H.is&&H.is.ix===tt?Y.innerRoundness:null}var Q=propertyGroupFactory(Y,W),K=U.sh.ty==="tm"?U.sh.prop:U.sh;return Y.propertyIndex=H.ix,K.or.setGroupProperty(PropertyInterface("Outer Radius",Q)),K.os.setGroupProperty(PropertyInterface("Outer Roundness",Q)),K.pt.setGroupProperty(PropertyInterface("Points",Q)),K.p.setGroupProperty(PropertyInterface("Position",Q)),K.r.setGroupProperty(PropertyInterface("Rotation",Q)),H.ir&&(K.ir.setGroupProperty(PropertyInterface("Inner Radius",Q)),K.is.setGroupProperty(PropertyInterface("Inner Roundness",Q))),Object.defineProperties(Y,{position:{get:ExpressionPropertyInterface(K.p)},rotation:{get:ExpressionPropertyInterface(K.r)},points:{get:ExpressionPropertyInterface(K.pt)},outerRadius:{get:ExpressionPropertyInterface(K.or)},outerRoundness:{get:ExpressionPropertyInterface(K.os)},innerRadius:{get:ExpressionPropertyInterface(K.ir)},innerRoundness:{get:ExpressionPropertyInterface(K.is)},_name:{value:H.nm}}),Y.mn=H.mn,Y}function z(H,U,W){function Y(tt){return H.p.ix===tt?Y.position:H.r.ix===tt?Y.roundness:H.s.ix===tt||tt==="Size"||tt==="ADBE Vector Rect Size"?Y.size:null}var Q=propertyGroupFactory(Y,W),K=U.sh.ty==="tm"?U.sh.prop:U.sh;return Y.propertyIndex=H.ix,K.p.setGroupProperty(PropertyInterface("Position",Q)),K.s.setGroupProperty(PropertyInterface("Size",Q)),K.r.setGroupProperty(PropertyInterface("Rotation",Q)),Object.defineProperties(Y,{position:{get:ExpressionPropertyInterface(K.p)},roundness:{get:ExpressionPropertyInterface(K.r)},size:{get:ExpressionPropertyInterface(K.s)},_name:{value:H.nm}}),Y.mn=H.mn,Y}function $(H,U,W){function Y(tt){return H.r.ix===tt||tt==="Round Corners 1"?Y.radius:null}var Q=propertyGroupFactory(Y,W),K=U;return Y.propertyIndex=H.ix,K.rd.setGroupProperty(PropertyInterface("Radius",Q)),Object.defineProperties(Y,{radius:{get:ExpressionPropertyInterface(K.rd)},_name:{value:H.nm}}),Y.mn=H.mn,Y}function G(H,U,W){function Y(tt){return H.c.ix===tt||tt==="Copies"?Y.copies:H.o.ix===tt||tt==="Offset"?Y.offset:null}var Q=propertyGroupFactory(Y,W),K=U;return Y.propertyIndex=H.ix,K.c.setGroupProperty(PropertyInterface("Copies",Q)),K.o.setGroupProperty(PropertyInterface("Offset",Q)),Object.defineProperties(Y,{copies:{get:ExpressionPropertyInterface(K.c)},offset:{get:ExpressionPropertyInterface(K.o)},_name:{value:H.nm}}),Y.mn=H.mn,Y}return function(H,U,W){var Y;function Q(tt){if(typeof tt=="number")return tt=tt===void 0?1:tt,tt===0?W:Y[tt-1];for(var nt=0,rt=Y.length;nt<rt;){if(Y[nt]._name===tt)return Y[nt];nt+=1}return null}function K(){return W}return Q.propertyGroup=propertyGroupFactory(Q,K),Y=t(H,U,Q.propertyGroup),Q.numProperties=Y.length,Q._name="Contents",Q}})(),TextExpressionInterface=(function(){return function(t){var e;function n(r){switch(r){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var s=t.textProperty.currentData.t;return(!e||s!==e.value)&&(e=new String(s),e.value=s||new String(s),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n}})();function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var FootageInterface=(function(){var t=function(r){var s="",a=r.getFootageData();function S(){return s="",a=r.getFootageData(),P}function P(M){if(a[M])return s=M,a=a[M],_typeof(a)==="object"?P:a;var N=M.indexOf(s);if(N!==-1){var F=parseInt(M.substr(N+s.length),10);return a=a[F],_typeof(a)==="object"?P:a}return""}return S},e=function(r){function s(a){return a==="Outline"?s.outlineInterface():null}return s._name="Outline",s.outlineInterface=t(r),s};return function(n){function r(s){return s==="Data"?r.dataInterface:null}return r._name="Data",r.dataInterface=e(n),r}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=(function(){function t(S,P,M){P.x&&(M.k=!0,M.x=!0,M.initiateExpression=ExpressionManager.initiateExpression,M.effectsSequence.push(M.initiateExpression(S,P,M).bind(M)))}function e(S){return S*=this.elem.globalData.frameRate,S-=this.offsetTime,S!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<S?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(S,this._cachingAtTime),this._cachingAtTime.lastFrame=S),this._cachingAtTime.value}function n(S){var P=-.01,M=this.getValueAtTime(S),N=this.getValueAtTime(S+P),F=0;if(M.length){var z;for(z=0;z<M.length;z+=1)F+=Math.pow(N[z]-M[z],2);F=Math.sqrt(F)*100}else F=0;return F}function r(S){if(this.vel!==void 0)return this.vel;var P=-.001,M=this.getValueAtTime(S),N=this.getValueAtTime(S+P),F;if(M.length){F=createTypedArray("float32",M.length);var z;for(z=0;z<M.length;z+=1)F[z]=(N[z]-M[z])/P}else F=(N-M)/P;return F}function s(){return this.pv}function a(S){this.propertyGroup=S}return{searchExpressions:t,getSpeedAtTime:n,getVelocityAtTime:r,getValueAtTime:e,getStaticValueAtTime:s,setGroupProperty:a}})();function addPropertyDecorator(){function t($,G,H){if(!this.k||!this.keyframes)return this.pv;$=$?$.toLowerCase():"";var U=this.comp.renderedFrame,W=this.keyframes,Y=W[W.length-1].t;if(U<=Y)return this.pv;var Q,K;H?(G?Q=Math.abs(Y-this.elem.comp.globalData.frameRate*G):Q=Math.max(0,Y-this.elem.data.ip),K=Y-Q):((!G||G>W.length-1)&&(G=W.length-1),K=W[W.length-1-G].t,Q=Y-K);var tt,nt,rt;if($==="pingpong"){var ht=Math.floor((U-K)/Q);if(ht%2!==0)return this.getValueAtTime((Q-(U-K)%Q+K)/this.comp.globalData.frameRate,0)}else if($==="offset"){var ct=this.getValueAtTime(K/this.comp.globalData.frameRate,0),mt=this.getValueAtTime(Y/this.comp.globalData.frameRate,0),wt=this.getValueAtTime(((U-K)%Q+K)/this.comp.globalData.frameRate,0),kt=Math.floor((U-K)/Q);if(this.pv.length){for(rt=new Array(ct.length),nt=rt.length,tt=0;tt<nt;tt+=1)rt[tt]=(mt[tt]-ct[tt])*kt+wt[tt];return rt}return(mt-ct)*kt+wt}else if($==="continue"){var _t=this.getValueAtTime(Y/this.comp.globalData.frameRate,0),Vt=this.getValueAtTime((Y-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(rt=new Array(_t.length),nt=rt.length,tt=0;tt<nt;tt+=1)rt[tt]=_t[tt]+(_t[tt]-Vt[tt])*((U-Y)/this.comp.globalData.frameRate)/5e-4;return rt}return _t+(_t-Vt)*((U-Y)/.001)}return this.getValueAtTime(((U-K)%Q+K)/this.comp.globalData.frameRate,0)}function e($,G,H){if(!this.k)return this.pv;$=$?$.toLowerCase():"";var U=this.comp.renderedFrame,W=this.keyframes,Y=W[0].t;if(U>=Y)return this.pv;var Q,K;H?(G?Q=Math.abs(this.elem.comp.globalData.frameRate*G):Q=Math.max(0,this.elem.data.op-Y),K=Y+Q):((!G||G>W.length-1)&&(G=W.length-1),K=W[G].t,Q=K-Y);var tt,nt,rt;if($==="pingpong"){var ht=Math.floor((Y-U)/Q);if(ht%2===0)return this.getValueAtTime(((Y-U)%Q+Y)/this.comp.globalData.frameRate,0)}else if($==="offset"){var ct=this.getValueAtTime(Y/this.comp.globalData.frameRate,0),mt=this.getValueAtTime(K/this.comp.globalData.frameRate,0),wt=this.getValueAtTime((Q-(Y-U)%Q+Y)/this.comp.globalData.frameRate,0),kt=Math.floor((Y-U)/Q)+1;if(this.pv.length){for(rt=new Array(ct.length),nt=rt.length,tt=0;tt<nt;tt+=1)rt[tt]=wt[tt]-(mt[tt]-ct[tt])*kt;return rt}return wt-(mt-ct)*kt}else if($==="continue"){var _t=this.getValueAtTime(Y/this.comp.globalData.frameRate,0),Vt=this.getValueAtTime((Y+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(rt=new Array(_t.length),nt=rt.length,tt=0;tt<nt;tt+=1)rt[tt]=_t[tt]+(_t[tt]-Vt[tt])*(Y-U)/.001;return rt}return _t+(_t-Vt)*(Y-U)/.001}return this.getValueAtTime((Q-((Y-U)%Q+Y))/this.comp.globalData.frameRate,0)}function n($,G){if(!this.k)return this.pv;if($=($||.4)*.5,G=Math.floor(G||5),G<=1)return this.pv;var H=this.comp.renderedFrame/this.comp.globalData.frameRate,U=H-$,W=H+$,Y=G>1?(W-U)/(G-1):1,Q=0,K=0,tt;this.pv.length?tt=createTypedArray("float32",this.pv.length):tt=0;for(var nt;Q<G;){if(nt=this.getValueAtTime(U+Q*Y),this.pv.length)for(K=0;K<this.pv.length;K+=1)tt[K]+=nt[K];else tt+=nt;Q+=1}if(this.pv.length)for(K=0;K<this.pv.length;K+=1)tt[K]/=G;else tt/=G;return tt}function r($){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var G=this._transformCachingAtTime.v;if(G.cloneFromProps(this.pre.props),this.appliedTransformations<1){var H=this.a.getValueAtTime($);G.translate(-H[0]*this.a.mult,-H[1]*this.a.mult,H[2]*this.a.mult)}if(this.appliedTransformations<2){var U=this.s.getValueAtTime($);G.scale(U[0]*this.s.mult,U[1]*this.s.mult,U[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var W=this.sk.getValueAtTime($),Y=this.sa.getValueAtTime($);G.skewFromAxis(-W*this.sk.mult,Y*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Q=this.r.getValueAtTime($);G.rotate(-Q*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var K=this.rz.getValueAtTime($),tt=this.ry.getValueAtTime($),nt=this.rx.getValueAtTime($),rt=this.or.getValueAtTime($);G.rotateZ(-K*this.rz.mult).rotateY(tt*this.ry.mult).rotateX(nt*this.rx.mult).rotateZ(-rt[2]*this.or.mult).rotateY(rt[1]*this.or.mult).rotateX(rt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ht=this.px.getValueAtTime($),ct=this.py.getValueAtTime($);if(this.data.p.z){var mt=this.pz.getValueAtTime($);G.translate(ht*this.px.mult,ct*this.py.mult,-mt*this.pz.mult)}else G.translate(ht*this.px.mult,ct*this.py.mult,0)}else{var wt=this.p.getValueAtTime($);G.translate(wt[0]*this.p.mult,wt[1]*this.p.mult,-wt[2]*this.p.mult)}return G}function s(){return this.v.clone(new Matrix)}var a=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function($,G,H){var U=a($,G,H);return U.dynamicProperties.length?U.getValueAtTime=r.bind(U):U.getValueAtTime=s.bind(U),U.setGroupProperty=expressionHelpers.setGroupProperty,U};var S=PropertyFactory.getProp;PropertyFactory.getProp=function($,G,H,U,W){var Y=S($,G,H,U,W);Y.kf?Y.getValueAtTime=expressionHelpers.getValueAtTime.bind(Y):Y.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Y),Y.setGroupProperty=expressionHelpers.setGroupProperty,Y.loopOut=t,Y.loopIn=e,Y.smooth=n,Y.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Y),Y.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Y),Y.numKeys=G.a===1?G.k.length:0,Y.propertyIndex=G.ix;var Q=0;return H!==0&&(Q=createTypedArray("float32",G.a===1?G.k[0].s.length:G.k.length)),Y._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Q},expressionHelpers.searchExpressions($,G,Y),Y.k&&W.addDynamicProperty(Y),Y};function P($){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),$*=this.elem.globalData.frameRate,$-=this.offsetTime,$!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<$?this._caching.lastIndex:0,this._cachingAtTime.lastTime=$,this.interpolateShape($,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var M=ShapePropertyFactory.getConstructorFunction(),N=ShapePropertyFactory.getKeyframedConstructorFunction();function F(){}F.prototype={vertices:function(G,H){this.k&&this.getValue();var U=this.v;H!==void 0&&(U=this.getValueAtTime(H,0));var W,Y=U._length,Q=U[G],K=U.v,tt=createSizedArray(Y);for(W=0;W<Y;W+=1)G==="i"||G==="o"?tt[W]=[Q[W][0]-K[W][0],Q[W][1]-K[W][1]]:tt[W]=[Q[W][0],Q[W][1]];return tt},points:function(G){return this.vertices("v",G)},inTangents:function(G){return this.vertices("i",G)},outTangents:function(G){return this.vertices("o",G)},isClosed:function(){return this.v.c},pointOnPath:function(G,H){var U=this.v;H!==void 0&&(U=this.getValueAtTime(H,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(U));for(var W=this._segmentsLength,Y=W.lengths,Q=W.totalLength*G,K=0,tt=Y.length,nt=0,rt;K<tt;){if(nt+Y[K].addedLength>Q){var ht=K,ct=U.c&&K===tt-1?0:K+1,mt=(Q-nt)/Y[K].addedLength;rt=bez.getPointInSegment(U.v[ht],U.v[ct],U.o[ht],U.i[ct],mt,Y[K]);break}else nt+=Y[K].addedLength;K+=1}return rt||(rt=U.c?[U.v[0][0],U.v[0][1]]:[U.v[U._length-1][0],U.v[U._length-1][1]]),rt},vectorOnPath:function(G,H,U){G==1?G=this.v.c:G==0&&(G=.999);var W=this.pointOnPath(G,H),Y=this.pointOnPath(G+.001,H),Q=Y[0]-W[0],K=Y[1]-W[1],tt=Math.sqrt(Math.pow(Q,2)+Math.pow(K,2));if(tt===0)return[0,0];var nt=U==="tangent"?[Q/tt,K/tt]:[-K/tt,Q/tt];return nt},tangentOnPath:function(G,H){return this.vectorOnPath(G,H,"tangent")},normalOnPath:function(G,H){return this.vectorOnPath(G,H,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([F],M),extendPrototype([F],N),N.prototype.getValueAtTime=P,N.prototype.initiateExpression=ExpressionManager.initiateExpression;var z=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function($,G,H,U,W){var Y=z($,G,H,U,W);return Y.propertyIndex=G.ix,Y.lock=!1,H===3?expressionHelpers.searchExpressions($,G.pt,Y):H===4&&expressionHelpers.searchExpressions($,G.ks,Y),Y.k&&$.addDynamicProperty(Y),Y}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,n){var r=this.calculateExpression(n);if(e.t!==r){var s={};return this.copyData(s,e),s.t=r.toString(),s.__complete=!1,s}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),n=this.searchExpressions();return this.kf=e||n,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(e,n){var r=createNS("feMerge");r.setAttribute("result",e);var s,a;for(a=0;a<n.length;a+=1)s=createNS("feMergeNode"),s.setAttribute("in",n[a]),r.appendChild(s),r.appendChild(s);return r}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,r,s){this.filterManager=e;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=a,a.setAttribute("result",r+"_tint_1"),t.appendChild(a),a=createNS("feColorMatrix"),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",r+"_tint_2"),t.appendChild(a),this.matrixFilter=a;var S=this.createMergeNode(r,[s,r+"_tint_1",r+"_tint_2"]);t.appendChild(S)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(t,e,n,r){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",r),t.appendChild(s),this.matrixFilter=s}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}};function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,n,r,s;for(this.filterManager.effectElements[1].p.v===1?(s=this.elem.maskManager.masksProperties.length,r=0):(r=this.filterManager.effectElements[0].p.v-1,s=r+1),n=createNS("g"),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-dashoffset",1),r;r<s;r+=1)e=createNS("path"),n.appendChild(e),this.paths.push({p:e,m:r});if(this.filterManager.effectElements[10].p.v===3){var a=createNS("mask"),S=createElementID();a.setAttribute("id",S),a.setAttribute("mask-type","alpha"),a.appendChild(n),this.elem.globalData.defs.appendChild(a);var P=createNS("g");for(P.setAttribute("mask","url("+getLocationHref()+"#"+S+")");t[0];)P.appendChild(t[0]);this.elem.layerElement.appendChild(P),this.masker=a,n.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(n),this.elem.layerElement.removeAttribute("mask"),n.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=n},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,n=this.paths.length,r,s;for(e=0;e<n;e+=1)if(this.paths[e].m!==-1&&(r=this.elem.maskManager.viewData[this.paths[e].m],s=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&s.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var a;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var S=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,P=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,M=s.getTotalLength();a="0 0 0 "+M*S+" ";var N=M*(P-S),F=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,z=Math.floor(N/F),$;for($=0;$<z;$+=1)a+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";a+="0 "+M*10+" 0 0"}else a="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var G=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(G[0]*255)+","+bmFloor(G[1]*255)+","+bmFloor(G[2]*255)+")")}};function SVGTritoneFilter(t,e,n,r){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(s);var a=createNS("feComponentTransfer");a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",r),this.matrixFilter=a;var S=createNS("feFuncR");S.setAttribute("type","table"),a.appendChild(S),this.feFuncR=S;var P=createNS("feFuncG");P.setAttribute("type","table"),a.appendChild(P),this.feFuncG=P;var M=createNS("feFuncB");M.setAttribute("type","table"),a.appendChild(M),this.feFuncB=M,t.appendChild(a)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,s=r[0]+" "+n[0]+" "+e[0],a=r[1]+" "+n[1]+" "+e[1],S=r[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",S)}};function SVGProLevelsFilter(t,e,n,r){this.filterManager=e;var s=this.filterManager.effectElements,a=createNS("feComponentTransfer");(s[10].p.k||s[10].p.v!==0||s[11].p.k||s[11].p.v!==1||s[12].p.k||s[12].p.v!==1||s[13].p.k||s[13].p.v!==0||s[14].p.k||s[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",a)),(s[17].p.k||s[17].p.v!==0||s[18].p.k||s[18].p.v!==1||s[19].p.k||s[19].p.v!==1||s[20].p.k||s[20].p.v!==0||s[21].p.k||s[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",a)),(s[24].p.k||s[24].p.v!==0||s[25].p.k||s[25].p.v!==1||s[26].p.k||s[26].p.v!==1||s[27].p.k||s[27].p.v!==0||s[28].p.k||s[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",a)),(s[31].p.k||s[31].p.v!==0||s[32].p.k||s[32].p.v!==1||s[33].p.k||s[33].p.v!==1||s[34].p.k||s[34].p.v!==0||s[35].p.k||s[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",a)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(a.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(a)),(s[3].p.k||s[3].p.v!==0||s[4].p.k||s[4].p.v!==1||s[5].p.k||s[5].p.v!==1||s[6].p.k||s[6].p.v!==0||s[7].p.k||s[7].p.v!==1)&&(a=createNS("feComponentTransfer"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",r),t.appendChild(a),this.feFuncRComposed=this.createFeFunc("feFuncR",a),this.feFuncGComposed=this.createFeFunc("feFuncG",a),this.feFuncBComposed=this.createFeFunc("feFuncB",a))}SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,r,s){for(var a=0,S=256,P,M=Math.min(t,e),N=Math.max(t,e),F=Array.call(null,{length:S}),z,$=0,G=s-r,H=e-t;a<=256;)P=a/256,P<=M?z=H<0?s:r:P>=N?z=H<0?r:s:z=r+G*Math.pow((P-t)/H,1/n),F[$]=z,$+=1,a+=256/(S-1);return F.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(t,e,n,r,s){var a=e.container.globalData.renderConfig.filterSize,S=e.data.fs||a;t.setAttribute("x",S.x||a.x),t.setAttribute("y",S.y||a.y),t.setAttribute("width",S.width||a.width),t.setAttribute("height",S.height||a.height),this.filterManager=e;var P=createNS("feGaussianBlur");P.setAttribute("in","SourceAlpha"),P.setAttribute("result",r+"_drop_shadow_1"),P.setAttribute("stdDeviation","0"),this.feGaussianBlur=P,t.appendChild(P);var M=createNS("feOffset");M.setAttribute("dx","25"),M.setAttribute("dy","0"),M.setAttribute("in",r+"_drop_shadow_1"),M.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=M,t.appendChild(M);var N=createNS("feFlood");N.setAttribute("flood-color","#00ff00"),N.setAttribute("flood-opacity","1"),N.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=N,t.appendChild(N);var F=createNS("feComposite");F.setAttribute("in",r+"_drop_shadow_3"),F.setAttribute("in2",r+"_drop_shadow_2"),F.setAttribute("operator","in"),F.setAttribute("result",r+"_drop_shadow_4"),t.appendChild(F);var z=this.createMergeNode(r,[r+"_drop_shadow_4",s]);t.appendChild(z)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=n*Math.cos(r),a=n*Math.sin(r);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",a)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var r=n.children,s=0,a=r.length;s<a&&r[s]!==t.layerElement;)s+=1;var S;s<=a-2&&(S=r[s+1]);var P=createNS("use");P.setAttribute("href","#"+e),S?n.insertBefore(P,S):n.appendChild(P)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var s=t.globalData.defs;s.appendChild(r);var a=createNS("symbol");a.setAttribute("id",n),this.replaceInParent(e,n),a.appendChild(e.layerElement),s.appendChild(a);var S=createNS("use");S.setAttribute("href","#"+n),r.appendChild(S),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,r=e.length;n<r;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,e,n,r){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var s=createNS("feGaussianBlur");s.setAttribute("result",r),t.appendChild(s),this.feGaussianBlur=s}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,n=this.filterManager.effectElements[0].p.v*e,r=this.filterManager.effectElements[1].p.v,s=r==3?0:n,a=r==2?0:n;this.feGaussianBlur.setAttribute("stdDeviation",s+" "+a);var S=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",S)}};function TransformEffect(){}TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,r=e[1].p.v,s=e[2].p.v===1,a=e[3].p.v,S=s?a:e[4].p.v,P=e[5].p.v,M=e[6].p.v,N=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(S*.01,a*.01,1),this.matrix.rotate(-N*degToRads),this.matrix.skewFromAxis(-P*degToRads,(M+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(t,e){this.init(e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(t){this.init(t)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _defineProperty$1(t,e,n){return(e=_toPropertyKey$1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _iterableToArrayLimit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,S,P=[],M=!0,N=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(M=(r=a.call(n)).done)&&(P.push(r.value),P.length!==e);M=!0);}catch(F){N=!0,s=F}finally{try{if(!M&&n.return!=null&&(S=n.return(),Object(S)!==S))return}finally{if(N)throw s}}return P}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(r){_defineProperty$1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _objectWithoutProperties$1(t,e){if(t==null)return{};var n,r,s=_objectWithoutPropertiesLoose$1(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function _objectWithoutPropertiesLoose$1(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _toPrimitive$1(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return typeof e=="symbol"?e:e+""}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function t(e,n){var r=e.animationData,s=e.loop,a=e.autoplay,S=e.initialSegment,P=e.onComplete,M=e.onLoopComplete,N=e.onEnterFrame,F=e.onSegmentStart,z=e.onConfigReady,$=e.onDataReady,G=e.onDataFailed,H=e.onLoadedImages,U=e.onDOMLoaded,W=e.onDestroy;e.lottieRef,e.renderer,e.name,e.assetsPath,e.rendererSettings;var Y=_objectWithoutProperties$1(e,_excluded$1),Q=reactExports.useState(!1),K=_slicedToArray(Q,2),tt=K[0],nt=K[1],rt=reactExports.useRef(),ht=reactExports.useRef(null),ct=function(){var Pt;(Pt=rt.current)===null||Pt===void 0||Pt.play()},mt=function(){var Pt;(Pt=rt.current)===null||Pt===void 0||Pt.stop()},wt=function(){var Pt;(Pt=rt.current)===null||Pt===void 0||Pt.pause()},kt=function(Pt){var Dt;(Dt=rt.current)===null||Dt===void 0||Dt.setSpeed(Pt)},_t=function(Pt,Dt){var Tt;(Tt=rt.current)===null||Tt===void 0||Tt.goToAndPlay(Pt,Dt)},Vt=function(Pt,Dt){var Tt;(Tt=rt.current)===null||Tt===void 0||Tt.goToAndStop(Pt,Dt)},jt=function(Pt){var Dt;(Dt=rt.current)===null||Dt===void 0||Dt.setDirection(Pt)},At=function(Pt,Dt){var Tt;(Tt=rt.current)===null||Tt===void 0||Tt.playSegments(Pt,Dt)},lt=function(Pt){var Dt;(Dt=rt.current)===null||Dt===void 0||Dt.setSubframe(Pt)},yt=function(Pt){var Dt;return(Dt=rt.current)===null||Dt===void 0?void 0:Dt.getDuration(Pt)},st=function(){var Pt;(Pt=rt.current)===null||Pt===void 0||Pt.destroy(),rt.current=void 0},pt=function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Dt;if(ht.current){(Dt=rt.current)===null||Dt===void 0||Dt.destroy();var Tt=_objectSpread2(_objectSpread2(_objectSpread2({},e),Pt),{},{container:ht.current});return rt.current=lottie.loadAnimation(Tt),nt(!!rt.current),function(){var Ht;(Ht=rt.current)===null||Ht===void 0||Ht.destroy(),rt.current=void 0}}};reactExports.useEffect(function(){var xt=pt();return function(){return xt?.()}},[r,s]),reactExports.useEffect(function(){rt.current&&(rt.current.autoplay=!!a)},[a]),reactExports.useEffect(function(){if(rt.current){if(!S){rt.current.resetSegments(!0);return}!Array.isArray(S)||!S.length||((rt.current.currentRawFrame<S[0]||rt.current.currentRawFrame>S[1])&&(rt.current.currentRawFrame=S[0]),rt.current.setSegment(S[0],S[1]))}},[S]),reactExports.useEffect(function(){var xt=[{name:"complete",handler:P},{name:"loopComplete",handler:M},{name:"enterFrame",handler:N},{name:"segmentStart",handler:F},{name:"config_ready",handler:z},{name:"data_ready",handler:$},{name:"data_failed",handler:G},{name:"loaded_images",handler:H},{name:"DOMLoaded",handler:U},{name:"destroy",handler:W}],Pt=xt.filter(function(Tt){return Tt.handler!=null});if(Pt.length){var Dt=Pt.map(function(Tt){var Ht;return(Ht=rt.current)===null||Ht===void 0||Ht.addEventListener(Tt.name,Tt.handler),function(){var Ut;(Ut=rt.current)===null||Ut===void 0||Ut.removeEventListener(Tt.name,Tt.handler)}});return function(){Dt.forEach(function(Tt){return Tt()})}}},[P,M,N,F,z,$,G,H,U,W]);var dt=React.createElement("div",_objectSpread2({style:n,ref:ht},Y));return{View:dt,play:ct,stop:mt,pause:wt,setSpeed:kt,goToAndStop:Vt,goToAndPlay:_t,setDirection:jt,playSegments:At,setSubframe:lt,getDuration:yt,destroy:st,animationContainerRef:ht,animationLoaded:tt,animationItem:rt.current}};function getContainerVisibility(t){var e=t.getBoundingClientRect(),n=e.top,r=e.height,s=window.innerHeight-n,a=window.innerHeight+r;return s/a}function getContainerCursorPosition(t,e,n){var r=t.getBoundingClientRect(),s=r.top,a=r.left,S=r.width,P=r.height,M=(e-a)/S,N=(n-s)/P;return{x:M,y:N}}var useInitInteractivity=function t(e){var n=e.wrapperRef,r=e.animationItem,s=e.mode,a=e.actions;reactExports.useEffect(function(){var S=n.current;if(!(!S||!r||!a.length)){r.stop();var P=function(){var F=null,z=function(){var G=getContainerVisibility(S),H=a.find(function(W){var Y=W.visibility;return Y&&G>=Y[0]&&G<=Y[1]});if(H){if(H.type==="seek"&&H.visibility&&H.frames.length===2){var U=H.frames[0]+Math.ceil((G-H.visibility[0])/(H.visibility[1]-H.visibility[0])*H.frames[1]);//! goToAndStop must be relative to the start of the current segment
r.goToAndStop(U-r.firstFrame-1,!0)}H.type==="loop"&&(F===null||F!==H.frames||r.isPaused)&&(r.playSegments(H.frames,!0),F=H.frames),H.type==="play"&&r.isPaused&&(r.resetSegments(!0),r.play()),H.type==="stop"&&r.goToAndStop(H.frames[0]-r.firstFrame-1,!0)}};return document.addEventListener("scroll",z),function(){document.removeEventListener("scroll",z)}},M=function(){var F=function(H,U){var W=H,Y=U;if(W!==-1&&Y!==-1){var Q=getContainerCursorPosition(S,W,Y);W=Q.x,Y=Q.y}var K=a.find(function(rt){var ht=rt.position;return ht&&Array.isArray(ht.x)&&Array.isArray(ht.y)?W>=ht.x[0]&&W<=ht.x[1]&&Y>=ht.y[0]&&Y<=ht.y[1]:ht&&!Number.isNaN(ht.x)&&!Number.isNaN(ht.y)?W===ht.x&&Y===ht.y:!1});if(K){if(K.type==="seek"&&K.position&&Array.isArray(K.position.x)&&Array.isArray(K.position.y)&&K.frames.length===2){var tt=(W-K.position.x[0])/(K.position.x[1]-K.position.x[0]),nt=(Y-K.position.y[0])/(K.position.y[1]-K.position.y[0]);r.playSegments(K.frames,!0),r.goToAndStop(Math.ceil((tt+nt)/2*(K.frames[1]-K.frames[0])),!0)}K.type==="loop"&&r.playSegments(K.frames,!0),K.type==="play"&&(r.isPaused&&r.resetSegments(!1),r.playSegments(K.frames)),K.type==="stop"&&r.goToAndStop(K.frames[0],!0)}},z=function(H){F(H.clientX,H.clientY)},$=function(){F(-1,-1)};return S.addEventListener("mousemove",z),S.addEventListener("mouseout",$),function(){S.removeEventListener("mousemove",z),S.removeEventListener("mouseout",$)}};switch(s){case"scroll":return P();case"cursor":return M()}}},[s,r])},useLottieInteractivity=function t(e){var n=e.actions,r=e.mode,s=e.lottieObj,a=s.animationItem,S=s.View,P=s.animationContainerRef;return useInitInteractivity({actions:n,animationItem:a,mode:r,wrapperRef:P}),S},_excluded$2=["style","interactivity"],Lottie=function t(e){var n,r,s,a=e.style,S=e.interactivity,P=_objectWithoutProperties$1(e,_excluded$2),M=useLottie(P,a),N=M.View,F=M.play,z=M.stop,$=M.pause,G=M.setSpeed,H=M.goToAndStop,U=M.goToAndPlay,W=M.setDirection,Y=M.playSegments,Q=M.setSubframe,K=M.getDuration,tt=M.destroy,nt=M.animationContainerRef,rt=M.animationLoaded,ht=M.animationItem;return reactExports.useEffect(function(){e.lottieRef&&(e.lottieRef.current={play:F,stop:z,pause:$,setSpeed:G,goToAndPlay:U,goToAndStop:H,setDirection:W,playSegments:Y,setSubframe:Q,getDuration:K,destroy:tt,animationContainerRef:nt,animationLoaded:rt,animationItem:ht})},[(n=e.lottieRef)===null||n===void 0?void 0:n.current]),useLottieInteractivity({lottieObj:{View:N,play:F,stop:z,pause:$,setSpeed:G,goToAndStop:H,goToAndPlay:U,setDirection:W,playSegments:Y,setSubframe:Q,getDuration:K,destroy:tt,animationContainerRef:nt,animationLoaded:rt,animationItem:ht},actions:(r=S?.actions)!==null&&r!==void 0?r:[],mode:(s=S?.mode)!==null&&s!==void 0?s:"scroll"})};const LoginPage=()=>{const{setLogin:t,setUser:e,setToken:n,base_url:r}=useAppState(),s=useNavigate(),[a,S]=reactExports.useState(!1),[P,M]=reactExports.useState(!1),[N,F]=reactExports.useState(!1),[z,$]=reactExports.useState(""),[G,H]=reactExports.useState({name:"",password:""}),U=K=>{const{name:tt,value:nt}=K.target;H(rt=>({...rt,[tt]:nt}))},W=(K,tt)=>{K&&tt&&M(!0)},Y=useMutation({mutationFn:UserLogin,onSuccess:async K=>{if(K.user.role!=="admin"){alert("Access denied. Only admins can log in.");return}await n(K.token),t(!0),e(K.user),M(!1),s("/dashboard"),console.log(K)},onError:K=>{M(!1);const tt=K.response?.data?.errors;if(F(!0),tt){const nt=Object.keys(tt)[0],rt=tt[nt][0];$(rt)}else $("Login failed. Please try again.")}}),Q=K=>{console.log(G.name),console.log(G.password),F(!1),K.preventDefault(),Y.mutate({base_url:r,loginForm:G})};return jsxRuntimeExports.jsxs(motion.div,{className:"md:min-h-screen bg-[#FBFBFB] dark:bg-gray-800 relative overflow-hidden",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,ease:"easeOut",delay:.7},children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0 w-full h-full hidden md:flex",style:{background:"linear-gradient(146deg, rgba(222, 238, 184, 0.00) 36.62%, #A9C46C 95.26%)"}})}),jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:20,delay:.7},children:jsxRuntimeExports.jsx("div",{className:"absolute md:w-[798px] md:h-[798px]  w-[600px] h-[600px] rounded-full -left-[347px] -top-[337px] hidden md:flex",style:{background:"linear-gradient(140deg, #5D8736 39.17%, #A9C46C 73.03%)"}})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,ease:"easeOut",delay:.7},children:jsxRuntimeExports.jsx("img",{src:Tanod,alt:"Barangay officials working",className:"absolute sm:w-full sm:h-full object-cover opacity-10 "})}),jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:20,delay:.8},children:jsxRuntimeExports.jsx("div",{className:"absolute w-[410px] h-[410px] rounded-full left-[2px] top-[550px] hidden lg:flex",style:{background:"linear-gradient(140deg, #5D8736 39.17%, #A9C46C 73.03%)"}})}),jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:20,delay:.9},children:jsxRuntimeExports.jsx("div",{className:"absolute w-[328px] h-[328px] rounded-full right-[-25px] top-[-100px] hidden lg:flex",style:{background:"linear-gradient(140deg, #5D8736 39.17%, #A9C46C 73.03%)"}})}),jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"relative z-10 flex md:min-h-screen w-full h-full items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center bg-white dark:bg-gray-900 p-4 rounded-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-center sm:px-8 sm:pb-20",children:[jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md mx-auto",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.9},children:[jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.9},className:"lg:hidden",children:jsxRuntimeExports.jsx(motion.img,{layout:!0,src:Barangay,alt:"Barangay Igpit Logo",className:"w-24 h-auto  mx-auto"})}),jsxRuntimeExports.jsx(motion.h1,{layout:!0,className:"text-[36px] font-bold text-center text-[#5D8736] mb-4 mt-2 font-poppins",children:"Magandang Araw"})]}),jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.95},children:jsxRuntimeExports.jsx(motion.p,{layout:!0,className:"text-[20px] font-light text-center text-[#5B5B5B] dark:text-white mb-2 font-poppins leading-normal",children:"Pakilagay ang iyong mga detalye sa pag-login upang makapasok."})}),N&&jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{y:-.5,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.1},className:"bg-red-800 p-2 rounded-sm mb-2 flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Lottie,{className:"h-6 w-6",animationData:Wrong,loop:!1}),jsxRuntimeExports.jsx(motion.p,{layout:!0,className:"text-white text-xs",children:z})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.97},children:[jsxRuntimeExports.jsx("label",{className:"ml-2 block text-[16px] text-[#5B5B5B] dark:text-gray-400 mb-2 font-poppins",children:"Username"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{name:"name",type:"text",value:G.name,onChange:U,onKeyDown:K=>{K.key==="Enter"&&(Q(K),M(!0))},className:"w-full p-4 pl-12 text-xl  border border-[#B4B4B4] rounded-[22px] bg-white dark:text-white  dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#A9C46C] focus:border-transparent font-poppins",required:!0}),jsxRuntimeExports.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-6 h-6 fill-[#A9C46C]",viewBox:"0 0 24 25",fill:"none",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10C13.364 10 14.6721 9.47322 15.6365 8.53553C16.601 7.59785 17.1429 6.32608 17.1429 5C17.1429 3.67392 16.601 2.40215 15.6365 1.46447C14.6721 0.526784 13.364 0 12 0C10.636 0 9.32792 0.526784 8.36345 1.46447C7.39898 2.40215 6.85714 3.67392 6.85714 5C6.85714 6.32608 7.39898 7.59785 8.36345 8.53553C9.32792 9.47322 10.636 10 12 10ZM0 25C-2.34822e-08 23.4679 0.310389 21.9508 0.913446 20.5354C1.5165 19.1199 2.40042 17.8338 3.51472 16.7504C4.62902 15.6671 5.95189 14.8077 7.4078 14.2214C8.86371 13.6351 10.4241 13.3333 12 13.3333C13.5759 13.3333 15.1363 13.6351 16.5922 14.2214C18.0481 14.8077 19.371 15.6671 20.4853 16.7504C21.5996 17.8338 22.4835 19.1199 23.0866 20.5354C23.6896 21.9508 24 23.4679 24 25H0Z",fill:"#A9C46C"})})]})]})}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:1},children:[jsxRuntimeExports.jsx("label",{className:"ml-2 block text-[16px] text-[#5B5B5B] dark:text-gray-400  mb-2 font-poppins",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{name:"password",type:a?"text":"password",value:G.password,onChange:U,onKeyDown:K=>{K.key==="Enter"&&(Q(K),M(!0))},className:"w-full p-4 pl-12 border text-xl border-[#B4B4B4] rounded-[22px] bg-white dark:text-white  dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#A9C46C] focus:border-transparent font-poppins",required:!0}),jsxRuntimeExports.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-6 h-7 fill-[#A9C46C]",viewBox:"0 0 25 28",fill:"none",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.57143 12.25V8.75C3.57143 6.42936 4.51211 4.20376 6.18655 2.56282C7.86098 0.921872 10.132 0 12.5 0C14.868 0 17.139 0.921872 18.8135 2.56282C20.4879 4.20376 21.4286 6.42936 21.4286 8.75V12.25C22.3758 12.25 23.2842 12.6187 23.954 13.2751C24.6237 13.9315 25 14.8217 25 15.75V24.5C25 25.4283 24.6237 26.3185 23.954 26.9749C23.2842 27.6313 22.3758 28 21.4286 28H3.57143C2.62423 28 1.71582 27.6313 1.04605 26.9749C0.376274 26.3185 0 25.4283 0 24.5V15.75C0 14.8217 0.376274 13.9315 1.04605 13.2751C1.71582 12.6187 2.62423 12.25 3.57143 12.25ZM17.8571 8.75V12.25H7.14286V8.75C7.14286 7.35761 7.70727 6.02226 8.71193 5.03769C9.71659 4.05312 11.0792 3.5 12.5 3.5C13.9208 3.5 15.2834 4.05312 16.2881 5.03769C17.2927 6.02226 17.8571 7.35761 17.8571 8.75Z",fill:"#A9C46C"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>S(!a),className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:a?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"#A9C46C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3"}),jsxRuntimeExports.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"#A9C46C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:1.1},children:jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsxs("button",{type:"button",className:"text-[14px] font-poppins",children:[jsxRuntimeExports.jsxs("span",{className:"text-[#5B5B5B] dark:text-white",children:["Nalimutan ang Password?"," "]}),jsxRuntimeExports.jsx("span",{className:"text-[#5D8736] hover:underline",children:"Click Here"})]})})}),jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:1.1},children:jsxRuntimeExports.jsx("button",{type:"submit",onClick:()=>W(G.name,G.password),className:"w-full p-4 rounded-[22px] text-white text-xl font-light font-poppins shadow-lg hover:opacity-90 transition-opacity",style:{background:"linear-gradient(173deg, #A9C46C 11.66%, #5D8736 128.43%)",boxShadow:"0 4px 4px 0 rgba(0, 0, 0, 0.25)"},children:jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[P?jsxRuntimeExports.jsxs("svg",{"aria-hidden":"true",className:"w-6 h-6 text-gray-200 animate-spin fill-green-500",viewBox:"0 0 100 101",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:`M100 50.5908C100 78.2051 77.6142 100.591 50 
                                100.591C22.3858 100.591 0 78.2051 0 
                                50.5908C0 22.9766 22.3858 0.59082 50 
                                0.59082C77.6142 0.59082 100 22.9766 
                                100 50.5908ZM9.08144 50.5908C9.08144 
                                73.1895 27.4013 91.5094 50 91.5094C72.5987 
                                91.5094 90.9186 73.1895 90.9186 
                                50.5908C90.9186 27.9921 72.5987 9.67226 50 
                                9.67226C27.4013 9.67226 9.08144 27.9921 
                                9.08144 50.5908Z`,fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:`M93.9676 39.0409C96.393 
                                38.4038 97.8624 35.9116 97.0079 
                                33.5539C95.2932 28.8227 92.871 
                                24.3692 89.8167 20.348C85.8452 
                                15.1192 80.8826 10.7238 75.2124 
                                7.41289C69.5422 4.10194 63.2754 
                                1.94025 56.7698 1.05124C51.7666 
                                0.367541 46.6976 0.446843 41.7345 
                                1.27873C39.2613 1.69328 37.813 
                                4.19778 38.4501 6.62326C39.0873 
                                9.04874 41.5694 10.4717 44.0505 
                                10.1071C47.8511 9.54855 51.7191 
                                9.52689 55.5402 10.0491C60.8642 
                                10.7766 65.9928 12.5457 70.6331 
                                15.2552C75.2735 17.9648 79.3347 
                                21.5619 82.5849 25.841C84.9175 
                                28.9121 86.7997 32.2913 88.1811 
                                35.8758C89.083 38.2158 91.5421 
                                39.6781 93.9676 39.0409Z`,fill:"currentFill"})]}):null,jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:P?"Loading...":"Login"})]})})})]})]}),jsxRuntimeExports.jsx(motion.div,{className:"relative",initial:{opacity:0},animate:{opacity:1},transition:{stiffness:200,damping:20,delay:1.2},children:jsxRuntimeExports.jsxs("div",{className:"absolute sm:top-16 sm:left-34 hidden md:flex items-center justify-center",children:[jsxRuntimeExports.jsx("img",{src:OCC,alt:"OCC Logo",className:"w-6 h-6 rounded-xl mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-[12px] dark:text-white text-black/50 font-poppins",children:"| OCC IT Students 2025"})]})})]}),jsxRuntimeExports.jsx("div",{className:"hidden lg:flex flex-1 relative items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"relative w-full h-full",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{stiffness:200,damping:20,delay:1.2},className:"relative overflow-hidden rounded-[54px]",children:[jsxRuntimeExports.jsx("img",{src:Tanod,alt:"Barangay officials working",className:"w-full h-[600px] object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-[54px]",style:{background:"rgba(169, 196, 108, 0.30)"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-75 right-36 z-10",children:jsxRuntimeExports.jsx("img",{src:Barangay,alt:"Barangay Igpit Logo",className:"w-32 h-auto"})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-65 left-1/2 transform -translate-x-1/2 z-10",children:jsxRuntimeExports.jsxs("h2",{className:"text-white text-center text-xl font-semibold font-poppins leading-tight",children:["Barangay Igpit Incident",jsxRuntimeExports.jsx("br",{}),"Management System"]})})]})})})]})})]})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(r){_defineProperty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty(t,e,n){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tree2Element(t){return t&&t.map((e,n)=>React.createElement(e.tag,_objectSpread({key:n},e.attr),Tree2Element(e.child)))}function GenIcon(t){return e=>React.createElement(IconBase,_extends({attr:_objectSpread({},t.attr)},e),Tree2Element(t.child))}function IconBase(t){var e=n=>{var{attr:r,size:s,title:a}=t,S=_objectWithoutProperties(t,_excluded),P=s||n.size||"1em",M;return n.className&&(M=n.className),t.className&&(M=(M?M+" ":"")+t.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,S,{className:M,style:_objectSpread(_objectSpread({color:t.color||n.color},n.style),t.style),height:P,width:P,xmlns:"http://www.w3.org/2000/svg"}),a&&React.createElement("title",null,a),t.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,n=>e(n)):e(DefaultContext)}function FaCalendarAlt(t){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function FaDotCircle(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm80 248c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80z"},child:[]}]})(t)}function FaMoon(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function FaSearch(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function FaRegArrowAltCircleUp(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504c137 0 248-111 248-248S393 8 256 8 8 119 8 256s111 248 248 248zm0-448c110.5 0 200 89.5 200 200s-89.5 200-200 200S56 366.5 56 256 145.5 56 256 56zm20 328h-40c-6.6 0-12-5.4-12-12V256h-67c-10.7 0-16-12.9-8.5-20.5l99-99c4.7-4.7 12.3-4.7 17 0l99 99c7.6 7.6 2.2 20.5-8.5 20.5h-67v116c0 6.6-5.4 12-12 12z"},child:[]}]})(t)}function IoAddCircleOutline(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"},child:[]}]})(t)}function IoAlertSharp(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"32",d:"m240 80 8 240h16l8-240h-32zm0 320h32v32h-32z"},child:[]}]})(t)}function IoAnalytics(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456 128a40 40 0 0 0-37.23 54.6l-84.17 84.17a39.86 39.86 0 0 0-29.2 0l-60.17-60.17a40 40 0 1 0-74.46 0L70.6 306.77a40 40 0 1 0 22.63 22.63L193.4 229.23a39.86 39.86 0 0 0 29.2 0l60.17 60.17a40 40 0 1 0 74.46 0l84.17-84.17A40 40 0 1 0 456 128z"},child:[]}]})(t)}function IoApps(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 160a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56zm152 0a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56zm152 0a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56zM104 312a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56zm152 0a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56zm152 0a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56zM104 464a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56zm152 0a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56zm152 0a56 56 0 1 1 56-56 56.06 56.06 0 0 1-56 56z"},child:[]}]})(t)}function IoCall(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391 480c-19.52 0-46.94-7.06-88-30-49.93-28-88.55-53.85-138.21-103.38C116.91 298.77 93.61 267.79 61 208.45c-36.84-67-30.56-102.12-23.54-117.13C45.82 73.38 58.16 62.65 74.11 52a176.3 176.3 0 0 1 28.64-15.2c1-.43 1.93-.84 2.76-1.21 4.95-2.23 12.45-5.6 21.95-2 6.34 2.38 12 7.25 20.86 16 18.17 17.92 43 57.83 52.16 77.43 6.15 13.21 10.22 21.93 10.23 31.71 0 11.45-5.76 20.28-12.75 29.81-1.31 1.79-2.61 3.5-3.87 5.16-7.61 10-9.28 12.89-8.18 18.05 2.23 10.37 18.86 41.24 46.19 68.51s57.31 42.85 67.72 45.07c5.38 1.15 8.33-.59 18.65-8.47 1.48-1.13 3-2.3 4.59-3.47 10.66-7.93 19.08-13.54 30.26-13.54h.06c9.73 0 18.06 4.22 31.86 11.18 18 9.08 59.11 33.59 77.14 51.78 8.77 8.84 13.66 14.48 16.05 20.81 3.6 9.53.21 17-2 22-.37.83-.78 1.74-1.21 2.75a176.49 176.49 0 0 1-15.29 28.58c-10.63 15.9-21.4 28.21-39.38 36.58A67.42 67.42 0 0 1 391 480z"},child:[]}]})(t)}function IoFileTrayStacked(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 352H320a16 16 0 0 0-16 16 48 48 0 0 1-96 0 16 16 0 0 0-16-16H48a16 16 0 0 0-16 16v64a64.07 64.07 0 0 0 64 64h320a64.07 64.07 0 0 0 64-64v-64a16 16 0 0 0-16-16zm15.46-164.12L447.61 68.45C441.27 35.59 417.54 16 384 16H128c-16.8 0-31 4.69-42.1 13.94S67.66 52 64.4 68.4L32.54 187.88A15.9 15.9 0 0 0 32 192v48c0 35.29 28.71 80 64 80h320c35.29 0 64-44.71 64-80v-48a15.9 15.9 0 0 0-.54-4.12zM440.57 176H320a15.92 15.92 0 0 0-16 15.82 48 48 0 1 1-96 0A15.92 15.92 0 0 0 192 176H71.43a2 2 0 0 1-1.93-2.52L95.71 75c3.55-18.41 13.81-27 32.29-27h256c18.59 0 28.84 8.53 32.25 26.85l26.25 98.63a2 2 0 0 1-1.93 2.52z"},child:[]}]})(t)}function IoFolderOpenSharp(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m16.08 189.4 28.58 233.87A28 28 0 0 0 72.52 448h367a28 28 0 0 0 27.86-24.73l28.54-233.87A12 12 0 0 0 484 176H28a12 12 0 0 0-11.92 13.4zM464 124a28 28 0 0 0-28-28H244.84l-48-32H76a28 28 0 0 0-28 28v52h416z"},child:[]}]})(t)}function IoLocationSharp(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C167.67 32 96 96.51 96 176c0 128 160 304 160 304s160-176 160-304c0-79.49-71.67-144-160-144zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(t)}function IoMegaphoneSharp(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 144v332a4 4 0 0 0 4 4h100.07a8 8 0 0 0 7.82-9.7L208.71 352H232a8 8 0 0 0 8-8V144zm324.18 42.55L448 185.5V36a4 4 0 0 0-4-4h-42.5a4 4 0 0 0-2.63 1L272 144v160l126.87 111a4 4 0 0 0 2.63 1H444a4 4 0 0 0 4-4V262.5l4.18-1.05C461.8 258.84 480 247.67 480 224s-18.2-34.84-27.82-37.45zM96 144H52a4 4 0 0 0-4 4v35.59a43 43 0 0 0-4.24 4.35C38.4 194.32 32 205.74 32 224c0 20.19 7.89 33.13 16 40.42V300a4 4 0 0 0 4 4h44z"},child:[]}]})(t)}function IoPeopleCircleSharp(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm69.3 96.17a72.5 72.5 0 1 1-72.6 72.5 72.55 72.55 0 0 1 72.6-72.5zm-155.1 26.36a59.32 59.32 0 1 1-59.4 59.32 59.35 59.35 0 0 1 59.4-59.32zm-75.85 155c24.5-13.29 55.87-19.94 75.85-19.94 15 0 34.32 3 53.33 10.2a133.05 133.05 0 0 0-34 27.11c-13.19 15-20.76 32.92-20.76 50.83v15a177.06 177.06 0 0 1-74.42-83.15zM256 432a175.12 175.12 0 0 1-59.4-10.33v-27.05c0-52.59 85.75-79.09 128.7-79.09 23 0 58.38 7.63 86.21 22.81A176.14 176.14 0 0 1 256 432z"},child:[]}]})(t)}function IoPersonCircleOutline(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 0 1-6.14-.32 124.27 124.27 0 0 0-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 0 0-32.35 29.58 4 4 0 0 1-6.14.32A175.32 175.32 0 0 1 80 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 0 1-46.68 119.25z"},child:[]},{tag:"path",attr:{d:"M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z"},child:[]}]})(t)}function IoTimeSharp(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256c0 114.69 93.32 208 208 208 114.86 0 208-93.14 208-208 0-114.69-93.31-208-208-208zm108 240H244a4 4 0 0 1-4-4V116a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v140h92a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4z"},child:[]}]})(t)}function IoWarningSharp(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M479 447.77 268.43 56.64a8 8 0 0 0-14.09 0L43.73 447.77a8 8 0 0 0 7.05 11.79H472a8 8 0 0 0 7-11.79zm-197.62-36.29h-40v-40h40zm-4-63.92h-32l-6-160h44z"},child:[]}]})(t)}function MdReport(t){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"},child:[]}]})(t)}function MdPeopleAlt(t){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87z"},child:[]},{tag:"circle",attr:{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24a5.98 5.98 0 0 1 0 7.52c.42.14.86.24 1.33.24zM9 13c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}const zoneReportDetails=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}total-reports-by-zone`,{headers:{Authorization:`Bearer ${e}`}})).data.total}catch(n){throw console.log(n),n}},zoneAverageResponseTimeById=async({base_url:t,token:e,zoneId:n})=>{try{return(await axios$1.get(`${t}average-response-time-by-zone/${n}`,{headers:{Authorization:`Bearer ${e}`}})).data.averageResponseTime}catch(r){console.log(r)}},currentPreviousChanges=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}months-current-previous`,{headers:{Authorization:`Bearer ${e}`}})).data.months}catch(n){console.log(n)}},responseTimeCurPrev=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}average-response-time`,{headers:{Authorization:`Bearer ${e}`}})).data.response_time}catch(n){console.log(n)}},registeredUsers=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}registered-users`,{headers:{Authorization:`Bearer ${e}`}})).data.registered_users}catch(n){console.log(n)}},violatorsViolationTotal=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}violators-violations`,{headers:{Authorization:`Bearer ${e}`}})).data.violations}catch(n){console.log(n)}},AnalyticalData=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}analytics`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.log(n)}},totalRequest=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}total-requests`,{headers:{Authorization:`Bearer ${e}`}})).data.total_request}catch(n){console.log(n)}},listVariants={hidden:{opacity:0,y:-20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:120,delay:.2}}},itemVariants={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:120,delay:.6}}};function ViolatorsList(){const{open:t,base_url:e,token:n}=useAppState(),[r,s]=reactExports.useState(null),a=useNavigate(),{data:S}=useQuery({queryKey:["violations_total"],queryFn:()=>violatorsViolationTotal({base_url:e,token:n})});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(motion.div,{className:"w-full bg-white rounded-lg dark:bg-slate-900 shadow-lg dark:border-0 border border-gray-200",initial:"hidden",animate:"show",variants:listVariants,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 dark:border-b",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-green-400 flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:jsxRuntimeExports.jsx("path",{d:`M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 
                                   1.79-4 4 1.79 4 4 4zm0 2c-2.67 
                                   0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z`,fill:"white"})})}),jsxRuntimeExports.jsx("h1",{className:" font-medium text-gray-700 dark:text-white",children:"Most Violators List"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:grid grid-cols-3 gap-4 px-6 py-4 bg-gray-100 dark:bg-slate-950",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-white",children:"Violator"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-600 text-center dark:text-white",children:"Count"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-600 text-center dark:text-white",children:"Actions"})]}),S?.map(P=>jsxRuntimeExports.jsxs(motion.div,{variants:itemVariants,className:"dark:hover:bg-slate-950 hover:bg-gray-200 flex flex-col sm:grid sm:grid-cols-3 gap-4 px-6 py-5 transition-colors rounded-md dark:border-b dark:border-gray-700 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[r&&r.id===P.id?jsxRuntimeExports.jsx("div",{className:"w-12 h-12 mr-12"}):jsxRuntimeExports.jsx(motion.img,{layoutId:`avatar-${P.id}`,src:P.photo,alt:P.first_name,className:"w-12 h-12 rounded-full object-cover border cursor-pointer",onClick:()=>s(P)}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-700 text-base dark:text-white",children:P.first_name})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between sm:justify-center items-center",children:[" ",jsxRuntimeExports.jsxs("span",{className:"sm:hidden text-sm font-medium text-gray-600 dark:text-white",children:[" ","Count:"," "]})," ",jsxRuntimeExports.jsx(motion.p,{initial:{x:t?-20:20,opacity:0},animate:{x:0,opacity:1},exit:{x:t?20:-20,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"mr-2 dark:text-white text-center",children:P.total_violations},t?"open":"closed")]}),jsxRuntimeExports.jsx("div",{className:"flex justify-between sm:justify-center items-center",children:jsxRuntimeExports.jsx(motion.button,{whileTap:{scale:.95},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors hover:cursor-pointer",onClick:()=>s(P),children:"View"})})]},P.id))]}),jsxRuntimeExports.jsx(AnimatePresence,{children:r&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 bg-gray-50/60 dark:bg-gray-700/90 flex items-center justify-center z-50",onClick:()=>s(null),children:jsxRuntimeExports.jsxs(motion.div,{layoutId:`avatar-${r.id}`,className:"bg-white dark:bg-slate-900 rounded-lg p-6 shadow-lg max-w-md w-full relative",onClick:P=>P.stopPropagation(),children:[jsxRuntimeExports.jsx("img",{src:r.photo||Barangay,alt:r.first_name,className:"w-32 h-32 rounded-full mx-auto border object-cover",layoutId:`avatar-${r.id}`}),jsxRuntimeExports.jsxs(motion.h2,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.3},className:"text-xl text-center font-semibold text-gray-800 dark:text-white",children:[r.first_name," ",r.last_name]}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"mt-4 flex justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(motion.p,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.4},className:"text-gray-600 dark:text-gray-300",children:["Age: ",r.age]}),jsxRuntimeExports.jsxs(motion.p,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.6},className:"text-gray-600 mt-2 dark:text-gray-300",children:["Address: ",r.address]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(motion.p,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.5},className:"text-gray-600 dark:text-gray-300",children:["Violations: ",r.total_violations]}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>a(`/violators-details/${r.id}`),initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.6},className:"mt-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors hover:cursor-pointer",children:"Details"})]})]}),jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 dark:hover:text-white",onClick:()=>s(null),children:""})]})})})]})}const scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function t(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let M=function(N){return Promise.all(N.map(F=>Promise.resolve(F).then(z=>({status:"fulfilled",value:z}),z=>({status:"rejected",reason:z}))))};document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),P=S?.nonce||S?.getAttribute("nonce");s=M(n.map(N=>{if(N=assetsURL(N),N in seen)return;seen[N]=!0;const F=N.endsWith(".css"),z=F?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${N}"]${z}`))return;const $=document.createElement("link");if($.rel=F?"stylesheet":scriptRel,F||($.as="script"),$.crossOrigin="",$.href=N,P&&$.setAttribute("nonce",P),document.head.appendChild($),F)return new Promise((G,H)=>{$.addEventListener("load",G),$.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${N}`)))})}))}function a(S){const P=new Event("vite:preloadError",{cancelable:!0});if(P.payload=S,window.dispatchEvent(P),!P.defaultPrevented)throw S}return s.then(S=>{for(const P of S||[])P.status==="rejected"&&a(P.reason);return e().catch(a)})},MountedMapsContext=reactExports.createContext(null);function arePointsEqual(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0,s=Array.isArray(e)?e[0]:e?e.x:0,a=Array.isArray(e)?e[1]:e?e.y:0;return n===s&&r===a}function deepEqual(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!deepEqual(t[n],e[n]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n)if(!e.hasOwnProperty(s)||!deepEqual(t[s],e[s]))return!1;return!0}return!1}function cloneTransform(t){const e=t.clone();return e.pixelsToGLUnits=t.pixelsToGLUnits,e}function syncProjection(t,e){if(!t.getProjection)return;const n=t.getProjection(),r=e.getProjection();deepEqual(n,r)||e.setProjection(n)}function transformToViewState(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function applyViewStateToTransform(t,e){const n=e.viewState||e;let r=!1;if("zoom"in n){const s=t.zoom;t.zoom=n.zoom,r=r||s!==t.zoom}if("bearing"in n){const s=t.bearing;t.bearing=n.bearing,r=r||s!==t.bearing}if("pitch"in n){const s=t.pitch;t.pitch=n.pitch,r=r||s!==t.pitch}if(n.padding&&!t.isPaddingEqual(n.padding)&&(r=!0,t.padding=n.padding),"longitude"in n&&"latitude"in n){const s=t.center;t.center=new s.constructor(n.longitude,n.latitude),r=r||s!==t.center}return r}const refProps=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function normalizeStyle(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const r of t.layers)e[r.id]=r;const n=t.layers.map(r=>{let s=null;"interactive"in r&&(s=Object.assign({},r),delete s.interactive);const a=e[r.ref];if(a){s=s||Object.assign({},r),delete s.ref;for(const S of refProps)S in a&&(s[S]=a[S])}return s||r});return{...t,layers:n}}var define_process_env_default={};const DEFAULT_STYLE={version:8,sources:{},layers:[]},pointerEvents={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},cameraEvents={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},otherEvents={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},settingNames=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],handlerNames=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Mapbox{constructor(e,n,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=s=>{const a=this.props[otherEvents[s.type]];a?a(s):s.type==="error"&&console.error(s.error)},this._onPointerEvent=s=>{(s.type==="mousemove"||s.type==="mouseout")&&this._updateHover(s);const a=this.props[pointerEvents[s.type]];a&&(this.props.interactiveLayerIds&&s.type!=="mouseover"&&s.type!=="mouseout"&&(s.features=this._hoveredFeatures||this._queryRenderedFeatures(s.point)),a(s),delete s.features)},this._onCameraEvent=s=>{if(!this._internalUpdate){const a=this.props[cameraEvents[s.type]];a&&a(s)}s.type in this._deferredEvents&&(this._deferredEvents[s.type]=!1)},this._MapClass=e,this.props=n,this._initialize(r)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const n=this.props;this.props=e;const r=this._updateSettings(e,n);r&&this._createShadowTransform(this._map);const s=this._updateSize(e),a=this._updateViewState(e,!0);this._updateStyle(e,n),this._updateStyleComponents(e,n),this._updateHandlers(e,n),(r||s||a&&!this._map.isMoving())&&this.redraw()}static reuse(e,n){const r=Mapbox.savedMaps.pop();if(!r)return null;const s=r.map,a=s.getContainer();for(n.className=a.className;a.childNodes.length>0;)n.appendChild(a.childNodes[0]);s._container=n;const S=s._resizeObserver;S&&(S.disconnect(),S.observe(n)),r.setProps({...e,styleDiffing:!1}),s.resize();const{initialViewState:P}=e;return P&&(P.bounds?s.fitBounds(P.bounds,{...P.fitBoundsOptions,duration:0}):r._updateViewState(P,!1)),s.isStyleLoaded()?s.fire("load"):s.once("styledata",()=>s.fire("load")),s._update(),r}_initialize(e){const{props:n}=this,{mapStyle:r=DEFAULT_STYLE}=n,s={...n,...n.initialViewState,accessToken:n.mapboxAccessToken||getAccessTokenFromEnv()||null,container:e,style:normalizeStyle(r)},a=s.initialViewState||s.viewState||s;if(Object.assign(s,{center:[a.longitude||0,a.latitude||0],zoom:a.zoom||0,pitch:a.pitch||0,bearing:a.bearing||0}),n.gl){const F=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=F,n.gl)}const S=new this._MapClass(s);a.padding&&S.setPadding(a.padding),n.cursor&&(S.getCanvas().style.cursor=n.cursor),this._createShadowTransform(S);const P=S._render;S._render=F=>{this._inRender=!0,P.call(S,F),this._inRender=!1};const M=S._renderTaskQueue.run;S._renderTaskQueue.run=F=>{M.call(S._renderTaskQueue,F),this._onBeforeRepaint()},S.on("render",()=>this._onAfterRepaint());const N=S.fire;S.fire=this._fireEvent.bind(this,N),S.on("resize",()=>{this._renderTransform.resize(S.transform.width,S.transform.height)}),S.on("styledata",()=>{this._updateStyleComponents(this.props,{}),syncProjection(S.transform,this._renderTransform)}),S.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const F in pointerEvents)S.on(F,this._onPointerEvent);for(const F in cameraEvents)S.on(F,this._onCameraEvent);for(const F in otherEvents)S.on(F,this._onEvent);this._map=S}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n?.remove(),Mapbox.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const n=cloneTransform(e.transform);e.painter.transform=n,this._renderTransform=n}_updateSize(e){const{viewState:n}=e;if(n){const r=this._map;if(n.width!==r.transform.width||n.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(e,n){if(this._internalUpdate)return!1;const r=this._map,s=this._renderTransform,{zoom:a,pitch:S,bearing:P}=s,M=r.isMoving();M&&(s.cameraElevationReference="sea");const N=applyViewStateToTransform(s,{...transformToViewState(r.transform),...e});if(M&&(s.cameraElevationReference="ground"),N&&n){const F=this._deferredEvents;F.move=!0,F.zoom||(F.zoom=a!==s.zoom),F.rotate||(F.rotate=P!==s.bearing),F.pitch||(F.pitch=S!==s.pitch)}return M||applyViewStateToTransform(r.transform,e),N}_updateSettings(e,n){const r=this._map;let s=!1;for(const a of settingNames)if(a in e&&!deepEqual(e[a],n[a])){s=!0;const S=r[`set${a[0].toUpperCase()}${a.slice(1)}`];S?.call(r,e[a])}return s}_updateStyle(e,n){if(e.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==n.mapStyle){const{mapStyle:r=DEFAULT_STYLE,styleDiffing:s=!0}=e,a={diff:s};return"localIdeographFontFamily"in e&&(a.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(normalizeStyle(r),a),!0}return!1}_updateStyleComponents(e,n){const r=this._map;let s=!1;return r.isStyleLoaded()&&("light"in e&&r.setLight&&!deepEqual(e.light,n.light)&&(s=!0,r.setLight(e.light)),"fog"in e&&r.setFog&&!deepEqual(e.fog,n.fog)&&(s=!0,r.setFog(e.fog)),"terrain"in e&&r.setTerrain&&!deepEqual(e.terrain,n.terrain)&&(!e.terrain||r.getSource(e.terrain.source))&&(s=!0,r.setTerrain(e.terrain))),s}_updateHandlers(e,n){var r,s;const a=this._map;let S=!1;for(const P of handlerNames){const M=(r=e[P])!==null&&r!==void 0?r:!0,N=(s=n[P])!==null&&s!==void 0?s:!0;deepEqual(M,N)||(S=!0,M?a[P].enable(M):a[P].disable())}return S}_queryRenderedFeatures(e){const n=this._map,r=n.transform,{interactiveLayerIds:s=[]}=this.props;try{return n.transform=this._renderTransform,n.queryRenderedFeatures(e,{layers:s.filter(n.getLayer.bind(n))})}catch{return[]}finally{n.transform=r}}_updateHover(e){var n;const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const a=e.type,S=((n=this._hoveredFeatures)===null||n===void 0?void 0:n.length)>0,P=this._queryRenderedFeatures(e.point),M=P.length>0;!M&&S&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=P,M&&!S&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=a}else this._hoveredFeatures=null}_fireEvent(e,n,r){const s=this._map,a=s.transform,S=typeof n=="string"?n:n.type;return S==="move"&&this._updateViewState(this.props,!1),S in cameraEvents&&(typeof n=="object"&&(n.viewState=transformToViewState(a)),this._map.isMoving())?(s.transform=this._renderTransform,e.call(s,n,r),s.transform=a,s):(e.call(s,n,r),s)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const r in this._deferredEvents)this._deferredEvents[r]&&e.fire(r);this._internalUpdate=!1;const n=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{syncProjection(this._renderTransform,n),e.transform=n}}}Mapbox.savedMaps=[];function getAccessTokenFromEnv(){let t=null;if(typeof location<"u"){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||define_process_env_default.MapboxAccessToken}catch{}try{t=t||define_process_env_default.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return t}const skipMethods=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function createRef(t){if(!t)return null;const e=t.map,n={getMap:()=>e,getCenter:()=>t.transform.center,getZoom:()=>t.transform.zoom,getBearing:()=>t.transform.bearing,getPitch:()=>t.transform.pitch,getPadding:()=>t.transform.padding,getBounds:()=>t.transform.getBounds(),project:r=>{const s=e.transform;e.transform=t.transform;const a=e.project(r);return e.transform=s,a},unproject:r=>{const s=e.transform;e.transform=t.transform;const a=e.unproject(r);return e.transform=s,a},queryTerrainElevation:(r,s)=>{const a=e.transform;e.transform=t.transform;const S=e.queryTerrainElevation(r,s);return e.transform=a,S},queryRenderedFeatures:(r,s)=>{const a=e.transform;e.transform=t.transform;const S=e.queryRenderedFeatures(r,s);return e.transform=a,S}};for(const r of getMethodNames(e))!(r in n)&&!skipMethods.includes(r)&&(n[r]=e[r].bind(e));return n}function getMethodNames(t){const e=new Set;let n=t;for(;n;){for(const r of Object.getOwnPropertyNames(n))r[0]!=="_"&&typeof t[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&e.add(r);n=Object.getPrototypeOf(n)}return Array.from(e)}const useIsomorphicLayoutEffect=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect,globalSettings=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function setGlobals(t,e){for(const r of globalSettings)r in e&&(t[r]=e[r]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=e;n&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"&&t.setRTLTextPlugin(n,r=>{r&&console.error(r)},!0)}const MapContext=reactExports.createContext(null);function Map$3(t,e,n){const r=reactExports.useContext(MountedMapsContext),[s,a]=reactExports.useState(null),S=reactExports.useRef(),{current:P}=reactExports.useRef({mapLib:null,map:null});reactExports.useEffect(()=>{const F=t.mapLib;let z=!0,$;return Promise.resolve(F||n).then(G=>{if(!z)return;if(!G)throw new Error("Invalid mapLib");const H="Map"in G?G:G.default;if(!H.Map)throw new Error("Invalid mapLib");if(setGlobals(H,t),!H.supported||H.supported(t))t.reuseMaps&&($=Mapbox.reuse(t,S.current)),$||($=new Mapbox(H.Map,t,S.current)),P.map=createRef($),P.mapLib=H,a($),r?.onMapMount(P.map,t.id);else throw new Error("Map is not supported by this browser")}).catch(G=>{const{onError:H}=t;H?H({type:"error",target:null,originalEvent:null,error:G}):console.error(G)}),()=>{z=!1,$&&(r?.onMapUnmount(t.id),t.reuseMaps?$.recycle():$.destroy())}},[]),useIsomorphicLayoutEffect(()=>{s&&s.setProps(t)}),reactExports.useImperativeHandle(e,()=>P.map,[s]);const M=reactExports.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]),N={height:"100%"};return reactExports.createElement("div",{id:t.id,ref:S,style:M},s&&reactExports.createElement(MapContext.Provider,{value:P},reactExports.createElement("div",{"mapboxgl-children":"",style:N},t.children)))}const unitlessNumber=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function applyReactStyle(t,e){if(!t||!e)return;const n=t.style;for(const r in e){const s=e[r];Number.isFinite(s)&&!unitlessNumber.test(r)?n[r]=`${s}px`:n[r]=s}}function Marker$1(t,e){const{map:n,mapLib:r}=reactExports.useContext(MapContext),s=reactExports.useRef({props:t});s.current.props=t;const a=reactExports.useMemo(()=>{let U=!1;reactExports.Children.forEach(t.children,Q=>{Q&&(U=!0)});const W={...t,element:U?document.createElement("div"):null},Y=new r.Marker(W);return Y.setLngLat([t.longitude,t.latitude]),Y.getElement().addEventListener("click",Q=>{var K,tt;(tt=(K=s.current.props).onClick)===null||tt===void 0||tt.call(K,{type:"click",target:Y,originalEvent:Q})}),Y.on("dragstart",Q=>{var K,tt;const nt=Q;nt.lngLat=a.getLngLat(),(tt=(K=s.current.props).onDragStart)===null||tt===void 0||tt.call(K,nt)}),Y.on("drag",Q=>{var K,tt;const nt=Q;nt.lngLat=a.getLngLat(),(tt=(K=s.current.props).onDrag)===null||tt===void 0||tt.call(K,nt)}),Y.on("dragend",Q=>{var K,tt;const nt=Q;nt.lngLat=a.getLngLat(),(tt=(K=s.current.props).onDragEnd)===null||tt===void 0||tt.call(K,nt)}),Y},[]);reactExports.useEffect(()=>(a.addTo(n.getMap()),()=>{a.remove()}),[]);const{longitude:S,latitude:P,offset:M,style:N,draggable:F=!1,popup:z=null,rotation:$=0,rotationAlignment:G="auto",pitchAlignment:H="auto"}=t;return reactExports.useEffect(()=>{applyReactStyle(a.getElement(),N)},[N]),reactExports.useImperativeHandle(e,()=>a,[]),(a.getLngLat().lng!==S||a.getLngLat().lat!==P)&&a.setLngLat([S,P]),M&&!arePointsEqual(a.getOffset(),M)&&a.setOffset(M),a.isDraggable()!==F&&a.setDraggable(F),a.getRotation()!==$&&a.setRotation($),a.getRotationAlignment()!==G&&a.setRotationAlignment(G),a.getPitchAlignment()!==H&&a.setPitchAlignment(H),a.getPopup()!==z&&a.setPopup(z),reactDomExports.createPortal(t.children,a.getElement())}const _Marker=reactExports.memo(reactExports.forwardRef(Marker$1));function getClassList(t){return new Set(t?t.trim().split(/\s+/):[])}function Popup(t,e){const{map:n,mapLib:r}=reactExports.useContext(MapContext),s=reactExports.useMemo(()=>document.createElement("div"),[]),a=reactExports.useRef({props:t});a.current.props=t;const S=reactExports.useMemo(()=>{const P={...t},M=new r.Popup(P);return M.setLngLat([t.longitude,t.latitude]),M.once("open",N=>{var F,z;(z=(F=a.current.props).onOpen)===null||z===void 0||z.call(F,N)}),M},[]);if(reactExports.useEffect(()=>{const P=M=>{var N,F;(F=(N=a.current.props).onClose)===null||F===void 0||F.call(N,M)};return S.on("close",P),S.setDOMContent(s).addTo(n.getMap()),()=>{S.off("close",P),S.isOpen()&&S.remove()}},[]),reactExports.useEffect(()=>{applyReactStyle(S.getElement(),t.style)},[t.style]),reactExports.useImperativeHandle(e,()=>S,[]),S.isOpen()&&((S.getLngLat().lng!==t.longitude||S.getLngLat().lat!==t.latitude)&&S.setLngLat([t.longitude,t.latitude]),t.offset&&!deepEqual(S.options.offset,t.offset)&&S.setOffset(t.offset),(S.options.anchor!==t.anchor||S.options.maxWidth!==t.maxWidth)&&(S.options.anchor=t.anchor,S.setMaxWidth(t.maxWidth)),S.options.className!==t.className)){const P=getClassList(S.options.className),M=getClassList(t.className);for(const N of P)M.has(N)||S.removeClassName(N);for(const N of M)P.has(N)||S.addClassName(N);S.options.className=t.className}return reactDomExports.createPortal(t.children,s)}reactExports.memo(reactExports.forwardRef(Popup));function useControl(t,e,n,r){const s=reactExports.useContext(MapContext),a=reactExports.useMemo(()=>t(s),[]);return reactExports.useEffect(()=>{const S=e,P=null,M=typeof e=="function"?e:null,{map:N}=s;return N.hasControl(a)||(N.addControl(a,S?.position),P&&P(s)),()=>{M&&M(s),N.hasControl(a)&&N.removeControl(a)}},[]),a}function AttributionControl(t){const e=useControl(({mapLib:n})=>new n.AttributionControl(t),{position:t.position});return reactExports.useEffect(()=>{applyReactStyle(e._container,t.style)},[t.style]),null}reactExports.memo(AttributionControl);function FullscreenControl(t){const e=useControl(({mapLib:n})=>new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return reactExports.useEffect(()=>{applyReactStyle(e._controlContainer,t.style)},[t.style]),null}reactExports.memo(FullscreenControl);function GeolocateControl(t,e){const n=reactExports.useRef({props:t}),r=useControl(({mapLib:s})=>{const a=new s.GeolocateControl(t),S=a._setupUI;return a._setupUI=P=>{a._container.hasChildNodes()||S(P)},a.on("geolocate",P=>{var M,N;(N=(M=n.current.props).onGeolocate)===null||N===void 0||N.call(M,P)}),a.on("error",P=>{var M,N;(N=(M=n.current.props).onError)===null||N===void 0||N.call(M,P)}),a.on("outofmaxbounds",P=>{var M,N;(N=(M=n.current.props).onOutOfMaxBounds)===null||N===void 0||N.call(M,P)}),a.on("trackuserlocationstart",P=>{var M,N;(N=(M=n.current.props).onTrackUserLocationStart)===null||N===void 0||N.call(M,P)}),a.on("trackuserlocationend",P=>{var M,N;(N=(M=n.current.props).onTrackUserLocationEnd)===null||N===void 0||N.call(M,P)}),a},{position:t.position});return n.current.props=t,reactExports.useImperativeHandle(e,()=>r,[]),reactExports.useEffect(()=>{applyReactStyle(r._container,t.style)},[t.style]),null}reactExports.memo(reactExports.forwardRef(GeolocateControl));function NavigationControl(t){const e=useControl(({mapLib:n})=>new n.NavigationControl(t),{position:t.position});return reactExports.useEffect(()=>{applyReactStyle(e._container,t.style)},[t.style]),null}reactExports.memo(NavigationControl);function ScaleControl(t){const e=useControl(({mapLib:a})=>new a.ScaleControl(t),{position:t.position}),n=reactExports.useRef(t),r=n.current;n.current=t;const{style:s}=t;return t.maxWidth!==void 0&&t.maxWidth!==r.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==r.unit&&e.setUnit(t.unit),reactExports.useEffect(()=>{applyReactStyle(e._container,s)},[s]),null}reactExports.memo(ScaleControl);function assert(t,e){if(!t)throw new Error(e)}function updateLayer(t,e,n,r){if(assert(n.id===r.id,"layer id changed"),assert(n.type===r.type,"layer type changed"),n.type==="custom"||r.type==="custom")return;const{layout:s={},paint:a={},filter:S,minzoom:P,maxzoom:M,beforeId:N}=n;if(N!==r.beforeId&&t.moveLayer(e,N),s!==r.layout){const F=r.layout||{};for(const z in s)deepEqual(s[z],F[z])||t.setLayoutProperty(e,z,s[z]);for(const z in F)s.hasOwnProperty(z)||t.setLayoutProperty(e,z,void 0)}if(a!==r.paint){const F=r.paint||{};for(const z in a)deepEqual(a[z],F[z])||t.setPaintProperty(e,z,a[z]);for(const z in F)a.hasOwnProperty(z)||t.setPaintProperty(e,z,void 0)}deepEqual(S,r.filter)||t.setFilter(e,S),(P!==r.minzoom||M!==r.maxzoom)&&t.setLayerZoomRange(e,P,M)}function createLayer(t,e,n){if(t.style&&t.style._loaded&&(!("source"in n)||t.getSource(n.source))){const r={...n,id:e};delete r.beforeId,t.addLayer(r,n.beforeId)}}let layerCounter=0;function Layer$1(t){const e=reactExports.useContext(MapContext).map.getMap(),n=reactExports.useRef(t),[,r]=reactExports.useState(0),s=reactExports.useMemo(()=>t.id||`jsx-layer-${layerCounter++}`,[]);if(reactExports.useEffect(()=>{if(e){const S=()=>r(P=>P+1);return e.on("styledata",S),S(),()=>{e.off("styledata",S),e.style&&e.style._loaded&&e.getLayer(s)&&e.removeLayer(s)}}},[e]),e&&e.style&&e.getLayer(s))try{updateLayer(e,s,t,n.current)}catch(S){console.warn(S)}else createLayer(e,s,t);return n.current=t,null}let sourceCounter=0;function createSource(t,e,n){if(t.style&&t.style._loaded){const r={...n};return delete r.id,delete r.children,t.addSource(e,r),t.getSource(e)}return null}function updateSource(t,e,n){assert(e.id===n.id,"source id changed"),assert(e.type===n.type,"source type changed");let r="",s=0;for(const S in e)S!=="children"&&S!=="id"&&!deepEqual(n[S],e[S])&&(r=S,s++);if(!s)return;const a=e.type;a==="geojson"?t.setData(e.data):a==="image"?t.updateImage({url:e.url,coordinates:e.coordinates}):"setCoordinates"in t&&s===1&&r==="coordinates"?t.setCoordinates(e.coordinates):"setUrl"in t&&r==="url"?t.setUrl(e.url):"setTiles"in t&&r==="tiles"?t.setTiles(e.tiles):console.warn(`Unable to update <Source> prop: ${r}`)}function Source$1(t){const e=reactExports.useContext(MapContext).map.getMap(),n=reactExports.useRef(t),[,r]=reactExports.useState(0),s=reactExports.useMemo(()=>t.id||`jsx-source-${sourceCounter++}`,[]);reactExports.useEffect(()=>{if(e){const S=()=>setTimeout(()=>r(P=>P+1),0);return e.on("styledata",S),S(),()=>{var P;if(e.off("styledata",S),e.style&&e.style._loaded&&e.getSource(s)){const M=(P=e.getStyle())===null||P===void 0?void 0:P.layers;if(M)for(const N of M)N.source===s&&e.removeLayer(N.id);e.removeSource(s)}}}},[e]);let a=e&&e.style&&e.getSource(s);return a?updateSource(a,t,n.current):a=createSource(e,s,t),n.current=t,a&&reactExports.Children.map(t.children,S=>S&&reactExports.cloneElement(S,{source:s}))||null}const mapLib=__vitePreload(()=>import("./mapbox-gl-D6d69wmw.js").then(t=>t.m),[]),Map$2=reactExports.forwardRef(function(e,n){return Map$3(e,n,mapLib)}),Marker=_Marker,Layer=Layer$1,Source=Source$1,getZones=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}get-zones`,{headers:{Authorization:`Bearer ${e}`}})).data.zones??[]}catch(n){return console.log(n),[]}},getLocations=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}get-locations`,{headers:{Authorization:`Bearer ${e}`}})).data.locations??[]}catch(n){return console.log(n),[]}},incidentRequest=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}request`,{headers:{Authorization:`Bearer ${e}`}})).data.request}catch(n){return console.log(n),[]}},locationDetails=async({base_url:t,token:e,locationId:n})=>{try{return(await axios$1.get(`${t}location-details/${n}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(r){console.log(r)}},useZones=()=>{const{base_url:t,token:e,setZones:n}=useAppState();return useQuery({queryKey:["zones"],queryFn:()=>getZones({base_url:t,token:e}),onSuccess:r=>{n(r.zones),console.log("Zones fetched:",r)},onError:r=>{console.error("Error fetching zones:",r)}})},useLocations=()=>{const{base_url:t,token:e}=useAppState();return useQuery({queryKey:["locations"],queryFn:()=>getLocations({base_url:t,token:e}),onSuccess:n=>{console.log(n)},onError:n=>{console.log(n)}})},type="FeatureCollection",features=[{type:"Feature",properties:{name:"Igpit, Opol"},geometry:{coordinates:[[[124.58813043802826,8.496592405423684],[124.58988488037906,8.499293391264167],[124.5908106454714,8.5006438849889],[124.59159077881105,8.502282443083828],[124.5918856327994,8.503474889714838],[124.59298426479938,8.504975017714813],[124.59351069479942,8.506914792714795],[124.5940447517994,8.508094485714778],[124.59501368479937,8.509774861714746],[124.59611994679949,8.511725125714818],[124.59667689279956,8.512884792714786],[124.5970202137994,8.513504681714792],[124.59754664379943,8.514284785714679],[124.59760004879956,8.514344868714787],[124.59790522579965,8.514804539714717],[124.59824854679937,8.515254673714836],[124.59869868279952,8.517436680714823],[124.5988436397995,8.517514882714707],[124.59900385679953,8.518005070714779],[124.5992785147995,8.518584904714785],[124.5975635878655,8.518508362526838],[124.59583236703492,8.518351249617098],[124.59528071279965,8.51830452471468],[124.59441755690455,8.518240068108454],[124.59380020813467,8.518246507659171],[124.59208568386538,8.518262621777964],[124.59161549911124,8.518264239345342],[124.58999354279956,8.51830452471468],[124.58968629700786,8.518308575378143],[124.58916025273345,8.518348860759986],[124.5888149266695,8.518083312768226],[124.5884819420964,8.517941396678793],[124.58847504667153,8.517811650088092],[124.58808644253821,8.517750413812877],[124.587952063675,8.517678017152946],[124.58759323754953,8.517359596346836],[124.58719675828706,8.517067045943364],[124.58659686597315,8.516596979327943],[124.5860461946628,8.516151251640466],[124.5854664873388,8.515672849445913],[124.58520124417655,8.515427563530412],[124.58512057977919,8.515255295199893],[124.5850140126004,8.514791337451406],[124.58454444052109,8.514540347950117],[124.58434865877331,8.514340004467705],[124.58417748752788,8.514042303917037],[124.58407805678809,8.513701262577229],[124.58395028089768,8.513331856964868],[124.58360885394995,8.513025390862794],[124.58329311135032,8.512596717347527],[124.58324556901721,8.512455767961086],[124.58330389422764,8.511831672053702],[124.58320067251091,8.511380598105958],[124.58296107777721,8.511235231640953],[124.58277358617357,8.51116396593234],[124.58262354679937,8.5108048297147],[124.58289143997806,8.510204771545965],[124.58288897972938,8.509769252882307],[124.58232108030421,8.509683595319785],[124.5819028772575,8.509233252990839],[124.5820147973057,8.508909877704205],[124.58197074422458,8.50847338112014],[124.58134425472304,8.508420660878635],[124.5816444605831,8.507836875427671],[124.58147302467813,8.507288796240175],[124.58184713581653,8.50693556995924],[124.58196544862551,8.506445725796823],[124.58198285991404,8.506279406120683],[124.58190368875,8.506015142673661],[124.58203650446373,8.504924792775682],[124.58256086714931,8.504489773909867],[124.58217341279942,8.502924618714715],[124.58218907080237,8.502261058797615],[124.5824557017994,8.501934704714714],[124.58261098271123,8.501606299029717],[124.5825551255428,8.501268401558221],[124.58256581006955,8.501018066343761],[124.58281108197262,8.500812218906212],[124.58281855169628,8.500486238974037],[124.58256796113955,8.50024731480582],[124.58232696776872,8.500093816411976],[124.5819103098693,8.499728456448821],[124.5815388287645,8.499588489478924],[124.58149845056471,8.49933936704035],[124.5816884656133,8.498966123233805],[124.58168750128118,8.498689329328869],[124.58140821856796,8.498089814125219],[124.58106079122388,8.4975077508866],[124.58088707755189,8.49734485909315],[124.58052670092576,8.497206462208046],[124.58035131120553,8.49703285354417],[124.58023830319125,8.496811785670452],[124.58007938047328,8.496575023070218],[124.5794336851643,8.496333247986348],[124.57922427540876,8.495871772807412],[124.57886131068416,8.49548623258853],[124.57875900510194,8.495148711344857],[124.5786087135946,8.494877633316774],[124.57818490229707,8.49454011215375],[124.57779947974288,8.494093434054633],[124.57777615811429,8.49381730852923],[124.57778849026352,8.49361517528152],[124.57759928151846,8.493375074325058],[124.5772814568445,8.493473627687674],[124.5771566962087,8.493497396968786],[124.57713196463817,8.493375232563004],[124.57710723306764,8.493253068157223],[124.57704688846917,8.492877110486916],[124.57712207935936,8.492426680919527],[124.5774531751282,8.491689659744328],[124.57721588141695,8.491470093001386],[124.57669245722576,8.491354787158047],[124.57590162032488,8.49122843641483],[124.57437511227778,8.490817920673614],[124.57430973474378,8.490134407603348],[124.57379257224082,8.489570050265844],[124.57407595339066,8.489282874328111],[124.57351773137383,8.487733851607294],[124.57438314228406,8.487041260077248],[124.57394590653635,8.486371010083229],[124.57310531891521,8.48654604011656],[124.57292152613365,8.485811553360886],[124.57183416341576,8.486626107478926],[124.5713695444268,8.48638174416232],[124.57111575842146,8.48506496788971],[124.5719688455865,8.48429184507073],[124.5720301963217,8.483741441494377],[124.57269392701238,8.48354851103624],[124.57541039924995,8.483606979358171],[124.57659510579938,8.483029608194968],[124.5774210360291,8.48285496280404],[124.57865357272999,8.482710106916258],[124.58076639732084,8.485483541034029],[124.58187487970389,8.49000849654739],[124.58407045457841,8.49551087140135],[124.58484600210454,8.49510463817279],[124.5851457717078,8.494504659138727],[124.5856896616315,8.494426568963505],[124.58656295467006,8.49459282138642],[124.58736945041491,8.495921186789552],[124.58813043802826,8.496592405423684]]],type:"Polygon"}}],IgpitGeoFence={type,features},ReactMiniMap=()=>{const{map_token:t,darkMode:e,map_styles:n}=useAppState(),[r,s]=reactExports.useState(!1),[a,S]=reactExports.useState({latitude:8.50742219620983,longitude:124.5894592178347,zoom:13.84858781193185}),[P,M]=reactExports.useState(null),[N,F]=reactExports.useState(!1),{data:z=[],isLoading:$,isError:G}=useZones(),{data:H=[]}=useLocations();return reactExports.useEffect(()=>{const U=setTimeout(()=>F(!0),1200);return()=>clearTimeout(U)},[]),$?jsxRuntimeExports.jsx("div",{children:"Loading map zones..."}):G?jsxRuntimeExports.jsx("div",{children:"Failed to load zones."}):jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6},style:{width:"70%",height:"80vh"},children:N&&jsxRuntimeExports.jsxs(Map$2,{initialViewState:a,mapboxAccessToken:t,mapStyle:e?n.dark:n.light,style:{width:"100%",height:"100%",borderRadius:"8px"},onMove:U=>S(U.viewState),onLoad:U=>{const W=U.target,Y=()=>{console.log(" Map style fully loaded!"),s(!0),W.off("idle",Y)};W.on("idle",Y)},children:[r&&jsxRuntimeExports.jsxs(Source,{id:"igpit",type:"geojson",data:IgpitGeoFence,children:[jsxRuntimeExports.jsx(Layer,{id:"igpit-fill",source:"igpit",type:"fill",paint:{"fill-color":"#f97316","fill-opacity":.25}}),jsxRuntimeExports.jsx(Layer,{id:"igpit-outline",source:"igpit",type:"line",paint:{"line-color":"#f97316","line-width":2}})]}),H.map(U=>jsxRuntimeExports.jsx(Marker,{longitude:U.longitude,latitude:U.latitude,children:jsxRuntimeExports.jsx("div",{style:{position:"relative",cursor:"pointer"},children:jsxRuntimeExports.jsx(IoLocationSharp,{size:24,color:"red"})})},U.id)),z.map(U=>jsxRuntimeExports.jsx(Marker,{longitude:U.longitude,latitude:U.latitude,anchor:"bottom",children:jsxRuntimeExports.jsxs("div",{onMouseEnter:()=>M(U.id),onMouseLeave:()=>M(null),style:{position:"relative",cursor:"pointer"},children:[jsxRuntimeExports.jsx("div",{style:{width:P===U.id?"18px":"14px",height:P===U.id?"18px":"14px",backgroundColor:P===U.id?"orange":"red",borderRadius:"50%",border:"2px solid white",transition:"all 0.2s ease"}}),P===U.id&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:"24px",left:"50%",transform:"translateX(-50%)",backgroundColor:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 6px rgba(0,0,0,0.2)",whiteSpace:"nowrap"},children:U.zone_name})]})},U.id))]})},e?"dark":"light")},useZoneIncidentDetails=()=>{const{base_url:t,token:e}=useAppState();return useQuery({queryKey:["zone_incident_details"],queryFn:()=>zoneReportDetails({base_url:t,token:e}),onSuccess:n=>{console.log(n)}})},ZonalIncidentCard=()=>{const{open:t}=useAppState(),{data:e}=useZoneIncidentDetails();return jsxRuntimeExports.jsx(motion.div,{className:"flex flex-col gap-2 max-h-[500px] overflow-y-auto hide-scrollbar pr-1",children:e?.map((n,r)=>jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02},className:"grid grid-cols-3 bg-gray-50 dark:bg-slate-800 p-2 rounded-md shadow-sm items-start w-full",initial:{x:20,opacity:0},animate:{x:0,opacity:1},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("img",{src:Barangay,alt:n.zone.zone_name,className:"w-12 h-12 object-contain"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-white mt-1",children:n.zone.zone_name})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-[2px] text-[11px] text-gray-600 dark:text-gray-300",children:n.categories.map((s,a)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-slate-700 last:border-0",children:[jsxRuntimeExports.jsx("p",{className:"whitespace-nowrap block",children:s.category.category_name.length>8&t?s.category.category_name.slice(0,8)+"...":s.category.category_name}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:s.count})]},a))}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center ml-4 pr-1",children:[jsxRuntimeExports.jsxs(motion.p,{initial:{x:t?-20:20,opacity:0},animate:{x:0,opacity:1},exit:{x:t?20:-20,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:`text-xs font-medium text-gray-700 dark:text-white whitespace-nowrap pr-1 ${t?"text-center":""}`,children:[!t&&jsxRuntimeExports.jsx(motion.span,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.3},className:"hidden md:inline mr-1",children:"Reports"},"violations-text"),"Count"]},t?"open":"closed"),jsxRuntimeExports.jsx("p",{className:"text-center text-xl mt-4 font-semibold text-green-600",children:n.zone_total})]})]},r))})},getReports=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}reports`,{headers:{Authorization:`Bearer ${e}`}})).data.reports??[]}catch(n){return console.log(n),[]}},getReportViolators=async({reportId:t,base_url:e,token:n})=>{try{return(await axios$1.get(`${e}report-violators/${t}`,{headers:{Authorization:`Bearer ${n}`}})).data.report_violators}catch(r){console.log(r)}},getCategories$1=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}get-categories`,{headers:{Authorization:`Bearer ${e}`}})).data.categories}catch(n){console.log(n)}},getViolators=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}get-violators`,{headers:{Authorization:`Bearer ${e}`}})).data.violators??[]}catch(n){console.log(n)}},reportDetails=async({token:t,base_url:e,id:n})=>{try{return(await axios$1.get(`${e}report-details/${n}`,{headers:{Authorization:`Bearer ${t}`}})).data.report_details}catch(r){console.log(r)}},violatorsDetails=async({base_url:t,token:e,id:n})=>{try{return(await axios$1.get(`${t}violator-details/${n}`,{headers:{Authorization:`Bearer ${e}`}})).data.violator}catch(r){console.log(r)}},requestRecords=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}request/records`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.log(n)}},getResidents=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}residents`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.log(n)}},useMonthsCurPrev=()=>{const{token:t,base_url:e}=useAppState();return useQuery({queryKey:["month_cur-prev_data"],queryFn:()=>currentPreviousChanges({token:t,base_url:e})})},useCurPrevResponseTime=()=>{const{token:t,base_url:e}=useAppState();return useQuery({queryKey:["response_time"],queryFn:()=>responseTimeCurPrev({token:t,base_url:e})})},useRegisteredUsers=()=>{const{token:t,base_url:e}=useAppState();return useQuery({queryKey:["registered_users"],queryFn:()=>registeredUsers({token:t,base_url:e})})},useRequest=()=>{const{base_url:t,token:e}=useAppState();return useQuery({queryKey:["request"],queryFn:()=>totalRequest({base_url:t,token:e})})},Dashboard=()=>{const{base_url:t,token:e,setReports:n}=useAppState(),{data:r}=useMonthsCurPrev(),{data:s}=useCurPrevResponseTime(),{data:a}=useRegisteredUsers(),{data:S}=useRequest(),P=r?.current_total??0,M=r?.previous_total??0,N=P-M;let F=0;M>0?F=(P-M)/M*100:P>0&&(F=100),F=Math.round(F*100)/100;const z=(a?.current_month_registered??0)-(a?.previous_month_registered??0),$=(S?.current_month_total??0)-(S?.previous_month_total??0),G=(s?.current_response??0)-(s?.previous_response??0),{data:H}=useQuery({queryKey:["reports"],queryFn:()=>getReports({base_url:t,token:e}),onSuccess:U=>{console.log(U)}});return reactExports.useEffect(()=>{H&&n(H)},[H]),jsxRuntimeExports.jsxs(motion.div,{layout:!0,exit:{opacity:0,y:-10},transition:{duration:.1},className:"px-6 pt-4 pb-6 ",children:[jsxRuntimeExports.jsx(motion.h1,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"dark:text-white text-gray-700 font-medium text-2xl",children:"Dashboard"}),jsxRuntimeExports.jsxs(motion.div,{className:"flex lg:grid-cols-4 md:grid-cols-2 md:grid gap-4 overflow-x-auto hide-scrollbar py-4 ",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.1},whileHover:{scale:1.02},className:"flex  flex-col bg-white text-white dark:bg-slate-900 p-3 rounded-md shadow-lg border-1 dark:border-0 border-gray-200 ",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:"flex flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-row items-center space-x-1 ",children:[jsxRuntimeExports.jsx(FaCalendarAlt,{color:"#22c55e",size:20}),jsxRuntimeExports.jsx("h1",{className:"text-gray-700 dark:text-white font-medium",children:"Monthly Report"})]}),jsxRuntimeExports.jsx(motion.div,{className:"transform rotate-30 ",children:jsxRuntimeExports.jsx(FaRegArrowAltCircleUp,{color:"#22c55e",size:26})})]}),jsxRuntimeExports.jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:"text-2xl font-bold  dark:border-b-1 border-b-1 border-b-gray-400 max-w-2/3 pb-2"}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.3},className:"flex items-center space-x-10 mt-2",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex items-center space-x-2",children:[" ",jsxRuntimeExports.jsx("p",{className:"text-3xl text-gray-700 dark:text-white",children:r?.current_total??0}),jsxRuntimeExports.jsxs("p",{className:"text-xs leading-tight text-gray-700 dark:text-white",children:["Incidents reported",jsxRuntimeExports.jsx("span",{className:"block text-gray-700 dark:text-white",children:"this month"})]})]}),jsxRuntimeExports.jsx(motion.div,{className:"p-0.5 rounded-md bg-green-500",children:jsxRuntimeExports.jsx("p",{className:"text-xs leading-tight ",children:N>0?`+${F}%`:`${F}%`})})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.4},className:"flex items-center mt-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xl mr-1 text-green-700",children:N}),jsxRuntimeExports.jsx("p",{className:"text-xs leading-tight text-gray-700 dark:text-white",children:"Incidents from previous month"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.02},className:"flex flex-col bg-white text-white dark:bg-slate-900 p-3 rounded-md shadow-lg border-1 dark:border-0 border-gray-200","border-1":!0,"dark:border-0":!0,"border-gray-200":!0,children:[jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.3},className:"flex flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-row items-center space-x-1 ",children:[jsxRuntimeExports.jsx(IoTimeSharp,{color:"#22c55e",size:24}),jsxRuntimeExports.jsx("h1",{className:"text-gray-700 dark:text-white font-medium",children:"Avg response time"})]}),jsxRuntimeExports.jsx(motion.div,{className:"transform rotate-30 ",children:jsxRuntimeExports.jsx(FaRegArrowAltCircleUp,{color:"#22c55e",size:26})})]}),jsxRuntimeExports.jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.3},className:"text-2xl font-bold text-gray-900 dark:border-b-1 border-b-1 border-b-gray-400 max-w-2/3 pb-2"}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.4},className:"flex items-center space-x-10 mt-2",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex items-center space-x-2",children:[" ",jsxRuntimeExports.jsx("p",{className:"text-3xl text-gray-700 dark:text-white",children:(s?.current_response??0).toFixed(1)}),jsxRuntimeExports.jsxs("p",{className:"text-xs leading-tight text-gray-700 dark:text-white",children:["mins response",jsxRuntimeExports.jsx("span",{className:"block text-gray-700 dark:text-white",children:"time"})]})]}),jsxRuntimeExports.jsx(motion.div,{className:"p-0.5 rounded-md bg-green-500",children:jsxRuntimeExports.jsxs("p",{className:"text-xs leading-tight",children:[(s?.percent_change??0).toFixed(1),"%"]})})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.5},className:"flex items-center mt-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xl mr-1 text-green-700",children:G.toFixed(1)}),jsxRuntimeExports.jsx("p",{className:"text-xs leading-tight text-gray-700 dark:text-white",children:"increase from last month"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.3},whileHover:{scale:1.02},className:"flex flex-col bg-white text-white dark:bg-slate-900 p-3 rounded-md shadow-lg border-1 dark:border-0 border-gray-200",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.4},className:"flex flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-row items-center space-x-1 ",children:[jsxRuntimeExports.jsx(MdPeopleAlt,{color:"#22c55e",size:24}),jsxRuntimeExports.jsx("h1",{className:"text-gray-700 dark:text-white font-medium leading-tight",children:"Registered residents"})]}),jsxRuntimeExports.jsx(motion.div,{className:"transform rotate-30 ",children:jsxRuntimeExports.jsx(FaRegArrowAltCircleUp,{color:"#22c55e",size:26})})]}),jsxRuntimeExports.jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.3},className:"text-2xl font-bold text-gray-900 dark:border-b-1 border-b-1 border-b-gray-400  max-w-2/3 pb-2"}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.5},className:"flex items-center space-x-10 mt-2",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex items-center space-x-2",children:[" ",jsxRuntimeExports.jsx("p",{className:"text-3xl text-gray-700 dark:text-white"}),jsxRuntimeExports.jsxs("p",{className:"text-xs leading-tight text-gray-700 dark:text-white",children:["people report",jsxRuntimeExports.jsx("span",{className:"block text-gray-700 dark:text-white",children:"this month"})]})]}),jsxRuntimeExports.jsx(motion.div,{className:"p-0.5 rounded-md bg-green-500",children:jsxRuntimeExports.jsxs("p",{className:"text-xs leading-tight",children:[a?.monthly_registered??0,"%"]})})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.6},className:"flex items-center mt-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xl mr-1 text-green-700",children:z??0}),jsxRuntimeExports.jsx("p",{className:"text-xs leading-tight text-gray-700 dark:text-white",children:"registered user in recent months"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},whileHover:{scale:1.02},transition:{type:"spring",stiffness:200,damping:20,delay:.4},className:"flex flex-col bg-white text-white dark:bg-slate-900 p-3 rounded-md shadow-lg border-1 dark:border-0 border-gray-200","border-1":!0,"dark:border-0":!0,"border-gray-200":!0,children:[jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.6},className:"flex flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-row items-center space-x-1 ",children:[jsxRuntimeExports.jsx(IoMegaphoneSharp,{color:"#22c55e",size:24}),jsxRuntimeExports.jsx("h1",{className:"text-gray-700 dark:text-white font-medium",children:"Current total request"})]}),jsxRuntimeExports.jsx(motion.div,{className:"transform rotate-30 ",children:jsxRuntimeExports.jsx(FaRegArrowAltCircleUp,{color:"#22c55e",size:26})})]}),jsxRuntimeExports.jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.3},className:"text-2xl font-bold text-gray-900 dark:border-b-1 border-b-1 border-b-gray-400  max-w-2/3 pb-2"}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.7},className:"flex items-center space-x-10 mt-2",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex items-center space-x-2",children:[" ",jsxRuntimeExports.jsx("p",{className:"text-3xl text-gray-700 dark:text-white",children:S?.current_month_total}),jsxRuntimeExports.jsxs("p",{className:"text-xs leading-tight text-gray-700 dark:text-white",children:["people report",jsxRuntimeExports.jsx("span",{className:"block text-gray-700 dark:text-white",children:"this month"})]})]}),jsxRuntimeExports.jsx(motion.div,{className:"p-0.5 rounded-md bg-green-500",children:jsxRuntimeExports.jsxs("p",{className:"text-xs leading-tight",children:[$,"%"]})})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.8},className:"flex items-center mt-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xl mr-1 text-green-700",children:S?.previous_month_total}),jsxRuntimeExports.jsx("p",{className:"text-xs leading-tight text-gray-700 dark:text-white",children:"increase from last month"})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{className:"lg:grid lg:grid-cols-3 flex flex-col mt-2 gap-3",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.5},className:"bg-white md:col-span-2 dark:bg-slate-900 rounded-md shadow-lg border-1  border-gray-200border-1 dark:border-0 border-gray-200 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-1 mb-2",children:[" ",jsxRuntimeExports.jsx(FaDotCircle,{color:"#22c55e",size:26}),jsxRuntimeExports.jsx("p",{className:"font-medium dark:text-white text-gray-700",children:"Reports Zonal Count"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row justify-between gap-2",children:[jsxRuntimeExports.jsx(ReactMiniMap,{}),jsxRuntimeExports.jsx(ZonalIncidentCard,{})]})]}),jsxRuntimeExports.jsx(ViolatorsList,{})]})]})},getTanodUser=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}users`,{headers:{Authorization:`Bearer ${e}`}})).data.users??[]}catch(n){return console.error("Fetching data error:",n),[]}},createTanodAccount=async({base_url:t,token:e,accountForm:n})=>{try{return(await axios$1.post(`${t}users`,n,{headers:{Authorization:`Bearer ${e}`}})).data.user}catch(r){throw console.error("Creating data error:",r),r}},respondersRecords=async({base_url:t,token:e,id:n})=>{try{return(await axios$1.get(`${t}responders/records/${n}`,{headers:{Authorization:`Bearer ${e}`}})).data.records??[]}catch(r){throw console.error("Fetching data error:",r),r}},respondersStats=async({base_url:t,token:e,id:n})=>{try{return(await axios$1.get(`${t}responders/stats/${n}`,{headers:{Authorization:`Bearer ${e}`}})).data??[]}catch(r){throw console.error("Fetching data error:",r),r}},CreateTanodAccount=({onClose:t})=>{const e=useQueryClient(),{token:n,base_url:r,darkMode:s}=useAppState(),[a,S]=reactExports.useState({name:"",email:"",password:"",role:"tanod"}),P=$=>{const{name:G,value:H}=$.target;S(U=>({...U,[G]:H}))},M=useMutation({mutationFn:()=>createTanodAccount({base_url:r,token:n,accountForm:a}),onSuccess:async()=>{e.invalidateQueries(["volunteers"]),S({name:"",email:"",password:"",role:"tanod"}),t()},onError:$=>{alert($),console.error("BASE_URL:",r),console.error("TOKEN:",n),console.error("Account Form:",a)}}),N=$=>{$.preventDefault(),M.mutate()},F={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},z={hidden:{opacity:0,scale:.9,y:50},visible:{opacity:1,scale:1,y:0,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,scale:.9,y:50,transition:{duration:.3,ease:"easeIn"}}};return jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsx(motion.div,{className:`fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 ${s?"bg-white/40":"bg-black/40"}`,variants:F,initial:"hidden",animate:"visible",exit:"exit",children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-md p-6 relative",variants:z,initial:"hidden",animate:"visible",exit:"exit",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6",children:"Create Tanod Account"}),jsxRuntimeExports.jsxs(motion.form,{onSubmit:N,className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"User Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:a.name,onChange:P,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:a.email,onChange:P,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",value:a.password,onChange:P,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:M.isLoading,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md shadow transition duration-300 disabled:opacity-50",children:M.isLoading?"Creating...":"Create Account"})]})]})})})},TanodCard=()=>{const{base_url:t,token:e}=useAppState(),n=useNavigate(),{data:r}=useQuery({queryKey:["volunteers"],queryFn:()=>getTanodUser({base_url:t,token:e})});if(!r||r.length===0)return jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-300 text-center",children:"No volunteers found."});const s={hidden:{opacity:0,scale:.9,y:20},visible:a=>({opacity:1,scale:1,y:0,transition:{delay:a*.1,duration:.4,ease:"easeOut"}})};return jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-6",children:r.map((a,S)=>{const P=a.profile,M=a.name;return jsxRuntimeExports.jsxs(motion.div,{className:"relative w-54 bg-white/70 dark:bg-gray-900/70 backdrop-blur-md rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-md cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-2 group",custom:S,initial:"hidden",animate:"visible",variants:s,whileHover:{scale:1.05},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 bg-gradient-to-br from-green-300/20 to-blue-400/20 transition-opacity duration-300 rounded-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col items-center p-5",children:[P?.photo?jsxRuntimeExports.jsx("img",{className:"h-24 w-24 rounded-full border-4 border-white dark:border-gray-800 object-cover shadow-md transition-transform duration-300 group-hover:scale-105",src:P.photo,alt:M}):jsxRuntimeExports.jsx(IoPersonCircleOutline,{className:"h-24 w-24 text-gray-400 group-hover:text-green-500 transition-colors duration-300"}),jsxRuntimeExports.jsx("h3",{className:"mt-4 font-bold text-lg text-gray-800 dark:text-white group-hover:text-green-500 transition-colors duration-300",children:M}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400 text-center space-y-1",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Role:"})," ",a.role]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Status:"})," ",a.status]})]}),jsxRuntimeExports.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 mt-3",children:jsxRuntimeExports.jsx("button",{onClick:()=>n(`/tanod/details/${a.id}`),className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded-full shadow hover:bg-green-700 transition",children:"View Details"})})]})]},a.id)})})},Volunteers=()=>{const[t,e]=reactExports.useState(!1),n=()=>e(r=>!r);return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"Volunteers"}),jsxRuntimeExports.jsxs("button",{onClick:n,className:"flex px-4 py-2 bg-green-500 text-white rounded hover:bg-green-400 transition hover:cursor-pointer",children:[jsxRuntimeExports.jsx(IoAddCircleOutline,{size:25})," Account"]})]}),t&&jsxRuntimeExports.jsx(CreateTanodAccount,{onClose:()=>e(!1)}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TanodCard,{})})]})},getCategories=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}get-categories`,{headers:{Authorization:`Bearer ${e}`}})).data.categories}catch(n){throw console.log(n),n}},addCategory=async({base_url:t,token:e,categoryName:n})=>{try{return(await axios$1.post(`${t}add-category`,{category_name:n},{headers:{Authorization:`Bearer ${e}`}})).data.category}catch(r){throw console.log(r),r}},addIncidentType=async({base_url:t,token:e,form:n})=>{try{return(await axios$1.post(`${t}add-incident-type`,n,{headers:{Authorization:`Bearer ${e}`}})).data.incident_type}catch(r){throw console.log(r),r}},ZoneList=({setSelectedZone:t})=>{const{data:e}=useZones();return jsxRuntimeExports.jsx(motion.div,{className:"max-h-full overflow-y-auto hide-scrollbar space-y-3 pr-2",children:e?.map((n,r)=>jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3 bg-white dark:bg-slate-800 p-3 rounded-xl shadow hover:shadow-md transition-all duration-200 cursor-pointer",initial:{x:20,opacity:0},animate:{x:0,opacity:1},onClick:()=>t(n),children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:Barangay,alt:n.zone_name,className:"w-14 h-14 object-contain rounded-lg"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("p",{className:"text-base font-semibold text-gray-800 dark:text-white",children:n.zone_name}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Click to view details"})]})]},r))})},ZoneDetails=({zone:t,onClose:e})=>{const{data:n}=useZoneIncidentDetails(),{token:r,base_url:s}=useAppState(),a=n?.find(P=>P.zone.id===t.id),{data:S}=useQuery({queryKey:["zone_response_time",t.id],queryFn:()=>zoneAverageResponseTimeById({base_url:s,token:r,zoneId:t.id}),enabled:!!t?.id});return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},className:"w-[300px] bg-white dark:bg-slate-800 p-4 border-l rounded-lg border-gray-200 dark:border-slate-700 shadow-lg flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"items-center mb-3 p-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:Barangay,alt:a?.zone?.zone_name,className:"w-14 h-14 object-contain rounded-lg"}),a?jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a?.zone?.zone_name}):jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t?.zone_name})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 underline",children:"Categories"}),!a||!a.categories?.length?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No incident data available for this zone."}):jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"mt-2 border-r border-gray-200 dark:border-gray-700 pr-2",children:a.categories.map(P=>jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[P.category.category_name,": ",P.count]},P.category.id))}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Total incidents: ",a.zone_total]})]}),!S||S.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:"No Response Data."}):jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:["Avg response time:"," ",S.avg_response_time??"N/A"," mins"]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"absolute right-2 top-0 text-gray-500 hover:text-red-500 transition",children:""})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300"})]})},LocationDetails=({locationId:t,onClose:e})=>{const{token:n,base_url:r,darkMode:s}=useAppState(),{data:a,isLoading:S,isError:P}=useQuery({queryKey:["location_details",t],queryFn:()=>locationDetails({base_url:r,token:n,locationId:t}),enabled:!!t});if(S)return jsxRuntimeExports.jsx(motion.div,{className:"w-[300px] p-4 bg-white dark:bg-slate-800 rounded-lg shadow-md",initial:{opacity:0},animate:{opacity:1},children:jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Loading location details..."})});if(P||!a)return jsxRuntimeExports.jsx(motion.div,{className:"w-[300px] p-4 bg-white dark:bg-slate-800 rounded-lg shadow-md",initial:{opacity:0},animate:{opacity:1},children:jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:"Failed to load location details."})});const M=a?.location,N=M?.location_details,F=M?.reports_by_category||[];return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},className:"w-[320px] bg-white dark:bg-slate-800 p-4 border-l rounded-lg border-gray-200 dark:border-slate-700 shadow-lg relative flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:e,className:"absolute right-2 top-2 text-gray-500 hover:text-red-500 transition",children:""}),jsxRuntimeExports.jsxs("div",{className:"items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("img",{src:N?.landmark,alt:N?.location_name,className:"w-70 h-30 object-fit rounded-lg border"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:N?.location_name||"Unknown Location"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Zone: ",N?.zone?.zone_name||"N/A"]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-semibold",children:["Total Reports:"," ",jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:M?.total_reports??0})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 underline mb-1",children:"Reports by Category"}),F.length>0?jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:F.map(z=>jsxRuntimeExports.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300 flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:z.category_name}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:z.total})]},z.category_id))}):jsxRuntimeExports.jsx("p",{className:"text-sm italic text-gray-500 dark:text-gray-400",children:"No reports available."})]})]})},ReactMap=()=>{const{map_token:t,darkMode:e,map_styles:n,open:r,base_url:s,token:a}=useAppState(),[S,P]=reactExports.useState(!1),[M,N]=reactExports.useState(null),[F,z]=reactExports.useState({latitude:8.5107242,longitude:124.5851259,zoom:14}),[$,G]=reactExports.useState(null),[H,U]=reactExports.useState(""),[W,Y]=reactExports.useState(null),{data:Q=[],isLoading:K,isError:tt}=useZones(),{data:nt=[]}=useLocations(),[rt,ht]=reactExports.useState(""),{data:ct=[]}=useQuery({queryKey:["categories"],queryFn:()=>getCategories({base_url:s,token:a})}),mt=ct.find(kt=>kt.id===Number(rt));reactExports.useEffect(()=>{M&&z(kt=>({...kt,latitude:M.latitude,longitude:M.longitude,zoom:16,transitionDuration:800}))},[M]),reactExports.useEffect(()=>{$&&N(null)},[$]),reactExports.useEffect(()=>{M&&G(null)},[M]);const wt=Array.isArray(nt)?nt.filter(kt=>!kt.reports||kt.reports.length===0?!1:kt.reports.some(_t=>{const Vt=rt?_t.incident_type.category_id===Number(rt):!0,jt=H?_t.incident_type_id===Number(H):!0;return Vt&&jt})):[];return jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"w-full max-h-full flex",children:[K&&jsxRuntimeExports.jsx("div",{children:"Loading map zones..."}),tt&&jsxRuntimeExports.jsx("div",{children:"Failed to load zones."}),jsxRuntimeExports.jsx(AnimatePresence,{children:M&&jsxRuntimeExports.jsx(motion.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},transition:{duration:.3},className:`absolute z-50 dark:border-slate-700 ${r?"top-15 left-60":"top-15 left-20"}`,children:jsxRuntimeExports.jsx(ZoneDetails,{zone:M,onClose:()=>N(null)})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:$&&jsxRuntimeExports.jsx(motion.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},transition:{duration:.3},className:`absolute z-50 dark:border-slate-700 ${r?"top-15 left-60":"top-15 left-20"}`,children:jsxRuntimeExports.jsx(LocationDetails,{locationId:$,onClose:()=>G(null)})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-2 right-0 z-9999 flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"dark:bg-slate-800 bg-white/80 p-2 rounded",children:jsxRuntimeExports.jsxs("select",{name:"category",value:rt,onChange:kt=>{const _t=kt.target.value;ht(_t),U("")},className:"dark:bg-slate-700 bg-white/90 dark:text-white px-2 py-1 rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"--Select Category--"}),ct.map(kt=>jsxRuntimeExports.jsx("option",{value:kt.id,children:kt.category_name},kt.id))]})}),jsxRuntimeExports.jsx("div",{className:"dark:bg-slate-800 bg-white/90 p-2 rounded",children:jsxRuntimeExports.jsxs("select",{name:"incident",value:H,onChange:kt=>U(kt.target.value),className:"dark:bg-slate-700 bg-white/90 dark:text-white px-2 py-1 rounded",disabled:!rt&&rt!=="",children:[jsxRuntimeExports.jsx("option",{value:"",children:"--Select Incident--"}),mt?.incident_types?.map(kt=>jsxRuntimeExports.jsx("option",{value:kt.id,children:kt.incident_name},kt.id))]})})]}),jsxRuntimeExports.jsxs(Map$2,{...F,onMove:kt=>z(kt.viewState),mapboxAccessToken:t,mapStyle:e?n.dark:n.light,style:{width:"100%",height:"100%"},onLoad:kt=>{const _t=kt.target,Vt=()=>{console.log(" Map style fully loaded!"),P(!0),_t.off("idle",Vt)};_t.on("idle",Vt)},children:[S&&jsxRuntimeExports.jsxs(Source,{id:"igpit",type:"geojson",data:IgpitGeoFence,children:[jsxRuntimeExports.jsx(Layer,{id:"igpit-fill",source:"igpit",type:"fill",paint:{"fill-color":"#f97316","fill-opacity":.25}}),jsxRuntimeExports.jsx(Layer,{id:"igpit-outline",source:"igpit",type:"line",paint:{"line-color":"#f97316","line-width":2}})]}),wt.length>0?wt.map(kt=>jsxRuntimeExports.jsx(Marker,{longitude:Number(kt.longitude),latitude:Number(kt.latitude),onClick:()=>G(kt.id),children:jsxRuntimeExports.jsx("div",{style:{position:"relative",cursor:"pointer"},children:jsxRuntimeExports.jsx(IoLocationSharp,{size:24,color:"red"})})},kt.id)):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),Q.map(kt=>jsxRuntimeExports.jsx(Marker,{longitude:kt.longitude,latitude:kt.latitude,anchor:"bottom",children:jsxRuntimeExports.jsx("div",{onMouseEnter:()=>Y(kt.id),onMouseLeave:()=>Y(null),style:{position:"relative",cursor:"pointer"}})},kt.id))]})]}),jsxRuntimeExports.jsx("div",{className:"w-[280px] bg-slate-100 dark:bg-slate-900 p-3 overflow-y-auto hide-scrollbar",children:jsxRuntimeExports.jsx(ZoneList,{setSelectedZone:N})})]})},Map$1=()=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(motion.div,{layout:!0,exit:{opacity:0,y:-10},transition:{duration:.1},style:{height:"600px"},children:jsxRuntimeExports.jsx(ReactMap,{})})}),Search=({search:t,setSearch:e})=>jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"relative m-2",children:[jsxRuntimeExports.jsx(FaSearch,{className:"absolute top-1.5 left-2",size:20,color:"#22c55e"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:n=>e(n.target.value),className:`transition-all duration-300 text-sm text-gray-700 
                    dark:text-gray-300 dark:bg-gray-500 bg-gray-200 
                    dark:border-gray-600 border-2 border-gray-200 
                    rounded-md border-opacity-5 placeholder-gray-500 
                    dark:placeholder-gray-100 placeholder-opacity-50 
                    pl-10 pr-2 p-2 w-full
                `})]}),ViolatorsTable=()=>{const{base_url:t,token:e,darkMode:n}=useAppState(),r=useNavigate(),[s,a]=reactExports.useState(""),{data:S=[],isLoading:P,isError:M}=useQuery({queryKey:["violators"],queryFn:()=>getViolators({token:e,base_url:t})}),[N,F]=reactExports.useState(1),z=5,$=Math.ceil(S.length/z),H=S.filter(U=>{const W=s.toLowerCase(),Y=!isNaN(parseFloat(s))&&U.age<=parseFloat(s);return U.last_name.toLowerCase().includes(W)||U.first_name.toLowerCase().includes(W)||U?.zone?.zone_name.toLowerCase().includes(W)||Y}).slice((N-1)*z,N*z);return jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.1},className:"p-4 ml-0 w-full",children:[jsxRuntimeExports.jsx(Search,{search:s,setSearch:a}),jsxRuntimeExports.jsx("div",{className:`overflow-x-auto mt-4 rounded-lg shadow ${n?"bg-slate-900":"bg-white"}`,children:jsxRuntimeExports.jsxs("table",{className:`min-w-full mt-2 divide-y text-sm ${n?"divide-slate-700":"divide-gray-200"}`,children:[jsxRuntimeExports.jsx(motion.thead,{layout:!0,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.1},className:n?"bg-slate-800":"bg-gray-50",children:jsxRuntimeExports.jsx("tr",{children:["Photo","Name","Age","Address","Zone","Action"].map((U,W)=>jsxRuntimeExports.jsx("th",{className:`px-4 py-3 w-40 text-center text-xs font-medium uppercase tracking-wider ${n?"text-gray-200":"text-gray-600"}`,children:U},W))})}),P?jsxRuntimeExports.jsx("div",{className:"text-center text-white font-bold m-2",children:jsxRuntimeExports.jsx("h1",{children:"Loading.."})}):jsxRuntimeExports.jsx("tbody",{className:n?"bg-slate-900":"bg-white",children:H.map((U,W)=>jsxRuntimeExports.jsxs(motion.tr,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:W%2===0?n?"bg-slate-800":"bg-white":n?"bg-slate-900":"bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 flex justify-center items-center",children:jsxRuntimeExports.jsx("img",{src:U.photo,alt:U.first_name,className:"w-12 h-12 rounded-full object-cover border"})}),jsxRuntimeExports.jsxs("td",{className:n?"px-4 py-3 text-gray-200 text-center":"px-4 py-3 text-gray-700 text-center",children:[U.first_name," ",U.last_name]}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200 text-center":"px-4 py-3 text-gray-700 text-center",children:U.age}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200 text-center":"px-4 py-3 text-gray-700 text-center",children:U.address}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200 text-center":"px-4 py-3 text-gray-700 text-center",children:U.zone?.zone_name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>r(`/violators-details/${U.id}`),className:"px-3 py-1 text-xs font-medium bg-green-400 text-white rounded hover:bg-green-500 transition hover:cursor-pointer",children:"View"})})]},U.id))})]})}),$>1&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2 py-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>F(U=>U-1),disabled:N===1,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Prev"}),(()=>{const U=[];let W=Math.max(1,N-1),Y=Math.min($,W+2);Y-W<2&&(W=Math.max(1,Y-2)),W>1&&(U.push(jsxRuntimeExports.jsx("button",{onClick:()=>F(1),className:"px-3 py-1 rounded-lg text-sm font-semibold border bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all",children:"1"},1)),W>2&&U.push(jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"..."},"start-ellipsis")));for(let Q=W;Q<=Y;Q++)U.push(jsxRuntimeExports.jsx("button",{onClick:()=>F(Q),className:`px-3 py-1 rounded-lg text-sm font-semibold border transition-colors ${N===Q?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:Q},Q));return Y<$&&(Y<$-1&&U.push(jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"..."},"end-ellipsis")),U.push(jsxRuntimeExports.jsx("button",{onClick:()=>F($),className:"px-3 py-1 rounded-lg text-sm font-semibold border bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all",children:$},$))),U})(),jsxRuntimeExports.jsx("button",{onClick:()=>F(U=>U+1),disabled:N===$,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Next"})]})]})},Violators=()=>{const{open:t}=useAppState();return jsxRuntimeExports.jsx("div",{style:{display:"flex",margin:0},children:jsxRuntimeExports.jsx("div",{className:"flex flex-col flex-1 ml-0 transition-all duration-300",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(motion.h1,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},exit:{opacity:0,y:-10},className:"dark:text-white text-gray-700 font-medium text-2xl mt-2 ml-6",children:"Violators"}),jsxRuntimeExports.jsx(ViolatorsTable,{})]})})})},ReportTable=()=>{const{base_url:t,token:e,setCategories:n,darkMode:r,setReports:s}=useAppState(),[a,S]=reactExports.useState("all"),[P,M]=reactExports.useState("all"),[N,F]=reactExports.useState("all"),[z,$]=reactExports.useState("all"),[G,H]=reactExports.useState("all"),[U,W]=reactExports.useState(""),[Y,Q]=reactExports.useState("all"),[K,tt]=reactExports.useState(""),nt=useNavigate(),{data:rt,isLoading:ht}=useQuery({queryKey:["reports"],queryFn:()=>getReports({base_url:t,token:e}),onSuccess:Tt=>s(Tt)}),{data:ct}=useQuery({queryKey:["categories"],queryFn:()=>getCategories$1({base_url:t,token:e}),onSuccess:Tt=>n(Tt)}),{data:mt}=useZones();reactExports.useEffect(()=>{rt&&ct&&(s(rt),n(ct))},[rt,ct]);const[wt,kt]=reactExports.useState(1),_t=6,Vt=reactExports.useMemo(()=>{if(!rt||rt.length===0)return[];const Tt=rt.map(Ht=>new Date(Ht.date||Ht.created_at).getFullYear());return[...new Set(Tt)].sort((Ht,Ut)=>Ut-Ht)},[rt]),jt=Tt=>{if(!Tt)return"";const Ht=parseInt(Tt.split(":")[0],10);return Ht>=5&&Ht<12?"morning":Ht>=12&&Ht<17?"afternoon":Ht>=17&&Ht<21?"evening":"night"},At={1:[1,2,3],2:[4,5,6],3:[7,8,9],4:[10,11,12]},lt=["January","February","March","April","May","June","July","August","September","October","November","December"],yt=Y==="all"?lt:lt.filter((Tt,Ht)=>At[Y].includes(Ht+1)),st=Tt=>{S(Tt.target.value),F("all"),kt(1)},pt=rt?.filter(Tt=>{const Ht=new Date(Tt?.date||Tt?.created_at),Ut=Ht.getMonth()+1,xe=Ht.getFullYear(),Mt=a==="all"||Tt?.incident_type?.category?.id===parseInt(a),Ne=N==="all"||Tt?.incident_type?.id===parseInt(N),me=z==="all"||Ut===parseInt(z),Jt=G==="all"||jt(Tt?.time)===G,St=P==="all"||Tt?.location?.zone?.id===parseInt(P),ge=U===""||xe===parseInt(U),ee=Y==="all"||U!==""&&xe===parseInt(U)&&At[Y].includes(Ut),De=K.toLowerCase(),kn=Tt?.incident_type?.category?.category_name?.toLowerCase().includes(De)||Tt?.incident_type?.incident_name?.toLowerCase().includes(De)||Tt?.location?.zone?.zone_name?.toLowerCase().includes(De)||Tt?.location?.location_name?.toLowerCase().includes(De)||Tt?.user?.name?.toLowerCase().includes(De);return Mt&&Ne&&me&&Jt&&St&&ge&&ee&&kn})||[],dt=pt.length,xt=Math.ceil(dt/_t),Pt=(wt-1)*_t,Dt=pt.slice(Pt,Pt+_t);return reactExports.useEffect(()=>{kt(1)},[a,N,z,G,P,U,Y]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"w-full mb-4",children:[jsxRuntimeExports.jsx(Search,{search:K,setSearch:tt}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-2 ml-2",children:[jsxRuntimeExports.jsxs("select",{value:U,onChange:Tt=>{W(Tt.target.value),Q("all")},className:`p-2 rounded text-sm ${r?"bg-slate-700 text-gray-200":"bg-white"}`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Years"}),Vt.map(Tt=>jsxRuntimeExports.jsx("option",{value:Tt,children:Tt},Tt))]}),U&&jsxRuntimeExports.jsxs("select",{value:Y,onChange:Tt=>Q(Tt.target.value),className:`p-2 rounded text-sm ${r?"bg-slate-700 text-gray-200":"bg-white"}`,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Quarters"}),jsxRuntimeExports.jsx("option",{value:"1",children:"Q1 (JanMar)"}),jsxRuntimeExports.jsx("option",{value:"2",children:"Q2 (AprJun)"}),jsxRuntimeExports.jsx("option",{value:"3",children:"Q3 (JulSep)"}),jsxRuntimeExports.jsx("option",{value:"4",children:"Q4 (OctDec)"})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{className:"p-1",children:[jsxRuntimeExports.jsx("div",{className:`overflow-x-auto rounded-lg shadow ${r?"bg-slate-900":"bg-white"}`,children:jsxRuntimeExports.jsxs("table",{className:`min-w-full divide-y text-sm ${r?"divide-slate-700":"divide-gray-200"}`,children:[jsxRuntimeExports.jsx(motion.thead,{layout:!0,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20},className:r?"bg-slate-800":"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[["Category","Incident","Month","Time Frame"].map((Tt,Ht)=>jsxRuntimeExports.jsxs("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${r?"text-gray-200":"text-gray-600"}`,children:[Tt==="Category"&&jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${r?"bg-slate-700 text-gray-200":"bg-white"}`,value:a,onChange:st,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Category"}),ct?.map(Ut=>jsxRuntimeExports.jsx("option",{value:Ut.id,children:Ut.category_name},Ut.id))]}),Tt==="Incident"&&jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${r?"bg-slate-700 text-gray-200":"bg-white"}`,value:N,onChange:Ut=>F(Ut.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Incident"}),ct?.find(Ut=>a==="all"||Ut.id===parseInt(a))?.incident_types?.map(Ut=>jsxRuntimeExports.jsx("option",{value:Ut.id,children:Ut.incident_name},Ut.id))]}),Tt==="Month"&&jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${r?"bg-slate-700 text-gray-200":"bg-white"}`,value:z,onChange:Ut=>$(Ut.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Month"}),yt.map((Ut,xe)=>{const Mt=lt.indexOf(Ut);return jsxRuntimeExports.jsx("option",{value:Mt+1,children:Ut},Ut)})]}),Tt==="Time Frame"&&jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${r?"bg-slate-700 text-gray-200":"bg-white"}`,value:G,onChange:Ut=>H(Ut.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Time"}),jsxRuntimeExports.jsx("option",{value:"morning",children:"Morning (5AM12PM)"}),jsxRuntimeExports.jsx("option",{value:"afternoon",children:"Afternoon (12PM5PM)"}),jsxRuntimeExports.jsx("option",{value:"evening",children:"Evening (5PM9PM)"}),jsxRuntimeExports.jsx("option",{value:"night",children:"Night (9PM5AM)"})]})]},Ht)),jsxRuntimeExports.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${r?"text-gray-200":"text-gray-600"}`,children:jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${r?"bg-slate-700 text-gray-200":"bg-white"}`,value:P,onChange:Tt=>M(Tt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Zones"}),mt?.map(Tt=>jsxRuntimeExports.jsx("option",{value:Tt.id,children:Tt.zone_name},Tt.id))]})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-200",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-200",children:"Filed By"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-600 dark:text-gray-200",children:"Action"})]})}),ht?jsxRuntimeExports.jsx("tbody",{children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"8",className:"text-center py-6 text-gray-400 font-semibold",children:"Loading reports..."})})}):jsxRuntimeExports.jsx("tbody",{children:Dt.map((Tt,Ht)=>jsxRuntimeExports.jsxs(motion.tr,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20},className:`${Ht%2===0?r?"bg-slate-800":"bg-white":r?"bg-slate-900":"bg-gray-50"}`,children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-200",children:Tt?.incident_type?.category?.category_name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-200",children:Tt?.incident_type?.incident_name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-200",children:Tt?.date}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-200 text-center",children:new Date(`1970-01-01T${Tt?.time}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-200",children:Tt?.location?.zone?.zone_name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-200",children:Tt?.location?.location_name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-200",children:Tt?.user?.name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>nt(`/report-details/${Tt.id}`),className:"px-3 py-1 text-xs font-medium bg-green-400 text-white rounded hover:bg-green-500 transition",children:"View"})})]},Tt.id))})]})}),xt>1&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2 py-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>kt(Tt=>Tt-1),disabled:wt===1,className:"px-3 py-1 rounded-lg border text-sm font-semibold bg-green-500 text-white hover:bg-green-400 disabled:opacity-50 transition-all",children:"Prev"}),Array.from({length:xt},(Tt,Ht)=>jsxRuntimeExports.jsx("button",{onClick:()=>kt(Ht+1),className:`px-3 py-1 rounded-lg text-sm font-semibold border transition-colors ${wt===Ht+1?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:Ht+1},Ht+1)),jsxRuntimeExports.jsx("button",{onClick:()=>kt(Tt=>Tt+1),disabled:wt===xt,className:"px-3 py-1 rounded-lg border text-sm font-semibold bg-green-500 text-white hover:bg-green-400 disabled:opacity-50 transition-all",children:"Next"})]})]})]})},Reports=()=>{const{open:t}=useAppState();return jsxRuntimeExports.jsx("div",{style:{display:"flex",margin:0},children:jsxRuntimeExports.jsx("div",{className:"flex flex-col flex-1 ml-0 transition-all duration-300",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(motion.h1,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},exit:{opacity:0,y:-10},className:"dark:text-white text-gray-700 font-medium text-2xl mt-2 ml-6",children:"Reports"}),jsxRuntimeExports.jsx(ReportTable,{})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round(t){return t+.5|0}const lim=(t,e,n)=>Math.max(Math.min(t,n),e);function p2b(t){return lim(round(t*2.55),0,255)}function n2b(t){return lim(round(t*255),0,255)}function b2n(t){return lim(round(t/2.55)/100,0,1)}function n2p(t){return lim(round(t*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=t=>hex[t&15],h2=t=>hex[(t&240)>>4]+hex[t&15],eq=t=>(t&240)>>4===(t&15),isShort=t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a);function hexParse(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&map$1[t[1]]*17,g:255&map$1[t[2]]*17,b:255&map$1[t[3]]*17,a:e===5?map$1[t[4]]*17:255}:(e===7||e===9)&&(n={r:map$1[t[1]]<<4|map$1[t[2]],g:map$1[t[3]]<<4|map$1[t[4]],b:map$1[t[5]]<<4|map$1[t[6]],a:e===9?map$1[t[7]]<<4|map$1[t[8]]:255})),n}const alpha=(t,e)=>t<255?e(t):"";function hexString(t){var e=isShort(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+alpha(t.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,n){const r=e*Math.min(n,1-n),s=(a,S=(a+t/30)%12)=>n-r*Math.max(Math.min(S-3,9-S,1),-1);return[s(0),s(8),s(4)]}function hsv2rgbn(t,e,n){const r=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function hwb2rgbn(t,e,n){const r=hsl2rgbn(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function hueValue(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function rgb2hsl(t){const n=t.r/255,r=t.g/255,s=t.b/255,a=Math.max(n,r,s),S=Math.min(n,r,s),P=(a+S)/2;let M,N,F;return a!==S&&(F=a-S,N=P>.5?F/(2-a-S):F/(a+S),M=hueValue(n,r,s,F,a),M=M*60+.5),[M|0,N||0,P]}function calln(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(n2b)}function hsl2rgb(t,e,n){return calln(hsl2rgbn,t,e,n)}function hwb2rgb(t,e,n){return calln(hwb2rgbn,t,e,n)}function hsv2rgb(t,e,n){return calln(hsv2rgbn,t,e,n)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=HUE_RE.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?p2b(+e[5]):n2b(+e[5]));const s=hue(+e[2]),a=+e[3]/100,S=+e[4]/100;return e[1]==="hwb"?r=hwb2rgb(s,a,S):e[1]==="hsv"?r=hsv2rgb(s,a,S):r=hsl2rgb(s,a,S),{r:r[0],g:r[1],b:r[2],a:n}}function rotate(t,e){var n=rgb2hsl(t);n[0]=hue(n[0]+e),n=hsl2rgb(n),t.r=n[0],t.g=n[1],t.b=n[2]}function hslString(t){if(!t)return;const e=rgb2hsl(t),n=e[0],r=n2p(e[1]),s=n2p(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${b2n(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const t={},e=Object.keys(names$1),n=Object.keys(map);let r,s,a,S,P;for(r=0;r<e.length;r++){for(S=P=e[r],s=0;s<n.length;s++)a=n[s],P=P.replace(a,map[a]);a=parseInt(names$1[S],16),t[P]=[a>>16&255,a>>8&255,a&255]}return t}let names;function nameParse(t){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(t){const e=RGB_RE.exec(t);let n=255,r,s,a;if(e){if(e[7]!==r){const S=+e[7];n=e[8]?p2b(S):lim(S*255,0,255)}return r=+e[1],s=+e[3],a=+e[5],r=255&(e[2]?p2b(r):lim(r,0,255)),s=255&(e[4]?p2b(s):lim(s,0,255)),a=255&(e[6]?p2b(a):lim(a,0,255)),{r,g:s,b:a,a:n}}}function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function interpolate$1(t,e,n){const r=from(b2n(t.r)),s=from(b2n(t.g)),a=from(b2n(t.b));return{r:n2b(to(r+n*(from(b2n(e.r))-r))),g:n2b(to(s+n*(from(b2n(e.g))-s))),b:n2b(to(a+n*(from(b2n(e.b))-a))),a:t.a+n*(e.a-t.a)}}function modHSL(t,e,n){if(t){let r=rgb2hsl(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=hsl2rgb(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function clone$1(t,e){return t&&Object.assign(e||{},t)}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone$1(t,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(t){return t.charAt(0)==="r"?rgbParse(t):hueParse(t)}class Color{constructor(e){if(e instanceof Color)return e;const n=typeof e;let r;n==="object"?r=fromObject(e):n==="string"&&(r=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let a;const S=n===a?.5:n,P=2*S-1,M=r.a-s.a,N=((P*M===-1?P:(P+M)/(1+P*M))+1)/2;a=1-N,r.r=255&N*r.r+a*s.r+.5,r.g=255&N*r.g+a*s.g+.5,r.b=255&N*r.b+a*s.b+.5,r.a=S*r.a+(1-S)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,n)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let t=0;return()=>t++})();function isNullOrUndef(t){return t==null}function isArray(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function isNumberFinite(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return typeof t>"u"?e:t}const toPercentage=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,toDimension=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function each(t,e,n,r){let s,a,S;if(isArray(t))for(a=t.length,s=0;s<a;s++)e.call(n,t[s],s);else if(isObject(t))for(S=Object.keys(t),a=S.length,s=0;s<a;s++)e.call(n,t[S[s]],S[s])}function _elementsEqual(t,e){let n,r,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function clone(t){if(isArray(t))return t.map(clone);if(isObject(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=clone(t[n[s]]);return e}return t}function isValidKey(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _merger(t,e,n,r){if(!isValidKey(t))return;const s=e[t],a=n[t];isObject(s)&&isObject(a)?merge$1(s,a,r):e[t]=clone(a)}function merge$1(t,e,n){const r=isArray(e)?e:[e],s=r.length;if(!isObject(t))return t;n=n||{};const a=n.merger||_merger;let S;for(let P=0;P<s;++P){if(S=r[P],!isObject(S))continue;const M=Object.keys(S);for(let N=0,F=M.length;N<F;++N)a(M[N],t,S,n)}return t}function mergeIf(t,e){return merge$1(t,e,{merger:_mergerIf})}function _mergerIf(t,e,n){if(!isValidKey(t))return;const r=e[t],s=n[t];isObject(r)&&isObject(s)?mergeIf(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone(s))}const keyResolvers={"":t=>t,x:t=>t.x,y:t=>t.y};function _splitKey(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function _getKeyResolver(t){const e=_splitKey(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function resolveObjectKey(t,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(t)}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined=t=>typeof t<"u",isFunction=t=>typeof t=="function",setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function _isClickEvent(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(t,e,n){return Math.abs(t-e)<n}function niceNum(t){const e=Math.round(t);t=almostEquals(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(log10(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function _factorize(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function isNonPrimitive(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function isNumber$1(t){return!isNonPrimitive(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function almostWhole(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function _setMinAndMaxByKey(t,e,n){let r,s,a;for(r=0,s=t.length;r<s;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function _decimalPlaces(t){if(!isNumberFinite(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function getAngleFromPoint(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*PI&&(a+=TAU),{angle:a,distance:s}}function distanceBetweenPoints(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _angleDiff(t,e){return(t-e+PITAU)%TAU-PI}function _normalizeAngle(t){return(t%TAU+TAU)%TAU}function _angleBetween(t,e,n,r){const s=_normalizeAngle(t),a=_normalizeAngle(e),S=_normalizeAngle(n),P=_normalizeAngle(a-s),M=_normalizeAngle(S-s),N=_normalizeAngle(s-a),F=_normalizeAngle(s-S);return s===a||s===S||r&&a===S||P>M&&N<F}function _limitValue(t,e,n){return Math.max(e,Math.min(n,t))}function _int16Range(t){return _limitValue(t,-32768,32767)}function _isBetween(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function _lookup(t,e,n){n=n||(S=>t[S]<e);let r=t.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,n(a)?s=a:r=a;return{lo:s,hi:r}}const _lookupByKey=(t,e,n,r)=>_lookup(t,n,r?s=>{const a=t[s][e];return a<n||a===n&&t[s+1][e]===n}:s=>t[s][e]<n),_rlookupByKey=(t,e,n)=>_lookup(t,n,r=>t[r][e]>=n);function _filterBetween(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(n=>{const r="_onData"+_capitalize(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const S=s.apply(this,a);return t._chartjs.listeners.forEach(P=>{typeof P[r]=="function"&&P[r](...a)}),S}})})}function unlistenArrayEvents(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(arrayEvents.forEach(a=>{delete t[a]}),delete t._chartjs)}function _arrayUnique(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const requestAnimFrame=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function throttled(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,requestAnimFrame.call(window,()=>{r=!1,t.apply(e,n)}))}}function debounce(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const _toLeftRightCenter=t=>t==="start"?"left":t==="end"?"right":"center",_alignStartEnd=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_textX=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function _getStartAndCountOfVisiblePoints(t,e,n){const r=e.length;let s=0,a=r;if(t._sorted){const{iScale:S,vScale:P,_parsed:M}=t,N=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,F=S.axis,{min:z,max:$,minDefined:G,maxDefined:H}=S.getUserBounds();if(G){if(s=Math.min(_lookupByKey(M,F,z).lo,n?r:_lookupByKey(e,F,S.getPixelForValue(z)).lo),N){const U=M.slice(0,s+1).reverse().findIndex(W=>!isNullOrUndef(W[P.axis]));s-=Math.max(0,U)}s=_limitValue(s,0,r-1)}if(H){let U=Math.max(_lookupByKey(M,S.axis,$,!0).hi+1,n?0:_lookupByKey(e,F,S.getPixelForValue($),!0).hi+1);if(N){const W=M.slice(U-1).findIndex(Y=>!isNullOrUndef(Y[P.axis]));U+=Math.max(0,W)}a=_limitValue(U,s,r)-s}else a=r-s}return{start:s,count:a}}function _scaleRangesChanged(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),a}const atEdge=t=>t===0||t===1,elasticIn=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*TAU/n)),elasticOut=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*TAU/n)+1,effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){return atEdge(t)?t:t<.5?.5*elasticIn(t*2,.1125,.45):.5+.5*elasticOut(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?effects.easeInBounce(t*2)*.5:effects.easeOutBounce(t*2-1)*.5+.5};function isPatternOrGradient(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(t){return isPatternOrGradient(t)?t:new Color(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:new Color(t).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(t,e){e=e||{};const n=t+JSON.stringify(e);let r=intlCache.get(n);return r||(r=new Intl.NumberFormat(t,e),intlCache.set(n,r)),r}function formatNumber(t,e,n){return getNumberFormat(e,n).format(t)}const formatters={values(t){return isArray(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,a=t;if(n.length>1){const N=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(N<1e-4||N>1e15)&&(s="scientific"),a=calculateDelta(t,n)}const S=log10(Math.abs(a)),P=isNaN(S)?1:Math.max(Math.min(-1*Math.floor(S),20),0),M={notation:s,minimumFractionDigits:P,maximumFractionDigits:P};return Object.assign(M,this.options.ticks.format),formatNumber(t,r,M)}};function calculateDelta(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ticks={formatters};function applyScaleDefaults(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function set(t,e,n){return typeof e=="string"?merge$1(getScope$1(t,e),n):merge$1(getScope$1(t,""),e)}class Defaults{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>getHoverColor(s.backgroundColor),this.hoverBorderColor=(r,s)=>getHoverColor(s.borderColor),this.hoverColor=(r,s)=>getHoverColor(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return set(this,e,n)}get(e){return getScope$1(this,e)}describe(e,n){return set(descriptors,e,n)}override(e,n){return set(overrides,e,n)}route(e,n,r,s){const a=getScope$1(this,e),S=getScope$1(this,r),P="_"+n;Object.defineProperties(a,{[P]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const M=this[P],N=S[s];return isObject(M)?Object.assign({},N,M):valueOrDefault(M,N)},set(M){this[P]=M}}})}apply(e){e.forEach(n=>n(this))}}var defaults=new Defaults({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _measureText(t,e,n,r,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>r&&(r=a),r}function _alignPixel(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function clearCanvas(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function drawPoint(t,e,n,r){drawPointLegend(t,e,n,r,null)}function drawPointLegend(t,e,n,r,s){let a,S,P,M,N,F,z,$;const G=e.pointStyle,H=e.rotation,U=e.radius;let W=(H||0)*RAD_PER_DEG;if(G&&typeof G=="object"&&(a=G.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(W),t.drawImage(G,-G.width/2,-G.height/2,G.width,G.height),t.restore();return}if(!(isNaN(U)||U<=0)){switch(t.beginPath(),G){default:s?t.ellipse(n,r,s/2,U,0,0,TAU):t.arc(n,r,U,0,TAU),t.closePath();break;case"triangle":F=s?s/2:U,t.moveTo(n+Math.sin(W)*F,r-Math.cos(W)*U),W+=TWO_THIRDS_PI,t.lineTo(n+Math.sin(W)*F,r-Math.cos(W)*U),W+=TWO_THIRDS_PI,t.lineTo(n+Math.sin(W)*F,r-Math.cos(W)*U),t.closePath();break;case"rectRounded":N=U*.516,M=U-N,S=Math.cos(W+QUARTER_PI)*M,z=Math.cos(W+QUARTER_PI)*(s?s/2-N:M),P=Math.sin(W+QUARTER_PI)*M,$=Math.sin(W+QUARTER_PI)*(s?s/2-N:M),t.arc(n-z,r-P,N,W-PI,W-HALF_PI),t.arc(n+$,r-S,N,W-HALF_PI,W),t.arc(n+z,r+P,N,W,W+HALF_PI),t.arc(n-$,r+S,N,W+HALF_PI,W+PI),t.closePath();break;case"rect":if(!H){M=Math.SQRT1_2*U,F=s?s/2:M,t.rect(n-F,r-M,2*F,2*M);break}W+=QUARTER_PI;case"rectRot":z=Math.cos(W)*(s?s/2:U),S=Math.cos(W)*U,P=Math.sin(W)*U,$=Math.sin(W)*(s?s/2:U),t.moveTo(n-z,r-P),t.lineTo(n+$,r-S),t.lineTo(n+z,r+P),t.lineTo(n-$,r+S),t.closePath();break;case"crossRot":W+=QUARTER_PI;case"cross":z=Math.cos(W)*(s?s/2:U),S=Math.cos(W)*U,P=Math.sin(W)*U,$=Math.sin(W)*(s?s/2:U),t.moveTo(n-z,r-P),t.lineTo(n+z,r+P),t.moveTo(n+$,r-S),t.lineTo(n-$,r+S);break;case"star":z=Math.cos(W)*(s?s/2:U),S=Math.cos(W)*U,P=Math.sin(W)*U,$=Math.sin(W)*(s?s/2:U),t.moveTo(n-z,r-P),t.lineTo(n+z,r+P),t.moveTo(n+$,r-S),t.lineTo(n-$,r+S),W+=QUARTER_PI,z=Math.cos(W)*(s?s/2:U),S=Math.cos(W)*U,P=Math.sin(W)*U,$=Math.sin(W)*(s?s/2:U),t.moveTo(n-z,r-P),t.lineTo(n+z,r+P),t.moveTo(n+$,r-S),t.lineTo(n-$,r+S);break;case"line":S=s?s/2:Math.cos(W)*U,P=Math.sin(W)*U,t.moveTo(n-S,r-P),t.lineTo(n+S,r+P);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(W)*(s?s/2:U),r+Math.sin(W)*U);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function _steppedLineTo(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function _bezierCurveTo(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function decorateText(t,e,n,r,s){if(s.strikethrough||s.underline){const a=t.measureText(r),S=e-a.actualBoundingBoxLeft,P=e+a.actualBoundingBoxRight,M=n-a.actualBoundingBoxAscent,N=n+a.actualBoundingBoxDescent,F=s.strikethrough?(M+N)/2:N;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(S,F),t.lineTo(P,F),t.stroke()}}function drawBackdrop(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function renderText(t,e,n,r,s,a={}){const S=isArray(e)?e:[e],P=a.strokeWidth>0&&a.strokeColor!=="";let M,N;for(t.save(),t.font=s.string,setRenderOpts(t,a),M=0;M<S.length;++M)N=S[M],a.backdrop&&drawBackdrop(t,a.backdrop),P&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),isNullOrUndef(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(N,n,r,a.maxWidth)),t.fillText(N,n,r,a.maxWidth),decorateText(t,n,r,N,a),r+=Number(s.lineHeight);t.restore()}function addRoundedRectPath(t,e){const{x:n,y:r,w:s,h:a,radius:S}=e;t.arc(n+S.topLeft,r+S.topLeft,S.topLeft,1.5*PI,PI,!0),t.lineTo(n,r+a-S.bottomLeft),t.arc(n+S.bottomLeft,r+a-S.bottomLeft,S.bottomLeft,PI,HALF_PI,!0),t.lineTo(n+s-S.bottomRight,r+a),t.arc(n+s-S.bottomRight,r+a-S.bottomRight,S.bottomRight,HALF_PI,0,!0),t.lineTo(n+s,r+S.topRight),t.arc(n+s-S.topRight,r+S.topRight,S.topRight,0,-HALF_PI,!0),t.lineTo(n+S.topLeft,r)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(t,e){const n=(""+t).match(LINE_HEIGHT);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const numberOrZero=t=>+t||0;function _readValueToProps(t,e){const n={},r=isObject(e),s=r?Object.keys(e):e,a=isObject(t)?r?S=>valueOrDefault(t[S],t[e[S]]):S=>t[S]:()=>t;for(const S of s)n[S]=numberOrZero(a(S));return n}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||defaults.font;let n=valueOrDefault(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=valueOrDefault(t.style,e.style);r&&!(""+r).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:valueOrDefault(t.weight,e.weight),string:""};return s.string=toFontString(s),s}function resolve(t,e,n,r){let s,a,S;for(s=0,a=t.length;s<a;++s)if(S=t[s],S!==void 0&&S!==void 0)return S}function _addGrace(t,e,n){const{min:r,max:s}=t,a=toDimension(e,(s-r)/2),S=(P,M)=>n&&P===0?0:P+M;return{min:S(r,-Math.abs(a)),max:S(s,a)}}function createContext(t,e){return Object.assign(Object.create(t),e)}function _createResolver(t,e=[""],n,r,s=()=>t[0]){const a=n||t;typeof r>"u"&&(r=_resolve("_fallback",t));const S={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:s,override:P=>_createResolver([P,...t],e,a,r)};return new Proxy(S,{deleteProperty(P,M){return delete P[M],delete P._keys,delete t[0][M],!0},get(P,M){return _cached(P,M,()=>_resolveWithPrefixes(M,e,t,P))},getOwnPropertyDescriptor(P,M){return Reflect.getOwnPropertyDescriptor(P._scopes[0],M)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(P,M){return getKeysFromAllScopes(P).includes(M)},ownKeys(P){return getKeysFromAllScopes(P)},set(P,M,N){const F=P._storage||(P._storage=s());return P[M]=F[M]=N,delete P._keys,!0}})}function _attachContext(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_descriptors(t,r),setContext:a=>_attachContext(t,a,n,r),override:a=>_attachContext(t.override(a),e,n,r)};return new Proxy(s,{deleteProperty(a,S){return delete a[S],delete t[S],!0},get(a,S,P){return _cached(a,S,()=>_resolveWithContext(a,S,P))},getOwnPropertyDescriptor(a,S){return a._descriptors.allKeys?Reflect.has(t,S)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,S)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,S){return Reflect.has(t,S)},ownKeys(){return Reflect.ownKeys(t)},set(a,S,P){return t[S]=P,delete a[S],!0}})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:isFunction(n)?n:()=>n,isIndexable:isFunction(r)?r:()=>r}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function _resolveWithContext(t,e,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:S}=t;let P=r[e];return isFunction(P)&&S.isScriptable(e)&&(P=_resolveScriptable(e,P,t,n)),isArray(P)&&P.length&&(P=_resolveArray(e,P,t,S.isIndexable)),needsSubResolver(e,P)&&(P=_attachContext(P,s,a&&a[e],S)),P}function _resolveScriptable(t,e,n,r){const{_proxy:s,_context:a,_subProxy:S,_stack:P}=n;if(P.has(t))throw new Error("Recursion detected: "+Array.from(P).join("->")+"->"+t);P.add(t);let M=e(a,S||r);return P.delete(t),needsSubResolver(t,M)&&(M=createSubResolver(s._scopes,s,t,M)),M}function _resolveArray(t,e,n,r){const{_proxy:s,_context:a,_subProxy:S,_descriptors:P}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(isObject(e[0])){const M=e,N=s._scopes.filter(F=>F!==M);e=[];for(const F of M){const z=createSubResolver(N,s,t,F);e.push(_attachContext(z,a,S&&S[t],P))}}return e}function resolveFallback(t,e,n){return isFunction(t)?t(e,n):t}const getScope=(t,e)=>t===!0?e:typeof t=="string"?resolveObjectKey(e,t):void 0;function addScopes(t,e,n,r,s){for(const a of e){const S=getScope(n,a);if(S){t.add(S);const P=resolveFallback(S._fallback,n,s);if(typeof P<"u"&&P!==n&&P!==r)return P}else if(S===!1&&typeof r<"u"&&n!==r)return null}return!1}function createSubResolver(t,e,n,r){const s=e._rootScopes,a=resolveFallback(e._fallback,n,r),S=[...t,...s],P=new Set;P.add(r);let M=addScopesFromKey(P,S,n,a||n,r);return M===null||typeof a<"u"&&a!==n&&(M=addScopesFromKey(P,S,a,M,r),M===null)?!1:_createResolver(Array.from(P),[""],s,a,()=>subGetTarget(e,n,r))}function addScopesFromKey(t,e,n,r,s){for(;n;)n=addScopes(t,e,n,r,s);return n}function subGetTarget(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return isArray(s)&&isObject(n)?n:s||{}}function _resolveWithPrefixes(t,e,n,r){let s;for(const a of e)if(s=_resolve(readKey(a,t),n),typeof s<"u")return needsSubResolver(t,s)?createSubResolver(n,r,t,s):s}function _resolve(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=resolveKeysFromAllScopes(t._scopes)),e}function resolveKeysFromAllScopes(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const EPSILON=Number.EPSILON||1e-14,getPoint=(t,e)=>e<t.length&&!t[e].skip&&t[e],getValueAxis=t=>t==="x"?"y":"x";function splineCurve(t,e,n,r){const s=t.skip?e:t,a=e,S=n.skip?e:n,P=distanceBetweenPoints(a,s),M=distanceBetweenPoints(S,a);let N=P/(P+M),F=M/(P+M);N=isNaN(N)?0:N,F=isNaN(F)?0:F;const z=r*N,$=r*F;return{previous:{x:a.x-z*(S.x-s.x),y:a.y-z*(S.y-s.y)},next:{x:a.x+$*(S.x-s.x),y:a.y+$*(S.y-s.y)}}}function monotoneAdjust(t,e,n){const r=t.length;let s,a,S,P,M,N=getPoint(t,0);for(let F=0;F<r-1;++F)if(M=N,N=getPoint(t,F+1),!(!M||!N)){if(almostEquals(e[F],0,EPSILON)){n[F]=n[F+1]=0;continue}s=n[F]/e[F],a=n[F+1]/e[F],P=Math.pow(s,2)+Math.pow(a,2),!(P<=9)&&(S=3/Math.sqrt(P),n[F]=s*S*e[F],n[F+1]=a*S*e[F])}}function monotoneCompute(t,e,n="x"){const r=getValueAxis(n),s=t.length;let a,S,P,M=getPoint(t,0);for(let N=0;N<s;++N){if(S=P,P=M,M=getPoint(t,N+1),!P)continue;const F=P[n],z=P[r];S&&(a=(F-S[n])/3,P[`cp1${n}`]=F-a,P[`cp1${r}`]=z-a*e[N]),M&&(a=(M[n]-F)/3,P[`cp2${n}`]=F+a,P[`cp2${r}`]=z+a*e[N])}}function splineCurveMonotone(t,e="x"){const n=getValueAxis(e),r=t.length,s=Array(r).fill(0),a=Array(r);let S,P,M,N=getPoint(t,0);for(S=0;S<r;++S)if(P=M,M=N,N=getPoint(t,S+1),!!M){if(N){const F=N[e]-M[e];s[S]=F!==0?(N[n]-M[n])/F:0}a[S]=P?N?sign(s[S-1])!==sign(s[S])?0:(s[S-1]+s[S])/2:s[S-1]:s[S]}monotoneAdjust(t,s,a),monotoneCompute(t,a,e)}function capControlPoint(t,e,n){return Math.max(Math.min(t,n),e)}function capBezierPoints(t,e){let n,r,s,a,S,P=_isPointInArea(t[0],e);for(n=0,r=t.length;n<r;++n)S=a,a=P,P=n<r-1&&_isPointInArea(t[n+1],e),a&&(s=t[n],S&&(s.cp1x=capControlPoint(s.cp1x,e.left,e.right),s.cp1y=capControlPoint(s.cp1y,e.top,e.bottom)),P&&(s.cp2x=capControlPoint(s.cp2x,e.left,e.right),s.cp2y=capControlPoint(s.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(t,e,n,r,s){let a,S,P,M;if(e.spanGaps&&(t=t.filter(N=>!N.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(t,s);else{let N=r?t[t.length-1]:t[0];for(a=0,S=t.length;a<S;++a)P=t[a],M=splineCurve(N,P,t[Math.min(a+1,S-(r?0:1))%S],e.tension),P.cp1x=M.previous.x,P.cp1y=M.previous.y,P.cp2x=M.next.x,P.cp2y=M.next.y,N=P}e.capBezierPoints&&capBezierPoints(t,n)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const getComputedStyle$1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function getStyle(t,e){return getComputedStyle$1(t).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=positions[s];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const useOffsetPos=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function getCanvasPosition(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=r;let S=!1,P,M;if(useOffsetPos(s,a,t.target))P=s,M=a;else{const N=e.getBoundingClientRect();P=r.clientX-N.left,M=r.clientY-N.top,S=!0}return{x:P,y:M,box:S}}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=getComputedStyle$1(n),a=s.boxSizing==="border-box",S=getPositionedStyle(s,"padding"),P=getPositionedStyle(s,"border","width"),{x:M,y:N,box:F}=getCanvasPosition(t,n),z=S.left+(F&&P.left),$=S.top+(F&&P.top);let{width:G,height:H}=e;return a&&(G-=S.width+P.width,H-=S.height+P.height),{x:Math.round((M-z)/G*n.width/r),y:Math.round((N-$)/H*n.height/r)}}function getContainerSize(t,e,n){let r,s;if(e===void 0||n===void 0){const a=t&&_getParentNode(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const S=a.getBoundingClientRect(),P=getComputedStyle$1(a),M=getPositionedStyle(P,"border","width"),N=getPositionedStyle(P,"padding");e=S.width-N.width-M.width,n=S.height-N.height-M.height,r=parseMaxStyle(P.maxWidth,a,"clientWidth"),s=parseMaxStyle(P.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||INFINITY,maxHeight:s||INFINITY}}const round1=t=>Math.round(t*10)/10;function getMaximumSize(t,e,n,r){const s=getComputedStyle$1(t),a=getPositionedStyle(s,"margin"),S=parseMaxStyle(s.maxWidth,t,"clientWidth")||INFINITY,P=parseMaxStyle(s.maxHeight,t,"clientHeight")||INFINITY,M=getContainerSize(t,e,n);let{width:N,height:F}=M;if(s.boxSizing==="content-box"){const $=getPositionedStyle(s,"border","width"),G=getPositionedStyle(s,"padding");N-=G.width+$.width,F-=G.height+$.height}return N=Math.max(0,N-a.width),F=Math.max(0,r?N/r:F-a.height),N=round1(Math.min(N,S,M.maxWidth)),F=round1(Math.min(F,P,M.maxHeight)),N&&!F&&(F=round1(N/2)),(e!==void 0||n!==void 0)&&r&&M.height&&F>M.height&&(F=M.height,N=round1(Math.floor(F*r))),{width:N,height:F}}function retinaScale(t,e,n){const r=e||1,s=Math.floor(t.height*r),a=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const S=t.canvas;return S.style&&(n||!S.style.height&&!S.style.width)&&(S.style.height=`${t.height}px`,S.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||S.height!==s||S.width!==a?(t.currentDevicePixelRatio=r,S.height=s,S.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const supportsEventListenerOptions=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function readUsedSize(t,e){const n=getStyle(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function _pointInLine(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _steppedInterpolation(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function _bezierInterpolation(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},S=_pointInLine(t,s,n),P=_pointInLine(s,a,n),M=_pointInLine(a,e,n),N=_pointInLine(S,P,n),F=_pointInLine(P,M,n);return _pointInLine(N,F,n)}const getRightToLeftAdapter=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},getLeftToRightAdapter=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function getRtlAdapter(t,e,n){return t?getRightToLeftAdapter(e,n):getLeftToRightAdapter()}function overrideTextDirection(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function restoreTextDirection(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(t){return t==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,n)=>e-n,normalize:e=>e}}function normalizeSegment({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function getSegment(t,e,n){const{property:r,start:s,end:a}=n,{between:S,normalize:P}=propertyFn(r),M=e.length;let{start:N,end:F,loop:z}=t,$,G;if(z){for(N+=M,F+=M,$=0,G=M;$<G&&S(P(e[N%M][r]),s,a);++$)N--,F--;N%=M,F%=M}return F<N&&(F+=M),{start:N,end:F,loop:z,style:t.style}}function _boundSegment(t,e,n){if(!n)return[t];const{property:r,start:s,end:a}=n,S=e.length,{compare:P,between:M,normalize:N}=propertyFn(r),{start:F,end:z,loop:$,style:G}=getSegment(t,e,n),H=[];let U=!1,W=null,Y,Q,K;const tt=()=>M(s,K,Y)&&P(s,K)!==0,nt=()=>P(a,Y)===0||M(a,K,Y),rt=()=>U||tt(),ht=()=>!U||nt();for(let ct=F,mt=F;ct<=z;++ct)Q=e[ct%S],!Q.skip&&(Y=N(Q[r]),Y!==K&&(U=M(Y,s,a),W===null&&rt()&&(W=P(Y,s)===0?ct:mt),W!==null&&ht()&&(H.push(normalizeSegment({start:W,end:ct,loop:$,count:S,style:G})),W=null),mt=ct,K=Y));return W!==null&&H.push(normalizeSegment({start:W,end:z,loop:$,count:S,style:G})),H}function _boundSegments(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const a=_boundSegment(r[s],t.points,e);a.length&&n.push(...a)}return n}function findStartAndEnd(t,e,n,r){let s=0,a=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(a+=s);a>s&&t[a%e].skip;)a--;return a%=e,{start:s,end:a}}function solidSegments(t,e,n,r){const s=t.length,a=[];let S=e,P=t[e],M;for(M=e+1;M<=n;++M){const N=t[M%s];N.skip||N.stop?P.skip||(r=!1,a.push({start:e%s,end:(M-1)%s,loop:r}),e=S=N.stop?M:null):(S=M,P.skip&&(e=M)),P=N}return S!==null&&a.push({start:e%s,end:S%s,loop:r}),a}function _computeSegments(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const a=!!t._loop,{start:S,end:P}=findStartAndEnd(n,s,a,r);if(r===!0)return splitByStyles(t,[{start:S,end:P,loop:a}],n,e);const M=P<S?P+s:P,N=!!t._fullLoop&&S===0&&P===s-1;return splitByStyles(t,solidSegments(n,S,M,N),n,e)}function splitByStyles(t,e,n,r){return!r||!r.setContext||!n?e:doSplitByStyles(t,e,n,r)}function doSplitByStyles(t,e,n,r){const s=t._chart.getContext(),a=readStyle(t.options),{_datasetIndex:S,options:{spanGaps:P}}=t,M=n.length,N=[];let F=a,z=e[0].start,$=z;function G(H,U,W,Y){const Q=P?-1:1;if(H!==U){for(H+=M;n[H%M].skip;)H-=Q;for(;n[U%M].skip;)U+=Q;H%M!==U%M&&(N.push({start:H%M,end:U%M,loop:W,style:Y}),F=Y,z=U%M)}}for(const H of e){z=P?z:H.start;let U=n[z%M],W;for($=z+1;$<=H.end;$++){const Y=n[$%M];W=readStyle(r.setContext(createContext(s,{type:"segment",p0:U,p1:Y,p0DataIndex:($-1)%M,p1DataIndex:$%M,datasetIndex:S}))),styleChanged(W,F)&&G(z,$-1,H.loop,F),U=Y,F=W}z<$-1&&G(z,$-1,H.loop,F)}return N}function readStyle(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function styleChanged(t,e){if(!e)return!1;const n=[],r=function(s,a){return isPatternOrGradient(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function getSizeForArea(t,e,n){return t.options.clip?t[n]:e[n]}function getDatasetArea(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:getSizeForArea(n,e,"left"),right:getSizeForArea(n,e,"right"),top:getSizeForArea(r,e,"top"),bottom:getSizeForArea(r,e,"bottom")}:e}function getDatasetClipArea(t,e){const n=e._clip;if(n.disabled)return!1;const r=getDatasetArea(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const a=n.listeners[s],S=n.duration;a.forEach(P=>P({chart:e,initial:n.initial,numSteps:S,currentStep:Math.min(r-n.start,S)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let S=a.length-1,P=!1,M;for(;S>=0;--S)M=a[S],M._active?(M._total>r.duration&&(r.duration=M._total),M.tick(e),P=!0):(a[S]=a[a.length-1],a.pop());P&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=color(t||transparent),s=r.valid&&color(e||transparent);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Animation{constructor(e,n,r,s){const a=n[r];s=resolve([e.to,s,a,e.from]);const S=resolve([e.from,a,s]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof S],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=S,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,S=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(S,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=resolve([e.to,n,s,e.from]),this._from=resolve([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,a=this._from,S=this._loop,P=this._to;let M;if(this._active=a!==P&&(S||n<r),!this._active){this._target[s]=P,this._notify(!0);return}if(n<0){this._target[s]=a;return}M=n/r%2,M=S&&M>1?2-M:M,M=this._easing(Math.min(1,Math.max(0,M))),this._target[s]=this._fn(a,P,M)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Animations{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!isObject(e))return;const n=Object.keys(defaults.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!isObject(a))return;const S={};for(const P of n)S[P]=a[P];(isArray(a.properties)&&a.properties||[s]).forEach(P=>{(P===s||!r.has(P))&&r.set(P,S)})})}_animateOptions(e,n){const r=n.options,s=resolveTargetOptions(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&awaitAll(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),S=Object.keys(n),P=Date.now();let M;for(M=S.length-1;M>=0;--M){const N=S[M];if(N.charAt(0)==="$")continue;if(N==="options"){s.push(...this._animateOptions(e,n));continue}const F=n[N];let z=a[N];const $=r.get(N);if(z)if($&&z.active()){z.update($,F,P);continue}else z.cancel();if(!$||!$.duration){e[N]=F;continue}a[N]=z=new Animation($,e,N,F),s.push(z)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return animator.add(this._chart,r),!0}}function awaitAll(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const a=t[r[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function resolveTargetOptions(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function scaleClip(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:s,end:r?s:a}}function defaultClip(t,e,n){if(n===!1)return!1;const r=scaleClip(t,n),s=scaleClip(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function toClip(t){let e,n,r,s;return isObject(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function getSortedDatasetIndices(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function applyStack(t,e,n,r={}){const s=t.keys,a=r.mode==="single";let S,P,M,N;if(e===null)return;let F=!1;for(S=0,P=s.length;S<P;++S){if(M=+s[S],M===n){if(F=!0,r.all)continue;break}N=t.values[M],isNumberFinite(N)&&(a||e===0||sign(e)===sign(N))&&(e+=N)}return!F&&!r.all?0:e}function convertObjectDataToArray(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",S=Object.keys(t),P=new Array(S.length);let M,N,F;for(M=0,N=S.length;M<N;++M)F=S[M],P[M]={[s]:F,[a]:t[F]};return P}function isStacked(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function getStackKey(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function getUserBounds(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function getOrCreateStack(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function getLastIndexInStack(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function updateStacks(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:S,index:P}=r,M=a.axis,N=S.axis,F=getStackKey(a,S,r),z=e.length;let $;for(let G=0;G<z;++G){const H=e[G],{[M]:U,[N]:W}=H,Y=H._stacks||(H._stacks={});$=Y[N]=getOrCreateStack(s,F,U),$[P]=W,$._top=getLastIndexInStack($,S,!0,r.type),$._bottom=getLastIndexInStack($,S,!1,r.type);const Q=$._visualValues||($._visualValues={});Q[P]=W}}function getFirstScaleId(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(t,e,n){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function clearStacks(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const isDirectUpdateMode=t=>t==="reset"||t==="none",cloneIfNotShared=(t,e)=>e?t:Object.assign({},t),createStack=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(n,!0),values:null};class DatasetController{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(z,$,G,H)=>z==="x"?$:z==="r"?H:G,a=n.xAxisID=valueOrDefault(r.xAxisID,getFirstScaleId(e,"x")),S=n.yAxisID=valueOrDefault(r.yAxisID,getFirstScaleId(e,"y")),P=n.rAxisID=valueOrDefault(r.rAxisID,getFirstScaleId(e,"r")),M=n.indexAxis,N=n.iAxisID=s(M,a,S,P),F=n.vAxisID=s(M,S,a,P);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(S),n.rScale=this.getScaleForId(P),n.iScale=this.getScaleForId(N),n.vScale=this.getScaleForId(F)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(isObject(n)){const s=this._cachedMeta;this._data=convertObjectDataToArray(n,s)}else if(r!==n){if(r){unlistenArrayEvents(r,this);const s=this._cachedMeta;clearStacks(s),s._parsed=[]}n&&Object.isExtensible(n)&&listenArrayEvents(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=isStacked(n.vScale,n),n.stack!==r.stack&&(s=!0,clearStacks(n),n.stack=r.stack),this._resyncElements(e),(s||a!==n._stacked)&&(updateStacks(this,n._parsed),n._stacked=isStacked(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:S}=r,P=a.axis;let M=e===0&&n===s.length?!0:r._sorted,N=e>0&&r._parsed[e-1],F,z,$;if(this._parsing===!1)r._parsed=s,r._sorted=!0,$=s;else{isArray(s[e])?$=this.parseArrayData(r,s,e,n):isObject(s[e])?$=this.parseObjectData(r,s,e,n):$=this.parsePrimitiveData(r,s,e,n);const G=()=>z[P]===null||N&&z[P]<N[P];for(F=0;F<n;++F)r._parsed[F+e]=z=$[F],M&&(G()&&(M=!1),N=z);r._sorted=M}S&&updateStacks(this,$)}parsePrimitiveData(e,n,r,s){const{iScale:a,vScale:S}=e,P=a.axis,M=S.axis,N=a.getLabels(),F=a===S,z=new Array(s);let $,G,H;for($=0,G=s;$<G;++$)H=$+r,z[$]={[P]:F||a.parse(N[H],H),[M]:S.parse(n[H],H)};return z}parseArrayData(e,n,r,s){const{xScale:a,yScale:S}=e,P=new Array(s);let M,N,F,z;for(M=0,N=s;M<N;++M)F=M+r,z=n[F],P[M]={x:a.parse(z[0],F),y:S.parse(z[1],F)};return P}parseObjectData(e,n,r,s){const{xScale:a,yScale:S}=e,{xAxisKey:P="x",yAxisKey:M="y"}=this._parsing,N=new Array(s);let F,z,$,G;for(F=0,z=s;F<z;++F)$=F+r,G=n[$],N[F]={x:a.parse(resolveObjectKey(G,P),$),y:S.parse(resolveObjectKey(G,M),$)};return N}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,a=this._cachedMeta,S=n[e.axis],P={keys:getSortedDatasetIndices(s,!0),values:n._stacks[e.axis]._visualValues};return applyStack(P,S,a.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const a=r[n.axis];let S=a===null?NaN:a;const P=s&&r._stacks[n.axis];s&&P&&(s.values=P,S=applyStack(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,S),e.max=Math.max(e.max,S)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,S=s.length,P=this._getOtherScale(e),M=createStack(n,r,this.chart),N={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:F,max:z}=getUserBounds(P);let $,G;function H(){G=s[$];const U=G[P.axis];return!isNumberFinite(G[e.axis])||F>U||z<U}for($=0;$<S&&!(!H()&&(this.updateRangeFromParsed(N,e,G,M),a));++$);if(a){for($=S-1;$>=0;--$)if(!H()){this.updateRangeFromParsed(N,e,G,M);break}}return N}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,a,S;for(s=0,a=n.length;s<a;++s)S=n[s][e.axis],isNumberFinite(S)&&r.push(S);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=toClip(valueOrDefault(this.options.clip,defaultClip(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],a=n.chartArea,S=[],P=this._drawStart||0,M=this._drawCount||s.length-P,N=this.options.drawActiveElementsOnTop;let F;for(r.dataset&&r.dataset.draw(e,a,P,M),F=P;F<P+M;++F){const z=s[F];z.hidden||(z.active&&N?S.push(z):z.draw(e,a))}for(F=0;F<S.length;++F)S[F].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const S=this._cachedMeta.data[e];a=S.$context||(S.$context=createDataContext(this.getContext(),e,S)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",a=this._cachedDataOpts,S=e+"-"+n,P=a[S],M=this.enableOptionSharing&&defined(r);if(P)return cloneIfNotShared(P,M);const N=this.chart.config,F=N.datasetElementScopeKeys(this._type,e),z=s?[`${e}Hover`,"hover",e,""]:[e,""],$=N.getOptionScopes(this.getDataset(),F),G=Object.keys(defaults.elements[e]),H=()=>this.getContext(r,s,n),U=N.resolveNamedOptions($,G,H,z);return U.$shared&&(U.$shared=M,a[S]=Object.freeze(cloneIfNotShared(U,M))),U}_resolveAnimations(e,n,r){const s=this.chart,a=this._cachedDataOpts,S=`animation-${n}`,P=a[S];if(P)return P;let M;if(s.options.animation!==!1){const F=this.chart.config,z=F.datasetAnimationScopeKeys(this._type,n),$=F.getOptionScopes(this.getDataset(),z);M=F.createResolver($,this.getContext(e,r,n))}const N=new Animations(s,M&&M.animations);return M&&M._cacheable&&(a[S]=Object.freeze(N)),N}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,a=this.getSharedOptions(r),S=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:S}}updateElement(e,n,r,s){isDirectUpdateMode(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!isDirectUpdateMode(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[P,M,N]of this._syncList)this[P](M,N);this._syncList=[];const s=r.length,a=n.length,S=Math.min(a,s);S&&this.parse(0,S),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,r=!0){const s=this._cachedMeta,a=s.data,S=e+n;let P;const M=N=>{for(N.length+=n,P=N.length-1;P>=S;P--)N[P]=N[P-n]};for(M(a),P=e;P<S;++P)a[P]=new this.dataElementType;this._parsing&&M(s._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&clearStacks(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,a=n.length;s<a;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=_arrayUnique(r.sort((s,a)=>s-a))}return t._cache.$bar}function computeMinSampleSize(t){const e=t.iScale,n=getAllScaleValues(e,t.type);let r=e._length,s,a,S,P;const M=()=>{S===32767||S===-32768||(defined(P)&&(r=Math.min(r,Math.abs(S-P)||r)),P=S)};for(s=0,a=n.length;s<a;++s)S=e.getPixelForValue(n[s]),M();for(P=void 0,s=0,a=e.ticks.length;s<a;++s)S=e.getPixelForTick(s),M();return r}function computeFitCategoryTraits(t,e,n,r){const s=n.barThickness;let a,S;return isNullOrUndef(s)?(a=e.min*n.categoryPercentage,S=n.barPercentage):(a=s*r,S=1),{chunk:a/r,ratio:S,start:e.pixels[t]-a/2}}function computeFlexCategoryTraits(t,e,n,r){const s=e.pixels,a=s[t];let S=t>0?s[t-1]:null,P=t<s.length-1?s[t+1]:null;const M=n.categoryPercentage;S===null&&(S=a-(P===null?e.end-e.start:P-a)),P===null&&(P=a+a-S);const N=a-(a-Math.min(S,P))/2*M;return{chunk:Math.abs(P-S)/2*M/r,ratio:n.barPercentage,start:N}}function parseFloatBar(t,e,n,r){const s=n.parse(t[0],r),a=n.parse(t[1],r),S=Math.min(s,a),P=Math.max(s,a);let M=S,N=P;Math.abs(S)>Math.abs(P)&&(M=P,N=S),e[n.axis]=N,e._custom={barStart:M,barEnd:N,start:s,end:a,min:S,max:P}}function parseValue(t,e,n,r){return isArray(t)?parseFloatBar(t,e,n,r):e[n.axis]=n.parse(t,r),e}function parseArrayOrPrimitive(t,e,n,r){const s=t.iScale,a=t.vScale,S=s.getLabels(),P=s===a,M=[];let N,F,z,$;for(N=n,F=n+r;N<F;++N)$=e[N],z={},z[s.axis]=P||s.parse(S[N],N),M.push(parseValue($,z,a,N));return M}function isFloatBar(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function barSign(t,e,n){return t!==0?sign(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function borderProps(t){let e,n,r,s,a;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:r,reverse:e,top:s,bottom:a}}function setBorderSkipped(t,e,n,r){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:S,end:P,reverse:M,top:N,bottom:F}=borderProps(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=N:(n._bottom||0)===r?s=F:(a[parseEdge(F,S,P,M)]=!0,s=N)),a[parseEdge(s,S,P,M)]=!0,t.borderSkipped=a}function parseEdge(t,e,n,r){return r?(t=swap(t,e,n),t=startEnd(t,n,e)):t=startEnd(t,e,n),t}function swap(t,e,n){return t===e?n:t===n?e:t}function startEnd(t,e,n){return t==="start"?e:t==="end"?n:t}function setInflateAmount(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class BarController extends DatasetController{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return parseArrayOrPrimitive(e,n,r,s)}parseArrayData(e,n,r,s){return parseArrayOrPrimitive(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:a,vScale:S}=e,{xAxisKey:P="x",yAxisKey:M="y"}=this._parsing,N=a.axis==="x"?P:M,F=S.axis==="x"?P:M,z=[];let $,G,H,U;for($=r,G=r+s;$<G;++$)U=n[$],H={},H[a.axis]=a.parse(resolveObjectKey(U,N),$),z.push(parseValue(resolveObjectKey(U,F),H,S,$));return z}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,a=this.getParsed(e),S=a._custom,P=isFloatBar(S)?"["+S.start+", "+S.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:P}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const a=s==="reset",{index:S,_cachedMeta:{vScale:P}}=this,M=P.getBasePixel(),N=P.isHorizontal(),F=this._getRuler(),{sharedOptions:z,includeOptions:$}=this._getSharedOptions(n,s);for(let G=n;G<n+r;G++){const H=this.getParsed(G),U=a||isNullOrUndef(H[P.axis])?{base:M,head:M}:this._calculateBarValuePixels(G),W=this._calculateBarIndexPixels(G,F),Y=(H._stacks||{})[P.axis],Q={horizontal:N,base:U.base,enableBorderRadius:!Y||isFloatBar(H._custom)||S===Y._top||S===Y._bottom,x:N?U.head:W.center,y:N?W.center:U.head,height:N?W.size:Math.abs(U.size),width:N?Math.abs(U.size):W.size};$&&(Q.options=z||this.resolveDataElementOptions(G,e[G].active?"active":s));const K=Q.options||e[G].options;setBorderSkipped(Q,K,Y,S),setInflateAmount(Q,K,F.ratio),this.updateElement(e[G],G,Q,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(F=>F.controller.options.grouped),a=r.options.stacked,S=[],P=this._cachedMeta.controller.getParsed(n),M=P&&P[r.axis],N=F=>{const z=F._parsed.find(G=>G[r.axis]===M),$=z&&z[F.vScale.axis];if(isNullOrUndef($)||isNaN($))return!0};for(const F of s)if(!(n!==void 0&&N(F))&&((a===!1||S.indexOf(F.stack)===-1||a===void 0&&F.stack===void 0)&&S.push(F.stack),F.index===e))break;return S.length||S.push(void 0),S}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[valueOrDefault(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let a,S;for(a=0,S=n.data.length;a<S;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const P=e.barThickness;return{min:P||computeMinSampleSize(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:P?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:a,minBarLength:S}}=this,P=a||0,M=this.getParsed(e),N=M._custom,F=isFloatBar(N);let z=M[n.axis],$=0,G=r?this.applyStack(n,M,r):z,H,U;G!==z&&($=G-z,G=z),F&&(z=N.barStart,G=N.barEnd-N.barStart,z!==0&&sign(z)!==sign(N.barEnd)&&($=0),$+=z);const W=!isNullOrUndef(a)&&!F?a:$;let Y=n.getPixelForValue(W);if(this.chart.getDataVisibility(e)?H=n.getPixelForValue($+G):H=Y,U=H-Y,Math.abs(U)<S){U=barSign(U,n,P)*S,z===P&&(Y-=U/2);const Q=n.getPixelForDecimal(0),K=n.getPixelForDecimal(1),tt=Math.min(Q,K),nt=Math.max(Q,K);Y=Math.max(Math.min(Y,nt),tt),H=Y+U,r&&!F&&(M._stacks[n.axis]._visualValues[s]=n.getValueForPixel(H)-n.getValueForPixel(Y))}if(Y===n.getPixelForValue(P)){const Q=sign(U)*n.getLineWidthForValue(P)/2;Y+=Q,U-=Q}return{size:U,base:Y,head:H,center:H+U/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,a=s.skipNull,S=valueOrDefault(s.maxBarThickness,1/0);let P,M;const N=this._getAxisCount();if(n.grouped){const F=a?this._getStackCount(e):n.stackCount,z=s.barThickness==="flex"?computeFlexCategoryTraits(e,n,s,F*N):computeFitCategoryTraits(e,n,s,F*N),$=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,G=this._getAxis().indexOf(valueOrDefault($,this.getFirstScaleIdForIndexAxis())),H=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+G;P=z.start+z.chunk*H+z.chunk/2,M=Math.min(S,z.chunk*z.ratio)}else P=r.getPixelForValue(this.getParsed(e)[r.axis],e),M=Math.min(S,n.min*n.ratio);return{base:P-M/2,head:P+M/2,center:P,size:M}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function getRatioAndOffset(t,e,n){let r=1,s=1,a=0,S=0;if(e<TAU){const P=t,M=P+e,N=Math.cos(P),F=Math.sin(P),z=Math.cos(M),$=Math.sin(M),G=(K,tt,nt)=>_angleBetween(K,P,M,!0)?1:Math.max(tt,tt*n,nt,nt*n),H=(K,tt,nt)=>_angleBetween(K,P,M,!0)?-1:Math.min(tt,tt*n,nt,nt*n),U=G(0,N,z),W=G(HALF_PI,F,$),Y=H(PI,N,z),Q=H(PI+HALF_PI,F,$);r=(U-Y)/2,s=(W-Q)/2,a=-(U+Y)/2,S=-(W+Q)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:S}}class DoughnutController extends DatasetController{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((a,S)=>{const M=e.getDatasetMeta(0).controller.getStyle(S);return{text:a,fillStyle:M.backgroundColor,strokeStyle:M.borderColor,fontColor:s,lineWidth:M.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(S),index:S}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=M=>+r[M];if(isObject(r[e])){const{key:M="value"}=this._parsing;a=N=>+resolveObjectKey(r[N],M)}let S,P;for(S=e,P=e+n;S<P;++S)s._parsed[S]=a(S)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,n=-TAU;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),S=s._getCircumference();e=Math.min(e,a),n=Math.max(n,a+S)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,a=s.data,S=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,P=Math.max((Math.min(r.width,r.height)-S)/2,0),M=Math.min(toPercentage(this.options.cutout,P),1),N=this._getRingWeight(this.index),{circumference:F,rotation:z}=this._getRotationExtents(),{ratioX:$,ratioY:G,offsetX:H,offsetY:U}=getRatioAndOffset(z,F,M),W=(r.width-S)/$,Y=(r.height-S)/G,Q=Math.max(Math.min(W,Y)/2,0),K=toDimension(this.options.radius,Q),tt=Math.max(K*M,0),nt=(K-tt)/this._getVisibleDatasetWeightTotal();this.offsetX=H*K,this.offsetY=U*K,s.total=this.calculateTotal(),this.outerRadius=K-nt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-nt*N,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/TAU)}updateElements(e,n,r,s){const a=s==="reset",S=this.chart,P=S.chartArea,N=S.options.animation,F=(P.left+P.right)/2,z=(P.top+P.bottom)/2,$=a&&N.animateScale,G=$?0:this.innerRadius,H=$?0:this.outerRadius,{sharedOptions:U,includeOptions:W}=this._getSharedOptions(n,s);let Y=this._getRotation(),Q;for(Q=0;Q<n;++Q)Y+=this._circumference(Q,a);for(Q=n;Q<n+r;++Q){const K=this._circumference(Q,a),tt=e[Q],nt={x:F+this.offsetX,y:z+this.offsetY,startAngle:Y,endAngle:Y+K,circumference:K,outerRadius:H,innerRadius:G};W&&(nt.options=U||this.resolveDataElementOptions(Q,tt.active?"active":s)),Y+=K,this.updateElement(tt,Q,nt,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?TAU*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=formatNumber(n._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,a,S,P,M;if(!e){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){S=r.getDatasetMeta(s),e=S.data,P=S.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)M=P.resolveDataElementOptions(s),M.borderAlign!=="inner"&&(n=Math.max(n,M.borderWidth||0,M.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class LineController extends DatasetController{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=n,S=this.chart._animationsDisabled;let{start:P,count:M}=_getStartAndCountOfVisiblePoints(n,s,S);this._drawStart=P,this._drawCount=M,_scaleRangesChanged(n)&&(P=0,M=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const N=this.resolveDatasetElementOptions(e);this.options.showLine||(N.borderWidth=0),N.segment=this.options.segment,this.updateElement(r,void 0,{animated:!S,options:N},e),this.updateElements(s,P,M,e)}updateElements(e,n,r,s){const a=s==="reset",{iScale:S,vScale:P,_stacked:M,_dataset:N}=this._cachedMeta,{sharedOptions:F,includeOptions:z}=this._getSharedOptions(n,s),$=S.axis,G=P.axis,{spanGaps:H,segment:U}=this.options,W=isNumber$1(H)?H:Number.POSITIVE_INFINITY,Y=this.chart._animationsDisabled||a||s==="none",Q=n+r,K=e.length;let tt=n>0&&this.getParsed(n-1);for(let nt=0;nt<K;++nt){const rt=e[nt],ht=Y?rt:{};if(nt<n||nt>=Q){ht.skip=!0;continue}const ct=this.getParsed(nt),mt=isNullOrUndef(ct[G]),wt=ht[$]=S.getPixelForValue(ct[$],nt),kt=ht[G]=a||mt?P.getBasePixel():P.getPixelForValue(M?this.applyStack(P,ct,M):ct[G],nt);ht.skip=isNaN(wt)||isNaN(kt)||mt,ht.stop=nt>0&&Math.abs(ct[$]-tt[$])>W,U&&(ht.parsed=ct,ht.raw=N.data[nt]),z&&(ht.options=F||this.resolveDataElementOptions(nt,rt.active?"active":s)),Y||this.updateElement(rt,nt,ht,s),tt=ct}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),S=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,S)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class PieController extends DoughnutController{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(e){Object.assign(DateAdapterBase.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(t,e,n,r){const{controller:s,data:a,_sorted:S}=t,P=s._cachedMeta.iScale,M=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(P&&e===P.axis&&e!=="r"&&S&&a.length){const N=P._reversePixels?_rlookupByKey:_lookupByKey;if(r){if(s._sharedOptions){const F=a[0],z=typeof F.getRange=="function"&&F.getRange(e);if(z){const $=N(a,e,n-z),G=N(a,e,n+z);return{lo:$.lo,hi:G.hi}}}}else{const F=N(a,e,n);if(M){const{vScale:z}=s._cachedMeta,{_parsed:$}=t,G=$.slice(0,F.lo+1).reverse().findIndex(U=>!isNullOrUndef(U[z.axis]));F.lo-=Math.max(0,G);const H=$.slice(F.hi).findIndex(U=>!isNullOrUndef(U[z.axis]));F.hi+=Math.max(0,H)}return F}}return{lo:0,hi:a.length-1}}function evaluateInteractionItems(t,e,n,r,s){const a=t.getSortedVisibleDatasetMetas(),S=n[e];for(let P=0,M=a.length;P<M;++P){const{index:N,data:F}=a[P],{lo:z,hi:$}=binarySearch(a[P],e,S,s);for(let G=z;G<=$;++G){const H=F[G];H.skip||r(H,N,G)}}}function getDistanceMetricForAxis(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const a=e?Math.abs(r.x-s.x):0,S=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(S,2))}}function getIntersectItems(t,e,n,r,s){const a=[];return!s&&!t.isPointInArea(e)||evaluateInteractionItems(t,n,e,function(P,M,N){!s&&!_isPointInArea(P,t.chartArea,0)||P.inRange(e.x,e.y,r)&&a.push({element:P,datasetIndex:M,index:N})},!0),a}function getNearestRadialItems(t,e,n,r){let s=[];function a(S,P,M){const{startAngle:N,endAngle:F}=S.getProps(["startAngle","endAngle"],r),{angle:z}=getAngleFromPoint(S,{x:e.x,y:e.y});_angleBetween(z,N,F)&&s.push({element:S,datasetIndex:P,index:M})}return evaluateInteractionItems(t,n,e,a),s}function getNearestCartesianItems(t,e,n,r,s,a){let S=[];const P=getDistanceMetricForAxis(n);let M=Number.POSITIVE_INFINITY;function N(F,z,$){const G=F.inRange(e.x,e.y,s);if(r&&!G)return;const H=F.getCenterPoint(s);if(!(!!a||t.isPointInArea(H))&&!G)return;const W=P(e,H);W<M?(S=[{element:F,datasetIndex:z,index:$}],M=W):W===M&&S.push({element:F,datasetIndex:z,index:$})}return evaluateInteractionItems(t,n,e,N),S}function getNearestItems(t,e,n,r,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?getNearestRadialItems(t,e,n,s):getNearestCartesianItems(t,e,n,r,s,a)}function getAxisItems(t,e,n,r,s){const a=[],S=n==="x"?"inXRange":"inYRange";let P=!1;return evaluateInteractionItems(t,n,e,(M,N,F)=>{M[S]&&M[S](e[n],s)&&(a.push({element:M,datasetIndex:N,index:F}),P=P||M.inRange(e.x,e.y,s))}),r&&!P?[]:a}var Interaction={modes:{index(t,e,n,r){const s=getRelativePosition(e,t),a=n.axis||"x",S=n.includeInvisible||!1,P=n.intersect?getIntersectItems(t,s,a,r,S):getNearestItems(t,s,a,!1,r,S),M=[];return P.length?(t.getSortedVisibleDatasetMetas().forEach(N=>{const F=P[0].index,z=N.data[F];z&&!z.skip&&M.push({element:z,datasetIndex:N.index,index:F})}),M):[]},dataset(t,e,n,r){const s=getRelativePosition(e,t),a=n.axis||"xy",S=n.includeInvisible||!1;let P=n.intersect?getIntersectItems(t,s,a,r,S):getNearestItems(t,s,a,!1,r,S);if(P.length>0){const M=P[0].datasetIndex,N=t.getDatasetMeta(M).data;P=[];for(let F=0;F<N.length;++F)P.push({element:N[F],datasetIndex:M,index:F})}return P},point(t,e,n,r){const s=getRelativePosition(e,t),a=n.axis||"xy",S=n.includeInvisible||!1;return getIntersectItems(t,s,a,r,S)},nearest(t,e,n,r){const s=getRelativePosition(e,t),a=n.axis||"xy",S=n.includeInvisible||!1;return getNearestItems(t,s,a,n.intersect,r,S)},x(t,e,n,r){const s=getRelativePosition(e,t);return getAxisItems(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=getRelativePosition(e,t);return getAxisItems(t,s,"y",n.intersect,r)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter(n=>n.pos===e)}function filterDynamicPositionByAxis(t,e){return t.filter(n=>STATIC_POSITIONS.indexOf(n.pos)===-1&&n.box.axis===e)}function sortByWeight(t,e){return t.sort((n,r)=>{const s=e?r:n,a=e?n:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function wrapBoxes(t){const e=[];let n,r,s,a,S,P;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:a,options:{stack:S,stackWeight:P=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:S&&a+S,stackWeight:P});return e}function buildStacks(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:a}=n;if(!r||!STATIC_POSITIONS.includes(s))continue;const S=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});S.count++,S.weight+=a}return e}function setLayoutDims(t,e){const n=buildStacks(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let a,S,P;for(a=0,S=t.length;a<S;++a){P=t[a];const{fullSize:M}=P.box,N=n[P.stack],F=N&&P.stackWeight/N.weight;P.horizontal?(P.width=F?F*r:M&&e.availableWidth,P.height=s):(P.width=r,P.height=F?F*s:M&&e.availableHeight)}return n}function buildLayoutBoxes(t){const e=wrapBoxes(t),n=sortByWeight(e.filter(N=>N.box.fullSize),!0),r=sortByWeight(filterByPosition(e,"left"),!0),s=sortByWeight(filterByPosition(e,"right")),a=sortByWeight(filterByPosition(e,"top"),!0),S=sortByWeight(filterByPosition(e,"bottom")),P=filterDynamicPositionByAxis(e,"x"),M=filterDynamicPositionByAxis(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(M).concat(S).concat(P),chartArea:filterByPosition(e,"chartArea"),vertical:r.concat(s).concat(M),horizontal:a.concat(S).concat(P)}}function getCombinedMax(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,n,r){const{pos:s,box:a}=n,S=t.maxPadding;if(!isObject(s)){n.size&&(t[s]-=n.size);const z=r[n.stack]||{size:0,count:1};z.size=Math.max(z.size,n.horizontal?a.height:a.width),n.size=z.size/z.count,t[s]+=n.size}a.getPadding&&updateMaxPadding(S,a.getPadding());const P=Math.max(0,e.outerWidth-getCombinedMax(S,t,"left","right")),M=Math.max(0,e.outerHeight-getCombinedMax(S,t,"top","bottom")),N=P!==t.w,F=M!==t.h;return t.w=P,t.h=M,n.horizontal?{same:N,other:F}:{same:F,other:N}}function handleMaxPadding(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function getMargins(t,e){const n=e.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(S=>{a[S]=Math.max(e[S],n[S])}),a}return r(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,n,r){const s=[];let a,S,P,M,N,F;for(a=0,S=t.length,N=0;a<S;++a){P=t[a],M=P.box,M.update(P.width||e.w,P.height||e.h,getMargins(P.horizontal,e));const{same:z,other:$}=updateDims(e,n,P,r);N|=z&&s.length,F=F||$,M.fullSize||s.push(P)}return N&&fitBoxes(s,e,n,r)||F}function setBoxDims(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function placeBoxes(t,e,n,r){const s=n.padding;let{x:a,y:S}=e;for(const P of t){const M=P.box,N=r[P.stack]||{placed:0,weight:1},F=P.stackWeight/N.weight||1;if(P.horizontal){const z=e.w*F,$=N.size||M.height;defined(N.start)&&(S=N.start),M.fullSize?setBoxDims(M,s.left,S,n.outerWidth-s.right-s.left,$):setBoxDims(M,e.left+N.placed,S,z,$),N.start=S,N.placed+=z,S=M.bottom}else{const z=e.h*F,$=N.size||M.width;defined(N.start)&&(a=N.start),M.fullSize?setBoxDims(M,a,s.top,$,n.outerHeight-s.bottom-s.top):setBoxDims(M,a,e.top+N.placed,$,z),N.start=a,N.placed+=z,a=M.right}}e.x=a,e.y=S}var layouts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=toPadding(t.options.layout.padding),a=Math.max(e-s.width,0),S=Math.max(n-s.height,0),P=buildLayoutBoxes(t.boxes),M=P.vertical,N=P.horizontal;each(t.boxes,U=>{typeof U.beforeLayout=="function"&&U.beforeLayout()});const F=M.reduce((U,W)=>W.box.options&&W.box.options.display===!1?U:U+1,0)||1,z=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:S,vBoxMaxWidth:a/2/F,hBoxMaxHeight:S/2}),$=Object.assign({},s);updateMaxPadding($,toPadding(r));const G=Object.assign({maxPadding:$,w:a,h:S,x:s.left,y:s.top},s),H=setLayoutDims(M.concat(N),z);fitBoxes(P.fullSize,G,z,H),fitBoxes(M,G,z,H),fitBoxes(N,G,z,H)&&fitBoxes(M,G,z,H),handleMaxPadding(G),placeBoxes(P.leftAndTop,G,z,H),G.x+=G.w,G.y+=G.h,placeBoxes(P.rightAndBottom,G,z,H),t.chartArea={left:G.left,top:G.top,right:G.left+G.w,bottom:G.top+G.h,height:G.h,width:G.w},each(P.chartArea,U=>{const W=U.box;Object.assign(W,t.chartArea),W.update(G.w,G.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>t===null||t==="";function initCanvas(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[EXPANDO_KEY]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",isNullOrEmpty(s)){const a=readUsedSize(t,"width");a!==void 0&&(t.width=a)}if(isNullOrEmpty(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=readUsedSize(t,"height");a!==void 0&&(t.height=a)}return t}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(t,e,n){t&&t.addEventListener(e,n,eventListenerOptions)}function removeListener(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,eventListenerOptions)}function fromNativeEvent(t,e){const n=EVENT_TYPES[t.type]||t.type,{x:r,y:s}=getRelativePosition(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function nodeListContains(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function createAttachObserver(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let S=!1;for(const P of a)S=S||nodeListContains(P.addedNodes,r),S=S&&!nodeListContains(P.removedNodes,r);S&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function createDetachObserver(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let S=!1;for(const P of a)S=S||nodeListContains(P.removedNodes,r),S=S&&!nodeListContains(P.addedNodes,r);S&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const t=window.devicePixelRatio;t!==oldDevicePixelRatio&&(oldDevicePixelRatio=t,drpListeningCharts.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function listenDevicePixelRatioChanges(t,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(t,e)}function unlistenDevicePixelRatioChanges(t){drpListeningCharts.delete(t),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(t,e,n){const r=t.canvas,s=r&&_getParentNode(r);if(!s)return;const a=throttled((P,M)=>{const N=s.clientWidth;n(P,M),N<s.clientWidth&&n()},window),S=new ResizeObserver(P=>{const M=P[0],N=M.contentRect.width,F=M.contentRect.height;N===0&&F===0||a(N,F)});return S.observe(s),listenDevicePixelRatioChanges(t,a),S}function releaseObserver(t,e,n){n&&n.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(t)}function createProxyAndListen(t,e,n){const r=t.canvas,s=throttled(a=>{t.ctx!==null&&n(fromNativeEvent(a,t))},t);return addListener(r,e,s),s}class DomPlatform extends BasePlatform{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(initCanvas(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[EXPANDO_KEY])return!1;const r=n[EXPANDO_KEY].initial;["height","width"].forEach(a=>{const S=r[a];isNullOrUndef(S)?n.removeAttribute(a):n.setAttribute(a,S)});const s=r.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[EXPANDO_KEY],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),S={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[n]||createProxyAndListen;s[n]=S(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[n]||removeListener)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return getMaximumSize(e,n,r,s)}isAttached(e){const n=e&&_getParentNode(e);return!!(n&&n.isConnected)}}function _detectPlatform(t){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return isNumber$1(this.x)&&isNumber$1(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}};function autoSkip(t,e){const n=t.options.ticks,r=determineMaxTicks(t),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?getMajorIndices(e):[],S=a.length,P=a[0],M=a[S-1],N=[];if(S>s)return skipMajors(e,N,a,S/s),N;const F=calculateSpacing(a,e,s);if(S>0){let z,$;const G=S>1?Math.round((M-P)/(S-1)):null;for(skip(e,N,F,isNullOrUndef(G)?0:P-G,P),z=0,$=S-1;z<$;z++)skip(e,N,F,a[z],a[z+1]);return skip(e,N,F,M,isNullOrUndef(G)?e.length:M+G),N}return skip(e,N,F),N}function determineMaxTicks(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function calculateSpacing(t,e,n){const r=getEvenSpacing(t),s=e.length/n;if(!r)return Math.max(s,1);const a=_factorize(r);for(let S=0,P=a.length-1;S<P;S++){const M=a[S];if(M>s)return M}return Math.max(s,1)}function getMajorIndices(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function skipMajors(t,e,n,r){let s=0,a=n[0],S;for(r=Math.ceil(r),S=0;S<t.length;S++)S===a&&(e.push(t[S]),s++,a=n[s*r])}function skip(t,e,n,r,s){const a=valueOrDefault(r,0),S=Math.min(valueOrDefault(s,t.length),t.length);let P=0,M,N,F;for(n=Math.ceil(n),s&&(M=s-r,n=M/Math.floor(M/n)),F=a;F<0;)P++,F=Math.round(a+P*n);for(N=Math.max(a,0);N<S;N++)N===F&&(e.push(t[N]),P++,F=Math.round(a+P*n))}function getEvenSpacing(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const reverseAlign=t=>t==="left"?"right":t==="right"?"left":t,offsetFromEdge=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,getTicksLimit=(t,e)=>Math.min(e||t,t);function sample(t,e){const n=[],r=t.length/e,s=t.length;let a=0;for(;a<s;a+=r)n.push(t[Math.floor(a)]);return n}function getPixelForGridLine(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),a=t._startPixel,S=t._endPixel,P=1e-6;let M=t.getPixelForTick(s),N;if(!(n&&(r===1?N=Math.max(M-a,S-M):e===0?N=(t.getPixelForTick(1)-M)/2:N=(M-t.getPixelForTick(s-1))/2,M+=s<e?N:-N,M<a-P||M>S+P)))return M}function garbageCollect(t,e){each(t,n=>{const r=n.gc,s=r.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[r[a]];r.splice(0,s)}})}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const n=toFont(t.font,e),r=toPadding(t.padding);return(isArray(t.text)?t.text.length:1)*n.lineHeight+r.height}function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}function createTickContext(t,e,n){return createContext(t,{tick:n,index:e,type:"tick"})}function titleAlign(t,e,n){let r=_toLeftRightCenter(t);return(n&&e!=="right"||!n&&e==="right")&&(r=reverseAlign(r)),r}function titleArgs(t,e,n,r){const{top:s,left:a,bottom:S,right:P,chart:M}=t,{chartArea:N,scales:F}=M;let z=0,$,G,H;const U=S-s,W=P-a;if(t.isHorizontal()){if(G=_alignStartEnd(r,a,P),isObject(n)){const Y=Object.keys(n)[0],Q=n[Y];H=F[Y].getPixelForValue(Q)+U-e}else n==="center"?H=(N.bottom+N.top)/2+U-e:H=offsetFromEdge(t,n,e);$=P-a}else{if(isObject(n)){const Y=Object.keys(n)[0],Q=n[Y];G=F[Y].getPixelForValue(Q)-W+e}else n==="center"?G=(N.left+N.right)/2-W+e:G=offsetFromEdge(t,n,e);H=_alignStartEnd(r,S,s),z=n==="left"?-HALF_PI:HALF_PI}return{titleX:G,titleY:H,maxWidth:$,rotation:z}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),n=finiteOrDefault(n,Number.NEGATIVE_INFINITY),r=finiteOrDefault(r,Number.POSITIVE_INFINITY),s=finiteOrDefault(s,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,r),max:finiteOrDefault(n,s),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),S;if(s&&a)return{min:n,max:r};const P=this.getMatchingVisibleMetas();for(let M=0,N=P.length;M<N;++M)S=P[M].controller.getMinMax(this,e),s||(n=Math.min(n,S.min)),a||(r=Math.max(r,S.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:finiteOrDefault(n,finiteOrDefault(r,n)),max:finiteOrDefault(r,finiteOrDefault(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:a,ticks:S}=this.options,P=S.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const M=P<this.ticks.length;this._convertTicksToLabels(M?sample(this.ticks,P):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),S.display&&(S.autoSkip||S.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),M&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=callback(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let S=s,P,M,N;if(!this._isVisible()||!n.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const F=this._getLabelSizes(),z=F.widest.width,$=F.highest.height,G=_limitValue(this.chart.width-z,0,this.maxWidth);P=e.offset?this.maxWidth/r:G/(r-1),z+6>P&&(P=G/(r-(e.offset?.5:1)),M=this.maxHeight-getTickMarkLength(e.grid)-n.padding-getTitleHeight(e.title,this.chart.options.font),N=Math.sqrt(z*z+$*$),S=toDegrees(Math.min(Math.asin(_limitValue((F.highest.height+6)/P,-1,1)),Math.asin(_limitValue(M/N,-1,1))-Math.asin(_limitValue($/N,-1,1)))),S=Math.max(s,Math.min(a,S))),this.labelRotation=S}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:a}}=this,S=this._isVisible(),P=this.isHorizontal();if(S){const M=getTitleHeight(s,n.options.font);if(P?(e.width=this.maxWidth,e.height=getTickMarkLength(a)+M):(e.height=this.maxHeight,e.width=getTickMarkLength(a)+M),r.display&&this.ticks.length){const{first:N,last:F,widest:z,highest:$}=this._getLabelSizes(),G=r.padding*2,H=toRadians(this.labelRotation),U=Math.cos(H),W=Math.sin(H);if(P){const Y=r.mirror?0:W*z.width+U*$.height;e.height=Math.min(this.maxHeight,e.height+Y+G)}else{const Y=r.mirror?0:U*z.width+W*$.height;e.width=Math.min(this.maxWidth,e.width+Y+G)}this._calculatePadding(N,F,W,U)}}this._handleMargins(),P?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:a,padding:S},position:P}=this.options,M=this.labelRotation!==0,N=P!=="top"&&this.axis==="x";if(this.isHorizontal()){const F=this.getPixelForTick(0)-this.left,z=this.right-this.getPixelForTick(this.ticks.length-1);let $=0,G=0;M?N?($=s*e.width,G=r*n.height):($=r*e.height,G=s*n.width):a==="start"?G=n.width:a==="end"?$=e.width:a!=="inner"&&($=e.width/2,G=n.width/2),this.paddingLeft=Math.max(($-F+S)*this.width/(this.width-F),0),this.paddingRight=Math.max((G-z+S)*this.width/(this.width-z),0)}else{let F=n.height/2,z=e.height/2;a==="start"?(F=0,z=e.height):a==="end"&&(F=n.height,z=0),this.paddingTop=F+S,this.paddingBottom=z+S}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)isNullOrUndef(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=sample(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:a}=this,S=[],P=[],M=Math.floor(n/getTicksLimit(n,r));let N=0,F=0,z,$,G,H,U,W,Y,Q,K,tt,nt;for(z=0;z<n;z+=M){if(H=e[z].label,U=this._resolveTickFontOptions(z),s.font=W=U.string,Y=a[W]=a[W]||{data:{},gc:[]},Q=U.lineHeight,K=tt=0,!isNullOrUndef(H)&&!isArray(H))K=_measureText(s,Y.data,Y.gc,K,H),tt=Q;else if(isArray(H))for($=0,G=H.length;$<G;++$)nt=H[$],!isNullOrUndef(nt)&&!isArray(nt)&&(K=_measureText(s,Y.data,Y.gc,K,nt),tt+=Q);S.push(K),P.push(tt),N=Math.max(K,N),F=Math.max(tt,F)}garbageCollect(a,n);const rt=S.indexOf(N),ht=P.indexOf(F),ct=mt=>({width:S[mt]||0,height:P[mt]||0});return{first:ct(0),last:ct(n-1),widest:ct(rt),highest:ct(ht),widths:S,heights:P}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=createTickContext(this.getContext(),e,r))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=toRadians(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),S=e.autoSkipPadding||0,P=a?a.widest.width+S:0,M=a?a.highest.height+S:0;return this.isHorizontal()?M*r>P*s?P/r:M/s:M*s<P*r?M/r:P/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:a,position:S,border:P}=s,M=a.offset,N=this.isHorizontal(),z=this.ticks.length+(M?1:0),$=getTickMarkLength(a),G=[],H=P.setContext(this.getContext()),U=H.display?H.width:0,W=U/2,Y=function(lt){return _alignPixel(r,lt,U)};let Q,K,tt,nt,rt,ht,ct,mt,wt,kt,_t,Vt;if(S==="top")Q=Y(this.bottom),ht=this.bottom-$,mt=Q-W,kt=Y(e.top)+W,Vt=e.bottom;else if(S==="bottom")Q=Y(this.top),kt=e.top,Vt=Y(e.bottom)-W,ht=Q+W,mt=this.top+$;else if(S==="left")Q=Y(this.right),rt=this.right-$,ct=Q-W,wt=Y(e.left)+W,_t=e.right;else if(S==="right")Q=Y(this.left),wt=e.left,_t=Y(e.right)-W,rt=Q+W,ct=this.left+$;else if(n==="x"){if(S==="center")Q=Y((e.top+e.bottom)/2+.5);else if(isObject(S)){const lt=Object.keys(S)[0],yt=S[lt];Q=Y(this.chart.scales[lt].getPixelForValue(yt))}kt=e.top,Vt=e.bottom,ht=Q+W,mt=ht+$}else if(n==="y"){if(S==="center")Q=Y((e.left+e.right)/2);else if(isObject(S)){const lt=Object.keys(S)[0],yt=S[lt];Q=Y(this.chart.scales[lt].getPixelForValue(yt))}rt=Q-W,ct=rt-$,wt=e.left,_t=e.right}const jt=valueOrDefault(s.ticks.maxTicksLimit,z),At=Math.max(1,Math.ceil(z/jt));for(K=0;K<z;K+=At){const lt=this.getContext(K),yt=a.setContext(lt),st=P.setContext(lt),pt=yt.lineWidth,dt=yt.color,xt=st.dash||[],Pt=st.dashOffset,Dt=yt.tickWidth,Tt=yt.tickColor,Ht=yt.tickBorderDash||[],Ut=yt.tickBorderDashOffset;tt=getPixelForGridLine(this,K,M),tt!==void 0&&(nt=_alignPixel(r,tt,pt),N?rt=ct=wt=_t=nt:ht=mt=kt=Vt=nt,G.push({tx1:rt,ty1:ht,tx2:ct,ty2:mt,x1:wt,y1:kt,x2:_t,y2:Vt,width:pt,color:dt,borderDash:xt,borderDashOffset:Pt,tickWidth:Dt,tickColor:Tt,tickBorderDash:Ht,tickBorderDashOffset:Ut}))}return this._ticksLength=z,this._borderValue=Q,G}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:a}=r,S=this.isHorizontal(),P=this.ticks,{align:M,crossAlign:N,padding:F,mirror:z}=a,$=getTickMarkLength(r.grid),G=$+F,H=z?-F:G,U=-toRadians(this.labelRotation),W=[];let Y,Q,K,tt,nt,rt,ht,ct,mt,wt,kt,_t,Vt="middle";if(s==="top")rt=this.bottom-H,ht=this._getXAxisLabelAlignment();else if(s==="bottom")rt=this.top+H,ht=this._getXAxisLabelAlignment();else if(s==="left"){const At=this._getYAxisLabelAlignment($);ht=At.textAlign,nt=At.x}else if(s==="right"){const At=this._getYAxisLabelAlignment($);ht=At.textAlign,nt=At.x}else if(n==="x"){if(s==="center")rt=(e.top+e.bottom)/2+G;else if(isObject(s)){const At=Object.keys(s)[0],lt=s[At];rt=this.chart.scales[At].getPixelForValue(lt)+G}ht=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")nt=(e.left+e.right)/2-G;else if(isObject(s)){const At=Object.keys(s)[0],lt=s[At];nt=this.chart.scales[At].getPixelForValue(lt)}ht=this._getYAxisLabelAlignment($).textAlign}n==="y"&&(M==="start"?Vt="top":M==="end"&&(Vt="bottom"));const jt=this._getLabelSizes();for(Y=0,Q=P.length;Y<Q;++Y){K=P[Y],tt=K.label;const At=a.setContext(this.getContext(Y));ct=this.getPixelForTick(Y)+a.labelOffset,mt=this._resolveTickFontOptions(Y),wt=mt.lineHeight,kt=isArray(tt)?tt.length:1;const lt=kt/2,yt=At.color,st=At.textStrokeColor,pt=At.textStrokeWidth;let dt=ht;S?(nt=ct,ht==="inner"&&(Y===Q-1?dt=this.options.reverse?"left":"right":Y===0?dt=this.options.reverse?"right":"left":dt="center"),s==="top"?N==="near"||U!==0?_t=-kt*wt+wt/2:N==="center"?_t=-jt.highest.height/2-lt*wt+wt:_t=-jt.highest.height+wt/2:N==="near"||U!==0?_t=wt/2:N==="center"?_t=jt.highest.height/2-lt*wt:_t=jt.highest.height-kt*wt,z&&(_t*=-1),U!==0&&!At.showLabelBackdrop&&(nt+=wt/2*Math.sin(U))):(rt=ct,_t=(1-kt)*wt/2);let xt;if(At.showLabelBackdrop){const Pt=toPadding(At.backdropPadding),Dt=jt.heights[Y],Tt=jt.widths[Y];let Ht=_t-Pt.top,Ut=0-Pt.left;switch(Vt){case"middle":Ht-=Dt/2;break;case"bottom":Ht-=Dt;break}switch(ht){case"center":Ut-=Tt/2;break;case"right":Ut-=Tt;break;case"inner":Y===Q-1?Ut-=Tt:Y>0&&(Ut-=Tt/2);break}xt={left:Ut,top:Ht,width:Tt+Pt.width,height:Dt+Pt.height,color:At.backdropColor}}W.push({label:tt,font:mt,textOffset:_t,options:{rotation:U,color:yt,strokeColor:st,strokeWidth:pt,textAlign:dt,textBaseline:Vt,translation:[nt,rt],backdrop:xt}})}return W}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,S=this._getLabelSizes(),P=e+a,M=S.widest.width;let N,F;return n==="left"?s?(F=this.right+a,r==="near"?N="left":r==="center"?(N="center",F+=M/2):(N="right",F+=M)):(F=this.right-P,r==="near"?N="right":r==="center"?(N="center",F-=M/2):(N="left",F=this.left)):n==="right"?s?(F=this.left+a,r==="near"?N="right":r==="center"?(N="center",F-=M/2):(N="left",F-=M)):(F=this.left+P,r==="near"?N="left":r==="center"?(N="center",F+=M/2):(N="right",F=this.right)):N="right",{textAlign:N,x:F}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:a,height:S}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,a,S),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,S;const P=(M,N,F)=>{!F.width||!F.color||(r.save(),r.lineWidth=F.width,r.strokeStyle=F.color,r.setLineDash(F.borderDash||[]),r.lineDashOffset=F.borderDashOffset,r.beginPath(),r.moveTo(M.x,M.y),r.lineTo(N.x,N.y),r.stroke(),r.restore())};if(n.display)for(a=0,S=s.length;a<S;++a){const M=s[a];n.drawOnChartArea&&P({x:M.x1,y:M.y1},{x:M.x2,y:M.y2},M),n.drawTicks&&P({x:M.tx1,y:M.ty1},{x:M.tx2,y:M.ty2},{color:M.tickColor,width:M.tickWidth,borderDash:M.tickBorderDash,borderDashOffset:M.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),S=r.display?a.width:0;if(!S)return;const P=s.setContext(this.getContext(0)).lineWidth,M=this._borderValue;let N,F,z,$;this.isHorizontal()?(N=_alignPixel(e,this.left,S)-S/2,F=_alignPixel(e,this.right,P)+P/2,z=$=M):(z=_alignPixel(e,this.top,S)-S/2,$=_alignPixel(e,this.bottom,P)+P/2,N=F=M),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(N,z),n.lineTo(F,$),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&clipArea(r,s);const a=this.getLabelItems(e);for(const S of a){const P=S.options,M=S.font,N=S.label,F=S.textOffset;renderText(r,N,0,F,M,P)}s&&unclipArea(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const a=toFont(r.font),S=toPadding(r.padding),P=r.align;let M=a.lineHeight/2;n==="bottom"||n==="center"||isObject(n)?(M+=S.bottom,isArray(r.text)&&(M+=a.lineHeight*(r.text.length-1))):M+=S.top;const{titleX:N,titleY:F,maxWidth:z,rotation:$}=titleArgs(this,M,n,P);renderText(e,r.text,0,0,a,{color:r.color,maxWidth:z,rotation:$,textAlign:titleAlign(P,n,s),textBaseline:"middle",translation:[N,F]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=valueOrDefault(e.grid&&e.grid.z,-1),s=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,S;for(a=0,S=n.length;a<S;++a){const P=n[a];P[r]===this.id&&(!e||P.type===e)&&s.push(P)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return toFont(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;isIChartComponent(n)&&(r=this.register(n));const s=this.items,a=e.id,S=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,registerDefaults(e,S,r),this.override&&defaults.override(e.id,e.overrides)),S}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in defaults[s]&&(delete defaults[s][r],this.override&&delete overrides[r])}}function registerDefaults(t,e,n){const r=merge$1(Object.create(null),[n?defaults.get(n):{},defaults.get(e),t.defaults]);defaults.set(e,r),t.defaultRoutes&&routeDefaults(e,t.defaultRoutes),t.descriptors&&defaults.describe(e,t.descriptors)}function routeDefaults(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),a=[t].concat(r).join("."),S=e[n].split("."),P=S.pop(),M=S.join(".");defaults.route(a,s,M,P)})}function isIChartComponent(t){return"id"in t&&"defaults"in t}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):each(s,S=>{const P=r||this._getRegistryForType(S);this._exec(e,P,S)})})}_exec(e,n,r){const s=_capitalize(e);callback(r["before"+s],[],r),n[e](r),callback(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),S=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),S}_notify(e,n,r,s){s=s||{};for(const a of e){const S=a.plugin,P=S[r],M=[n,s,a.options];if(callback(P,M,S)===!1&&s.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=valueOrDefault(r.options&&r.options.plugins,{}),a=allPlugins(r);return s===!1&&!n?[]:createDescriptors(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(a,S)=>a.filter(P=>!S.some(M=>P.plugin.id===M.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function allPlugins(t){const e={},n=[],r=Object.keys(registry.plugins.items);for(let a=0;a<r.length;a++)n.push(registry.getPlugin(r[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const S=s[a];n.indexOf(S)===-1&&(n.push(S),e[S.id]=!0)}return{plugins:n,localIds:e}}function getOpts(t,e){return!e&&t===!1?null:t===!0?{}:t}function createDescriptors(t,{plugins:e,localIds:n},r,s){const a=[],S=t.getContext();for(const P of e){const M=P.id,N=getOpts(r[M],s);N!==null&&a.push({plugin:P,options:pluginOpts(t.config,{plugin:P,local:n[M]},N,S)})}return a}function pluginOpts(t,{plugin:e,local:n},r,s){const a=t.pluginScopeKeys(e),S=t.getOptionScopes(r,a);return n&&e.defaults&&S.push(e.defaults),t.createResolver(S,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const n=defaults.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function getAxisFromDefaultScaleID(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}function idMatchesAxis(t){if(t==="x"||t==="y"||t==="r")return t}function axisFromPosition(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function determineAxis(t,...e){if(idMatchesAxis(t))return t;for(const n of e){const r=n.axis||axisFromPosition(n.position)||t.length>1&&idMatchesAxis(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function retrieveAxisFromDatasets(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return getAxisFromDataset(t,"x",n[0])||getAxisFromDataset(t,"y",n[0])}return{}}function mergeScaleConfig(t,e){const n=overrides[t.type]||{scales:{}},r=e.scales||{},s=getIndexAxis(t.type,e),a=Object.create(null);return Object.keys(r).forEach(S=>{const P=r[S];if(!isObject(P))return console.error(`Invalid scale configuration for scale: ${S}`);if(P._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${S}`);const M=determineAxis(S,P,retrieveAxisFromDatasets(S,t),defaults.scales[P.type]),N=getDefaultScaleIDFromAxis(M,s),F=n.scales||{};a[S]=mergeIf(Object.create(null),[{axis:M},P,F[M],F[N]])}),t.data.datasets.forEach(S=>{const P=S.type||t.type,M=S.indexAxis||getIndexAxis(P,e),F=(overrides[P]||{}).scales||{};Object.keys(F).forEach(z=>{const $=getAxisFromDefaultScaleID(z,M),G=S[$+"AxisID"]||$;a[G]=a[G]||Object.create(null),mergeIf(a[G],[{axis:$},r[G],F[z]])})}),Object.keys(a).forEach(S=>{const P=a[S];mergeIf(P,[defaults.scales[P.type],defaults.scale])}),a}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(t,e)}function initData(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function initConfig(t){return t=t||{},t.data=initData(t.data),initOptions(t),t}const keyCache=new Map,keysCached=new Set;function cachedKeys(t,e){let n=keyCache.get(t);return n||(n=e(),keyCache.set(t,n),keysCached.add(n)),n}const addIfFound=(t,e,n)=>{const r=resolveObjectKey(e,n);r!==void 0&&t.add(r)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return cachedKeys(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return cachedKeys(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return cachedKeys(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:a}=this,S=this._cachedScopes(e,r),P=S.get(n);if(P)return P;const M=new Set;n.forEach(F=>{e&&(M.add(e),F.forEach(z=>addIfFound(M,e,z))),F.forEach(z=>addIfFound(M,s,z)),F.forEach(z=>addIfFound(M,overrides[a]||{},z)),F.forEach(z=>addIfFound(M,defaults,z)),F.forEach(z=>addIfFound(M,descriptors,z))});const N=Array.from(M);return N.length===0&&N.push(Object.create(null)),keysCached.has(n)&&S.set(n,N),N}chartOptionScopes(){const{options:e,type:n}=this;return[e,overrides[n]||{},defaults.datasets[n]||{},{type:n},defaults,descriptors]}resolveNamedOptions(e,n,r,s=[""]){const a={$shared:!0},{resolver:S,subPrefixes:P}=getResolver(this._resolverCache,e,s);let M=S;if(needContext(S,n)){a.$shared=!1,r=isFunction(r)?r():r;const N=this.createResolver(e,r,P);M=_attachContext(S,r,N)}for(const N of n)a[N]=M[N];return a}createResolver(e,n,r=[""],s){const{resolver:a}=getResolver(this._resolverCache,e,r);return isObject(n)?_attachContext(a,n,void 0,s):a}}function getResolver(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let a=r.get(s);return a||(a={resolver:_createResolver(e,n),subPrefixes:n.filter(P=>!P.toLowerCase().includes("hover"))},r.set(s,a)),a}const hasFunction=t=>isObject(t)&&Object.getOwnPropertyNames(t).some(e=>isFunction(t[e]));function needContext(t,e){const{isScriptable:n,isIndexable:r}=_descriptors(t);for(const s of e){const a=n(s),S=r(s),P=(S||a)&&t[s];if(a&&(isFunction(P)||hasFunction(P))||S&&isArray(P))return!0}return!1}var version="4.5.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return t==="top"||t==="bottom"||KNOWN_POSITIONS.indexOf(t)===-1&&e==="x"}function compare2Level(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function onAnimationsComplete(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),callback(n&&n.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,n=e.options.animation;callback(n&&n.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const instances={},getChart=t=>{const e=getCanvas(t);return Object.values(instances).filter(n=>n.canvas===e).pop()};function moveNumericKeys(t,e,n){const r=Object.keys(t);for(const s of r){const a=+s;if(a>=e){const S=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=S)}}}function determineLastEvent(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let Chart$1=class{static defaults=defaults;static instances=instances;static overrides=overrides;static registry=registry;static version=version;static getChart=getChart;static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,n){const r=this.config=new Config(n),s=getCanvas(e),a=getChart(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const S=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||_detectPlatform(s)),this.platform.updateConfig(r);const P=this.platform.acquireContext(s,S.aspectRatio),M=P&&P.canvas,N=M&&M.height,F=M&&M.width;if(this.id=uid(),this.ctx=P,this.canvas=M,this.width=F,this.height=N,this._options=S,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(z=>this.update(z),S.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!P||!M){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:a}=this;return isNullOrUndef(e)?n&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,n){animator.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,S=this.platform.getMaximumSize(s,e,n,a),P=r.devicePixelRatio||this.platform.getDevicePixelRatio(),M=this.width?"resize":"attach";this.width=S.width,this.height=S.height,this._aspectRatio=this.aspectRatio,retinaScale(this,P,!0)&&(this.notifyPlugins("resize",{size:S}),callback(r.onResize,[this,S],this),this.attached&&this._doResize(M)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};each(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((S,P)=>(S[P]=!1,S),{});let a=[];n&&(a=a.concat(Object.keys(n).map(S=>{const P=n[S],M=determineAxis(S,P),N=M==="r",F=M==="x";return{options:P,dposition:N?"chartArea":F?"bottom":"left",dtype:N?"radialLinear":F?"category":"linear"}}))),each(a,S=>{const P=S.options,M=P.id,N=determineAxis(M,P),F=valueOrDefault(P.type,S.dtype);(P.position===void 0||positionIsHorizontal(P.position,N)!==positionIsHorizontal(S.dposition))&&(P.position=S.dposition),s[M]=!0;let z=null;if(M in r&&r[M].type===F)z=r[M];else{const $=registry.getScale(F);z=new $({id:M,type:F,ctx:this.ctx,chart:this}),r[z.id]=z}z.init(P,e)}),each(s,(S,P)=>{S||delete r[P]}),each(r,S=>{layouts.configure(this,S,S.options),layouts.addBox(this,S)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const a=n[r];let S=this.getDatasetMeta(r);const P=a.type||this.config.type;if(S.type&&S.type!==P&&(this._destroyDatasetMeta(r),S=this.getDatasetMeta(r)),S.type=P,S.indexAxis=a.indexAxis||getIndexAxis(P,this.options),S.order=a.order||0,S.index=r,S.label=""+a.label,S.visible=this.isDatasetVisible(r),S.controller)S.controller.updateIndex(r),S.controller.linkScales();else{const M=registry.getController(P),{datasetElementType:N,dataElementType:F}=defaults.datasets[P];Object.assign(M,{dataElementType:registry.getElement(F),datasetElementType:N&&registry.getElement(N)}),S.controller=new M(this,r),e.push(S.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let S=0;for(let N=0,F=this.data.datasets.length;N<F;N++){const{controller:z}=this.getDatasetMeta(N),$=!s&&a.indexOf(z)===-1;z.buildOrUpdateElements($),S=Math.max(+z.getMaxOverflow(),S)}S=this._minPadding=r.layout.autoPadding?S:0,this._updateLayout(S),s||each(a,N=>{N.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:P,_lastEvent:M}=this;M?this._eventHandler(M,!0):P.length&&this._updateHoverStyles(P,P,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!setsEqual(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of n){const S=r==="_removeElements"?-a:a;moveNumericKeys(e,s,S)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(S=>S[0]===a).map((S,P)=>P+","+S.splice(1).join(","))),s=r(0);for(let a=1;a<n;a++)if(!setsEqual(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],each(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,isFunction(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,a;for(s=0,a=n.length;s<a;++s){const S=n[s];(!e||S.visible)&&r.push(S)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&clipArea(n,s),e.controller.draw(),s&&unclipArea(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const a=Interaction.modes[n];return typeof a=="function"?a(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),S=a.controller._resolveAnimations(void 0,s);defined(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),S.update(a,{visible:r}),this.update(P=>P.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),animator.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,S)=>{n.addEventListener(this,a,S),e[a]=S},s=(a,S,P)=>{a.offsetX=S,a.offsetY=P,this._eventHandler(a)};each(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(M,N)=>{n.addEventListener(this,M,N),e[M]=N},s=(M,N)=>{e[M]&&(n.removeEventListener(this,M,N),delete e[M])},a=(M,N)=>{this.canvas&&this.resize(M,N)};let S;const P=()=>{s("attach",P),this.attached=!0,this.resize(),r("resize",a),r("detach",S)};S=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",P)},n.isAttached(this.canvas)?P():S()}unbindEvents(){each(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},each(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let a,S,P,M;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),P=0,M=e.length;P<M;++P){S=e[P];const N=S&&this.getDatasetMeta(S.datasetIndex).controller;N&&N[s+"HoverStyle"](S.element,S.datasetIndex,S.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:S})=>{const P=this.getDatasetMeta(a);if(!P)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:P.data[S],index:S}});!_elementsEqual(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,a=(M,N)=>M.filter(F=>!N.some(z=>F.datasetIndex===z.datasetIndex&&F.index===z.index)),S=a(n,e),P=r?e:a(e,n);S.length&&this.updateHoverStyle(S,s.mode,!1),P.length&&s.mode&&this.updateHoverStyle(P,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=S=>(S.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:a}=this,S=n,P=this._getActiveElements(e,s,r,S),M=_isClickEvent(e),N=determineLastEvent(e,this._lastEvent,r,M);r&&(this._lastEvent=null,callback(a.onHover,[e,P,this],this),M&&callback(a.onClick,[e,P,this],this));const F=!_elementsEqual(P,s);return(F||n)&&(this._active=P,this._updateHoverStyles(P,s,n)),this._lastEvent=N,F}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}};function invalidatePlugins(){return each(Chart$1.instances,t=>t._plugins.invalidate())}function clipSelf(t,e,n){const{startAngle:r,x:s,y:a,outerRadius:S,innerRadius:P,options:M}=e,{borderWidth:N,borderJoinStyle:F}=M,z=Math.min(N/S,_normalizeAngle(r-n));if(t.beginPath(),t.arc(s,a,S-N/2,r+z/2,n-z/2),P>0){const $=Math.min(N/P,_normalizeAngle(r-n));t.arc(s,a,P+N/2,n-$/2,r+$/2,!0)}else{const $=Math.min(N/2,S*_normalizeAngle(r-n));if(F==="round")t.arc(s,a,$,n-PI/2,r+PI/2,!0);else if(F==="bevel"){const G=2*$*$,H=-G*Math.cos(n+PI/2)+s,U=-G*Math.sin(n+PI/2)+a,W=G*Math.cos(r+PI/2)+s,Y=G*Math.sin(r+PI/2)+a;t.lineTo(H,U),t.lineTo(W,Y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function clipArc(t,e,n){const{startAngle:r,pixelMargin:s,x:a,y:S,outerRadius:P,innerRadius:M}=e;let N=s/P;t.beginPath(),t.arc(a,S,P,r-N,n+N),M>s?(N=s/M,t.arc(a,S,M,n+N,r-N,!0)):t.arc(a,S,s,n+HALF_PI,r-HALF_PI),t.closePath(),t.clip()}function toRadiusCorners(t){return _readValueToProps(t,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(t,e,n,r){const s=toRadiusCorners(t.options.borderRadius),a=(n-e)/2,S=Math.min(a,r*e/2),P=M=>{const N=(n-Math.min(a,M))*r/2;return _limitValue(M,0,Math.min(a,N))};return{outerStart:P(s.outerStart),outerEnd:P(s.outerEnd),innerStart:_limitValue(s.innerStart,0,S),innerEnd:_limitValue(s.innerEnd,0,S)}}function rThetaToXY(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function pathArc(t,e,n,r,s,a){const{x:S,y:P,startAngle:M,pixelMargin:N,innerRadius:F}=e,z=Math.max(e.outerRadius+r+n-N,0),$=F>0?F+r+n+N:0;let G=0;const H=s-M;if(r){const At=F>0?F-r:0,lt=z>0?z-r:0,yt=(At+lt)/2,st=yt!==0?H*yt/(yt+r):H;G=(H-st)/2}const U=Math.max(.001,H*z-n/PI)/z,W=(H-U)/2,Y=M+W+G,Q=s-W-G,{outerStart:K,outerEnd:tt,innerStart:nt,innerEnd:rt}=parseBorderRadius$1(e,$,z,Q-Y),ht=z-K,ct=z-tt,mt=Y+K/ht,wt=Q-tt/ct,kt=$+nt,_t=$+rt,Vt=Y+nt/kt,jt=Q-rt/_t;if(t.beginPath(),a){const At=(mt+wt)/2;if(t.arc(S,P,z,mt,At),t.arc(S,P,z,At,wt),tt>0){const pt=rThetaToXY(ct,wt,S,P);t.arc(pt.x,pt.y,tt,wt,Q+HALF_PI)}const lt=rThetaToXY(_t,Q,S,P);if(t.lineTo(lt.x,lt.y),rt>0){const pt=rThetaToXY(_t,jt,S,P);t.arc(pt.x,pt.y,rt,Q+HALF_PI,jt+Math.PI)}const yt=(Q-rt/$+(Y+nt/$))/2;if(t.arc(S,P,$,Q-rt/$,yt,!0),t.arc(S,P,$,yt,Y+nt/$,!0),nt>0){const pt=rThetaToXY(kt,Vt,S,P);t.arc(pt.x,pt.y,nt,Vt+Math.PI,Y-HALF_PI)}const st=rThetaToXY(ht,Y,S,P);if(t.lineTo(st.x,st.y),K>0){const pt=rThetaToXY(ht,mt,S,P);t.arc(pt.x,pt.y,K,Y-HALF_PI,mt)}}else{t.moveTo(S,P);const At=Math.cos(mt)*z+S,lt=Math.sin(mt)*z+P;t.lineTo(At,lt);const yt=Math.cos(wt)*z+S,st=Math.sin(wt)*z+P;t.lineTo(yt,st)}t.closePath()}function drawArc(t,e,n,r,s){const{fullCircles:a,startAngle:S,circumference:P}=e;let M=e.endAngle;if(a){pathArc(t,e,n,r,M,s);for(let N=0;N<a;++N)t.fill();isNaN(P)||(M=S+(P%TAU||TAU))}return pathArc(t,e,n,r,M,s),t.fill(),M}function drawBorder(t,e,n,r,s){const{fullCircles:a,startAngle:S,circumference:P,options:M}=e,{borderWidth:N,borderJoinStyle:F,borderDash:z,borderDashOffset:$,borderRadius:G}=M,H=M.borderAlign==="inner";if(!N)return;t.setLineDash(z||[]),t.lineDashOffset=$,H?(t.lineWidth=N*2,t.lineJoin=F||"round"):(t.lineWidth=N,t.lineJoin=F||"bevel");let U=e.endAngle;if(a){pathArc(t,e,n,r,U,s);for(let W=0;W<a;++W)t.stroke();isNaN(P)||(U=S+(P%TAU||TAU))}H&&clipArc(t,e,U),M.selfJoin&&U-S>=PI&&G===0&&F!=="miter"&&clipSelf(t,e,U),a||(pathArc(t,e,n,r,U,s),t.stroke())}class ArcElement extends Element$1{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:a,distance:S}=getAngleFromPoint(s,{x:e,y:n}),{startAngle:P,endAngle:M,innerRadius:N,outerRadius:F,circumference:z}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),$=(this.options.spacing+this.options.borderWidth)/2,G=valueOrDefault(z,M-P),H=_angleBetween(a,P,M)&&P!==M,U=G>=TAU||H,W=_isBetween(S,N+$,F+$);return U&&W}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:a,innerRadius:S,outerRadius:P}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:M,spacing:N}=this.options,F=(s+a)/2,z=(S+P+N+M)/2;return{x:n+Math.cos(F)*z,y:r+Math.sin(F)*z}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,S=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>TAU?Math.floor(r/TAU):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const P=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(P)*s,Math.sin(P)*s);const M=1-Math.sin(Math.min(PI,r||0)),N=s*M;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,drawArc(e,this,N,a,S),drawBorder(e,this,N,a,S),e.restore()}}function setStyle(t,e,n=e){t.lineCap=valueOrDefault(n.borderCapStyle,e.borderCapStyle),t.setLineDash(valueOrDefault(n.borderDash,e.borderDash)),t.lineDashOffset=valueOrDefault(n.borderDashOffset,e.borderDashOffset),t.lineJoin=valueOrDefault(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=valueOrDefault(n.borderWidth,e.borderWidth),t.strokeStyle=valueOrDefault(n.borderColor,e.borderColor)}function lineTo(t,e,n){t.lineTo(n.x,n.y)}function getLineMethod(t){return t.stepped?_steppedLineTo:t.tension||t.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(t,e,n={}){const r=t.length,{start:s=0,end:a=r-1}=n,{start:S,end:P}=e,M=Math.max(s,S),N=Math.min(a,P),F=s<S&&a<S||s>P&&a>P;return{count:r,start:M,loop:e.loop,ilen:N<M&&!F?r+N-M:N-M}}function pathSegment(t,e,n,r){const{points:s,options:a}=e,{count:S,start:P,loop:M,ilen:N}=pathVars(s,n,r),F=getLineMethod(a);let{move:z=!0,reverse:$}=r||{},G,H,U;for(G=0;G<=N;++G)H=s[(P+($?N-G:G))%S],!H.skip&&(z?(t.moveTo(H.x,H.y),z=!1):F(t,U,H,$,a.stepped),U=H);return M&&(H=s[(P+($?N:0))%S],F(t,U,H,$,a.stepped)),!!M}function fastPathSegment(t,e,n,r){const s=e.points,{count:a,start:S,ilen:P}=pathVars(s,n,r),{move:M=!0,reverse:N}=r||{};let F=0,z=0,$,G,H,U,W,Y;const Q=tt=>(S+(N?P-tt:tt))%a,K=()=>{U!==W&&(t.lineTo(F,W),t.lineTo(F,U),t.lineTo(F,Y))};for(M&&(G=s[Q(0)],t.moveTo(G.x,G.y)),$=0;$<=P;++$){if(G=s[Q($)],G.skip)continue;const tt=G.x,nt=G.y,rt=tt|0;rt===H?(nt<U?U=nt:nt>W&&(W=nt),F=(z*F+tt)/++z):(K(),t.lineTo(tt,nt),H=rt,z=0,U=W=nt),Y=nt}K()}function _getSegmentMethod(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fastPathSegment:pathSegment}function _getInterpolationMethod(t){return t.stepped?_steppedInterpolation:t.tension||t.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),setStyle(t,e.options),t.stroke(s)}function strokePathDirect(t,e,n,r){const{segments:s,options:a}=e,S=_getSegmentMethod(e);for(const P of s)setStyle(t,a,P.style),t.beginPath(),S(t,e,P,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const usePath2D=typeof Path2D=="function";function draw(t,e,n,r){usePath2D&&!e.options.segment?strokePathWithCache(t,e,n,r):strokePathDirect(t,e,n,r)}class LineElement extends Element$1{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],a=this.points,S=_boundSegments(this,{property:n,start:s,end:s});if(!S.length)return;const P=[],M=_getInterpolationMethod(r);let N,F;for(N=0,F=S.length;N<F;++N){const{start:z,end:$}=S[N],G=a[z],H=a[$];if(G===H){P.push(G);continue}const U=Math.abs((s-G[n])/(H[n]-G[n])),W=M(G,H,U,r.stepped);W[n]=e[n],P.push(W)}return P.length===1?P[0]:P}pathSegment(e,n,r){return _getSegmentMethod(this)(e,this,n,r)}path(e,n,r){const s=this.segments,a=_getSegmentMethod(this);let S=this._loop;n=n||0,r=r||this.points.length-n;for(const P of s)S&=a(e,this,P,{start:n,end:n+r-1});return!!S}draw(e,n,r,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),draw(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1(t,e,n,r){const s=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<s.radius+s.hitRadius}class PointElement extends Element$1{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:a,y:S}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(n-S,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return inRange$1(this,e,"x",n)}inYRange(e,n){return inRange$1(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!_isPointInArea(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,drawPoint(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function getBarBounds(t,e){const{x:n,y:r,base:s,width:a,height:S}=t.getProps(["x","y","base","width","height"],e);let P,M,N,F,z;return t.horizontal?(z=S/2,P=Math.min(n,s),M=Math.max(n,s),N=r-z,F=r+z):(z=a/2,P=n-z,M=n+z,N=Math.min(r,s),F=Math.max(r,s)),{left:P,top:N,right:M,bottom:F}}function skipOrLimit(t,e,n,r){return t?0:_limitValue(e,n,r)}function parseBorderWidth(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,a=toTRBL(r);return{t:skipOrLimit(s.top,a.top,0,n),r:skipOrLimit(s.right,a.right,0,e),b:skipOrLimit(s.bottom,a.bottom,0,n),l:skipOrLimit(s.left,a.left,0,e)}}function parseBorderRadius(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=toTRBLCorners(s),S=Math.min(e,n),P=t.borderSkipped,M=r||isObject(s);return{topLeft:skipOrLimit(!M||P.top||P.left,a.topLeft,0,S),topRight:skipOrLimit(!M||P.top||P.right,a.topRight,0,S),bottomLeft:skipOrLimit(!M||P.bottom||P.left,a.bottomLeft,0,S),bottomRight:skipOrLimit(!M||P.bottom||P.right,a.bottomRight,0,S)}}function boundingRects(t){const e=getBarBounds(t),n=e.right-e.left,r=e.bottom-e.top,s=parseBorderWidth(t,n/2,r/2),a=parseBorderRadius(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function inRange(t,e,n,r){const s=e===null,a=n===null,P=t&&!(s&&a)&&getBarBounds(t,r);return P&&(s||_isBetween(e,P.left,P.right))&&(a||_isBetween(n,P.top,P.bottom))}function hasRadius(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function addNormalRectPath(t,e){t.rect(e.x,e.y,e.w,e.h)}function inflateRect(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,S=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+a,h:t.h+S,radius:t.radius}}class BarElement extends Element$1{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:a,outer:S}=boundingRects(this),P=hasRadius(S.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(S.w!==a.w||S.h!==a.h)&&(e.beginPath(),P(e,inflateRect(S,n,a)),e.clip(),P(e,inflateRect(a,-n,S)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),P(e,inflateRect(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return inRange(this,e,n,r)}inXRange(e,n){return inRange(this,e,null,n)}inYRange(e,n){return inRange(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function _segments(t,e,n){const r=t.segments,s=t.points,a=e.points,S=[];for(const P of r){let{start:M,end:N}=P;N=_findSegmentEnd(M,N,s);const F=_getBounds(n,s[M],s[N],P.loop);if(!e.segments){S.push({source:P,target:F,start:s[M],end:s[N]});continue}const z=_boundSegments(e,F);for(const $ of z){const G=_getBounds(n,a[$.start],a[$.end],$.loop),H=_boundSegment(P,s,G);for(const U of H)S.push({source:U,target:$,start:{[n]:_getEdge(F,G,"start",Math.max)},end:{[n]:_getEdge(F,G,"end",Math.min)}})}}return S}function _getBounds(t,e,n,r){if(r)return;let s=e[t],a=n[t];return t==="angle"&&(s=_normalizeAngle(s),a=_normalizeAngle(a)),{property:t,start:s,end:a}}function _pointsFromSegments(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,a=[];return e.segments.forEach(({start:S,end:P})=>{P=_findSegmentEnd(S,P,s);const M=s[S],N=s[P];r!==null?(a.push({x:M.x,y:r}),a.push({x:N.x,y:r})):n!==null&&(a.push({x:n,y:M.y}),a.push({x:n,y:N.y}))}),a}function _findSegmentEnd(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function _getEdge(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function _createBoundaryLine(t,e){let n=[],r=!1;return isArray(t)?(r=!0,n=t):n=_pointsFromSegments(t,e),n.length?new LineElement({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function _shouldApplyFill(t){return t&&t.fill!==!1}function _resolveTarget(t,e,n){let s=t[e].fill;const a=[e];let S;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!isNumberFinite(s))return s;if(S=t[s],!S)return!1;if(S.visible)return s;a.push(s),s=S.fill}return!1}function _decodeFill(t,e,n){const r=parseFillOption(t);if(isObject(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return isNumberFinite(s)&&Math.floor(s)===s?decodeTargetIndex(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function decodeTargetIndex(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function _getTargetPixel(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:isObject(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function _getTargetValue(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:isObject(t)?r=t.value:r=e.getBaseValue(),r}function parseFillOption(t){const e=t.options,n=e.fill;let r=valueOrDefault(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function _buildStackLine(t){const{scale:e,index:n,line:r}=t,s=[],a=r.segments,S=r.points,P=getLinesBelow(e,n);P.push(_createBoundaryLine({x:null,y:e.bottom},r));for(let M=0;M<a.length;M++){const N=a[M];for(let F=N.start;F<=N.end;F++)addPointsBelow(s,S[F],P)}return new LineElement({points:s,options:{}})}function getLinesBelow(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const a=r[s];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function addPointsBelow(t,e,n){const r=[];for(let s=0;s<n.length;s++){const a=n[s],{first:S,last:P,point:M}=findPoint(a,e,"x");if(!(!M||S&&P)){if(S)r.unshift(M);else if(t.push(M),!P)break}}t.push(...r)}function findPoint(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],a=t.segments,S=t.points;let P=!1,M=!1;for(let N=0;N<a.length;N++){const F=a[N],z=S[F.start][n],$=S[F.end][n];if(_isBetween(s,z,$)){P=s===z,M=s===$;break}}return{first:P,last:M,point:r}}class simpleArc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:a,radius:S}=this;return n=n||{start:0,end:TAU},e.arc(s,a,S,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,a=e.angle;return{x:n+Math.cos(a)*s,y:r+Math.sin(a)*s,angle:a}}}function _getTarget(t){const{chart:e,fill:n,line:r}=t;if(isNumberFinite(n))return getLineByIndex(e,n);if(n==="stack")return _buildStackLine(t);if(n==="shape")return!0;const s=computeBoundary(t);return s instanceof simpleArc?s:_createBoundaryLine(s,r)}function getLineByIndex(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function computeBoundary(t){return(t.scale||{}).getPointPositionForValue?computeCircularBoundary(t):computeLinearBoundary(t)}function computeLinearBoundary(t){const{scale:e={},fill:n}=t,r=_getTargetPixel(n,e);if(isNumberFinite(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function computeCircularBoundary(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,a=r.reverse?e.max:e.min,S=_getTargetValue(n,e,a),P=[];if(r.grid.circular){const M=e.getPointPositionForValue(0,a);return new simpleArc({x:M.x,y:M.y,radius:e.getDistanceFromCenterForValue(S)})}for(let M=0;M<s;++M)P.push(e.getPointPositionForValue(M,S));return P}function _drawfill(t,e,n){const r=_getTarget(e),{chart:s,index:a,line:S,scale:P,axis:M}=e,N=S.options,F=N.fill,z=N.backgroundColor,{above:$=z,below:G=z}=F||{},H=s.getDatasetMeta(a),U=getDatasetClipArea(s,H);r&&S.points.length&&(clipArea(t,n),doFill(t,{line:S,target:r,above:$,below:G,area:n,scale:P,axis:M,clip:U}),unclipArea(t))}function doFill(t,e){const{line:n,target:r,above:s,below:a,area:S,scale:P,clip:M}=e,N=n._loop?"angle":e.axis;t.save();let F=a;a!==s&&(N==="x"?(clipVertical(t,r,S.top),fill(t,{line:n,target:r,color:s,scale:P,property:N,clip:M}),t.restore(),t.save(),clipVertical(t,r,S.bottom)):N==="y"&&(clipHorizontal(t,r,S.left),fill(t,{line:n,target:r,color:a,scale:P,property:N,clip:M}),t.restore(),t.save(),clipHorizontal(t,r,S.right),F=s)),fill(t,{line:n,target:r,color:F,scale:P,property:N,clip:M}),t.restore()}function clipVertical(t,e,n){const{segments:r,points:s}=e;let a=!0,S=!1;t.beginPath();for(const P of r){const{start:M,end:N}=P,F=s[M],z=s[_findSegmentEnd(M,N,s)];a?(t.moveTo(F.x,F.y),a=!1):(t.lineTo(F.x,n),t.lineTo(F.x,F.y)),S=!!e.pathSegment(t,P,{move:S}),S?t.closePath():t.lineTo(z.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function clipHorizontal(t,e,n){const{segments:r,points:s}=e;let a=!0,S=!1;t.beginPath();for(const P of r){const{start:M,end:N}=P,F=s[M],z=s[_findSegmentEnd(M,N,s)];a?(t.moveTo(F.x,F.y),a=!1):(t.lineTo(n,F.y),t.lineTo(F.x,F.y)),S=!!e.pathSegment(t,P,{move:S}),S?t.closePath():t.lineTo(n,z.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function fill(t,e){const{line:n,target:r,property:s,color:a,scale:S,clip:P}=e,M=_segments(n,r,s);for(const{source:N,target:F,start:z,end:$}of M){const{style:{backgroundColor:G=a}={}}=N,H=r!==!0;t.save(),t.fillStyle=G,clipBounds(t,S,P,H&&_getBounds(s,z,$)),t.beginPath();const U=!!n.pathSegment(t,N);let W;if(H){U?t.closePath():interpolatedLineTo(t,r,$,s);const Y=!!r.pathSegment(t,F,{move:U,reverse:!0});W=U&&Y,W||interpolatedLineTo(t,r,z,s)}t.closePath(),t.fill(W?"evenodd":"nonzero"),t.restore()}}function clipBounds(t,e,n,r){const s=e.chart.chartArea,{property:a,start:S,end:P}=r||{};if(a==="x"||a==="y"){let M,N,F,z;a==="x"?(M=S,N=s.top,F=P,z=s.bottom):(M=s.left,N=S,F=s.right,z=P),t.beginPath(),n&&(M=Math.max(M,n.left),F=Math.min(F,n.right),N=Math.max(N,n.top),z=Math.min(z,n.bottom)),t.rect(M,N,F-M,z-N),t.clip()}}function interpolatedLineTo(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var index={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let a,S,P,M;for(S=0;S<r;++S)a=t.getDatasetMeta(S),P=a.dataset,M=null,P&&P.options&&P instanceof LineElement&&(M={visible:t.isDatasetVisible(S),index:S,fill:_decodeFill(P,S,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:P}),a.$filler=M,s.push(M);for(S=0;S<r;++S)M=s[S],!(!M||M.fill===!1)&&(M.fill=_resolveTarget(s,S,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let S=s.length-1;S>=0;--S){const P=s[S].$filler;P&&(P.line.updateControlPoints(a,P.axis),r&&P.fill&&_drawfill(t.ctx,P,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;_shouldApplyFill(a)&&_drawfill(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!_shouldApplyFill(r)||n.drawTime!=="beforeDatasetDraw"||_drawfill(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},itemsEqual=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Legend extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=toFont(r.font),a=s.size,S=this._computeTitleHeight(),{boxWidth:P,itemHeight:M}=getBoxSize(r,a);let N,F;n.font=s.string,this.isHorizontal()?(N=this.maxWidth,F=this._fitRows(S,a,P,M)+10):(F=this.maxHeight,N=this._fitCols(S,s,P,M)+10),this.width=Math.min(N,e.maxWidth||this.maxWidth),this.height=Math.min(F,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:a,maxWidth:S,options:{labels:{padding:P}}}=this,M=this.legendHitBoxes=[],N=this.lineWidths=[0],F=s+P;let z=e;a.textAlign="left",a.textBaseline="middle";let $=-1,G=-F;return this.legendItems.forEach((H,U)=>{const W=r+n/2+a.measureText(H.text).width;(U===0||N[N.length-1]+W+2*P>S)&&(z+=F,N[N.length-(U>0?0:1)]=0,G+=F,$++),M[U]={left:0,top:G,row:$,width:W,height:s},N[N.length-1]+=W+P}),z}_fitCols(e,n,r,s){const{ctx:a,maxHeight:S,options:{labels:{padding:P}}}=this,M=this.legendHitBoxes=[],N=this.columnSizes=[],F=S-e;let z=P,$=0,G=0,H=0,U=0;return this.legendItems.forEach((W,Y)=>{const{itemWidth:Q,itemHeight:K}=calculateItemSize(r,n,a,W,s);Y>0&&G+K+2*P>F&&(z+=$+P,N.push({width:$,height:G}),H+=$+P,U++,$=G=0),M[Y]={left:H,top:G,col:U,width:Q,height:K},$=Math.max($,Q),G+=K+P}),z+=$,N.push({width:$,height:G}),z}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:a}}=this,S=getRtlAdapter(a,this.left,this.width);if(this.isHorizontal()){let P=0,M=_alignStartEnd(r,this.left+s,this.right-this.lineWidths[P]);for(const N of n)P!==N.row&&(P=N.row,M=_alignStartEnd(r,this.left+s,this.right-this.lineWidths[P])),N.top+=this.top+e+s,N.left=S.leftForLtr(S.x(M),N.width),M+=N.width+s}else{let P=0,M=_alignStartEnd(r,this.top+e+s,this.bottom-this.columnSizes[P].height);for(const N of n)N.col!==P&&(P=N.col,M=_alignStartEnd(r,this.top+e+s,this.bottom-this.columnSizes[P].height)),N.top=M,N.left+=this.left+s,N.left=S.leftForLtr(S.x(N.left),N.width),M+=N.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:a,labels:S}=e,P=defaults.color,M=getRtlAdapter(e.rtl,this.left,this.width),N=toFont(S.font),{padding:F}=S,z=N.size,$=z/2;let G;this.drawTitle(),s.textAlign=M.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=N.string;const{boxWidth:H,boxHeight:U,itemHeight:W}=getBoxSize(S,z),Y=function(rt,ht,ct){if(isNaN(H)||H<=0||isNaN(U)||U<0)return;s.save();const mt=valueOrDefault(ct.lineWidth,1);if(s.fillStyle=valueOrDefault(ct.fillStyle,P),s.lineCap=valueOrDefault(ct.lineCap,"butt"),s.lineDashOffset=valueOrDefault(ct.lineDashOffset,0),s.lineJoin=valueOrDefault(ct.lineJoin,"miter"),s.lineWidth=mt,s.strokeStyle=valueOrDefault(ct.strokeStyle,P),s.setLineDash(valueOrDefault(ct.lineDash,[])),S.usePointStyle){const wt={radius:U*Math.SQRT2/2,pointStyle:ct.pointStyle,rotation:ct.rotation,borderWidth:mt},kt=M.xPlus(rt,H/2),_t=ht+$;drawPointLegend(s,wt,kt,_t,S.pointStyleWidth&&H)}else{const wt=ht+Math.max((z-U)/2,0),kt=M.leftForLtr(rt,H),_t=toTRBLCorners(ct.borderRadius);s.beginPath(),Object.values(_t).some(Vt=>Vt!==0)?addRoundedRectPath(s,{x:kt,y:wt,w:H,h:U,radius:_t}):s.rect(kt,wt,H,U),s.fill(),mt!==0&&s.stroke()}s.restore()},Q=function(rt,ht,ct){renderText(s,ct.text,rt,ht+W/2,N,{strikethrough:ct.hidden,textAlign:M.textAlign(ct.textAlign)})},K=this.isHorizontal(),tt=this._computeTitleHeight();K?G={x:_alignStartEnd(a,this.left+F,this.right-r[0]),y:this.top+F+tt,line:0}:G={x:this.left+F,y:_alignStartEnd(a,this.top+tt+F,this.bottom-n[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const nt=W+F;this.legendItems.forEach((rt,ht)=>{s.strokeStyle=rt.fontColor,s.fillStyle=rt.fontColor;const ct=s.measureText(rt.text).width,mt=M.textAlign(rt.textAlign||(rt.textAlign=S.textAlign)),wt=H+$+ct;let kt=G.x,_t=G.y;M.setWidth(this.width),K?ht>0&&kt+wt+F>this.right&&(_t=G.y+=nt,G.line++,kt=G.x=_alignStartEnd(a,this.left+F,this.right-r[G.line])):ht>0&&_t+nt>this.bottom&&(kt=G.x=kt+n[G.line].width+F,G.line++,_t=G.y=_alignStartEnd(a,this.top+tt+F,this.bottom-n[G.line].height));const Vt=M.x(kt);if(Y(Vt,_t,rt),kt=_textX(mt,kt+H+$,K?kt+wt:this.right,e.rtl),Q(M.x(kt),_t,rt),K)G.x+=wt+F;else if(typeof rt.text!="string"){const jt=N.lineHeight;G.y+=calculateLegendItemHeight(rt,jt)+F}else G.y+=nt}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=toFont(n.font),s=toPadding(n.padding);if(!n.display)return;const a=getRtlAdapter(e.rtl,this.left,this.width),S=this.ctx,P=n.position,M=r.size/2,N=s.top+M;let F,z=this.left,$=this.width;if(this.isHorizontal())$=Math.max(...this.lineWidths),F=this.top+N,z=_alignStartEnd(e.align,z,this.right-$);else{const H=this.columnSizes.reduce((U,W)=>Math.max(U,W.height),0);F=N+_alignStartEnd(e.align,this.top,this.bottom-H-e.labels.padding-this._computeTitleHeight())}const G=_alignStartEnd(P,z,z+$);S.textAlign=a.textAlign(_toLeftRightCenter(P)),S.textBaseline="middle",S.strokeStyle=n.color,S.fillStyle=n.color,S.font=r.string,renderText(S,n.text,G,F,r)}_computeTitleHeight(){const e=this.options.title,n=toFont(e.font),r=toPadding(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,a;if(_isBetween(e,this.left,this.right)&&_isBetween(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],_isBetween(e,s.left,s.left+s.width)&&_isBetween(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!isListened(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=itemsEqual(s,r);s&&!a&&callback(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&callback(n.onHover,[e,r,this],this)}else r&&callback(n.onClick,[e,r,this],this)}}function calculateItemSize(t,e,n,r,s){const a=calculateItemWidth(r,t,e,n),S=calculateItemHeight(s,r,e.lineHeight);return{itemWidth:a,itemHeight:S}}function calculateItemWidth(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,S)=>a.length>S.length?a:S)),e+n.size/2+r.measureText(s).width}function calculateItemHeight(t,e,n){let r=t;return typeof e.text!="string"&&(r=calculateLegendItemHeight(e,n)),r}function calculateLegendItemHeight(t,e){const n=t.text?t.text.length:0;return e*n}function isListened(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(t,e,n){const r=t.legend=new Legend({ctx:t.ctx,options:n,chart:t});layouts.configure(t,r,n),layouts.addBox(t,r)},stop(t){layouts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;layouts.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:S,borderRadius:P}}=t.legend.options;return t._getSortedDatasetMetas().map(M=>{const N=M.controller.getStyle(n?0:void 0),F=toPadding(N.borderWidth);return{text:e[M.index].label,fillStyle:N.backgroundColor,fontColor:a,hidden:!M.visible,lineCap:N.borderCapStyle,lineDash:N.borderDash,lineDashOffset:N.borderDashOffset,lineJoin:N.borderJoinStyle,lineWidth:(F.width+F.height)/4,strokeStyle:N.borderColor,pointStyle:r||N.pointStyle,rotation:N.rotation,textAlign:s||N.textAlign,borderRadius:S&&(P||N.borderRadius),datasetIndex:M.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=isArray(r.text)?r.text.length:1;this._padding=toPadding(r.padding);const a=s*toFont(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:a,options:S}=this,P=S.align;let M=0,N,F,z;return this.isHorizontal()?(F=_alignStartEnd(P,r,a),z=n+e,N=a-r):(S.position==="left"?(F=r+e,z=_alignStartEnd(P,s,n),M=PI*-.5):(F=a-e,z=_alignStartEnd(P,n,s),M=PI*.5),N=s-n),{titleX:F,titleY:z,maxWidth:N,rotation:M}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=toFont(n.font),a=r.lineHeight/2+this._padding.top,{titleX:S,titleY:P,maxWidth:M,rotation:N}=this._drawArgs(a);renderText(e,n.text,0,0,r,{color:n.color,maxWidth:M,rotation:N,textAlign:_toLeftRightCenter(n.align),textBaseline:"middle",translation:[S,P]})}}function createTitle(t,e){const n=new Title({ctx:t.ctx,options:e,chart:t});layouts.configure(t,n,e),layouts.addBox(t,n),t.titleBlock=n}var plugin_title={id:"title",_element:Title,start(t,e,n){createTitle(t,n)},stop(t){const e=t.titleBlock;layouts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;layouts.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,a=0;for(e=0,n=t.length;e<n;++e){const P=t[e].element;if(P&&P.hasValue()){const M=P.tooltipPosition();r.add(M.x),s+=M.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((P,M)=>P+M)/r.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,a,S,P;for(a=0,S=t.length;a<S;++a){const M=t[a].element;if(M&&M.hasValue()){const N=M.getCenterPoint(),F=distanceBetweenPoints(e,N);F<s&&(s=F,P=M)}}if(P){const M=P.tooltipPosition();n=M.x,r=M.y}return{x:n,y:r}}};function pushOrConcat(t,e){return e&&(isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function createTooltipItem(t,e){const{element:n,datasetIndex:r,index:s}=e,a=t.getDatasetMeta(r).controller,{label:S,value:P}=a.getLabelAndValue(s);return{chart:t,label:S,parsed:a.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:P,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function getTooltipSize(t,e){const n=t.chart.ctx,{body:r,footer:s,title:a}=t,{boxWidth:S,boxHeight:P}=e,M=toFont(e.bodyFont),N=toFont(e.titleFont),F=toFont(e.footerFont),z=a.length,$=s.length,G=r.length,H=toPadding(e.padding);let U=H.height,W=0,Y=r.reduce((tt,nt)=>tt+nt.before.length+nt.lines.length+nt.after.length,0);if(Y+=t.beforeBody.length+t.afterBody.length,z&&(U+=z*N.lineHeight+(z-1)*e.titleSpacing+e.titleMarginBottom),Y){const tt=e.displayColors?Math.max(P,M.lineHeight):M.lineHeight;U+=G*tt+(Y-G)*M.lineHeight+(Y-1)*e.bodySpacing}$&&(U+=e.footerMarginTop+$*F.lineHeight+($-1)*e.footerSpacing);let Q=0;const K=function(tt){W=Math.max(W,n.measureText(tt).width+Q)};return n.save(),n.font=N.string,each(t.title,K),n.font=M.string,each(t.beforeBody.concat(t.afterBody),K),Q=e.displayColors?S+2+e.boxPadding:0,each(r,tt=>{each(tt.before,K),each(tt.lines,K),each(tt.after,K)}),Q=0,n.font=F.string,each(t.footer,K),n.restore(),W+=H.width,{width:W,height:U}}function determineYAlign(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function doesNotFitWithAlign(t,e,n,r){const{x:s,width:a}=r,S=n.caretSize+n.caretPadding;if(t==="left"&&s+a+S>e.width||t==="right"&&s-a-S<0)return!0}function determineXAlign(t,e,n,r){const{x:s,width:a}=n,{width:S,chartArea:{left:P,right:M}}=t;let N="center";return r==="center"?N=s<=(P+M)/2?"left":"right":s<=a/2?N="left":s>=S-a/2&&(N="right"),doesNotFitWithAlign(N,t,e,n)&&(N="center"),N}function determineAlignment(t,e,n){const r=n.yAlign||e.yAlign||determineYAlign(t,n);return{xAlign:n.xAlign||e.xAlign||determineXAlign(t,e,n,r),yAlign:r}}function alignX(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function alignY(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function getBackgroundPoint(t,e,n,r){const{caretSize:s,caretPadding:a,cornerRadius:S}=t,{xAlign:P,yAlign:M}=n,N=s+a,{topLeft:F,topRight:z,bottomLeft:$,bottomRight:G}=toTRBLCorners(S);let H=alignX(e,P);const U=alignY(e,M,N);return M==="center"?P==="left"?H+=N:P==="right"&&(H-=N):P==="left"?H-=Math.max(F,$)+s:P==="right"&&(H+=Math.max(z,G)+s),{x:_limitValue(H,0,r.width-e.width),y:_limitValue(U,0,r.height-e.height)}}function getAlignedX(t,e,n){const r=toPadding(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function createTooltipContext(t,e,n){return createContext(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function overrideCallbacks(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const defaultCallbacks={beforeTitle:noop$1,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return isNullOrUndef(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?defaultCallbacks[e].call(n,r):s}class Tooltip extends Element$1{static positioners=positioners;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,a=new Animations(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=invokeCallbackWithFallback(r,"beforeTitle",this,e),a=invokeCallbackWithFallback(r,"title",this,e),S=invokeCallbackWithFallback(r,"afterTitle",this,e);let P=[];return P=pushOrConcat(P,splitNewlines(s)),P=pushOrConcat(P,splitNewlines(a)),P=pushOrConcat(P,splitNewlines(S)),P}getBeforeBody(e,n){return getBeforeAfterBodyLines(invokeCallbackWithFallback(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return each(e,a=>{const S={before:[],lines:[],after:[]},P=overrideCallbacks(r,a);pushOrConcat(S.before,splitNewlines(invokeCallbackWithFallback(P,"beforeLabel",this,a))),pushOrConcat(S.lines,invokeCallbackWithFallback(P,"label",this,a)),pushOrConcat(S.after,splitNewlines(invokeCallbackWithFallback(P,"afterLabel",this,a))),s.push(S)}),s}getAfterBody(e,n){return getBeforeAfterBodyLines(invokeCallbackWithFallback(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=invokeCallbackWithFallback(r,"beforeFooter",this,e),a=invokeCallbackWithFallback(r,"footer",this,e),S=invokeCallbackWithFallback(r,"afterFooter",this,e);let P=[];return P=pushOrConcat(P,splitNewlines(s)),P=pushOrConcat(P,splitNewlines(a)),P=pushOrConcat(P,splitNewlines(S)),P}_createItems(e){const n=this._active,r=this.chart.data,s=[],a=[],S=[];let P=[],M,N;for(M=0,N=n.length;M<N;++M)P.push(createTooltipItem(this.chart,n[M]));return e.filter&&(P=P.filter((F,z,$)=>e.filter(F,z,$,r))),e.itemSort&&(P=P.sort((F,z)=>e.itemSort(F,z,r))),each(P,F=>{const z=overrideCallbacks(e.callbacks,F);s.push(invokeCallbackWithFallback(z,"labelColor",this,F)),a.push(invokeCallbackWithFallback(z,"labelPointStyle",this,F)),S.push(invokeCallbackWithFallback(z,"labelTextColor",this,F))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=S,this.dataPoints=P,P}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let a,S=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const P=positioners[r.position].call(this,s,this._eventPosition);S=this._createItems(r),this.title=this.getTitle(S,r),this.beforeBody=this.getBeforeBody(S,r),this.body=this.getBody(S,r),this.afterBody=this.getAfterBody(S,r),this.footer=this.getFooter(S,r);const M=this._size=getTooltipSize(this,r),N=Object.assign({},P,M),F=determineAlignment(this.chart,r,N),z=getBackgroundPoint(r,N,F,this.chart);this.xAlign=F.xAlign,this.yAlign=F.yAlign,a={opacity:1,x:z.x,y:z.y,width:M.width,height:M.height,caretX:P.x,caretY:P.y}}this._tooltipItems=S,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const a=this.getCaretPosition(e,r,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:a}=this,{caretSize:S,cornerRadius:P}=r,{topLeft:M,topRight:N,bottomLeft:F,bottomRight:z}=toTRBLCorners(P),{x:$,y:G}=e,{width:H,height:U}=n;let W,Y,Q,K,tt,nt;return a==="center"?(tt=G+U/2,s==="left"?(W=$,Y=W-S,K=tt+S,nt=tt-S):(W=$+H,Y=W+S,K=tt-S,nt=tt+S),Q=W):(s==="left"?Y=$+Math.max(M,F)+S:s==="right"?Y=$+H-Math.max(N,z)-S:Y=this.caretX,a==="top"?(K=G,tt=K-S,W=Y-S,Q=Y+S):(K=G+U,tt=K+S,W=Y+S,Q=Y-S),nt=K),{x1:W,x2:Y,x3:Q,y1:K,y2:tt,y3:nt}}drawTitle(e,n,r){const s=this.title,a=s.length;let S,P,M;if(a){const N=getRtlAdapter(r.rtl,this.x,this.width);for(e.x=getAlignedX(this,r.titleAlign,r),n.textAlign=N.textAlign(r.titleAlign),n.textBaseline="middle",S=toFont(r.titleFont),P=r.titleSpacing,n.fillStyle=r.titleColor,n.font=S.string,M=0;M<a;++M)n.fillText(s[M],N.x(e.x),e.y+S.lineHeight/2),e.y+=S.lineHeight+P,M+1===a&&(e.y+=r.titleMarginBottom-P)}}_drawColorBox(e,n,r,s,a){const S=this.labelColors[r],P=this.labelPointStyles[r],{boxHeight:M,boxWidth:N}=a,F=toFont(a.bodyFont),z=getAlignedX(this,"left",a),$=s.x(z),G=M<F.lineHeight?(F.lineHeight-M)/2:0,H=n.y+G;if(a.usePointStyle){const U={radius:Math.min(N,M)/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:1},W=s.leftForLtr($,N)+N/2,Y=H+M/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,drawPoint(e,U,W,Y),e.strokeStyle=S.borderColor,e.fillStyle=S.backgroundColor,drawPoint(e,U,W,Y)}else{e.lineWidth=isObject(S.borderWidth)?Math.max(...Object.values(S.borderWidth)):S.borderWidth||1,e.strokeStyle=S.borderColor,e.setLineDash(S.borderDash||[]),e.lineDashOffset=S.borderDashOffset||0;const U=s.leftForLtr($,N),W=s.leftForLtr(s.xPlus($,1),N-2),Y=toTRBLCorners(S.borderRadius);Object.values(Y).some(Q=>Q!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,addRoundedRectPath(e,{x:U,y:H,w:N,h:M,radius:Y}),e.fill(),e.stroke(),e.fillStyle=S.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:W,y:H+1,w:N-2,h:M-2,radius:Y}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(U,H,N,M),e.strokeRect(U,H,N,M),e.fillStyle=S.backgroundColor,e.fillRect(W,H+1,N-2,M-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:a,bodyAlign:S,displayColors:P,boxHeight:M,boxWidth:N,boxPadding:F}=r,z=toFont(r.bodyFont);let $=z.lineHeight,G=0;const H=getRtlAdapter(r.rtl,this.x,this.width),U=function(ct){n.fillText(ct,H.x(e.x+G),e.y+$/2),e.y+=$+a},W=H.textAlign(S);let Y,Q,K,tt,nt,rt,ht;for(n.textAlign=S,n.textBaseline="middle",n.font=z.string,e.x=getAlignedX(this,W,r),n.fillStyle=r.bodyColor,each(this.beforeBody,U),G=P&&W!=="right"?S==="center"?N/2+F:N+2+F:0,tt=0,rt=s.length;tt<rt;++tt){for(Y=s[tt],Q=this.labelTextColors[tt],n.fillStyle=Q,each(Y.before,U),K=Y.lines,P&&K.length&&(this._drawColorBox(n,e,tt,H,r),$=Math.max(z.lineHeight,M)),nt=0,ht=K.length;nt<ht;++nt)U(K[nt]),$=z.lineHeight;each(Y.after,U)}G=0,$=z.lineHeight,each(this.afterBody,U),e.y-=a}drawFooter(e,n,r){const s=this.footer,a=s.length;let S,P;if(a){const M=getRtlAdapter(r.rtl,this.x,this.width);for(e.x=getAlignedX(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=M.textAlign(r.footerAlign),n.textBaseline="middle",S=toFont(r.footerFont),n.fillStyle=r.footerColor,n.font=S.string,P=0;P<a;++P)n.fillText(s[P],M.x(e.x),e.y+S.lineHeight/2),e.y+=S.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:a,yAlign:S}=this,{x:P,y:M}=e,{width:N,height:F}=r,{topLeft:z,topRight:$,bottomLeft:G,bottomRight:H}=toTRBLCorners(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(P+z,M),S==="top"&&this.drawCaret(e,n,r,s),n.lineTo(P+N-$,M),n.quadraticCurveTo(P+N,M,P+N,M+$),S==="center"&&a==="right"&&this.drawCaret(e,n,r,s),n.lineTo(P+N,M+F-H),n.quadraticCurveTo(P+N,M+F,P+N-H,M+F),S==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(P+G,M+F),n.quadraticCurveTo(P,M+F,P,M+F-G),S==="center"&&a==="left"&&this.drawCaret(e,n,r,s),n.lineTo(P,M+z),n.quadraticCurveTo(P,M,P+z,M),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const S=positioners[e.position].call(this,this._active,this._eventPosition);if(!S)return;const P=this._size=getTooltipSize(this,e),M=Object.assign({},S,this._size),N=determineAlignment(n,e,M),F=getBackgroundPoint(e,M,N,n);(s._to!==F.x||a._to!==F.y)&&(this.xAlign=N.xAlign,this.yAlign=N.yAlign,this.width=P.width,this.height=P.height,this.caretX=S.x,this.caretY=S.y,this._resolveAnimations().update(this,F))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const S=toPadding(n.padding),P=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&P&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,n),overrideTextDirection(e,n.textDirection),a.y+=S.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),restoreTextDirection(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:P,index:M})=>{const N=this.chart.getDatasetMeta(P);if(!N)throw new Error("Cannot find a dataset at index "+P);return{datasetIndex:P,element:N.data[M],index:M}}),a=!_elementsEqual(r,s),S=this._positionChanged(s,n);(a||S)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],S=this._getActiveElements(e,a,n,r),P=this._positionChanged(S,e),M=n||!_elementsEqual(S,a)||P;return M&&(this._active=S,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),M}_getActiveElements(e,n,r,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(P=>this.chart.data.datasets[P.datasetIndex]&&this.chart.getDatasetMeta(P.datasetIndex).controller.getParsed(P.index)!==void 0);const S=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&S.reverse(),S}_positionChanged(e,n){const{caretX:r,caretY:s,options:a}=this,S=positioners[a.position].call(this,e,n);return S!==!1&&(r!==S.x||s!==S.y)}}var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(t,e,n){n&&(t.tooltip=new Tooltip({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function findOrAddLabel(t,e,n,r){const s=t.indexOf(e);if(s===-1)return addIfString(t,e,n,r);const a=t.lastIndexOf(e);return s!==a?n:s}const validIndex=(t,e)=>t===null?null:_limitValue(Math.round(t),0,e);function _getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class CategoryScale extends Scale{static id="category";static defaults={ticks:{callback:_getLabelForValue}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:a}of n)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(isNullOrUndef(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:findOrAddLabel(r,e,valueOrDefault(n,e),this._addedLabels),validIndex(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let S=e;S<=n;S++)s.push({value:S});return s}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(t,e){const n=[],{bounds:s,step:a,min:S,max:P,precision:M,count:N,maxTicks:F,maxDigits:z,includeBounds:$}=t,G=a||1,H=F-1,{min:U,max:W}=e,Y=!isNullOrUndef(S),Q=!isNullOrUndef(P),K=!isNullOrUndef(N),tt=(W-U)/(z+1);let nt=niceNum((W-U)/H/G)*G,rt,ht,ct,mt;if(nt<1e-14&&!Y&&!Q)return[{value:U},{value:W}];mt=Math.ceil(W/nt)-Math.floor(U/nt),mt>H&&(nt=niceNum(mt*nt/H/G)*G),isNullOrUndef(M)||(rt=Math.pow(10,M),nt=Math.ceil(nt*rt)/rt),s==="ticks"?(ht=Math.floor(U/nt)*nt,ct=Math.ceil(W/nt)*nt):(ht=U,ct=W),Y&&Q&&a&&almostWhole((P-S)/a,nt/1e3)?(mt=Math.round(Math.min((P-S)/nt,F)),nt=(P-S)/mt,ht=S,ct=P):K?(ht=Y?S:ht,ct=Q?P:ct,mt=N-1,nt=(ct-ht)/mt):(mt=(ct-ht)/nt,almostEquals(mt,Math.round(mt),nt/1e3)?mt=Math.round(mt):mt=Math.ceil(mt));const wt=Math.max(_decimalPlaces(nt),_decimalPlaces(ht));rt=Math.pow(10,isNullOrUndef(M)?wt:M),ht=Math.round(ht*rt)/rt,ct=Math.round(ct*rt)/rt;let kt=0;for(Y&&($&&ht!==S?(n.push({value:S}),ht<S&&kt++,almostEquals(Math.round((ht+kt*nt)*rt)/rt,S,relativeLabelSize(S,tt,t))&&kt++):ht<S&&kt++);kt<mt;++kt){const _t=Math.round((ht+kt*nt)*rt)/rt;if(Q&&_t>P)break;n.push({value:_t})}return Q&&$&&ct!==P?n.length&&almostEquals(n[n.length-1].value,P,relativeLabelSize(P,tt,t))?n[n.length-1].value=P:n.push({value:P}):(!Q||ct===P)&&n.push({value:ct}),n}function relativeLabelSize(t,e,{horizontal:n,minRotation:r}){const s=toRadians(r),a=(n?Math.sin(s):Math.cos(s))||.001,S=.75*e*(""+t).length;return Math.min(e/a,S)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const S=M=>s=n?s:M,P=M=>a=r?a:M;if(e){const M=sign(s),N=sign(a);M<0&&N<0?P(0):M>0&&N>0&&S(0)}if(s===a){let M=a===0?1:Math.abs(a*.05);P(a+M),e||S(s-M)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,S=generateTicks$1(s,a);return e.bounds==="ticks"&&_setMinAndMaxByKey(S,this,"value"),e.reverse?(S.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),S}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{static id="linear";static defaults={ticks:{callback:Ticks.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=toRadians(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(t,e){return t-e}function parse(t,e){if(isNullOrUndef(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:a}=t._parseOpts;let S=e;return typeof r=="function"&&(S=r(S)),isNumberFinite(S)||(S=typeof r=="string"?n.parse(S,r):n.parse(S)),S===null?null:(s&&(S=s==="week"&&(isNumber$1(a)||a===!0)?n.startOf(S,"isoWeek",a):n.startOf(S,s)),+S)}function determineUnitForAutoTicks(t,e,n,r){const s=UNITS.length;for(let a=UNITS.indexOf(t);a<s-1;++a){const S=INTERVALS[UNITS[a]],P=S.steps?S.steps:Number.MAX_SAFE_INTEGER;if(S.common&&Math.ceil((n-e)/(P*S.size))<=r)return UNITS[a]}return UNITS[s-1]}function determineUnitForFormatting(t,e,n,r,s){for(let a=UNITS.length-1;a>=UNITS.indexOf(n);a--){const S=UNITS[a];if(INTERVALS[S].common&&t._adapter.diff(s,r,S)>=e-1)return S}return UNITS[n?UNITS.indexOf(n):0]}function determineMajorUnit(t){for(let e=UNITS.indexOf(t)+1,n=UNITS.length;e<n;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=_lookup(n,e),a=n[r]>=e?n[r]:n[s];t[a]=!0}}function setMajorTicks(t,e,n,r){const s=t._adapter,a=+s.startOf(e[0].value,r),S=e[e.length-1].value;let P,M;for(P=a;P<=S;P=+s.add(P,1,r))M=n[P],M>=0&&(e[M].major=!0);return e}function ticksFromTimestamps(t,e,n){const r=[],s={},a=e.length;let S,P;for(S=0;S<a;++S)P=e[S],s[P]=S,r.push({value:P,major:!1});return a===0||!n?r:setMajorTicks(t,r,s,n)}class TimeScale extends Scale{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new adapters._date(e.adapters.date);s.init(n),mergeIf(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:S,maxDefined:P}=this.getUserBounds();function M(N){!S&&!isNaN(N.min)&&(s=Math.min(s,N.min)),!P&&!isNaN(N.max)&&(a=Math.max(a,N.max))}(!S||!P)&&(M(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&M(this.getMinMax(!1))),s=isNumberFinite(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),a=isNumberFinite(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,S=this.max,P=_filterBetween(s,a,S);return this._unit=n.unit||(r.autoSkip?determineUnitForAutoTicks(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):determineUnitForFormatting(this,P.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(s),e.reverse&&P.reverse(),ticksFromTimestamps(this,P,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const S=e.length<3?.5:.25;n=_limitValue(n,0,S),r=_limitValue(r,0,S),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,a=s.time,S=a.unit||determineUnitForAutoTicks(a.minUnit,n,r,this._getLabelCapacity(n)),P=valueOrDefault(s.ticks.stepSize,1),M=S==="week"?a.isoWeekday:!1,N=isNumber$1(M)||M===!0,F={};let z=n,$,G;if(N&&(z=+e.startOf(z,"isoWeek",M)),z=+e.startOf(z,N?"day":S),e.diff(r,n,S)>1e5*P)throw new Error(n+" and "+r+" are too far apart with stepSize of "+P+" "+S);const H=s.ticks.source==="data"&&this.getDataTimestamps();for($=z,G=0;$<r;$=+e.add($,P,S),G++)addTick(F,$,H);return($===r||s.bounds==="ticks"||G===1)&&addTick(F,$,H),Object.keys(F).sort(sorter).map(U=>+U)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,a=this._unit,S=n||s[a];return this._adapter.format(e,S)}_tickFormatFunction(e,n,r,s){const a=this.options,S=a.ticks.callback;if(S)return callback(S,[e,n,r],this);const P=a.time.displayFormats,M=this._unit,N=this._majorUnit,F=M&&P[M],z=N&&P[N],$=r[n],G=N&&z&&$&&$.major;return this._adapter.format(e,s||(G?z:F))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=toRadians(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),S=Math.sin(s),P=this._resolveTickFontOptions(0).size;return{w:r*a+P*S,h:r*S+P*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),s),S=this._getLabelSize(a),P=Math.floor(this.isHorizontal()?this.width/S.w:this.height/S.h)-1;return P>0?P:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(parse(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}function interpolate(t,e,n){let r=0,s=t.length-1,a,S,P,M;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=_lookupByKey(t,"pos",e)),{pos:a,time:P}=t[r],{pos:S,time:M}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=_lookupByKey(t,"time",e)),{time:a,pos:P}=t[r],{time:S,pos:M}=t[s]);const N=S-a;return N?P+(M-P)*(e-a)/N:P}class TimeSeriesScale extends TimeScale{static id="timeseries";static defaults=TimeScale.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=interpolate(n,this.min),this._tableRange=interpolate(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],a=[];let S,P,M,N,F;for(S=0,P=e.length;S<P;++S)N=e[S],N>=n&&N<=r&&s.push(N);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(S=0,P=s.length;S<P;++S)F=s[S+1],M=s[S-1],N=s[S],Math.round((F+M)/2)!==N&&a.push({time:N,pos:S/(P-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return interpolate(this._table,r*this._tableRange+this._minPos,!0)}}const defaultDatasetIdKey="label";function reforwardRef(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function setOptions(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function setLabels(t,e){t.labels=e}function setDatasets(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const r=[];t.datasets=e.map(s=>{const a=t.datasets.find(S=>S[n]===s[n]);return!a||!s.data||r.includes(a)?{...s}:(r.push(a),Object.assign(a,s),a)})}function cloneData(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const n={labels:[],datasets:[]};return setLabels(n,t.labels),setDatasets(n,t.datasets,e),n}function ChartComponent(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:S,data:P,options:M,plugins:N=[],fallbackContent:F,updateMode:z,...$}=t,G=reactExports.useRef(null),H=reactExports.useRef(null),U=()=>{G.current&&(H.current=new Chart$1(G.current,{type:S,data:cloneData(P,a),options:M&&{...M},plugins:N}),reforwardRef(e,H.current))},W=()=>{reforwardRef(e,null),H.current&&(H.current.destroy(),H.current=null)};return reactExports.useEffect(()=>{!s&&H.current&&M&&setOptions(H.current,M)},[s,M]),reactExports.useEffect(()=>{!s&&H.current&&setLabels(H.current.config.data,P.labels)},[s,P.labels]),reactExports.useEffect(()=>{!s&&H.current&&P.datasets&&setDatasets(H.current.config.data,P.datasets,a)},[s,P.datasets]),reactExports.useEffect(()=>{H.current&&(s?(W(),setTimeout(U)):H.current.update(z))},[s,M,P.labels,P.datasets,z]),reactExports.useEffect(()=>{H.current&&(W(),setTimeout(U))},[S]),reactExports.useEffect(()=>(U(),()=>W()),[]),React.createElement("canvas",{ref:G,role:"img",height:n,width:r,...$},F)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(t,e){return Chart$1.register(e),reactExports.forwardRef((n,r)=>React.createElement(Chart,{...n,ref:r,type:t}))}const Line=createTypedChart("line",LineController),Bar=createTypedChart("bar",BarController),Doughnut=createTypedChart("doughnut",DoughnutController),Pie=createTypedChart("pie",PieController);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index);const YearComparisonChart=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState(),r=reactExports.useMemo(()=>{if(!t?.reports)return null;const a=new Date().getFullYear(),S=a-1,P=new Array(12).fill(0),M=new Array(12).fill(0);return t?.reports?.forEach(N=>{N.year===a?P[N.month-1]=N.total:N.year===S&&(M[N.month-1]=N.total)}),{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:`${a}`,data:P,borderColor:n?"#4ade80":"#22c55e",backgroundColor:n?"#64748b":"#94a3b8",tension:.3,fill:!1},{label:`${S}`,data:M,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.3,fill:!1}]}},[t,n]),s={responsive:!0,color:n?"#fff":"#000",plugins:{title:{display:!0,text:"Yearly Reports",color:n?"#fff":"#000"},legend:{position:"top"}},scales:{x:{ticks:{color:n?"#fff":"#000"},beginAtZero:!0},y:{ticks:{color:n?"#fff":"#000"}}}};return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.1},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md w-[510px] ${n?"bg-slate-900":"bg-white"}`,children:e?jsxRuntimeExports.jsx("p",{className:n?"text-white":"",children:"Loading chart..."}):r?jsxRuntimeExports.jsx(Line,{data:r,options:s}):jsxRuntimeExports.jsx("p",{children:"No data available"})})};Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_title,plugin_tooltip,plugin_legend);const MonthlyReportChart=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState(),r=t?.monthly_reports||[],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=s.map(N=>{const F=r.find(z=>z.month===N);return F?F.report_count:0}),S=s.map(N=>{const F=r.find(z=>z.month===N);return F&&F.mom_change!==null?F.mom_change:null}),P={labels:s,datasets:[{label:"Reports",data:a,backgroundColor:n?"#4ade80":"#22c55e",yAxisID:"y",type:"bar"},{label:"MoM Change (%)",data:S,borderColor:"#f43f5e",backgroundColor:"rgba(244,63,94,0.3)",yAxisID:"y1",type:"line",tension:.3,spanGaps:!0}]},M={responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{title:{display:!0,text:"Monthly Reports & MoM Change",color:n?"#fff":"#000"},legend:{position:"top",labels:{color:n?"#fff":"#000"}}},scales:{x:{ticks:{color:n?"#fff":"#000"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Reports",color:n?"#fff":"#000"},ticks:{color:n?"#fff":"#000"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"MoM %",color:n?"#fff":"#000"},grid:{drawOnChartArea:!1},ticks:{color:"#f43f5e"}}}};return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md w-[510px] ${n?"bg-slate-900":"bg-white"}`,children:e?jsxRuntimeExports.jsx("p",{className:n?"text-white":"",children:"Loading chart..."}):jsxRuntimeExports.jsx(Bar,{data:P,options:M})})};Chart$1.register(ArcElement,plugin_tooltip,plugin_legend,plugin_title);const CategoryReportsChart=({data:t})=>{const{darkMode:e}=useAppState(),n=t?.category_reports?.map(S=>`${S.category} (${S.percentage.toFixed(2)}%)`),r=t?.category_reports?.map(S=>S.count),s={labels:n,datasets:[{label:"Total Reports",data:r,backgroundColor:["#22c55e","rgba(255, 99, 132, 1)","#4e79a7","#f28e2b","#76b7b2","#edc948","#b07aa1","#ff9da7","#9c755f","#bab0ab"]}]},a={responsive:!0,plugins:{legend:{position:"right",labels:{color:e?"#fff":"#000",font:{size:9,family:"Arial"}}},title:{display:!0,text:"Total Incident Reports By Category",color:e?"#fff":"#000"},tooltip:{callbacks:{label:function(S){const P=S.dataIndex,M=t.category_reports[P];return`${M.category}: ${M.count} (${M.percentage.toFixed(2)}%)`}}}}};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md ${e?"bg-slate-900":"bg-white"}`,children:jsxRuntimeExports.jsx(Doughnut,{data:s,options:a})})};Chart$1.register(plugin_title,plugin_tooltip,plugin_legend,ArcElement);const ZoneReportsChart=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState();if(e)return null;if(!t||t.length===0)return jsxRuntimeExports.jsx("p",{children:"No data available"});const r=t?.zones?.map(P=>`${P.zone_name} (${P.percentage}%)`),s=t?.zones?.map(P=>P.total_incidents),a={labels:r,datasets:[{label:"Incident Total",data:s,backgroundColor:["#22c55e","#3b82f6","#f97316","#e11d48","#9333ea","#14b8a6"],borderColor:n?"#0f172a":"#fff",borderWidth:2}]},S={responsive:!0,plugins:{legend:{position:"right",labels:{color:n?"#fff":"#000",font:{size:10}}},title:{display:!0,text:"Total Incident Report By Zone",color:n?"#fff":"#000"}}};return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.1},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md ${n?"bg-slate-900":"bg-white"}`,children:jsxRuntimeExports.jsx(Doughnut,{data:a,options:S})})};Chart$1.register(plugin_title,plugin_tooltip,plugin_legend,ArcElement);const ZoneAverageResponseChart=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState();if(e)return null;if(!t||!t.response_time||t.response_time.length===0)return jsxRuntimeExports.jsx("p",{children:"No data available"});const r=t.response_time.map(P=>P.zone_name),s=t.response_time.map(P=>P.reports),a={labels:r,datasets:[{label:"Incident Reports",data:s,backgroundColor:["#22c55e","#3b82f6","#f97316","#e11d48","#9333ea","#14b8a6"],borderColor:n?"#0f172a":"#fff",borderWidth:2}]},S={responsive:!0,plugins:{legend:{position:"right",labels:{color:n?"#fff":"#000",font:{size:10}}},title:{display:!0,text:"Average Response Time By Zone",color:n?"#fff":"#000"},tooltip:{callbacks:{label:function(P){const M=P.dataIndex,N=t.response_time[M];return`${N.zone_name}: ${N.reports} reports | Avg Response: ${N.average_zone_response.toFixed(2)} mins`}}}}};return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.1},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md ${n?"bg-slate-900":"bg-white"}`,children:jsxRuntimeExports.jsx(Pie,{data:a,options:S})})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const MonthlyRecordedViolatorsChart=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState(),r=t?.violators||[],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=Array.from({length:12},(M,N)=>{const F=r.find(z=>z.month===N+1);return F?F.total:0}),S={labels:s,datasets:[{label:"Violators",data:a,backgroundColor:n?"#4ade80":"#22c55e"}]},P={responsive:!0,plugins:{title:{display:!0,text:"Monthly Recorded Violators",color:n?"#fff":"#000"},legend:{position:"top",labels:{color:n?"#fff":"#000"}}},scales:{x:{ticks:{color:n?"#fff":"#000"}},y:{beginAtZero:!0,ticks:{color:n?"#fff":"#000"}}}};return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.02},className:` p-4 shadow-lg rounded-md w-[510px] ${n?"bg-slate-900":"bg-white"}`,children:jsxRuntimeExports.jsx(Bar,{data:S,options:P})})};Chart$1.register(ArcElement,plugin_tooltip,plugin_legend,plugin_title);const ZoneTotalViolatorsChart=({data:t,isLoading:e,isError:n})=>{const{darkMode:r}=useAppState();if(e||n||!t?.zone_violators)return null;const s=t?.zone_violators.map(M=>M.zone_name),a=t?.zone_violators.map(M=>M.total),S={labels:s,datasets:[{label:"Total Violators",data:a,backgroundColor:["#22c55e","rgba(255, 99, 132, 1)","#4e79a7","#f28e2b","#76b7b2","#edc948","#b07aa1","#ff9da7","#9c755f","#bab0ab"]}]},P={responsive:!0,plugins:{legend:{position:"right",labels:{color:r?"#fff":"#000",font:{size:9,family:"Arial"}}},title:{display:!0,text:"Total Violators By Zone",color:r?"#fff":"#000"}}};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md ${r?"bg-slate-900":"bg-white"}`,children:jsxRuntimeExports.jsx(Doughnut,{data:S,options:P})})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const IncidentTrendChart=({data:t})=>{const{darkMode:e}=useAppState();new Date().toLocaleString("default",{month:"long"});const n=t?.incident_trend||[],r=[...new Set(n.map(F=>F.category))],s=[...new Set(n.map(F=>F.month_name))],a=e?["#22c55e","#f87171"]:["#22c55e","#ef4444"],S={};s.forEach((F,z)=>{S[F]=a[z%a.length]});const P=s.map(F=>({label:F,data:r.map(z=>{const $=n.find(G=>G.category===z&&G.month_name===F);return $?$.total:0}),backgroundColor:S[F]})),M={labels:r,datasets:P},N={responsive:!0,plugins:{title:{display:!0,text:"Incident Trends by Category",color:e?"#fff":"#000"},legend:{position:"top",labels:{color:e?"#fff":"#000"}}},scales:{x:{ticks:{color:e?"#fff":"#000"}},y:{beginAtZero:!0,ticks:{color:e?"#fff":"#000"}}}};return jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md w-[510px] ${e?"bg-slate-900":"bg-white"}`,children:[jsxRuntimeExports.jsx("h1",{className:`text-lg font-bold ${e?"text-white":"text-black"}`,children:"Incident Trends By Category"}),jsxRuntimeExports.jsx(Bar,{data:M,options:N})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const ZoneIncidentTrendsChart=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState(),r=t?.zone_incident_trends||[],s=[...new Set(r.map(z=>z.zone_name))],a=[...new Set(r.map(z=>z.month_name))],S=n?["#22c55e","#f87171","#3b82f6"]:["#22c55e","#ef4444","#3b82f6"],P={};a.forEach((z,$)=>{P[z]=S[$%S.length]});const M=a.map(z=>({label:z,data:s.map($=>{const G=r.find(H=>H.zone_name===$&&H.month_name===z);return G?G.total:0}),backgroundColor:P[z]})),N={labels:s,datasets:M},F={responsive:!0,plugins:{title:{display:!0,text:"Incident Trends by Zone",color:n?"#fff":"#000"},legend:{position:"top",labels:{color:n?"#fff":"#000"}}},scales:{x:{ticks:{color:n?"#fff":"#000"}},y:{beginAtZero:!0,ticks:{color:n?"#fff":"#000"}}}};return jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md w-[510px] ${n?"bg-slate-900":"bg-white"}`,children:[jsxRuntimeExports.jsx("h1",{className:`text-lg font-bold ${n?"text-white":"text-black"}`,children:"Incident Trends by Zone"}),jsxRuntimeExports.jsx(Bar,{data:N,options:F})]})};Chart$1.register(ArcElement,plugin_tooltip,plugin_legend,plugin_title);const CategoryAvgResponseTimeChart=({data:t})=>{const{darkMode:e}=useAppState();if(!t||!t.category_response_time||t.category_response_time.length===0)return jsxRuntimeExports.jsx("p",{children:"No data available"});const n=t.category_response_time.map(S=>`${S.category_name}`),r=t.category_response_time.map(S=>S.reports),s={labels:n,datasets:[{label:"Reports",data:r,backgroundColor:["#22c55e","rgba(255, 99, 132, 1)","#4e79a7","#f28e2b","#76b7b2","#edc948","#b07aa1","#ff9da7","#9c755f","#bab0ab"]}]},a={responsive:!0,plugins:{legend:{position:"right",labels:{color:e?"#fff":"#000",font:{size:9,family:"Arial"}}},title:{display:!0,text:"Average Response Time By Category",color:e?"#fff":"#000"},tooltip:{callbacks:{label:function(S){const P=S.dataIndex,M=t.category_response_time[P];return`${M.category_name}: ${M.reports} reports | Avg Response: ${M.avg_response_time.toFixed(2)} mins`}}}}};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md ${e?"bg-slate-900":"bg-white"}`,children:jsxRuntimeExports.jsx(Pie,{data:s,options:a})})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend);const IncidentPeakHoursChart=({data:t})=>{const{darkMode:e}=useAppState(),n=t?.incident_peak_hours||[],r=Array.from({length:24},(M,N)=>N),s=r.map(M=>{const N=n.find(F=>F.hour===M);return N?N.total:0}),S={labels:r.map(M=>{const N=M>=12?"PM":"AM";return`${M%12===0?12:M%12} ${N}`}),datasets:[{label:"Incidents",data:s,borderColor:"#22c55e",backgroundColor:"#22c55e",tension:.3,fill:!0}]},P={responsive:!0,plugins:{title:{display:!0,text:"Incident Peak Hours (023)",color:e?"#fff":"#000"},legend:{display:!1}},scales:{x:{title:{display:!0,text:"Hour of Day",color:e?"#fff":"#000"},ticks:{color:e?"#fff":"#000"}},y:{beginAtZero:!0,title:{display:!0,text:"Number of Incidents",color:e?"#fff":"#000"},ticks:{color:e?"#fff":"#000"}}}};return jsxRuntimeExports.jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.02},className:`p-4 shadow-lg rounded-md w-[510px] ${e?"bg-slate-900":"bg-white"}`,children:[jsxRuntimeExports.jsx("h1",{className:`text-lg font-bold mb-2 ${e?"text-white":"text-black"}`,children:"Incident Peak Hours"}),jsxRuntimeExports.jsx(Line,{data:S,options:P})]})},TotalReportCard=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState();return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.03},className:`p-6 shadow-lg rounded-2xl
                transition-colors duration-300
                ${n?"bg-slate-900 text-gray-200":"bg-white text-gray-800"}
            `,children:e?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-24",children:jsxRuntimeExports.jsx("span",{className:"animate-pulse text-sm text-gray-500",children:"Loading..."})}):jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold tracking-wide dark:text-white",children:"Total Reports"}),jsxRuntimeExports.jsx("h2",{className:`text-4xl font-bold ${n?"text-green-400":"text-green-600"}`,children:t.total_reports})]})})},LeastReportedCategory=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState();return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.03},className:`p-6 shadow-lg rounded-2xl  
                transition-colors duration-300
                ${n?"bg-slate-900 text-gray-200":"bg-white text-gray-800"}
            `,children:e?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-24",children:jsxRuntimeExports.jsx("span",{className:"animate-pulse text-sm text-gray-500",children:"Loading..."})}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-green-100 dark:bg-green-900/30 shadow-sm",children:[jsxRuntimeExports.jsx("h1",{className:"text-sm font-medium tracking-wide dark:text-white",children:"Least Reported Category"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-green-700 dark:text-green-400",children:t?.least_reported_category?.category}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-semibold dark:text-white",children:["Reports: ",t?.least_reported_category?.total]})]})})})},MostReportedCategory=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState();return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.03},className:`p-6 shadow-lg rounded-2xl  
                transition-colors duration-300
                ${n?"bg-slate-900 text-gray-200":"bg-white text-gray-800"}
            `,children:e?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-24",children:jsxRuntimeExports.jsx("span",{className:"animate-pulse text-sm text-gray-500",children:"Loading..."})}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-red-100 dark:bg-red-500/90 shadow-sm",children:[jsxRuntimeExports.jsx("h1",{className:"text-sm font-medium tracking-wide  dark:text-white",children:"Most Reported Category"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-green-700 dark:text-green-400",children:t?.most_reported_category?.category}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-semibold  dark:text-white",children:["Reports: ",t?.most_reported_category?.total]})]})})})},IncidentPeakHoursCard=({data:t,isLoading:e})=>{const{darkMode:n}=useAppState(),r=s=>{if(s==null)return"N/A";const a=s>=12?"PM":"AM";return`${s%12||12} ${a}`};return jsxRuntimeExports.jsx(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},whileHover:{scale:1.03},className:`p-6 shadow-lg rounded-2xl
                transition-colors duration-300
                ${n?"bg-slate-900 text-gray-200":"bg-white text-gray-800"}
            `,children:e?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-24",children:jsxRuntimeExports.jsx("span",{className:"animate-pulse text-sm text-gray-500",children:"Loading..."})}):jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold tracking-wide",children:"Peak Reporting Hour"}),jsxRuntimeExports.jsx("h2",{className:`text-3xl font-bold ${n?"text-green-400":"text-green-600"}`,children:r(t?.peak_hours?.hour)}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t?.peak_hours?.total??0," reports"]})]})})},Analytics=()=>{const{base_url:t,token:e}=useAppState(),{data:n,isLoading:r,isError:s}=useQuery({queryKey:["analytics"],queryFn:()=>AnalyticalData({base_url:t,token:e}),enabled:!!t&&!!e});return reactExports.useEffect(()=>{n&&console.log(n)},[n]),jsxRuntimeExports.jsxs("div",{className:"m-4",children:[jsxRuntimeExports.jsx(motion.h1,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"dark:text-white text-gray-700 gap-4 font-medium text-2xl m-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"flex m-4 flex-wrap justify-center gap-4",children:[jsxRuntimeExports.jsx(TotalReportCard,{data:n,isLoading:r}),jsxRuntimeExports.jsx(MostReportedCategory,{data:n,isLoading:r}),jsxRuntimeExports.jsx(LeastReportedCategory,{data:n,isLoading:r}),jsxRuntimeExports.jsx(IncidentPeakHoursCard,{data:n,isLoading:r})]}),jsxRuntimeExports.jsxs("div",{className:"flex m-2 flex-wrap justify-center gap-4",children:[jsxRuntimeExports.jsx(CategoryReportsChart,{data:n,isLoading:r}),jsxRuntimeExports.jsx(ZoneReportsChart,{data:n,isLoading:r}),jsxRuntimeExports.jsx(ZoneAverageResponseChart,{data:n,isLoading:r}),jsxRuntimeExports.jsx(CategoryAvgResponseTimeChart,{data:n}),jsxRuntimeExports.jsx(MonthlyReportChart,{data:n,isLoading:r}),jsxRuntimeExports.jsx(IncidentPeakHoursChart,{data:n,isLoading:r}),jsxRuntimeExports.jsx(YearComparisonChart,{data:n,isLoading:r}),jsxRuntimeExports.jsx(IncidentTrendChart,{data:n}),jsxRuntimeExports.jsx(ZoneIncidentTrendsChart,{data:n,isLoading:r}),jsxRuntimeExports.jsx(MonthlyRecordedViolatorsChart,{data:n,isLoading:r}),jsxRuntimeExports.jsx(ZoneTotalViolatorsChart,{data:n,isLoading:r,isError:s})]})]})},getHotlines=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}hotline`,{headers:{Authorization:`Bearer ${e}`}})).data.hotlines}catch(n){console.log(n)}},postHotline=async({base_url:t,token:e,form:n})=>{try{return(await axios$1.post(`${t}hotline`,n,{headers:{Authorization:`Bearer ${e}`}})).data.hotline}catch(r){console.log(r)}},updateHotline=async({base_url:t,token:e,form:n,id:r})=>{try{return(await axios$1.put(`${t}hotline/${r}`,n,{headers:{Authorization:`Bearer ${e}`}})).data}catch(s){console.log(s)}},nm$2="HDFC Success",ddd$2=0,h$3=512,w$3=512,meta={g:"LottieFiles AE 1.0.0"},layers$2=[{ty:4,nm:"check",sr:1,st:0,op:240,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[256,256,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Shape 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-82.5,4.5],[-31,55],[73,-52.5]]},ix:2}},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:2,e:{a:1,k:[{o:{x:1,y:.076},i:{x:.667,y:1},s:[0],t:60},{s:[100],t:85}],ix:2},o:{a:0,k:0,ix:3},s:{a:0,k:0,ix:1},m:1},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:2,ml:1,o:{a:0,k:100,ix:4},w:{a:0,k:30,ix:5},c:{a:0,k:[1,1,1],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"Shape Layer 2",sr:1,st:0,op:240,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{o:{x:.656,y:.872},i:{x:0,y:.98},s:[0,0,100],t:20},{s:[150,150,100],t:60}],ix:6},sk:{a:0,k:0},p:{a:0,k:[256,257.86,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Ellipse 1",ix:1,cix:2,np:3,it:[{ty:"el",bm:0,hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0],ix:3},s:{a:0,k:[236,236],ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.1725,.8549,.5804],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,-3],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2},{ty:4,nm:"Shape Layer 1",sr:1,st:0,op:240,ip:0,hd:!0,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{o:{x:.477,y:.587},i:{x:0,y:.999},s:[0,0,100],t:10},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[150,150,100],t:50},{o:{x:.167,y:0},i:{x:.833,y:1},s:[150,150,100],t:76},{s:[210,210,100],t:123}],ix:6},sk:{a:0,k:0},p:{a:0,k:[256,257.86,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:1,k:[{o:{x:.912,y:.073},i:{x:.626,y:.729},s:[100],t:76},{s:[0],t:119}],ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Ellipse 1",ix:1,cix:2,np:3,it:[{ty:"el",bm:0,hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0],ix:3},s:{a:0,k:[236,236],ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},c:{a:0,k:[1,1,1],ix:3}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.7843,.9451,.8784],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[0,-3],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3},{ty:4,nm:"BG",sr:1,st:0,op:240,ip:0,hd:!0,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[256,256,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Rectangle 1",ix:1,cix:2,np:3,it:[{ty:"rc",bm:0,hd:!1,mn:"ADBE Vector Shape - Rect",nm:"Rectangle Path 1",d:1,p:{a:0,k:[0,0],ix:3},r:{a:0,k:0,ix:4},s:{a:0,k:[554,556],ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[1,1,1],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[-1,6],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:4}],v$3="4.8.0",fr$2=60,op$2=130,ip$2=0,assets$2=[],SuccessAnimation={nm:nm$2,ddd:ddd$2,h:h$3,w:w$3,meta,layers:layers$2,v:v$3,fr:fr$2,op:op$2,ip:ip$2,assets:assets$2},SuccessAlert=()=>{const{darkMode:t}=useAppState(),e={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}},n={hidden:{scale:.8,opacity:0,y:20},visible:{scale:1,opacity:1,y:0,transition:{duration:.3}},exit:{scale:.8,opacity:0,y:20,transition:{duration:.2}}};return jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",variants:e,initial:"hidden",animate:"visible",exit:"exit",children:jsxRuntimeExports.jsx(motion.div,{variants:n,initial:"hidden",animate:"visible",exit:"exit",className:"relative shadow-lg p-6 text-center",children:jsxRuntimeExports.jsx(Lottie,{animationData:SuccessAnimation,loop:!1,style:{width:250,height:250}})})})})},UpdateHotlineForm=({id:t,onClose:e})=>{const n=useQueryClient(),{token:r,base_url:s,darkMode:a}=useAppState(),[S,P]=reactExports.useState(!1),[M,N]=reactExports.useState({department_name:"",hotline_number:""}),F=U=>{const{name:W,value:Y}=U.target;N(Q=>({...Q,[W]:Y}))},z=useMutation({mutationFn:()=>updateHotline({base_url:s,token:r,id:t,form:M}),onSuccess:()=>{n.invalidateQueries(["hotlines"]),P(!0),setTimeout(()=>{P(!1),e()},3e3)},onError:U=>{console.error("Error updating hotline:",U),alert("Failed to update hotline. Please try again.")}}),$=U=>{U.preventDefault(),z.mutate()};reactExports.useEffect(()=>{if(!t)return;const U=n.getQueryData(["hotlines"])?.find(W=>W.id===t);U&&N({department_name:U.department_name,hotline_number:U.hotline_number})},[t,n]);const G={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},H={hidden:{opacity:0,scale:.9,y:50},visible:{opacity:1,scale:1,y:0,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,scale:.9,y:50,transition:{duration:.3,ease:"easeIn"}}};return jsxRuntimeExports.jsxs(AnimatePresence,{children:[jsxRuntimeExports.jsx(motion.div,{className:`fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 ${a?"bg-white/40":"bg-black/40"}`,variants:G,initial:"hidden",animate:"visible",exit:"exit",children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-md p-6 relative",variants:H,initial:"hidden",animate:"visible",exit:"exit",children:[jsxRuntimeExports.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl hover:cursor-pointer",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6",children:"Update Hotline Number"}),jsxRuntimeExports.jsxs(motion.form,{onSubmit:$,className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Authority Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"department_name",value:M.department_name,onChange:F,required:!0,placeholder:"e.g., Police Department",className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hotline Number"}),jsxRuntimeExports.jsx("input",{type:"text",name:"hotline_number",value:M.hotline_number,onChange:F,required:!0,placeholder:"e.g., 911 or (02) 8722-0650",className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md shadow transition duration-300 disabled:opacity-50 hover:cursor-pointer",children:"Update"})]})]})}),S&&jsxRuntimeExports.jsx(SuccessAlert,{})]})},HotlineTable=()=>{const{token:t,base_url:e,darkMode:n}=useAppState(),[r,s]=reactExports.useState(!1),[a,S]=reactExports.useState(null),{data:P=[],isLoading:M,isError:N}=useQuery({queryKey:["hotlines"],queryFn:()=>getHotlines({base_url:e,token:t})}),[F,z]=reactExports.useState(1),$=5,G=Math.ceil(P.length/$),H=P.slice((F-1)*$,F*$);return jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.1},className:"p-4 ml-0 w-full",children:[jsxRuntimeExports.jsxs("div",{className:`overflow-x-auto mt-4 rounded-lg shadow ${n?"bg-slate-900":"bg-white"}`,children:[jsxRuntimeExports.jsx(motion.h5,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"dark:text-white text-gray-700 gap-4 font-medium text-lg m-2",children:"Authorities Official Hotline Numbers"}),jsxRuntimeExports.jsxs("table",{className:`min-w-full mt-2 divide-y text-sm ${n?"divide-slate-700":"divide-gray-200"}`,children:[jsxRuntimeExports.jsx(motion.thead,{layout:!0,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.1},className:n?"bg-slate-800":"bg-gray-50",children:jsxRuntimeExports.jsx("tr",{children:["Department","Hotline Number","Created At","Action"].map((U,W)=>jsxRuntimeExports.jsx("th",{className:`px-4 py-3 w-40 text-center text-xs font-medium uppercase tracking-wider ${n?"text-gray-200":"text-gray-600"}`,children:U},W))})}),M?jsxRuntimeExports.jsx("div",{className:"text-center text-white font-bold m-2",children:jsxRuntimeExports.jsx("h1",{children:"Loading.."})}):jsxRuntimeExports.jsx("tbody",{className:n?"bg-slate-900":"bg-white",children:H.map((U,W)=>jsxRuntimeExports.jsxs(motion.tr,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:W%2===0?n?"bg-slate-800":"bg-white":n?"bg-slate-900":"bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200 text-center":"px-4 py-3 text-gray-700 text-center",children:U.department_name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-center font-semibold text-blue-600",children:U.hotline_number}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200 text-center":"px-4 py-3 text-gray-700 text-center",children:new Date(U.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>{S(U.id),s(!0)},className:"px-3 py-1 text-xs font-medium bg-green-400 text-white rounded hover:bg-green-500 transition hover:cursor-pointer",children:"Update"})})]},U.id))})]})]}),G>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("button",{disabled:F===1,onClick:()=>z(U=>U-1),className:`px-3 py-1 rounded ${F===1?"bg-gray-400 cursor-not-allowed":"bg-green-400 hover:bg-green-500 text-white"}`,children:"Prev"}),jsxRuntimeExports.jsxs("span",{className:n?"text-gray-300 font-medium":"text-gray-700",children:["Page ",F," of ",G]}),jsxRuntimeExports.jsx("button",{disabled:F===G,onClick:()=>z(U=>U+1),className:`px-3 py-1 rounded ${F===G?"bg-gray-400 cursor-not-allowed":"bg-green-400 hover:bg-green-500 text-white"}`,children:"Next"})]}),r&&jsxRuntimeExports.jsx(UpdateHotlineForm,{onClose:()=>s(!1),id:a})]})},AddHotlineForm=({onClose:t})=>{const e=useQueryClient(),{token:n,base_url:r,darkMode:s}=useAppState(),[a,S]=reactExports.useState(!1),[P,M]=reactExports.useState({department_name:"",hotline_number:""}),N=H=>{const{name:U,value:W}=H.target;M(Y=>({...Y,[U]:W}))},F=useMutation({mutationFn:()=>postHotline({base_url:r,token:n,form:P}),onSuccess:()=>{e.invalidateQueries(["hotlines"]),S(!0),setTimeout(()=>{S(!1),t()},3e3)},onError:H=>{console.error("Error adding hotline:",H),alert("Failed to add hotline. Please try again.")}}),z=H=>{H.preventDefault(),F.mutate()},$={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},G={hidden:{opacity:0,scale:.9,y:50},visible:{opacity:1,scale:1,y:0,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,scale:.9,y:50,transition:{duration:.3,ease:"easeIn"}}};return jsxRuntimeExports.jsxs(AnimatePresence,{children:[jsxRuntimeExports.jsx(motion.div,{className:`fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 ${s?"bg-white/40":"bg-black/40"}`,variants:$,initial:"hidden",animate:"visible",exit:"exit",children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-md p-6 relative",variants:G,initial:"hidden",animate:"visible",exit:"exit",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl hover:cursor-pointer",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6",children:"Add Hotline Number"}),jsxRuntimeExports.jsxs(motion.form,{onSubmit:z,className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Authority Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"department_name",value:P.department_name,onChange:N,required:!0,placeholder:"e.g., Police Department",className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hotline Number"}),jsxRuntimeExports.jsx("input",{type:"text",name:"hotline_number",value:P.hotline_number,onChange:N,required:!0,placeholder:"e.g., 911 or (02) 8722-0650",className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:F.isLoading,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md shadow transition duration-300 disabled:opacity-50 hover:cursor-pointer",children:F.isLoading?"Adding Hotline...":"Add Hotline"})]})]})}),a&&jsxRuntimeExports.jsx(SuccessAlert,{})]})},Hotline=()=>{const[t,e]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"m-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center w-full",children:[jsxRuntimeExports.jsx(motion.h1,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"dark:text-white text-gray-700 gap-4 font-medium text-2xl m-2",children:"Hotline"}),jsxRuntimeExports.jsx("button",{onClick:()=>e(!0),className:"bg-green-500 p-2 rounded-lg hover:bg-green-400 hover:cursor-pointer",children:jsxRuntimeExports.jsx("p",{className:"text-white font-bold",children:"Add Hotline"})})]}),t&&jsxRuntimeExports.jsx(AddHotlineForm,{onClose:()=>e(!1)}),jsxRuntimeExports.jsx(HotlineTable,{})]})};function AiFillHome(t){return GenIcon({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"},child:[]}]})(t)}function BiSolidReport(t){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m20 8-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zM9 19H7v-9h2v9zm4 0h-2v-6h2v6zm4 0h-2v-3h2v3zM14 9h-1V4l5 5h-4z"},child:[]}]})(t)}function FaMapLocationDot(t){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M408 120c0 54.6-73.1 151.9-105.2 192c-7.7 9.6-22 9.6-29.6 0C241.1 271.9 168 174.6 168 120C168 53.7 221.7 0 288 0s120 53.7 120 120zm8 80.4c3.5-6.9 6.7-13.8 9.6-20.6c.5-1.2 1-2.5 1.5-3.7l116-46.4C558.9 123.4 576 135 576 152l0 270.8c0 9.8-6 18.6-15.1 22.3L416 503l0-302.6zM137.6 138.3c2.4 14.1 7.2 28.3 12.8 41.5c2.9 6.8 6.1 13.7 9.6 20.6l0 251.4L32.9 502.7C17.1 509 0 497.4 0 480.4L0 209.6c0-9.8 6-18.6 15.1-22.3l122.6-49zM327.8 332c13.9-17.4 35.7-45.7 56.2-77l0 249.3L192 449.4 192 255c20.5 31.3 42.3 59.6 56.2 77c20.5 25.6 59.1 25.6 79.6 0zM288 152a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"},child:[]}]})(t)}function FiChevronsRight(t){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"13 17 18 12 13 7"},child:[]},{tag:"polyline",attr:{points:"6 17 11 12 6 7"},child:[]}]})(t)}const ToggleClose=({open:t,setOpen:e})=>jsxRuntimeExports.jsx(motion.button,{layout:!0,onClick:()=>e(!t),className:"absolute bottom-0 left-0 right-0 border-t dark:border-slate-950 hover:cursor-pointer border-slate-300 transition-colors hover:bg-slate-100 dark:hover:bg-slate-500",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center p-2",children:[jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"grid size-10 place-content-center text-lg hover:cursor-pointer",children:jsxRuntimeExports.jsx(FiChevronsRight,{className:`transition-transform dark:text-white ${t&&"rotate-180"}`})}),t&&jsxRuntimeExports.jsx(motion.span,{layout:!0,animate:{opacity:1,x:0},transition:{duration:.2},className:"text-xs font-medium dark:text-white",children:"Hide"},"label")]})}),Logo=()=>jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"grid size-10 shrink-0 place-content-center rounded-md ",children:jsxRuntimeExports.jsx("img",{src:Barangay,style:{width:24}})}),TitleSection=({open:t})=>jsxRuntimeExports.jsx("div",{className:"mb-3 border-b border-slate-300 dark:border-slate-950 pb-1",children:jsxRuntimeExports.jsx("div",{className:"flex cursor-pointer items-center justify-between rounded-md transition-colors hover:bg-slate-100 dark:hover:bg-slate-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Logo,{}),t&&jsxRuntimeExports.jsxs(motion.div,{layout:!0,animate:{opacity:1,x:0},transition:{duration:.2},children:[jsxRuntimeExports.jsx("span",{className:"block text-xs font-semibold dark:text-white ",children:"Barangay Igpit"}),jsxRuntimeExports.jsx("span",{className:"block font-light text-xs text-slate-500 dark:text-gray-400 whitespace-nowrap",children:"Incident Management System"})]},"label")]})})}),Option=({Icon:t,title:e,selected:n,setSelected:r,open:s})=>{const[a,S]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("button",{onClick:()=>r(e),className:`relative flex items-center h-10 w-full rounded-md transition-colors hover:cursor-pointer ${n===e?"bg-slate-100 dark:bg-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-800"}`,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:[jsxRuntimeExports.jsx("div",{className:"flex h-full w-10 items-center justify-center shrink-0 text-lg",children:jsxRuntimeExports.jsx(t,{color:"#22c55e"})}),s&&jsxRuntimeExports.jsx(motion.span,{className:"text-sm text-slate-700 dark:text-slate-200 whitespace-nowrap",children:e},"label"),!s&&a&&jsxRuntimeExports.jsx(motion.div,{className:`absolute left-full top-1/2 -translate-y-1/2 ml-2 px-2 py-1 
                     rounded-md text-sm text-white bg-gray-900 shadow-lg whitespace-nowrap z-9999`,children:e})]})},SideNav=()=>{const{open:t,setOpen:e,selected:n,setSelected:r,mapOpen:s,setMapOpen:a,reportOpen:S,setReportOpen:P}=useAppState();return jsxRuntimeExports.jsxs(motion.nav,{layout:!0,initial:!1,animate:{width:t?225:64},transition:{type:"spring",stiffness:200,damping:30},className:`sticky top-0 h-screen shrink-0 border-r border-slate-300 
               dark:border-slate-950 dark:bg-slate-900 bg-white p-2 flex flex-col justify-between z-50`,children:[jsxRuntimeExports.jsxs("div",{className:"mr-1",children:[jsxRuntimeExports.jsx(TitleSection,{open:t}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx(Link,{to:"/dashboard",children:jsxRuntimeExports.jsx(Option,{Icon:AiFillHome,title:"Dashboard",selected:n,setSelected:r,open:t})}),jsxRuntimeExports.jsx(Link,{to:"/analytics",children:jsxRuntimeExports.jsx(Option,{Icon:IoAnalytics,title:"Analytics",selected:n,setSelected:r,open:t})}),jsxRuntimeExports.jsx(Link,{to:"/category",children:jsxRuntimeExports.jsx(Option,{Icon:IoApps,title:"Categories",selected:n,setSelected:r,open:t})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"mb-1",onClick:()=>a(!s),children:jsxRuntimeExports.jsx(Option,{Icon:FaMapLocationDot,title:"Map",selected:n,setSelected:r,open:t})}),s&&jsxRuntimeExports.jsxs(motion.div,{className:`flex flex-col space-y-1 overflow-hidden relative ${t?"ml-6":"ml-0"}`,children:[jsxRuntimeExports.jsx(Link,{to:"/map",children:jsxRuntimeExports.jsx(Option,{Icon:IoLocationSharp,title:"HeatMap",selected:n,setSelected:r,open:t})}),jsxRuntimeExports.jsx(Link,{to:"/incident-request",children:jsxRuntimeExports.jsx(Option,{Icon:IoAlertSharp,title:"Incident Request",selected:n,setSelected:r,open:t})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"mb-1",onClick:()=>P(!S),children:jsxRuntimeExports.jsx(Option,{Icon:IoFileTrayStacked,title:"Records",selected:n,setSelected:r,open:t})}),S&&jsxRuntimeExports.jsxs(motion.div,{className:`flex flex-col space-y-1 overflow-hidden relative ${t?"ml-6":"ml-0"}`,children:[jsxRuntimeExports.jsx(Link,{to:"/reports",children:jsxRuntimeExports.jsx(Option,{Icon:IoFolderOpenSharp,title:"Reports Records",selected:n,setSelected:r,open:t})}),jsxRuntimeExports.jsx(Link,{to:"/request",children:jsxRuntimeExports.jsx(Option,{Icon:BiSolidReport,title:"Request Records",selected:n,setSelected:r,open:t})}),jsxRuntimeExports.jsx(Link,{to:"/residents",children:jsxRuntimeExports.jsx(Option,{Icon:IoPeopleCircleSharp,title:"Residents",selected:n,setSelected:r,open:t})})]})]}),jsxRuntimeExports.jsx(Link,{to:"/violators",children:jsxRuntimeExports.jsx(Option,{Icon:MdReport,title:"Violators",selected:n,setSelected:r,open:t})}),jsxRuntimeExports.jsx(Link,{to:"/volunteers",children:jsxRuntimeExports.jsx(Option,{Icon:MdPeopleAlt,title:"Volunteers",selected:n,setSelected:r,open:t})})]})]}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex flex-col space-y-14 mr-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col space-y-1 border-t pt-2 border-slate-300 dark:border-slate-950",children:jsxRuntimeExports.jsx(Link,{to:"/hotline",children:jsxRuntimeExports.jsx(Option,{Icon:IoCall,title:"Hotline",selected:n,setSelected:r,open:t})})}),jsxRuntimeExports.jsx(ToggleClose,{open:t,setOpen:e})]})]})};function CiLight(t){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Light"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,18.09A6.09,6.09,0,1,1,18.09,12,6.1,6.1,0,0,1,12,18.09ZM12,6.91A5.09,5.09,0,1,0,17.09,12,5.1,5.1,0,0,0,12,6.91Z"},child:[]},{tag:"path",attr:{d:"M11.5,2.568v1.6a.5.5,0,1,0,1,0v-1.6a.5.5,0,1,0-1,0Z"},child:[]},{tag:"path",attr:{d:"M12.5,21.432v-1.6a.5.5,0,0,0-1,0v1.6a.5.5,0,1,0,1,0Z"},child:[]},{tag:"path",attr:{d:"M21.432,11.5h-1.6a.5.5,0,0,0,0,1h1.6a.5.5,0,1,0,0-1Z"},child:[]},{tag:"path",attr:{d:"M2.568,12.5h1.6a.5.5,0,1,0,0-1h-1.6a.5.5,0,1,0,0,1Z"},child:[]},{tag:"path",attr:{d:"M18.316,4.977l-.992.992-.141.141a.514.514,0,0,0-.146.353.508.508,0,0,0,.146.354.5.5,0,0,0,.354.146.515.515,0,0,0,.353-.146l.992-.992.141-.141a.515.515,0,0,0,.147-.354.508.508,0,0,0-.147-.353.5.5,0,0,0-.353-.147.522.522,0,0,0-.354.147Z"},child:[]},{tag:"path",attr:{d:"M5.684,19.023l.992-.992.141-.141a.514.514,0,0,0,.146-.353.508.508,0,0,0-.146-.354.5.5,0,0,0-.354-.146.515.515,0,0,0-.353.146l-.992.992-.141.141a.515.515,0,0,0-.147.354.508.508,0,0,0,.147.353.5.5,0,0,0,.353.147.522.522,0,0,0,.354-.147Z"},child:[]},{tag:"path",attr:{d:"M19.023,18.316l-.992-.992-.141-.141a.514.514,0,0,0-.353-.146.508.508,0,0,0-.354.146.5.5,0,0,0-.146.354.515.515,0,0,0,.146.353l.992.992.141.141a.515.515,0,0,0,.354.147.508.508,0,0,0,.353-.147.5.5,0,0,0,.147-.353.522.522,0,0,0-.147-.354Z"},child:[]},{tag:"path",attr:{d:"M4.977,5.684l.992.992.141.141a.514.514,0,0,0,.353.146.508.508,0,0,0,.354-.146.5.5,0,0,0,.146-.354.515.515,0,0,0-.146-.353l-.992-.992-.141-.141A.515.515,0,0,0,5.33,4.83a.508.508,0,0,0-.353.147.5.5,0,0,0-.147.353.522.522,0,0,0,.147.354Z"},child:[]}]}]}]})(t)}const Avatar="/assets/Avatar-CIKA_LG5.jpg";function IoIosArrowDown(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function IoIosLogOut(t){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M312 372c-7.7 0-14 6.3-14 14 0 9.9-8.1 18-18 18H94c-9.9 0-18-8.1-18-18V126c0-9.9 8.1-18 18-18h186c9.9 0 18 8.1 18 18 0 7.7 6.3 14 14 14s14-6.3 14-14c0-25.4-20.6-46-46-46H94c-25.4 0-46 20.6-46 46v260c0 25.4 20.6 46 46 46h186c25.4 0 46-20.6 46-46 0-7.7-6.3-14-14-14z"},child:[]},{tag:"path",attr:{d:"M372.9 158.1c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-5.5 5.5-5.5 14.3 0 19.8l65.2 64.2H162c-7.7 0-14 6.3-14 14s6.3 14 14 14h256.6L355 334.2c-5.4 5.4-5.4 14.3 0 19.8l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.8 0 7.3-1.4 9.9-4.1l82.6-82.4c4.3-4.3 6.5-9.3 6.5-14.7 0-5.3-2.3-10.3-6.5-14.5l-84.5-84.2z"},child:[]}]})(t)}function GoBellFill(t){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 8a6 6 0 1 1 12 0v2.917c0 .703.228 1.387.65 1.95L20.7 15.6a1.5 1.5 0 0 1-1.2 2.4h-15a1.5 1.5 0 0 1-1.2-2.4l2.05-2.733a3.25 3.25 0 0 0 .65-1.95Zm6 13.5A3.502 3.502 0 0 1 8.645 19h6.71A3.502 3.502 0 0 1 12 21.5Z"},child:[]}]})(t)}const useWeather=()=>{const t=useAppState(n=>n.setWeather),e={base:"https://api.openweathermap.org/data/2.5/",key:"26ac5935b61a4f0bd8e9a329e725fc9c"};return useQuery({queryKey:["weather","Igpit,Opol,PH"],queryFn:async()=>{const r=await(await fetch(`${e.base}weather?q=Igpit,Opol,PH&units=metric&APPID=${e.key}`)).json();if(r.cod!==200)throw new Error(r.message||"Failed to fetch weather");return t(r),r},refetchInterval:1e3*60*60})},notifications=async({base_url:t,token:e})=>{try{return(await axios$1.get(`${t}notifications`,{headers:{Authorization:`Bearer ${e}`}})).data.notifications??[]}catch(n){console.log(n)}},updateNotification=async({base_url:t,token:e,id:n})=>{try{return(await axios$1.put(`${t}update-notification/${n}`,{},{headers:{Authorization:`Bearer ${e}`}})).data.notification}catch(r){console.log(r)}},TopNav=()=>{const{user:t,token:e,base_url:n}=useAppState(),{currentDateTime:r,weather:s,darkMode:a,toggleDarkMode:S,dropdownOpen:P,setDropdownOpen:M,dropNotificationsOpen:N,setDropNotificationsOpen:F,open:z}=useAppState(),$=reactExports.useRef(null),G=reactExports.useRef(null);useWeather();const{data:H}=useQuery({queryKey:["notifications"],queryFn:()=>notifications({base_url:n,token:e})});return jsxRuntimeExports.jsx(motion.nav,{layout:!0,className:"z-10 sticky top-0 border-b border-slate-300 dark:border-slate-950 dark:bg-slate-900 bg-white p-2.5 pl-5 pr-5",children:jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex md:space-x-1 items-center",children:[jsxRuntimeExports.jsx(motion.img,{layout:!0,className:"size-6 hidden md:block rounded-md",src:`https://openweathermap.org/img/wn/${s?.weather?.[0]?.icon}@2x.png`,alt:"Weather Icon"}),jsxRuntimeExports.jsx(motion.p,{layout:!0,className:"text-xs  pr-2 font-extralight dark:text-white",children:s?.main?.temp?`${Math.round(s.main.temp)}C`:"N/A"}),jsxRuntimeExports.jsx(motion.p,{layout:!0,animate:{opacity:1,x:0},transition:{duration:.2},className:"text-sm font-extralight hidden lg:block dark:text-white",children:r},"label")]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex flex-row space-x-1 pr-2 items-center justify-center",children:[jsxRuntimeExports.jsx(motion.div,{layout:!0,animate:{opacity:1},transition:{duration:.5,ease:"easeOut",delay:.5},onClick:S,className:"flex items-center justify-center rounded-md size-8 dark:bg-slate-600 bg-gray-100",children:a?jsxRuntimeExports.jsx(CiLight,{color:"black"}):jsxRuntimeExports.jsx(FaMoon,{size:11,color:"black"})}),jsxRuntimeExports.jsxs(motion.div,{className:"hover:cursor-pointer",style:{width:32,position:"relative"},ref:G,onClick:U=>{U.stopPropagation(),F(!N)},children:[jsxRuntimeExports.jsx(GoBellFill,{color:"#22c55e",size:24}),H?.length>0&&jsxRuntimeExports.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:H?.length}),jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"lg:pl-2"})]}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-white mr-2"}),jsxRuntimeExports.jsx(motion.div,{layout:!0,children:jsxRuntimeExports.jsx("img",{src:Avatar,className:"rounded-full border-2 dark:border-black border-gray-400",style:{width:32}})}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex-col hidden lg:block",ref:$,onClick:U=>{U.stopPropagation(),M(!P)},children:[jsxRuntimeExports.jsx("span",{className:"block text-xs font-semibold dark:text-white ",children:t.name}),jsxRuntimeExports.jsx("span",{className:"block font-light text-xs text-slate-500 dark:text-gray-400",children:t.role})]}),jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"lg:pl-2",ref:$,onClick:U=>{U.stopPropagation(),M(!P)},children:jsxRuntimeExports.jsx(IoIosArrowDown,{size:12,className:`transition-transform dark:text-white text-black ${P&&"rotate-180"}`})})]})})]})})},v$2="5.7.1",fr$1=60,ip$1=0,op$1=180,w$2=400,h$2=400,nm$1="settingsRoll",ddd$1=0,assets$1=[],layers$1=[{ddd:0,ind:1,ty:4,nm:"circle_transp",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:71,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:81,s:[100]},{t:109,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[200,200,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[72,72,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[444,444],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:71,s:[22.381,22.381]},{t:109,s:[61.863,61.863]}],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 2",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"fl",c:{a:0,k:[.1961,.5922,.2196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:70.5,op:110,st:13,bm:0},{ddd:0,ind:2,ty:4,nm:"settings",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.527],y:[1]},o:{x:[.519],y:[0]},t:0,s:[0]},{t:180,s:[360]}],ix:10},p:{a:0,k:[201,200.8,0],ix:2},a:{a:0,k:[102,101.363,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[22.95,0],[0,23.269],[-23.269,0],[0,-23.269]],o:[[-23.269,0],[0,-23.269],[23.269,0],[-.319,23.269]],v:[[101.075,143.151],[59,101.075],[101.075,59],[143.151,101.075]],c:!0},ix:2},nm:"Path",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tr",p:{a:0,k:[102.72,102.444],ix:2},a:{a:0,k:[102.72,102.444],ix:1},s:{a:1,k:[{i:{x:[.969,.969],y:[1,1]},o:{x:[1,1],y:[0,0]},t:0,s:[80,80]},{i:{x:[0,0],y:[1,1]},o:{x:[.031,.031],y:[0,0]},t:89,s:[120,120]},{t:180,s:[80,80]}],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"circle",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[8.925,0],[0,0],[0,9.244],[0,0],[.319,0],[.956,.637],[0,0],[2.55,4.144],[0,0],[-4.463,2.55],[0,0],[-.319,3.188],[0,0],[.638,2.869],[-1.275,2.55],[0,0],[-7.013,-3.825],[0,0],[0,0],[0,0],[-9.244,0],[0,0],[0,-9.244],[0,0],[-.956,-.638],[0,0],[-2.55,-4.144],[0,0],[4.463,-2.55],[0,0],[.638,-3.506],[0,0],[-.637,-2.55],[1.275,-2.231],[0,0],[7.013,3.825],[0,0],[5.1,-2.231],[0,0],[0,0]],o:[[0,0],[-8.925,0],[0,0],[0,-.319],[-5.1,-2.55],[0,0],[-4.781,1.913],[0,0],[-1.913,-4.781],[0,0],[-.319,-3.506],[0,0],[-2.55,-1.275],[-.637,-2.55],[0,0],[2.869,-4.463],[0,0],[.638,-.637],[0,0],[0,-8.925],[0,0],[8.925,0],[0,0],[0,.319],[0,0],[4.781,-1.913],[0,0],[1.913,4.781],[0,0],[.637,3.506],[0,0],[2.55,1.275],[.638,2.55],[0,0],[-2.55,4.144],[0,0],[-.956,.637],[-.319,0],[0,0],[0,9.563]],v:[[119.053,202.726],[84.946,202.726],[68.371,186.151],[68.371,171.807],[68.053,171.489],[52.752,160.651],[32.671,171.807],[19.921,167.664],[.796,134.832],[4.94,122.082],[26.892,111.652],[26.892,90.296],[5.577,80.007],[.796,73.632],[1.752,65.663],[20.24,34.107],[35.54,30.919],[55.147,42.28],[71.64,32.576],[68.371,16.575],[84.946,0],[119.053,0],[135.628,16.575],[133.557,33.009],[149.084,42.581],[171.01,29.006],[183.76,33.15],[203.203,65.982],[199.06,78.732],[176.935,87.909],[177.13,110.449],[198.422,121.445],[203.203,127.501],[202.247,135.151],[183.441,167.026],[168.141,169.895],[150.609,160.014],[135.628,170.851],[135.309,171.17],[135.309,185.833]],c:!0},ix:2},nm:"Path",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Path",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"st",c:{a:0,k:[.1961,.5922,.2196,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:16,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:300,st:0,bm:0}],markers$1=[],Settings={v:v$2,fr:fr$1,ip:ip$1,op:op$1,w:w$2,h:h$2,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1},v$1="5.5.9",fr=60,ip=0,op=181,w$1=200,h$1=200,nm="Name_C",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"c",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[100,100,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:15,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:35,s:[120,120,100]},{t:45,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.075,-.786],[8.968,0],[7.537,4.416],[0,.805],[-13.908,0],[0,-13.908]],o:[[-7.537,4.416],[-8.968,0],[-.074,-.785],[0,-13.908],[13.907,0],[0,.805]],v:[[25.108,29.425],[0,36.198],[-25.108,29.425],[-25.222,27.04],[0,1.818],[25.222,27.04]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.6],y:[0]},t:0,s:[0]},{t:60,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[0,19.008],ix:2},a:{a:0,k:[0,19.008],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,8.76],[-8.731,0],[0,-8.76],[8.731,0]],o:[[0,-8.761],[8.731,0],[0,8.76],[-8.731,0]],v:[[-15.889,-20.836],[-.054,-36.722],[15.78,-20.836],[-.054,-4.949]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.6],y:[0]},t:0,s:[0]},{t:60,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"tr",p:{a:0,k:[-.054,-20.835],ix:2},a:{a:0,k:[-.054,-20.835],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"st",c:{a:0,k:[.8549,.8549,.8549,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:15,op:315,st:15,bm:0},{ddd:0,ind:2,ty:4,nm:"BG 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[100,100,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:20,s:[120,120,100]},{t:30,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[41.421,0],[0,0],[0,41.421],[0,0],[-41.421,0],[0,0],[0,-41.421],[0,0]],o:[[0,0],[-41.421,0],[0,0],[0,-41.421],[0,0],[41.421,0],[0,0],[0,41.421]],v:[[0,75],[0,75],[-75,0],[-75,0],[0,-75],[0,-75],[75,0],[75,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.1961,.5922,.2196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"st",c:{a:0,k:[.8549,.8549,.8549,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!0},{ty:"fl",c:{a:0,k:[.1961,.5922,.2196,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:300,st:0,bm:0}],markers=[],Profile={v:v$1,fr,ip,op,w:w$1,h:h$1,nm,ddd,assets,layers,markers},Logout=()=>{const{logout:t,base_url:e,token:n}=useAppState(),r=useNavigate();return useMutation({mutationFn:()=>UserLogout({token:n,base_url:e}),onSuccess:()=>{t(),r("/")},onError:s=>{console.log(s)}}),jsxRuntimeExports.jsx("button",{onClick:t,children:"Logout"})},DropDown=({dropdownRef:t,dropdownOpen:e})=>jsxRuntimeExports.jsx("div",{children:e&&jsxRuntimeExports.jsxs(motion.div,{ref:t,className:"absolute top-10 space-y-1 z-20 right-3 mt-2  w-28 md:px-1  dark:bg-slate-700 bg-white border-t-1 border-gray-200 dark:border-gray-950  rounded-lg shadow-lg py-2 mr-6",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.2,ease:"easeOut",delay:.1},layout:!0,children:[jsxRuntimeExports.jsxs(Link,{className:"flex flex-row items-center pt-1 text-sm dark:text-white hover:bg-gray-100 dark:hover:bg-gray-500 rounded-md",children:[jsxRuntimeExports.jsx(Lottie,{className:"size-6 mr-1",animationData:Profile,loop:!1,autoPlay:!0}),"Profile"]}),jsxRuntimeExports.jsxs(Link,{to:"#",className:"flex flex-row items-center  text-sm dark:text-white hover:bg-gray-100 dark:hover:bg-gray-500 rounded-md",children:[jsxRuntimeExports.jsx(Lottie,{className:"w-6 h-6 mr-1",animationData:Settings,loop:!1,autoPlay:!0}),"Settings"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row space-x-2 items-center dark:hover:bg-gray-500 rounded-md p-1",children:[jsxRuntimeExports.jsx(IoIosLogOut,{color:"#83e81e"}),jsxRuntimeExports.jsx("p",{className:"flex flex-row items-center text-sm dark:text-white",children:jsxRuntimeExports.jsx(Logout,{})})]})]})}),DropNotifications=({dropdownRef:t,dropdownOpen:e})=>{const{base_url:n,token:r}=useAppState(),s=useQueryClient(),{data:a}=useQuery({queryKey:["notifications"],queryFn:()=>notifications({base_url:n,token:r})}),S=N=>{switch(N.notification_type){case"violators-notification":return`/violators-details/${N.item_id}`;case"request-notification":return"/incident-request";case"report-notification":return`/report-details/${N.item_id}`;default:return"#"}},P=useMutation({mutationFn:({id:N})=>updateNotification({base_url:n,token:r,id:N}),onSuccess:()=>{s.invalidateQueries(["notifications"])}}),M=N=>{P.mutate({id:N})};return jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsx(motion.div,{ref:t,className:`absolute top-10 space-y-1 z-20 right-22 mt-2 w-50 md:px-2 \r
               dark:bg-slate-700 bg-white border-t border-gray-200 dark:border-gray-950 \r
               rounded-lg shadow-lg py-2 mr-6\r
               max-h-44 overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] \r
               [&::-webkit-scrollbar]:hidden`,initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.2,ease:"easeOut"},children:a?.length>0?a.map(N=>jsxRuntimeExports.jsxs(Link,{to:S(N),onClick:()=>M(N.id),className:"flex flex-row items-center gap-3 text-sm dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md px-2 py-1.5",children:[N.notification_type==="violators-notification"?jsxRuntimeExports.jsx(MdPeopleAlt,{color:"tomato",size:22}):N.notification_type==="request-notification"?jsxRuntimeExports.jsx(IoWarningSharp,{color:"tomato",size:22}):jsxRuntimeExports.jsx(MdReport,{color:"tomato",size:22}),jsxRuntimeExports.jsx("span",{children:N.message??N.notification_type})]},N.id)):jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-300 px-2",children:"No notifications yet"})})})},Layout=()=>{const{dropdownOpen:t,setDropdownOpen:e,setDropNotificationsOpen:n,dropNotificationsOpen:r}=useAppState(),s=reactExports.useRef(null),a=reactExports.useRef(null);return reactExports.useEffect(()=>{const S=P=>{(s&&s.current&&!s.current.contains(P.target)||a&&a.current&&!a.current.contains(P.target))&&(e(!1),n(!1))};return(t||r)&&document.addEventListener("click",S),()=>{document.removeEventListener("click",S)}},[t,s,e,r,a,n]),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex bg-gray-50 dark:bg-slate-700",transition:{type:"spring",stiffness:300,damping:30},children:[jsxRuntimeExports.jsx(SideNav,{}),jsxRuntimeExports.jsx(motion.div,{layout:"position",className:"h-[100vh] w-full dark:bg-slate-800 overflow-y-auto overflow-x-auto",children:jsxRuntimeExports.jsxs(motion.div,{className:"position",children:[jsxRuntimeExports.jsx(TopNav,{}),jsxRuntimeExports.jsx(DropNotifications,{dropdownOpen:r,dropdownRef:a}),jsxRuntimeExports.jsx(DropDown,{dropdownOpen:t,dropdownRef:s}),jsxRuntimeExports.jsx(motion.div,{className:"z-30",children:jsxRuntimeExports.jsx(Outlet,{})})]})})]})},ReportViolators=({reportId:t})=>{const{token:e,base_url:n,darkMode:r}=useAppState(),{data:s,isLoading:a}=useQuery({queryKey:["report_violators",t],queryFn:()=>getReportViolators({reportId:t,base_url:n,token:e})});return a?jsxRuntimeExports.jsx("p",{className:"italic text-slate-400",children:"Loading violators..."}):!s||s.length===0?null:jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.5},className:`shadow-md rounded-2xl p-6 space-y-4 ${r?"bg-slate-800 text-slate-200":"bg-white text-gray-800"}`,children:[jsxRuntimeExports.jsx("h3",{className:`text-xl font-semibold border-b pb-2 ${r?"border-slate-600":"border-gray-200"}`,children:"Violators"}),s.map(S=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg shadow-sm bg-slate-700 text-slate-200",children:[jsxRuntimeExports.jsx("img",{src:S.violators?.photo,alt:S.violators?.first_name,className:"w-16 h-16 rounded-full object-cover border border-slate-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:[S.violators?.first_name," ",S.violators?.last_name]}),jsxRuntimeExports.jsxs("p",{children:["Age: ",S.violators?.age]}),jsxRuntimeExports.jsxs("p",{children:["Address: ",S.violators?.zone?.zone_name,","," ",S.violators?.address]})]})]},S.id))]})},ReportDetails=()=>{const{id:t}=useParams(),{darkMode:e,token:n,base_url:r}=useAppState(),s=useNavigate(),{data:a,isLoading:S,isError:P}=useQuery({queryKey:["report_details",t],queryFn:()=>reportDetails({token:n,base_url:r,id:t})});return S?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-20 text-gray-500 dark:text-gray-300",children:jsxRuntimeExports.jsx("p",{className:"font-bold text-2xl animate-pulse",children:"Loading..."})}):P||!a?jsxRuntimeExports.jsx("p",{className:"text-center mt-10 text-lg text-gray-500 dark:text-gray-400",children:"No report found."}):jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.1},className:"px-4 md:px-8 py-6 space-y-6 max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Report Details"}),jsxRuntimeExports.jsx("button",{onClick:()=>s(-1),className:"bg-green-500 px-4 py-2 rounded-lg hover:bg-green-400 transition-colors font-semibold text-white",children:"Back"})]}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex flex-col md:flex-row justify-between bg-white/30 dark:bg-gray-900/40 backdrop-blur-md p-6 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:["Reported By: ",a?.user?.name]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Role: ",a?.user?.role]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mt-3 md:mt-0 text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsxs("p",{children:["Date: ",a?.date]}),jsxRuntimeExports.jsxs("p",{children:["Time:"," ",new Date(`1970-01-01T${a?.time}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})]})]})]}),a?.response_record&&jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex flex-col md:flex-row justify-between bg-white/30 dark:bg-gray-900/40 backdrop-blur-md p-6 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:["Requested By:"," ",a.response_record.request.user.name]}),jsxRuntimeExports.jsxs("p",{children:["Distance: ",a.response_record.distance," km"]}),jsxRuntimeExports.jsxs("p",{children:["Response Time:"," ",a.response_record.response_time," ",a.response_record.response_time>59?"hours":"minutes"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mt-3 md:mt-0 text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsxs("p",{children:["Request Date:"," ",new Date(a.response_record.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),jsxRuntimeExports.jsxs("p",{children:["Request Time:"," ",new Date(a.response_record.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"bg-white/30 dark:bg-gray-900/40 backdrop-blur-md p-6 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold border-b pb-2 border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white",children:"Incident Information"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Category:"})," ",a?.incident_type?.category?.category_name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Type:"})," ",a?.incident_type?.incident_name]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-2 dark:text-white",children:"Report Description:"}),jsxRuntimeExports.jsx("p",{className:"p-4 rounded-lg bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 shadow-sm",children:a?.report_description})]})]}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"bg-white/30 dark:bg-gray-900/40 backdrop-blur-md p-6 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold border-b pb-2 border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white",children:"Location"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Zone:"})," ",a?.location?.zone?.zone_name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Location:"})," ",a?.location?.location_name]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-2 dark:text-white",children:"Landmark:"}),a?.location?.landmark?jsxRuntimeExports.jsx("img",{src:a.location.landmark,alt:"landmark",className:"w-full max-w-md h-64 object-cover rounded-xl border shadow-sm border-gray-300 dark:border-slate-600"}):jsxRuntimeExports.jsx("p",{className:"italic text-gray-500 dark:text-gray-400",children:"No landmark provided"})]})]}),jsxRuntimeExports.jsx(ReportViolators,{reportId:t}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"bg-white/30 dark:bg-gray-900/40 backdrop-blur-md p-6 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold border-b pb-2 border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white",children:"Evidences"}),a.evidences?.length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-4",children:a.evidences.map((M,N)=>jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-col items-center p-3 rounded-xl shadow-sm bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-600",children:[jsxRuntimeExports.jsx("img",{src:M.file_url,alt:`evidence-${N}`,className:"w-40 h-40 object-cover rounded-md mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-center text-gray-700 dark:text-gray-300",children:M?.remarks})]},N))}):jsxRuntimeExports.jsx("p",{className:"italic text-gray-500 dark:text-gray-400",children:"No evidences available"})]})]})},ViolatorsDetails=()=>{const{darkMode:t,token:e,base_url:n}=useAppState(),{id:r}=useParams(),s=useNavigate(),{data:a,isLoading:S,isError:P}=useQuery({queryKey:["violator_details",r],queryFn:()=>violatorsDetails({base_url:n,token:e,id:r})}),[M,N]=reactExports.useState(1),F=5,z=reactExports.useMemo(()=>{if(!a?.reports)return[];const H=(M-1)*F;return a.reports.slice(H,H+F)},[a,M]),$=a?.reports?Math.ceil(a.reports.length/F):0,G=H=>{H>=1&&H<=$&&N(H)};return S?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-20 text-gray-500 dark:text-gray-400",children:jsxRuntimeExports.jsx("p",{className:"font-bold text-2xl animate-pulse",children:"Loading..."})}):P||!a?jsxRuntimeExports.jsx("p",{className:"text-center mt-10 text-lg text-gray-500 dark:text-gray-400",children:"No record found."}):jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20},className:"px-4 md:px-8 py-6 space-y-6 max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Violator Details"}),jsxRuntimeExports.jsx("button",{onClick:()=>s(-1),className:"bg-green-500 px-4 py-2 rounded-lg hover:bg-green-400 transition-colors font-semibold text-white",children:"Back"})]}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"flex flex-col md:flex-row items-center space-x-0 md:space-x-6 bg-white/30 dark:bg-gray-900/40 backdrop-blur-md p-6 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("img",{src:a?.photo,alt:a?.first_name,className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200 dark:border-slate-700"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 md:mt-0 text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Name:"})," ",a?.first_name," ",a?.last_name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Age:"})," ",a?.age]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Address:"})," ",a?.address]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Zone:"})," ",a?.zone?.zone_name]})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"bg-white/30 dark:bg-gray-900/40 backdrop-blur-md p-6 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold border-b pb-2 border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white",children:"Violator Records"}),z.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:z.map(H=>jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20},className:`flex justify-between items-center p-4 rounded-xl shadow-sm border ${t?"bg-slate-900 border-slate-700":"bg-gray-50 border-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-8 flex-1 text-gray-900 dark:text-white",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-semibold",children:["Category:"," ",jsxRuntimeExports.jsx("span",{className:"text-green-500",children:H?.incident_type?.category?.category_name})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-semibold",children:["Type:"," ",jsxRuntimeExports.jsx("span",{className:"text-green-500",children:H?.incident_type?.incident_name})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Date:"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:H?.date})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Time:"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:new Date(`1970-01-01T${H?.time}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Address:"," ",jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[H?.location?.zone?.zone_name,","," ",H?.location?.location_name]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("button",{onClick:()=>s(`/report-details/${H.id}`),className:"bg-green-600 hover:bg-green-500 text-white font-semibold px-4 py-2 rounded-lg transition-colors",children:"View"})})]},H.id))}):jsxRuntimeExports.jsx("p",{className:"italic text-gray-500 dark:text-gray-400",children:"No records available."}),$>1&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>G(M-1),disabled:M===1,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Prev"}),Array.from({length:$},(H,U)=>jsxRuntimeExports.jsx("button",{onClick:()=>G(U+1),className:`px-3 py-1 rounded-lg text-sm font-semibold border transition-colors ${M===U+1?"bg-green-600 text-white border-green-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:U+1},U)),jsxRuntimeExports.jsx("button",{onClick:()=>G(M+1),disabled:M===$,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Next"})]})]})]})},haversineDistance=(t,e,n,r)=>{const s=F=>F*Math.PI/180,S=s(n-t),P=s(r-e),M=Math.sin(S/2)**2+Math.cos(s(t))*Math.cos(s(n))*Math.sin(P/2)**2;return 6371*(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)))},RequestDetails=({requestId:t,onClose:e,tanodLocations:n,geoFence:r})=>{const{darkMode:s}=useAppState(),P=useQueryClient().getQueryData(["request"])?.find(z=>z.id===t),M=Object.values(n).find(z=>String(z.requestId)===String(t)),N=M&&P?haversineDistance(Number(P.latitude),Number(P.longitude),Number(M.lat),Number(M.lng)).toFixed(2):null,F=P&&!r(P.longitude,P.latitude);return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},className:`w-[320px] p-5 border-l rounded-lg shadow-lg relative flex-shrink-0 
                ${s?"bg-slate-800 border-slate-700":"bg-white border-gray-200"}
            `,children:[jsxRuntimeExports.jsx("button",{onClick:e,className:"absolute right-3 top-3 text-gray-400 hover:text-red-500 transition",children:""}),P?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h2",{className:`text-xl font-bold mb-4 ${s?"text-white":"text-gray-800"}`,children:["Incident Request ",P.id]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("p",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-green-600",children:"Category:"})," ",P.category_name]}),jsxRuntimeExports.jsxs("p",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-green-600",children:"Coordinates:"})," ",P.latitude,","," ",P.longitude]}),N?jsxRuntimeExports.jsxs("p",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-green-600",children:"Distance to Tanod:"})," ",N," km"]}):jsxRuntimeExports.jsx("p",{className:`text-sm italic ${s?"text-gray-400":"text-gray-500"}`,children:"No active tanod assigned."}),F&&jsxRuntimeExports.jsx("p",{className:`text-sm font-semibold mt-3 px-3 py-2 rounded-md ${s?"bg-red-900/30 text-red-400 border border-red-800":"bg-red-100 text-red-600 border border-red-300"}`,children:" Out of Jurisdiction  this request is outside Barangay Igpit Jurisdiction area."})]})]}):jsxRuntimeExports.jsx("p",{className:`text-sm italic ${s?"text-gray-400":"text-gray-500"}`,children:"No details found in cache."})]})};class l{listenForWhisper(e,n){return this.listen(".client-"+e,n)}notification(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}stopListeningForWhisper(e,n){return this.stopListening(".client-"+e,n)}}class d{constructor(e){this.namespace=e}format(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}setNamespace(e){this.namespace=e}}function w(t){try{new t}catch(e){if(e instanceof Error&&e.message.includes("is not a constructor"))return!1}return!0}let u$1=class extends l{constructor(e,n,r){super(),this.name=n,this.pusher=e,this.options=r,this.eventFormatter=new d(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(e,n){return this.on(this.eventFormatter.format(e),n),this}listenToAll(e){return this.subscription.bind_global((n,r)=>{if(n.startsWith("pusher:"))return;let s=String(this.options.namespace??"").replace(/\./g,"\\"),a=n.startsWith(s)?n.substring(s.length+1):"."+n;e(a,r)}),this}stopListening(e,n){return n?this.subscription.unbind(this.eventFormatter.format(e),n):this.subscription.unbind(this.eventFormatter.format(e)),this}stopListeningToAll(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}subscribed(e){return this.on("pusher:subscription_succeeded",()=>{e()}),this}error(e){return this.on("pusher:subscription_error",n=>{e(n)}),this}on(e,n){return this.subscription.bind(e,n),this}};class f extends u$1{whisper(e,n){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,n),this}}class g extends u$1{whisper(e,n){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,n),this}}class y extends f{here(e){return this.on("pusher:subscription_succeeded",n=>{e(Object.keys(n.members).map(r=>n.members[r]))}),this}joining(e){return this.on("pusher:member_added",n=>{e(n.info)}),this}whisper(e,n){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,n),this}leaving(e){return this.on("pusher:member_removed",n=>{e(n.info)}),this}}class b extends l{constructor(e,n,r){super(),this.events={},this.listeners={},this.name=n,this.socket=e,this.options=r,this.eventFormatter=new d(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(e,n){return this.on(this.eventFormatter.format(e),n),this}stopListening(e,n){return this.unbindEvent(this.eventFormatter.format(e),n),this}subscribed(e){return this.on("connect",n=>{e(n)}),this}error(e){return this}on(e,n){return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=(r,s)=>{this.name===r&&this.listeners[e]&&this.listeners[e].forEach(a=>a(s))},this.socket.on(e,this.events[e])),this.listeners[e].push(n),this}unbind(){Object.keys(this.events).forEach(e=>{this.unbindEvent(e)})}unbindEvent(e,n){this.listeners[e]=this.listeners[e]||[],n&&(this.listeners[e]=this.listeners[e].filter(r=>r!==n)),(!n||this.listeners[e].length===0)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}class v extends b{whisper(e,n){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:n}),this}}class m extends v{here(e){return this.on("presence:subscribed",n=>{e(n.map(r=>r.user_info))}),this}joining(e){return this.on("presence:joining",n=>e(n.user_info)),this}whisper(e,n){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:n}),this}leaving(e){return this.on("presence:leaving",n=>e(n.user_info)),this}}class h extends l{subscribe(){}unsubscribe(){}listen(e,n){return this}listenToAll(e){return this}stopListening(e,n){return this}subscribed(e){return this}error(e){return this}on(e,n){return this}}class k extends h{whisper(e,n){return this}}class _ extends h{whisper(e,n){return this}}class C extends k{here(e){return this}joining(e){return this}whisper(e,n){return this}leaving(e){return this}}const c=class vd{constructor(e){this.setOptions(e),this.connect()}setOptions(e){this.options={...vd._defaultOptions,...e,broadcaster:e.broadcaster};let n=this.csrfToken();n&&(this.options.auth.headers["X-CSRF-TOKEN"]=n,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=n),n=this.options.bearerToken,n&&(this.options.auth.headers.Authorization="Bearer "+n,this.options.userAuthentication.headers.Authorization="Bearer "+n)}csrfToken(){var e,n;return typeof window<"u"&&(e=window.Laravel)!=null&&e.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))??null:null}};c._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let i=c;class o extends i{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(e,n,r){return this.channel(e).listen(n,r)}channel(e){return this.channels[e]||(this.channels[e]=new u$1(this.pusher,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new f(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}encryptedPrivateChannel(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new g(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new y(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach(n=>{this.leaveChannel(n)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class I extends i{constructor(){super(...arguments),this.channels={}}connect(){let e=this.getSocketIO();this.socket=e(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(n=>{n.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(e,n,r){return this.channel(e).listen(n,r)}channel(e){return this.channels[e]||(this.channels[e]=new b(this.socket,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new v(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new m(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"presence-"+e].forEach(n=>{this.leaveChannel(n)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class p extends i{constructor(){super(...arguments),this.channels={}}connect(){}listen(e,n,r){return new h}channel(e){return new h}privateChannel(e){return new k}encryptedPrivateChannel(e){return new _}presenceChannel(e){return new C}leave(e){}leaveChannel(e){}socketId(){return"fake-socket-id"}disconnect(){}}class E{constructor(e){this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(e){return this.connector.channel(e)}connect(){if(this.options.broadcaster==="reverb")this.connector=new o({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new o(this.options);else if(this.options.broadcaster==="ably")this.connector=new o({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new I(this.options);else if(this.options.broadcaster==="null")this.connector=new p(this.options);else if(typeof this.options.broadcaster=="function"&&w(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(e){return this.connector.presenceChannel(e)}leave(e){this.connector.leave(e)}leaveChannel(e){this.connector.leaveChannel(e)}leaveAllChannels(){for(const e in this.connector.channels)this.leaveChannel(e)}listen(e,n,r){return this.connector.listen(e,n,r)}private(e){return this.connector.privateChannel(e)}encryptedPrivate(e){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(e);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(e){return e instanceof o||e instanceof p}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((e,n)=>{this.socketId()&&e.headers.set("X-Socket-ID",this.socketId()),n()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(e=>(this.socketId()&&(e.headers["X-Socket-Id"]=this.socketId()),e))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((e,n,r)=>{this.socketId()&&r.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",e=>{e.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var pusher={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var hasRequiredPusher;function requirePusher(){return hasRequiredPusher||(hasRequiredPusher=1,(function(t,e){(function(r,s){t.exports=s()})(window,function(){return(function(n){var r={};function s(a){if(r[a])return r[a].exports;var S=r[a]={i:a,l:!1,exports:{}};return n[a].call(S.exports,S,S.exports,s),S.l=!0,S.exports}return s.m=n,s.c=r,s.d=function(a,S,P){s.o(a,S)||Object.defineProperty(a,S,{enumerable:!0,get:P})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,S){if(S&1&&(a=s(a)),S&8||S&4&&typeof a=="object"&&a&&a.__esModule)return a;var P=Object.create(null);if(s.r(P),Object.defineProperty(P,"default",{enumerable:!0,value:a}),S&2&&typeof a!="string")for(var M in a)s.d(P,M,(function(N){return a[N]}).bind(null,M));return P},s.n=function(a){var S=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(S,"a",S),S},s.o=function(a,S){return Object.prototype.hasOwnProperty.call(a,S)},s.p="",s(s.s=2)})([(function(n,r,s){var a=this&&this.__extends||(function(){var U=function(W,Y){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,K){Q.__proto__=K}||function(Q,K){for(var tt in K)K.hasOwnProperty(tt)&&(Q[tt]=K[tt])},U(W,Y)};return function(W,Y){U(W,Y);function Q(){this.constructor=W}W.prototype=Y===null?Object.create(Y):(Q.prototype=Y.prototype,new Q)}})();Object.defineProperty(r,"__esModule",{value:!0});var S=256,P=(function(){function U(W){W===void 0&&(W="="),this._paddingCharacter=W}return U.prototype.encodedLength=function(W){return this._paddingCharacter?(W+2)/3*4|0:(W*8+5)/6|0},U.prototype.encode=function(W){for(var Y="",Q=0;Q<W.length-2;Q+=3){var K=W[Q]<<16|W[Q+1]<<8|W[Q+2];Y+=this._encodeByte(K>>>18&63),Y+=this._encodeByte(K>>>12&63),Y+=this._encodeByte(K>>>6&63),Y+=this._encodeByte(K>>>0&63)}var tt=W.length-Q;if(tt>0){var K=W[Q]<<16|(tt===2?W[Q+1]<<8:0);Y+=this._encodeByte(K>>>18&63),Y+=this._encodeByte(K>>>12&63),tt===2?Y+=this._encodeByte(K>>>6&63):Y+=this._paddingCharacter||"",Y+=this._paddingCharacter||""}return Y},U.prototype.maxDecodedLength=function(W){return this._paddingCharacter?W/4*3|0:(W*6+7)/8|0},U.prototype.decodedLength=function(W){return this.maxDecodedLength(W.length-this._getPaddingLength(W))},U.prototype.decode=function(W){if(W.length===0)return new Uint8Array(0);for(var Y=this._getPaddingLength(W),Q=W.length-Y,K=new Uint8Array(this.maxDecodedLength(Q)),tt=0,nt=0,rt=0,ht=0,ct=0,mt=0,wt=0;nt<Q-4;nt+=4)ht=this._decodeChar(W.charCodeAt(nt+0)),ct=this._decodeChar(W.charCodeAt(nt+1)),mt=this._decodeChar(W.charCodeAt(nt+2)),wt=this._decodeChar(W.charCodeAt(nt+3)),K[tt++]=ht<<2|ct>>>4,K[tt++]=ct<<4|mt>>>2,K[tt++]=mt<<6|wt,rt|=ht&S,rt|=ct&S,rt|=mt&S,rt|=wt&S;if(nt<Q-1&&(ht=this._decodeChar(W.charCodeAt(nt)),ct=this._decodeChar(W.charCodeAt(nt+1)),K[tt++]=ht<<2|ct>>>4,rt|=ht&S,rt|=ct&S),nt<Q-2&&(mt=this._decodeChar(W.charCodeAt(nt+2)),K[tt++]=ct<<4|mt>>>2,rt|=mt&S),nt<Q-3&&(wt=this._decodeChar(W.charCodeAt(nt+3)),K[tt++]=mt<<6|wt,rt|=wt&S),rt!==0)throw new Error("Base64Coder: incorrect characters for decoding");return K},U.prototype._encodeByte=function(W){var Y=W;return Y+=65,Y+=25-W>>>8&6,Y+=51-W>>>8&-75,Y+=61-W>>>8&-15,Y+=62-W>>>8&3,String.fromCharCode(Y)},U.prototype._decodeChar=function(W){var Y=S;return Y+=(42-W&W-44)>>>8&-S+W-43+62,Y+=(46-W&W-48)>>>8&-S+W-47+63,Y+=(47-W&W-58)>>>8&-S+W-48+52,Y+=(64-W&W-91)>>>8&-S+W-65+0,Y+=(96-W&W-123)>>>8&-S+W-97+26,Y},U.prototype._getPaddingLength=function(W){var Y=0;if(this._paddingCharacter){for(var Q=W.length-1;Q>=0&&W[Q]===this._paddingCharacter;Q--)Y++;if(W.length<4||Y>2)throw new Error("Base64Coder: incorrect padding")}return Y},U})();r.Coder=P;var M=new P;function N(U){return M.encode(U)}r.encode=N;function F(U){return M.decode(U)}r.decode=F;var z=(function(U){a(W,U);function W(){return U!==null&&U.apply(this,arguments)||this}return W.prototype._encodeByte=function(Y){var Q=Y;return Q+=65,Q+=25-Y>>>8&6,Q+=51-Y>>>8&-75,Q+=61-Y>>>8&-13,Q+=62-Y>>>8&49,String.fromCharCode(Q)},W.prototype._decodeChar=function(Y){var Q=S;return Q+=(44-Y&Y-46)>>>8&-S+Y-45+62,Q+=(94-Y&Y-96)>>>8&-S+Y-95+63,Q+=(47-Y&Y-58)>>>8&-S+Y-48+52,Q+=(64-Y&Y-91)>>>8&-S+Y-65+0,Q+=(96-Y&Y-123)>>>8&-S+Y-97+26,Q},W})(P);r.URLSafeCoder=z;var $=new z;function G(U){return $.encode(U)}r.encodeURLSafe=G;function H(U){return $.decode(U)}r.decodeURLSafe=H,r.encodedLength=function(U){return M.encodedLength(U)},r.maxDecodedLength=function(U){return M.maxDecodedLength(U)},r.decodedLength=function(U){return M.decodedLength(U)}}),(function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var a="utf8: invalid string",S="utf8: invalid source encoding";function P(F){for(var z=new Uint8Array(M(F)),$=0,G=0;G<F.length;G++){var H=F.charCodeAt(G);H<128?z[$++]=H:H<2048?(z[$++]=192|H>>6,z[$++]=128|H&63):H<55296?(z[$++]=224|H>>12,z[$++]=128|H>>6&63,z[$++]=128|H&63):(G++,H=(H&1023)<<10,H|=F.charCodeAt(G)&1023,H+=65536,z[$++]=240|H>>18,z[$++]=128|H>>12&63,z[$++]=128|H>>6&63,z[$++]=128|H&63)}return z}r.encode=P;function M(F){for(var z=0,$=0;$<F.length;$++){var G=F.charCodeAt($);if(G<128)z+=1;else if(G<2048)z+=2;else if(G<55296)z+=3;else if(G<=57343){if($>=F.length-1)throw new Error(a);$++,z+=4}else throw new Error(a)}return z}r.encodedLength=M;function N(F){for(var z=[],$=0;$<F.length;$++){var G=F[$];if(G&128){var H=void 0;if(G<224){if($>=F.length)throw new Error(S);var U=F[++$];if((U&192)!==128)throw new Error(S);G=(G&31)<<6|U&63,H=128}else if(G<240){if($>=F.length-1)throw new Error(S);var U=F[++$],W=F[++$];if((U&192)!==128||(W&192)!==128)throw new Error(S);G=(G&15)<<12|(U&63)<<6|W&63,H=2048}else if(G<248){if($>=F.length-2)throw new Error(S);var U=F[++$],W=F[++$],Y=F[++$];if((U&192)!==128||(W&192)!==128||(Y&192)!==128)throw new Error(S);G=(G&15)<<18|(U&63)<<12|(W&63)<<6|Y&63,H=65536}else throw new Error(S);if(G<H||G>=55296&&G<=57343)throw new Error(S);if(G>=65536){if(G>1114111)throw new Error(S);G-=65536,z.push(String.fromCharCode(55296|G>>10)),G=56320|G&1023}}z.push(String.fromCharCode(G))}return z.join("")}r.decode=N}),(function(n,r,s){n.exports=s(3).default}),(function(n,r,s){s.r(r);class a{constructor(et,at){this.lastId=0,this.prefix=et,this.name=at}create(et){this.lastId++;var at=this.lastId,bt=this.prefix+at,Ct=this.name+"["+at+"]",qt=!1,Qt=function(){qt||(et.apply(null,arguments),qt=!0)};return this[at]=Qt,{number:at,id:bt,name:Ct,callback:Qt}}remove(et){delete this[et.number]}}var S=new a("_pusher_script_","Pusher.ScriptReceivers"),P={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},M=P;class N{constructor(et){this.options=et,this.receivers=et.receivers||S,this.loading={}}load(et,at,bt){var Ct=this;if(Ct.loading[et]&&Ct.loading[et].length>0)Ct.loading[et].push(bt);else{Ct.loading[et]=[bt];var qt=de.createScriptRequest(Ct.getPath(et,at)),Qt=Ct.receivers.create(function(ne){if(Ct.receivers.remove(Qt),Ct.loading[et]){var ce=Ct.loading[et];delete Ct.loading[et];for(var we=function(Ge){Ge||qt.cleanup()},Pe=0;Pe<ce.length;Pe++)ce[Pe](ne,we)}});qt.send(Qt)}}getRoot(et){var at,bt=de.getDocument().location.protocol;return et&&et.useTLS||bt==="https:"?at=this.options.cdn_https:at=this.options.cdn_http,at.replace(/\/*$/,"")+"/"+this.options.version}getPath(et,at){return this.getRoot(at)+"/"+et+this.options.suffix+".js"}}var F=new a("_pusher_dependencies","Pusher.DependenciesReceivers"),z=new N({cdn_http:M.cdn_http,cdn_https:M.cdn_https,version:M.VERSION,suffix:M.dependency_suffix,receivers:F});const $={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var H={buildLogSuffix:function(ut){const et="See:",at=$.urls[ut];if(!at)return"";let bt;return at.fullUrl?bt=at.fullUrl:at.path&&(bt=$.baseUrl+at.path),bt?`${et} ${bt}`:""}},U;(function(ut){ut.UserAuthentication="user-authentication",ut.ChannelAuthorization="channel-authorization"})(U||(U={}));class W extends Error{constructor(et){super(et),Object.setPrototypeOf(this,new.target.prototype)}}class Y extends Error{constructor(et){super(et),Object.setPrototypeOf(this,new.target.prototype)}}class Q extends Error{constructor(et){super(et),Object.setPrototypeOf(this,new.target.prototype)}}class K extends Error{constructor(et){super(et),Object.setPrototypeOf(this,new.target.prototype)}}class tt extends Error{constructor(et){super(et),Object.setPrototypeOf(this,new.target.prototype)}}class nt extends Error{constructor(et){super(et),Object.setPrototypeOf(this,new.target.prototype)}}class rt extends Error{constructor(et){super(et),Object.setPrototypeOf(this,new.target.prototype)}}class ht extends Error{constructor(et){super(et),Object.setPrototypeOf(this,new.target.prototype)}}class ct extends Error{constructor(et,at){super(at),this.status=et,Object.setPrototypeOf(this,new.target.prototype)}}var wt=function(ut,et,at,bt,Ct){const qt=de.createXHR();qt.open("POST",at.endpoint,!0),qt.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Qt in at.headers)qt.setRequestHeader(Qt,at.headers[Qt]);if(at.headersProvider!=null){let ne=at.headersProvider();for(var Qt in ne)qt.setRequestHeader(Qt,ne[Qt])}return qt.onreadystatechange=function(){if(qt.readyState===4)if(qt.status===200){let ne,ce=!1;try{ne=JSON.parse(qt.responseText),ce=!0}catch{Ct(new ct(200,`JSON returned from ${bt.toString()} endpoint was invalid, yet status code was 200. Data was: ${qt.responseText}`),null)}ce&&Ct(null,ne)}else{let ne="";switch(bt){case U.UserAuthentication:ne=H.buildLogSuffix("authenticationEndpoint");break;case U.ChannelAuthorization:ne=`Clients must be authorized to join private or presence channels. ${H.buildLogSuffix("authorizationEndpoint")}`;break}Ct(new ct(qt.status,`Unable to retrieve auth string from ${bt.toString()} endpoint - received status: ${qt.status} from ${at.endpoint}. ${ne}`),null)}},qt.send(et),qt};function kt(ut){return yt(At(ut))}var _t=String.fromCharCode,Vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jt=function(ut){var et=ut.charCodeAt(0);return et<128?ut:et<2048?_t(192|et>>>6)+_t(128|et&63):_t(224|et>>>12&15)+_t(128|et>>>6&63)+_t(128|et&63)},At=function(ut){return ut.replace(/[^\x00-\x7F]/g,jt)},lt=function(ut){var et=[0,2,1][ut.length%3],at=ut.charCodeAt(0)<<16|(ut.length>1?ut.charCodeAt(1):0)<<8|(ut.length>2?ut.charCodeAt(2):0),bt=[Vt.charAt(at>>>18),Vt.charAt(at>>>12&63),et>=2?"=":Vt.charAt(at>>>6&63),et>=1?"=":Vt.charAt(at&63)];return bt.join("")},yt=window.btoa||function(ut){return ut.replace(/[\s\S]{1,3}/g,lt)};class st{constructor(et,at,bt,Ct){this.clear=at,this.timer=et(()=>{this.timer&&(this.timer=Ct(this.timer))},bt)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var pt=st;function dt(ut){window.clearTimeout(ut)}function xt(ut){window.clearInterval(ut)}class Pt extends pt{constructor(et,at){super(setTimeout,dt,et,function(bt){return at(),null})}}class Dt extends pt{constructor(et,at){super(setInterval,xt,et,function(bt){return at(),bt})}}var Tt={now(){return Date.now?Date.now():new Date().valueOf()},defer(ut){return new Pt(0,ut)},method(ut,...et){var at=Array.prototype.slice.call(arguments,1);return function(bt){return bt[ut].apply(bt,at.concat(arguments))}}},Ht=Tt;function Ut(ut,...et){for(var at=0;at<et.length;at++){var bt=et[at];for(var Ct in bt)bt[Ct]&&bt[Ct].constructor&&bt[Ct].constructor===Object?ut[Ct]=Ut(ut[Ct]||{},bt[Ct]):ut[Ct]=bt[Ct]}return ut}function xe(){for(var ut=["Pusher"],et=0;et<arguments.length;et++)typeof arguments[et]=="string"?ut.push(arguments[et]):ut.push(Cn(arguments[et]));return ut.join(" : ")}function Mt(ut,et){var at=Array.prototype.indexOf;if(ut===null)return-1;if(at&&ut.indexOf===at)return ut.indexOf(et);for(var bt=0,Ct=ut.length;bt<Ct;bt++)if(ut[bt]===et)return bt;return-1}function Ne(ut,et){for(var at in ut)Object.prototype.hasOwnProperty.call(ut,at)&&et(ut[at],at,ut)}function me(ut){var et=[];return Ne(ut,function(at,bt){et.push(bt)}),et}function Jt(ut){var et=[];return Ne(ut,function(at){et.push(at)}),et}function St(ut,et,at){for(var bt=0;bt<ut.length;bt++)et.call(at||window,ut[bt],bt,ut)}function ge(ut,et){for(var at=[],bt=0;bt<ut.length;bt++)at.push(et(ut[bt],bt,ut,at));return at}function ee(ut,et){var at={};return Ne(ut,function(bt,Ct){at[Ct]=et(bt)}),at}function De(ut,et){et=et||function(Ct){return!!Ct};for(var at=[],bt=0;bt<ut.length;bt++)et(ut[bt],bt,ut,at)&&at.push(ut[bt]);return at}function kn(ut,et){var at={};return Ne(ut,function(bt,Ct){(et&&et(bt,Ct,ut,at)||bt)&&(at[Ct]=bt)}),at}function Xe(ut){var et=[];return Ne(ut,function(at,bt){et.push([bt,at])}),et}function Nn(ut,et){for(var at=0;at<ut.length;at++)if(et(ut[at],at,ut))return!0;return!1}function Wt(ut,et){for(var at=0;at<ut.length;at++)if(!et(ut[at],at,ut))return!1;return!0}function jn(ut){return ee(ut,function(et){return typeof et=="object"&&(et=Cn(et)),encodeURIComponent(kt(et.toString()))})}function We(ut){var et=kn(ut,function(bt){return bt!==void 0}),at=ge(Xe(jn(et)),Ht.method("join","=")).join("&");return at}function mn(ut){var et=[],at=[];return(function bt(Ct,qt){var Qt,ne,ce;switch(typeof Ct){case"object":if(!Ct)return null;for(Qt=0;Qt<et.length;Qt+=1)if(et[Qt]===Ct)return{$ref:at[Qt]};if(et.push(Ct),at.push(qt),Object.prototype.toString.apply(Ct)==="[object Array]")for(ce=[],Qt=0;Qt<Ct.length;Qt+=1)ce[Qt]=bt(Ct[Qt],qt+"["+Qt+"]");else{ce={};for(ne in Ct)Object.prototype.hasOwnProperty.call(Ct,ne)&&(ce[ne]=bt(Ct[ne],qt+"["+JSON.stringify(ne)+"]"))}return ce;case"number":case"string":case"boolean":return Ct}})(ut,"$")}function Cn(ut){try{return JSON.stringify(ut)}catch{return JSON.stringify(mn(ut))}}class oe{constructor(){this.globalLog=et=>{window.console&&window.console.log&&window.console.log(et)}}debug(...et){this.log(this.globalLog,et)}warn(...et){this.log(this.globalLogWarn,et)}error(...et){this.log(this.globalLogError,et)}globalLogWarn(et){window.console&&window.console.warn?window.console.warn(et):this.globalLog(et)}globalLogError(et){window.console&&window.console.error?window.console.error(et):this.globalLogWarn(et)}log(et,...at){var bt=xe.apply(this,arguments);Rs.log?Rs.log(bt):Rs.logToConsole&&et.bind(this)(bt)}}var _e=new oe,Qe=function(ut,et,at,bt,Ct){(at.headers!==void 0||at.headersProvider!=null)&&_e.warn(`To send headers with the ${bt.toString()} request, you must use AJAX, rather than JSONP.`);var qt=ut.nextAuthCallbackID.toString();ut.nextAuthCallbackID++;var Qt=ut.getDocument(),ne=Qt.createElement("script");ut.auth_callbacks[qt]=function(Pe){Ct(null,Pe)};var ce="Pusher.auth_callbacks['"+qt+"']";ne.src=at.endpoint+"?callback="+encodeURIComponent(ce)+"&"+et;var we=Qt.getElementsByTagName("head")[0]||Qt.documentElement;we.insertBefore(ne,we.firstChild)},Ue=Qe;class ie{constructor(et){this.src=et}send(et){var at=this,bt="Error loading "+at.src;at.script=document.createElement("script"),at.script.id=et.id,at.script.src=at.src,at.script.type="text/javascript",at.script.charset="UTF-8",at.script.addEventListener?(at.script.onerror=function(){et.callback(bt)},at.script.onload=function(){et.callback(null)}):at.script.onreadystatechange=function(){(at.script.readyState==="loaded"||at.script.readyState==="complete")&&et.callback(null)},at.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(at.errorScript=document.createElement("script"),at.errorScript.id=et.id+"_error",at.errorScript.text=et.name+"('"+bt+"');",at.script.async=at.errorScript.async=!1):at.script.async=!0;var Ct=document.getElementsByTagName("head")[0];Ct.insertBefore(at.script,Ct.firstChild),at.errorScript&&Ct.insertBefore(at.errorScript,at.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Ze{constructor(et,at){this.url=et,this.data=at}send(et){if(!this.request){var at=We(this.data),bt=this.url+"/"+et.number+"?"+at;this.request=de.createScriptRequest(bt),this.request.send(et)}}cleanup(){this.request&&this.request.cleanup()}}var ve=function(ut,et){return function(at,bt){var Ct="http"+(et?"s":"")+"://",qt=Ct+(ut.host||ut.options.host)+ut.options.path,Qt=de.createJSONPRequest(qt,at),ne=de.ScriptReceivers.create(function(ce,we){S.remove(ne),Qt.cleanup(),we&&we.host&&(ut.host=we.host),bt&&bt(ce,we)});Qt.send(ne)}},fe={name:"jsonp",getAgent:ve},Ba=fe;function wn(ut,et,at){var bt=ut+(et.useTLS?"s":""),Ct=et.useTLS?et.hostTLS:et.hostNonTLS;return bt+"://"+Ct+at}function zi(ut,et){var at="/app/"+ut,bt="?protocol="+M.PROTOCOL+"&client=js&version="+M.VERSION+(et?"&"+et:"");return at+bt}var ae={getInitial:function(ut,et){var at=(et.httpPath||"")+zi(ut,"flash=false");return wn("ws",et,at)}},Ir={getInitial:function(ut,et){var at=(et.httpPath||"/pusher")+zi(ut);return wn("http",et,at)}},lr={getInitial:function(ut,et){return wn("http",et,et.httpPath||"/pusher")},getPath:function(ut,et){return zi(ut)}};class ps{constructor(){this._callbacks={}}get(et){return this._callbacks[_n(et)]}add(et,at,bt){var Ct=_n(et);this._callbacks[Ct]=this._callbacks[Ct]||[],this._callbacks[Ct].push({fn:at,context:bt})}remove(et,at,bt){if(!et&&!at&&!bt){this._callbacks={};return}var Ct=et?[_n(et)]:me(this._callbacks);at||bt?this.removeCallback(Ct,at,bt):this.removeAllCallbacks(Ct)}removeCallback(et,at,bt){St(et,function(Ct){this._callbacks[Ct]=De(this._callbacks[Ct]||[],function(qt){return at&&at!==qt.fn||bt&&bt!==qt.context}),this._callbacks[Ct].length===0&&delete this._callbacks[Ct]},this)}removeAllCallbacks(et){St(et,function(at){delete this._callbacks[at]},this)}}function _n(ut){return"_"+ut}class Rn{constructor(et){this.callbacks=new ps,this.global_callbacks=[],this.failThrough=et}bind(et,at,bt){return this.callbacks.add(et,at,bt),this}bind_global(et){return this.global_callbacks.push(et),this}unbind(et,at,bt){return this.callbacks.remove(et,at,bt),this}unbind_global(et){return et?(this.global_callbacks=De(this.global_callbacks||[],at=>at!==et),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(et,at,bt){for(var Ct=0;Ct<this.global_callbacks.length;Ct++)this.global_callbacks[Ct](et,at);var qt=this.callbacks.get(et),Qt=[];if(bt?Qt.push(at,bt):at&&Qt.push(at),qt&&qt.length>0)for(var Ct=0;Ct<qt.length;Ct++)qt[Ct].fn.apply(qt[Ct].context||window,Qt);else this.failThrough&&this.failThrough(et,at);return this}}class Vn extends Rn{constructor(et,at,bt,Ct,qt){super(),this.initialize=de.transportConnectionInitializer,this.hooks=et,this.name=at,this.priority=bt,this.key=Ct,this.options=qt,this.state="new",this.timeline=qt.timeline,this.activityTimeout=qt.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var et=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(et,this.options)}catch(at){return Ht.defer(()=>{this.onError(at),this.changeState("closed")}),!1}return this.bindListeners(),_e.debug("Connecting",{transport:this.name,url:et}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(et){return this.state==="open"?(Ht.defer(()=>{this.socket&&this.socket.send(et)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(et){this.emit("error",{type:"WebSocketError",error:et}),this.timeline.error(this.buildTimelineMessage({error:et.toString()}))}onClose(et){et?this.changeState("closed",{code:et.code,reason:et.reason,wasClean:et.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(et){this.emit("message",et)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=et=>{this.onError(et)},this.socket.onclose=et=>{this.onClose(et)},this.socket.onmessage=et=>{this.onMessage(et)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(et,at){this.state=et,this.timeline.info(this.buildTimelineMessage({state:et,params:at})),this.emit(et,at)}buildTimelineMessage(et){return Ut({cid:this.id},et)}}class Wn{constructor(et){this.hooks=et}isSupported(et){return this.hooks.isSupported(et)}createConnection(et,at,bt,Ct){return new Vn(this.hooks,et,at,bt,Ct)}}var Dr=new Wn({urls:ae,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!de.getWebSocketAPI()},isSupported:function(){return!!de.getWebSocketAPI()},getSocket:function(ut){return de.createWebSocket(ut)}}),ms={urls:Ir,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Or=Ut({getSocket:function(ut){return de.HTTPFactory.createStreamingSocket(ut)}},ms),ni=Ut({getSocket:function(ut){return de.HTTPFactory.createPollingSocket(ut)}},ms),Zt={isSupported:function(){return de.isXHRSupported()}},ur=new Wn(Ut({},Or,Zt)),Lr=new Wn(Ut({},ni,Zt)),zn={ws:Dr,xhr_streaming:ur,xhr_polling:Lr},Je=zn,gn=new Wn({file:"sockjs",urls:lr,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(ut,et){return new window.SockJS(ut,null,{js_path:z.getPath("sockjs",{useTLS:et.useTLS}),ignore_null_origin:et.ignoreNullOrigin})},beforeOpen:function(ut,et){ut.send(JSON.stringify({path:et}))}}),Si={isSupported:function(ut){var et=de.isXDRSupported(ut.useTLS);return et}},fi=new Wn(Ut({},Or,Si)),Ws=new Wn(Ut({},ni,Si));Je.xdr_streaming=fi,Je.xdr_polling=Ws,Je.sockjs=gn;var Fr=Je;class Qs extends Rn{constructor(){super();var et=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){et.emit("online")},!1),window.addEventListener("offline",function(){et.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var $i=new Qs;class gs{constructor(et,at,bt){this.manager=et,this.transport=at,this.minPingDelay=bt.minPingDelay,this.maxPingDelay=bt.maxPingDelay,this.pingDelay=void 0}createConnection(et,at,bt,Ct){Ct=Ut({},Ct,{activityTimeout:this.pingDelay});var qt=this.transport.createConnection(et,at,bt,Ct),Qt=null,ne=function(){qt.unbind("open",ne),qt.bind("closed",ce),Qt=Ht.now()},ce=we=>{if(qt.unbind("closed",ce),we.code===1002||we.code===1003)this.manager.reportDeath();else if(!we.wasClean&&Qt){var Pe=Ht.now()-Qt;Pe<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Pe/2,this.minPingDelay))}};return qt.bind("open",ne),qt}isSupported(et){return this.manager.isAlive()&&this.transport.isSupported(et)}}const nn={decodeMessage:function(ut){try{var et=JSON.parse(ut.data),at=et.data;if(typeof at=="string")try{at=JSON.parse(et.data)}catch{}var bt={event:et.event,channel:et.channel,data:at};return et.user_id&&(bt.user_id=et.user_id),bt}catch(Ct){throw{type:"MessageParseError",error:Ct,data:ut.data}}},encodeMessage:function(ut){return JSON.stringify(ut)},processHandshake:function(ut){var et=nn.decodeMessage(ut);if(et.event==="pusher:connection_established"){if(!et.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:et.data.socket_id,activityTimeout:et.data.activity_timeout*1e3}}else{if(et.event==="pusher:error")return{action:this.getCloseAction(et.data),error:this.getCloseError(et.data)};throw"Invalid handshake"}},getCloseAction:function(ut){return ut.code<4e3?ut.code>=1002&&ut.code<=1004?"backoff":null:ut.code===4e3?"tls_only":ut.code<4100?"refused":ut.code<4200?"backoff":ut.code<4300?"retry":"refused"},getCloseError:function(ut){return ut.code!==1e3&&ut.code!==1001?{type:"PusherError",data:{code:ut.code,message:ut.reason||ut.message}}:null}};var Tn=nn;class di extends Rn{constructor(et,at){super(),this.id=et,this.transport=at,this.activityTimeout=at.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(et){return this.transport.send(et)}send_event(et,at,bt){var Ct={event:et,data:at};return bt&&(Ct.channel=bt),_e.debug("Event sent",Ct),this.send(Tn.encodeMessage(Ct))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var et={message:bt=>{var Ct;try{Ct=Tn.decodeMessage(bt)}catch(qt){this.emit("error",{type:"MessageParseError",error:qt,data:bt.data})}if(Ct!==void 0){switch(_e.debug("Event recd",Ct),Ct.event){case"pusher:error":this.emit("error",{type:"PusherError",data:Ct.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",Ct)}},activity:()=>{this.emit("activity")},error:bt=>{this.emit("error",bt)},closed:bt=>{at(),bt&&bt.code&&this.handleCloseEvent(bt),this.transport=null,this.emit("closed")}},at=()=>{Ne(et,(bt,Ct)=>{this.transport.unbind(Ct,bt)})};Ne(et,(bt,Ct)=>{this.transport.bind(Ct,bt)})}handleCloseEvent(et){var at=Tn.getCloseAction(et),bt=Tn.getCloseError(et);bt&&this.emit("error",bt),at&&this.emit(at,{action:at,error:bt})}}class $n{constructor(et,at){this.transport=et,this.callback=at,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=et=>{this.unbindListeners();var at;try{at=Tn.processHandshake(et)}catch(bt){this.finish("error",{error:bt}),this.transport.close();return}at.action==="connected"?this.finish("connected",{connection:new di(at.id,this.transport),activityTimeout:at.activityTimeout}):(this.finish(at.action,{error:at.error}),this.transport.close())},this.onClosed=et=>{this.unbindListeners();var at=Tn.getCloseAction(et)||"backoff",bt=Tn.getCloseError(et);this.finish(at,{error:bt})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(et,at){this.callback(Ut({transport:this.transport,action:et},at))}}class Be{constructor(et,at){this.timeline=et,this.options=at||{}}send(et,at){this.timeline.isEmpty()||this.timeline.send(de.TimelineTransport.getAgent(this,et),at)}}class qi extends Rn{constructor(et,at){super(function(bt,Ct){_e.debug("No callbacks on "+et+" for "+bt)}),this.name=et,this.pusher=at,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(et,at){return at(null,{auth:""})}trigger(et,at){if(et.indexOf("client-")!==0)throw new W("Event '"+et+"' does not start with 'client-'");if(!this.subscribed){var bt=H.buildLogSuffix("triggeringClientEvents");_e.warn(`Client event triggered before channel 'subscription_succeeded' event . ${bt}`)}return this.pusher.send_event(et,at,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(et){var at=et.event,bt=et.data;if(at==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(et);else if(at==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(et);else if(at.indexOf("pusher_internal:")!==0){var Ct={};this.emit(at,bt,Ct)}}handleSubscriptionSucceededEvent(et){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",et.data)}handleSubscriptionCountEvent(et){et.data.subscription_count&&(this.subscriptionCount=et.data.subscription_count),this.emit("pusher:subscription_count",et.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(et,at)=>{et?(this.subscriptionPending=!1,_e.error(et.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:et.message},et instanceof ct?{status:et.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:at.auth,channel_data:at.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class ji extends qi{authorize(et,at){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:et},at)}}class Qn{constructor(){this.reset()}get(et){return Object.prototype.hasOwnProperty.call(this.members,et)?{id:et,info:this.members[et]}:null}each(et){Ne(this.members,(at,bt)=>{et(this.get(bt))})}setMyID(et){this.myID=et}onSubscription(et){this.members=et.presence.hash,this.count=et.presence.count,this.me=this.get(this.myID)}addMember(et){return this.get(et.user_id)===null&&this.count++,this.members[et.user_id]=et.user_info,this.get(et.user_id)}removeMember(et){var at=this.get(et.user_id);return at&&(delete this.members[et.user_id],this.count--),at}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Ve=function(ut,et,at,bt){function Ct(qt){return qt instanceof at?qt:new at(function(Qt){Qt(qt)})}return new(at||(at=Promise))(function(qt,Qt){function ne(Pe){try{we(bt.next(Pe))}catch(Ge){Qt(Ge)}}function ce(Pe){try{we(bt.throw(Pe))}catch(Ge){Qt(Ge)}}function we(Pe){Pe.done?qt(Pe.value):Ct(Pe.value).then(ne,ce)}we((bt=bt.apply(ut,et||[])).next())})};class Va extends ji{constructor(et,at){super(et,at),this.members=new Qn}authorize(et,at){super.authorize(et,(bt,Ct)=>Ve(this,void 0,void 0,function*(){if(!bt)if(Ct=Ct,Ct.channel_data!=null){var qt=JSON.parse(Ct.channel_data);this.members.setMyID(qt.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Qt=H.buildLogSuffix("authorizationEndpoint");_e.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Qt}, or the user should be signed in.`),at("Invalid auth response");return}at(bt,Ct)}))}handleEvent(et){var at=et.event;if(at.indexOf("pusher_internal:")===0)this.handleInternalEvent(et);else{var bt=et.data,Ct={};et.user_id&&(Ct.user_id=et.user_id),this.emit(at,bt,Ct)}}handleInternalEvent(et){var at=et.event,bt=et.data;switch(at){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(et);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(et);break;case"pusher_internal:member_added":var Ct=this.members.addMember(bt);this.emit("pusher:member_added",Ct);break;case"pusher_internal:member_removed":var qt=this.members.removeMember(bt);qt&&this.emit("pusher:member_removed",qt);break}}handleSubscriptionSucceededEvent(et){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(et.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Zs=s(1),Ii=s(0);class cr extends ji{constructor(et,at,bt){super(et,at),this.key=null,this.nacl=bt}authorize(et,at){super.authorize(et,(bt,Ct)=>{if(bt){at(bt,Ct);return}let qt=Ct.shared_secret;if(!qt){at(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Ii.decode)(qt),delete Ct.shared_secret,at(null,Ct)})}trigger(et,at){throw new nt("Client events are not currently supported for encrypted channels")}handleEvent(et){var at=et.event,bt=et.data;if(at.indexOf("pusher_internal:")===0||at.indexOf("pusher:")===0){super.handleEvent(et);return}this.handleEncryptedEvent(at,bt)}handleEncryptedEvent(et,at){if(!this.key){_e.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!at.ciphertext||!at.nonce){_e.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+at);return}let bt=Object(Ii.decode)(at.ciphertext);if(bt.length<this.nacl.secretbox.overheadLength){_e.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${bt.length}`);return}let Ct=Object(Ii.decode)(at.nonce);if(Ct.length<this.nacl.secretbox.nonceLength){_e.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${Ct.length}`);return}let qt=this.nacl.secretbox.open(bt,Ct,this.key);if(qt===null){_e.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Qt,ne)=>{if(Qt){_e.error(`Failed to make a request to the authEndpoint: ${ne}. Unable to fetch new key, so dropping encrypted event`);return}if(qt=this.nacl.secretbox.open(bt,Ct,this.key),qt===null){_e.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(et,this.getDataToEmit(qt))});return}this.emit(et,this.getDataToEmit(qt))}getDataToEmit(et){let at=Object(Zs.decode)(et);try{return JSON.parse(at)}catch{return at}}}class Hi extends Rn{constructor(et,at){super(),this.state="initialized",this.connection=null,this.key=et,this.options=at,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var bt=de.getNetwork();bt.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),bt.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(et){return this.connection?this.connection.send(et):!1}send_event(et,at,bt){return this.connection?this.connection.send_event(et,at,bt):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var et=(at,bt)=>{at?this.runner=this.strategy.connect(0,et):bt.action==="error"?(this.emit("error",{type:"HandshakeError",error:bt.error}),this.timeline.error({handshakeError:bt.error})):(this.abortConnecting(),this.handshakeCallbacks[bt.action](bt))};this.runner=this.strategy.connect(0,et)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var et=this.abandonConnection();et.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(et){this.timeline.info({action:"retry",delay:et}),et>0&&this.emit("connecting_in",Math.round(et/1e3)),this.retryTimer=new Pt(et||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Pt(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Pt(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Pt(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(et){return Ut({},et,{message:at=>{this.resetActivityCheck(),this.emit("message",at)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:at=>{this.emit("error",at)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(et){return Ut({},et,{connected:at=>{this.activityTimeout=Math.min(this.options.activityTimeout,at.activityTimeout,at.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(at.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let et=at=>bt=>{bt.error&&this.emit("error",{type:"WebSocketError",error:bt.error}),at(bt)};return{tls_only:et(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:et(()=>{this.disconnect()}),backoff:et(()=>{this.retryIn(1e3)}),retry:et(()=>{this.retryIn(0)})}}setConnection(et){this.connection=et;for(var at in this.connectionCallbacks)this.connection.bind(at,this.connectionCallbacks[at]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var et in this.connectionCallbacks)this.connection.unbind(et,this.connectionCallbacks[et]);var at=this.connection;return this.connection=null,at}}updateState(et,at){var bt=this.state;if(this.state=et,bt!==et){var Ct=et;Ct==="connected"&&(Ct+=" with new socket ID "+at.socket_id),_e.debug("State changed",bt+" -> "+Ct),this.timeline.info({state:et,params:at}),this.emit("state_change",{previous:bt,current:et}),this.emit(et,at)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Ui{constructor(){this.channels={}}add(et,at){return this.channels[et]||(this.channels[et]=ii(et,at)),this.channels[et]}all(){return Jt(this.channels)}find(et){return this.channels[et]}remove(et){var at=this.channels[et];return delete this.channels[et],at}disconnect(){Ne(this.channels,function(et){et.disconnect()})}}function ii(ut,et){if(ut.indexOf("private-encrypted-")===0){if(et.config.nacl)return tn.createEncryptedChannel(ut,et,et.config.nacl);let at="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",bt=H.buildLogSuffix("encryptedChannelSupport");throw new nt(`${at}. ${bt}`)}else{if(ut.indexOf("private-")===0)return tn.createPrivateChannel(ut,et);if(ut.indexOf("presence-")===0)return tn.createPresenceChannel(ut,et);if(ut.indexOf("#")===0)throw new Y('Cannot create a channel with name "'+ut+'".');return tn.createChannel(ut,et)}}var ys={createChannels(){return new Ui},createConnectionManager(ut,et){return new Hi(ut,et)},createChannel(ut,et){return new qi(ut,et)},createPrivateChannel(ut,et){return new ji(ut,et)},createPresenceChannel(ut,et){return new Va(ut,et)},createEncryptedChannel(ut,et,at){return new cr(ut,et,at)},createTimelineSender(ut,et){return new Be(ut,et)},createHandshake(ut,et){return new $n(ut,et)},createAssistantToTheTransportManager(ut,et,at){return new gs(ut,et,at)}},tn=ys;class qn{constructor(et){this.options=et||{},this.livesLeft=this.options.lives||1/0}getAssistant(et){return tn.createAssistantToTheTransportManager(this,et,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Zn{constructor(et,at){this.strategies=et,this.loop=!!at.loop,this.failFast=!!at.failFast,this.timeout=at.timeout,this.timeoutLimit=at.timeoutLimit}isSupported(){return Nn(this.strategies,Ht.method("isSupported"))}connect(et,at){var bt=this.strategies,Ct=0,qt=this.timeout,Qt=null,ne=(ce,we)=>{we?at(null,we):(Ct=Ct+1,this.loop&&(Ct=Ct%bt.length),Ct<bt.length?(qt&&(qt=qt*2,this.timeoutLimit&&(qt=Math.min(qt,this.timeoutLimit))),Qt=this.tryStrategy(bt[Ct],et,{timeout:qt,failFast:this.failFast},ne)):at(!0))};return Qt=this.tryStrategy(bt[Ct],et,{timeout:qt,failFast:this.failFast},ne),{abort:function(){Qt.abort()},forceMinPriority:function(ce){et=ce,Qt&&Qt.forceMinPriority(ce)}}}tryStrategy(et,at,bt,Ct){var qt=null,Qt=null;return bt.timeout>0&&(qt=new Pt(bt.timeout,function(){Qt.abort(),Ct(!0)})),Qt=et.connect(at,function(ne,ce){ne&&qt&&qt.isRunning()&&!bt.failFast||(qt&&qt.ensureAborted(),Ct(ne,ce))}),{abort:function(){qt&&qt.ensureAborted(),Qt.abort()},forceMinPriority:function(ne){Qt.forceMinPriority(ne)}}}}class ri{constructor(et){this.strategies=et}isSupported(){return Nn(this.strategies,Ht.method("isSupported"))}connect(et,at){return vs(this.strategies,et,function(bt,Ct){return function(qt,Qt){if(Ct[bt].error=qt,qt){Js(Ct)&&at(!0);return}St(Ct,function(ne){ne.forceMinPriority(Qt.transport.priority)}),at(null,Qt)}})}}function vs(ut,et,at){var bt=ge(ut,function(Ct,qt,Qt,ne){return Ct.connect(et,at(qt,ne))});return{abort:function(){St(bt,Hn)},forceMinPriority:function(Ct){St(bt,function(qt){qt.forceMinPriority(Ct)})}}}function Js(ut){return Wt(ut,function(et){return!!et.error})}function Hn(ut){!ut.error&&!ut.aborted&&(ut.abort(),ut.aborted=!0)}class ta{constructor(et,at,bt){this.strategy=et,this.transports=at,this.ttl=bt.ttl||1800*1e3,this.usingTLS=bt.useTLS,this.timeline=bt.timeline}isSupported(){return this.strategy.isSupported()}connect(et,at){var bt=this.usingTLS,Ct=hr(bt),qt=Ct&&Ct.cacheSkipCount?Ct.cacheSkipCount:0,Qt=[this.strategy];if(Ct&&Ct.timestamp+this.ttl>=Ht.now()){var ne=this.transports[Ct.transport];ne&&(["ws","wss"].includes(Ct.transport)||qt>3?(this.timeline.info({cached:!0,transport:Ct.transport,latency:Ct.latency}),Qt.push(new Zn([ne],{timeout:Ct.latency*2+1e3,failFast:!0}))):qt++)}var ce=Ht.now(),we=Qt.pop().connect(et,function Pe(Ge,vr){Ge?(In(bt),Qt.length>0?(ce=Ht.now(),we=Qt.pop().connect(et,Pe)):at(Ge)):(dr(bt,vr.transport.name,Ht.now()-ce,qt),at(null,vr))});return{abort:function(){we.abort()},forceMinPriority:function(Pe){et=Pe,we&&we.forceMinPriority(Pe)}}}}function Br(ut){return"pusherTransport"+(ut?"TLS":"NonTLS")}function hr(ut){var et=de.getLocalStorage();if(et)try{var at=et[Br(ut)];if(at)return JSON.parse(at)}catch{In(ut)}return null}function dr(ut,et,at,bt){var Ct=de.getLocalStorage();if(Ct)try{Ct[Br(ut)]=Cn({timestamp:Ht.now(),transport:et,latency:at,cacheSkipCount:bt})}catch{}}function In(ut){var et=de.getLocalStorage();if(et)try{delete et[Br(ut)]}catch{}}class Jn{constructor(et,{delay:at}){this.strategy=et,this.options={delay:at}}isSupported(){return this.strategy.isSupported()}connect(et,at){var bt=this.strategy,Ct,qt=new Pt(this.options.delay,function(){Ct=bt.connect(et,at)});return{abort:function(){qt.ensureAborted(),Ct&&Ct.abort()},forceMinPriority:function(Qt){et=Qt,Ct&&Ct.forceMinPriority(Qt)}}}}class hn{constructor(et,at,bt){this.test=et,this.trueBranch=at,this.falseBranch=bt}isSupported(){var et=this.test()?this.trueBranch:this.falseBranch;return et.isSupported()}connect(et,at){var bt=this.test()?this.trueBranch:this.falseBranch;return bt.connect(et,at)}}class ki{constructor(et){this.strategy=et}isSupported(){return this.strategy.isSupported()}connect(et,at){var bt=this.strategy.connect(et,function(Ct,qt){qt&&bt.abort(),at(Ct,qt)});return bt}}function Gi(ut){return function(){return ut.isSupported()}}var xs=function(ut,et,at){var bt={};function Ct(Ms,Ns,js,fa,Is){var Hr=at(ut,Ms,Ns,js,fa,Is);return bt[Ms]=Hr,Hr}var qt=Object.assign({},et,{hostNonTLS:ut.wsHost+":"+ut.wsPort,hostTLS:ut.wsHost+":"+ut.wssPort,httpPath:ut.wsPath}),Qt=Object.assign({},qt,{useTLS:!0}),ne=Object.assign({},et,{hostNonTLS:ut.httpHost+":"+ut.httpPort,hostTLS:ut.httpHost+":"+ut.httpsPort,httpPath:ut.httpPath}),ce={loop:!0,timeout:15e3,timeoutLimit:6e4},we=new qn({minPingDelay:1e4,maxPingDelay:ut.activityTimeout}),Pe=new qn({lives:2,minPingDelay:1e4,maxPingDelay:ut.activityTimeout}),Ge=Ct("ws","ws",3,qt,we),vr=Ct("wss","ws",3,Qt,we),oa=Ct("sockjs","sockjs",1,ne),As=Ct("xhr_streaming","xhr_streaming",1,ne,Pe),Ji=Ct("xdr_streaming","xdr_streaming",1,ne,Pe),la=Ct("xhr_polling","xhr_polling",1,ne),Wa=Ct("xdr_polling","xdr_polling",1,ne),ua=new Zn([Ge],ce),ca=new Zn([vr],ce),Ps=new Zn([oa],ce),tr=new Zn([new hn(Gi(As),As,Ji)],ce),Fi=new Zn([new hn(Gi(la),la,Wa)],ce),ha=new Zn([new hn(Gi(tr),new ri([tr,new Jn(Fi,{delay:4e3})]),Fi)],ce),er=new hn(Gi(ha),ha,Ps),qr;return et.useTLS?qr=new ri([ua,new Jn(er,{delay:2e3})]):qr=new ri([ua,new Jn(ca,{delay:2e3}),new Jn(er,{delay:5e3})]),new ta(new ki(new hn(Gi(Ge),qr,er)),bt,{ttl:18e5,timeline:et.timeline,useTLS:et.useTLS})},Yi=xs,ea=(function(){var ut=this;ut.timeline.info(ut.buildTimelineMessage({transport:ut.name+(ut.options.useTLS?"s":"")})),ut.hooks.isInitialized()?ut.changeState("initialized"):ut.hooks.file?(ut.changeState("initializing"),z.load(ut.hooks.file,{useTLS:ut.options.useTLS},function(et,at){ut.hooks.isInitialized()?(ut.changeState("initialized"),at(!0)):(et&&ut.onError(et),ut.onClose(),at(!1))})):ut.onClose()}),bs={getRequest:function(ut){var et=new window.XDomainRequest;return et.ontimeout=function(){ut.emit("error",new Q),ut.close()},et.onerror=function(at){ut.emit("error",at),ut.close()},et.onprogress=function(){et.responseText&&et.responseText.length>0&&ut.onChunk(200,et.responseText)},et.onload=function(){et.responseText&&et.responseText.length>0&&ut.onChunk(200,et.responseText),ut.emit("finished",200),ut.close()},et},abortRequest:function(ut){ut.ontimeout=ut.onerror=ut.onprogress=ut.onload=null,ut.abort()}},si=bs;const na=256*1024;class ia extends Rn{constructor(et,at,bt){super(),this.hooks=et,this.method=at,this.url=bt}start(et){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},de.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(et)}close(){this.unloader&&(de.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(et,at){for(;;){var bt=this.advanceBuffer(at);if(bt)this.emit("chunk",{status:et,data:bt});else break}this.isBufferTooLong(at)&&this.emit("buffer_too_long")}advanceBuffer(et){var at=et.slice(this.position),bt=at.indexOf(`
`);return bt!==-1?(this.position+=bt+1,at.slice(0,bt)):null}isBufferTooLong(et){return this.position===et.length&&et.length>na}}var pr;(function(ut){ut[ut.CONNECTING=0]="CONNECTING",ut[ut.OPEN=1]="OPEN",ut[ut.CLOSED=3]="CLOSED"})(pr||(pr={}));var mi=pr,_s=1;class ze{constructor(et,at){this.hooks=et,this.session=an(1e3)+"/"+mr(8),this.location=ai(at),this.readyState=mi.CONNECTING,this.openStream()}send(et){return this.sendRaw(JSON.stringify([et]))}ping(){this.hooks.sendHeartbeat(this)}close(et,at){this.onClose(et,at,!0)}sendRaw(et){if(this.readyState===mi.OPEN)try{return de.createSocketRequest("POST",Xi(Es(this.location,this.session))).start(et),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(et,at,bt){this.closeStream(),this.readyState=mi.CLOSED,this.onclose&&this.onclose({code:et,reason:at,wasClean:bt})}onChunk(et){if(et.status===200){this.readyState===mi.OPEN&&this.onActivity();var at,bt=et.data.slice(0,1);switch(bt){case"o":at=JSON.parse(et.data.slice(1)||"{}"),this.onOpen(at);break;case"a":at=JSON.parse(et.data.slice(1)||"[]");for(var Ct=0;Ct<at.length;Ct++)this.onEvent(at[Ct]);break;case"m":at=JSON.parse(et.data.slice(1)||"null"),this.onEvent(at);break;case"h":this.hooks.onHeartbeat(this);break;case"c":at=JSON.parse(et.data.slice(1)||"[]"),this.onClose(at[0],at[1],!0);break}}}onOpen(et){this.readyState===mi.CONNECTING?(et&&et.hostname&&(this.location.base=fn(this.location.base,et.hostname)),this.readyState=mi.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(et){this.readyState===mi.OPEN&&this.onmessage&&this.onmessage({data:et})}onActivity(){this.onactivity&&this.onactivity()}onError(et){this.onerror&&this.onerror(et)}openStream(){this.stream=de.createSocketRequest("POST",Xi(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",et=>{this.onChunk(et)}),this.stream.bind("finished",et=>{this.hooks.onFinished(this,et)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(et){Ht.defer(()=>{this.onError(et),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function ai(ut){var et=/([^\?]*)\/*(\??.*)/.exec(ut);return{base:et[1],queryString:et[2]}}function Es(ut,et){return ut.base+"/"+et+"/xhr_send"}function Xi(ut){var et=ut.indexOf("?")===-1?"?":"&";return ut+et+"t="+ +new Date+"&n="+_s++}function fn(ut,et){var at=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(ut);return at[1]+et+at[3]}function an(ut){return de.randomInt(ut)}function mr(ut){for(var et=[],at=0;at<ut;at++)et.push(an(32).toString(32));return et.join("")}var Ss=ze,ra={getReceiveURL:function(ut,et){return ut.base+"/"+et+"/xhr_streaming"+ut.queryString},onHeartbeat:function(ut){ut.sendRaw("[]")},sendHeartbeat:function(ut){ut.sendRaw("[]")},onFinished:function(ut,et){ut.onClose(1006,"Connection interrupted ("+et+")",!1)}},Ki=ra,Un={getReceiveURL:function(ut,et){return ut.base+"/"+et+"/xhr"+ut.queryString},onHeartbeat:function(){},sendHeartbeat:function(ut){ut.sendRaw("[]")},onFinished:function(ut,et){et===200?ut.reconnect():ut.onClose(1006,"Connection interrupted ("+et+")",!1)}},ks=Un,Wi={getRequest:function(ut){var et=de.getXHRAPI(),at=new et;return at.onreadystatechange=at.onprogress=function(){switch(at.readyState){case 3:at.responseText&&at.responseText.length>0&&ut.onChunk(at.status,at.responseText);break;case 4:at.responseText&&at.responseText.length>0&&ut.onChunk(at.status,at.responseText),ut.emit("finished",at.status),ut.close();break}},at},abortRequest:function(ut){ut.onreadystatechange=null,ut.abort()}},be=Wi,Gn={createStreamingSocket(ut){return this.createSocket(Ki,ut)},createPollingSocket(ut){return this.createSocket(ks,ut)},createSocket(ut,et){return new Ss(ut,et)},createXHR(ut,et){return this.createRequest(be,ut,et)},createRequest(ut,et,at){return new ia(ut,et,at)}},Di=Gn;Di.createXDR=function(ut,et){return this.createRequest(si,ut,et)};var Cs=Di,Ci={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:S,DependenciesReceivers:F,getDefaultStrategy:Yi,Transports:Fr,transportConnectionInitializer:ea,HTTPFactory:Cs,TimelineTransport:Ba,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(ut){window.Pusher=ut;var et=()=>{this.onDocumentBody(ut.ready)};window.JSON?et():z.load("json2",{},et)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:wt,jsonp:Ue}},onDocumentBody(ut){document.body?ut():setTimeout(()=>{this.onDocumentBody(ut)},0)},createJSONPRequest(ut,et){return new Ze(ut,et)},createScriptRequest(ut){return new ie(ut)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var ut=this.getXHRAPI();return new ut},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return $i},createWebSocket(ut){var et=this.getWebSocketAPI();return new et(ut)},createSocketRequest(ut,et){if(this.isXHRSupported())return this.HTTPFactory.createXHR(ut,et);if(this.isXDRSupported(et.indexOf("https:")===0))return this.HTTPFactory.createXDR(ut,et);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var ut=this.getXHRAPI();return!!ut&&new ut().withCredentials!==void 0},isXDRSupported(ut){var et=ut?"https:":"http:",at=this.getProtocol();return!!window.XDomainRequest&&at===et},addUnloadListener(ut){window.addEventListener!==void 0?window.addEventListener("unload",ut,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",ut)},removeUnloadListener(ut){window.addEventListener!==void 0?window.removeEventListener("unload",ut,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",ut)},randomInt(ut){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*ut)}},de=Ci,on;(function(ut){ut[ut.ERROR=3]="ERROR",ut[ut.INFO=6]="INFO",ut[ut.DEBUG=7]="DEBUG"})(on||(on={}));var ln=on;class gi{constructor(et,at,bt){this.key=et,this.session=at,this.events=[],this.options=bt||{},this.sent=0,this.uniqueID=0}log(et,at){et<=this.options.level&&(this.events.push(Ut({},at,{timestamp:Ht.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(et){this.log(ln.ERROR,et)}info(et){this.log(ln.INFO,et)}debug(et){this.log(ln.DEBUG,et)}isEmpty(){return this.events.length===0}send(et,at){var bt=Ut({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],et(bt,(Ct,qt)=>{Ct||this.sent++,at&&at(Ct,qt)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class gr{constructor(et,at,bt,Ct){this.name=et,this.priority=at,this.transport=bt,this.options=Ct||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(et,at){if(this.isSupported()){if(this.priority<et)return Oi(new K,at)}else return Oi(new ht,at);var bt=!1,Ct=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),qt=null,Qt=function(){Ct.unbind("initialized",Qt),Ct.connect()},ne=function(){qt=tn.createHandshake(Ct,function(Ge){bt=!0,Pe(),at(null,Ge)})},ce=function(Ge){Pe(),at(Ge)},we=function(){Pe();var Ge;Ge=Cn(Ct),at(new tt(Ge))},Pe=function(){Ct.unbind("initialized",Qt),Ct.unbind("open",ne),Ct.unbind("error",ce),Ct.unbind("closed",we)};return Ct.bind("initialized",Qt),Ct.bind("open",ne),Ct.bind("error",ce),Ct.bind("closed",we),Ct.initialize(),{abort:()=>{bt||(Pe(),qt?qt.close():Ct.close())},forceMinPriority:Ge=>{bt||this.priority<Ge&&(qt?qt.close():Ct.close())}}}}function Oi(ut,et){return Ht.defer(function(){et(ut)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:za}=de;var Vr=function(ut,et,at,bt,Ct,qt){var Qt=za[at];if(!Qt)throw new rt(at);var ne=(!ut.enabledTransports||Mt(ut.enabledTransports,et)!==-1)&&(!ut.disabledTransports||Mt(ut.disabledTransports,et)===-1),ce;return ne?(Ct=Object.assign({ignoreNullOrigin:ut.ignoreNullOrigin},Ct),ce=new gr(et,bt,qt?qt.getAssistant(Qt):Qt,Ct)):ce=ti,ce},ti={isSupported:function(){return!1},connect:function(ut,et){var at=Ht.defer(function(){et(new ht)});return{abort:function(){at.ensureAborted()},forceMinPriority:function(){}}}};function wi(ut){if(ut==null)throw"You must pass an options object";if(ut.cluster==null)throw"Options object must provide a cluster";"disableStats"in ut&&_e.warn("The disableStats option is deprecated in favor of enableStats")}const zr=(ut,et)=>{var at="socket_id="+encodeURIComponent(ut.socketId);for(var bt in et.params)at+="&"+encodeURIComponent(bt)+"="+encodeURIComponent(et.params[bt]);if(et.paramsProvider!=null){let Ct=et.paramsProvider();for(var bt in Ct)at+="&"+encodeURIComponent(bt)+"="+encodeURIComponent(Ct[bt])}return at};var Qi=ut=>{if(typeof de.getAuthorizers()[ut.transport]>"u")throw`'${ut.transport}' is not a recognized auth transport`;return(et,at)=>{const bt=zr(et,ut);de.getAuthorizers()[ut.transport](de,bt,ut,U.UserAuthentication,at)}};const $a=(ut,et)=>{var at="socket_id="+encodeURIComponent(ut.socketId);at+="&channel_name="+encodeURIComponent(ut.channelName);for(var bt in et.params)at+="&"+encodeURIComponent(bt)+"="+encodeURIComponent(et.params[bt]);if(et.paramsProvider!=null){let Ct=et.paramsProvider();for(var bt in Ct)at+="&"+encodeURIComponent(bt)+"="+encodeURIComponent(Ct[bt])}return at};var $r=ut=>{if(typeof de.getAuthorizers()[ut.transport]>"u")throw`'${ut.transport}' is not a recognized auth transport`;return(et,at)=>{const bt=$a(et,ut);de.getAuthorizers()[ut.transport](de,bt,ut,U.ChannelAuthorization,at)}};const Zi=(ut,et,at)=>{const bt={authTransport:et.transport,authEndpoint:et.endpoint,auth:{params:et.params,headers:et.headers}};return(Ct,qt)=>{const Qt=ut.channel(Ct.channelName);at(Qt,bt).authorize(Ct.socketId,qt)}};function qa(ut,et){let at={activityTimeout:ut.activityTimeout||M.activityTimeout,cluster:ut.cluster,httpPath:ut.httpPath||M.httpPath,httpPort:ut.httpPort||M.httpPort,httpsPort:ut.httpsPort||M.httpsPort,pongTimeout:ut.pongTimeout||M.pongTimeout,statsHost:ut.statsHost||M.stats_host,unavailableTimeout:ut.unavailableTimeout||M.unavailableTimeout,wsPath:ut.wsPath||M.wsPath,wsPort:ut.wsPort||M.wsPort,wssPort:ut.wssPort||M.wssPort,enableStats:Ua(ut),httpHost:oi(ut),useTLS:aa(ut),wsHost:sa(ut),userAuthenticator:Ga(ut),channelAuthorizer:Xa(ut,et)};return"disabledTransports"in ut&&(at.disabledTransports=ut.disabledTransports),"enabledTransports"in ut&&(at.enabledTransports=ut.enabledTransports),"ignoreNullOrigin"in ut&&(at.ignoreNullOrigin=ut.ignoreNullOrigin),"timelineParams"in ut&&(at.timelineParams=ut.timelineParams),"nacl"in ut&&(at.nacl=ut.nacl),at}function oi(ut){return ut.httpHost?ut.httpHost:ut.cluster?`sockjs-${ut.cluster}.pusher.com`:M.httpHost}function sa(ut){return ut.wsHost?ut.wsHost:Ha(ut.cluster)}function Ha(ut){return`ws-${ut}.pusher.com`}function aa(ut){return de.getProtocol()==="https:"?!0:ut.forceTLS!==!1}function Ua(ut){return"enableStats"in ut?ut.enableStats:"disableStats"in ut?!ut.disableStats:!1}function Ga(ut){const et=Object.assign(Object.assign({},M.userAuthentication),ut.userAuthentication);return"customHandler"in et&&et.customHandler!=null?et.customHandler:Qi(et)}function Ya(ut,et){let at;return"channelAuthorization"in ut?at=Object.assign(Object.assign({},M.channelAuthorization),ut.channelAuthorization):(at={transport:ut.authTransport||M.authTransport,endpoint:ut.authEndpoint||M.authEndpoint},"auth"in ut&&("params"in ut.auth&&(at.params=ut.auth.params),"headers"in ut.auth&&(at.headers=ut.auth.headers)),"authorizer"in ut&&(at.customHandler=Zi(et,at,ut.authorizer))),at}function Xa(ut,et){const at=Ya(ut,et);return"customHandler"in at&&at.customHandler!=null?at.customHandler:$r(at)}class ws extends Rn{constructor(et){super(function(at,bt){_e.debug(`No callbacks on watchlist events for ${at}`)}),this.pusher=et,this.bindWatchlistInternalEvent()}handleEvent(et){et.data.events.forEach(at=>{this.emit(at.name,at)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",et=>{var at=et.event;at==="pusher_internal:watchlist_events"&&this.handleEvent(et)})}}function Li(){let ut,et;return{promise:new Promise((bt,Ct)=>{ut=bt,et=Ct}),resolve:ut,reject:et}}var Dn=Li;class Ka extends Rn{constructor(et){super(function(at,bt){_e.debug("No callbacks on user for "+at)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(at,bt)=>{if(at){_e.warn(`Error during signin: ${at}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:bt.auth,user_data:bt.user_data})},this.pusher=et,this.pusher.connection.bind("state_change",({previous:at,current:bt})=>{at!=="connected"&&bt==="connected"&&this._signin(),at==="connected"&&bt!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new ws(et),this.pusher.connection.bind("message",at=>{var bt=at.event;bt==="pusher:signin_success"&&this._onSigninSuccess(at.data),this.serverToUserChannel&&this.serverToUserChannel.name===at.channel&&this.serverToUserChannel.handleEvent(at)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(et){try{this.user_data=JSON.parse(et.user_data)}catch{_e.error(`Failed parsing user data after signin: ${et.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){_e.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const et=at=>{at.subscriptionPending&&at.subscriptionCancelled?at.reinstateSubscription():!at.subscriptionPending&&this.pusher.connection.state==="connected"&&at.subscribe()};this.serverToUserChannel=new qi(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((at,bt)=>{at.indexOf("pusher_internal:")===0||at.indexOf("pusher:")===0||this.emit(at,bt)}),et(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:et,resolve:at}=Dn();et.done=!1;const bt=()=>{et.done=!0};et.then(bt).catch(bt),this.signinDonePromise=et,this._signinDoneResolve=at}}class rn{static ready(){rn.isReady=!0;for(var et=0,at=rn.instances.length;et<at;et++)rn.instances[et].connect()}static getClientFeatures(){return me(kn({ws:de.Transports.ws},function(et){return et.isSupported({})}))}constructor(et,at){Ts(et),wi(at),this.key=et,this.config=qa(at,this),this.channels=tn.createChannels(),this.global_emitter=new Rn,this.sessionID=de.randomInt(1e9),this.timeline=new gi(this.key,this.sessionID,{cluster:this.config.cluster,features:rn.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:ln.INFO,version:M.VERSION}),this.config.enableStats&&(this.timelineSender=tn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+de.TimelineTransport.name}));var bt=Ct=>de.getDefaultStrategy(this.config,Ct,Vr);this.connection=tn.createConnectionManager(this.key,{getStrategy:bt,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",Ct=>{var qt=Ct.event,Qt=qt.indexOf("pusher_internal:")===0;if(Ct.channel){var ne=this.channel(Ct.channel);ne&&ne.handleEvent(Ct)}Qt||this.global_emitter.emit(Ct.event,Ct.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",Ct=>{_e.warn(Ct)}),rn.instances.push(this),this.timeline.info({instances:rn.instances.length}),this.user=new Ka(this),rn.isReady&&this.connect()}channel(et){return this.channels.find(et)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var et=this.connection.isUsingTLS(),at=this.timelineSender;this.timelineSenderTimer=new Dt(6e4,function(){at.send(et)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(et,at,bt){return this.global_emitter.bind(et,at,bt),this}unbind(et,at,bt){return this.global_emitter.unbind(et,at,bt),this}bind_global(et){return this.global_emitter.bind_global(et),this}unbind_global(et){return this.global_emitter.unbind_global(et),this}unbind_all(et){return this.global_emitter.unbind_all(),this}subscribeAll(){var et;for(et in this.channels.channels)this.channels.channels.hasOwnProperty(et)&&this.subscribe(et)}subscribe(et){var at=this.channels.add(et,this);return at.subscriptionPending&&at.subscriptionCancelled?at.reinstateSubscription():!at.subscriptionPending&&this.connection.state==="connected"&&at.subscribe(),at}unsubscribe(et){var at=this.channels.find(et);at&&at.subscriptionPending?at.cancelSubscription():(at=this.channels.remove(et),at&&at.subscribed&&at.unsubscribe())}send_event(et,at,bt){return this.connection.send_event(et,at,bt)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}rn.instances=[],rn.isReady=!1,rn.logToConsole=!1,rn.Runtime=de,rn.ScriptReceivers=de.ScriptReceivers,rn.DependenciesReceivers=de.DependenciesReceivers,rn.auth_callbacks=de.auth_callbacks;var Rs=r.default=rn;function Ts(ut){if(ut==null)throw"You must pass your app key when you instantiate Pusher."}de.setup(rn)})])})})(pusher)),pusher.exports}var pusherExports=requirePusher();const Pusher=getDefaultExportFromCjs(pusherExports);window.Pusher=Pusher;const echo=new E({broadcaster:"pusher",key:"bc4ea4d02a3232a7df3c",cluster:"ap1",forceTLS:!0});var earthRadius=63710088e-1,factors={centimeters:earthRadius*100,centimetres:earthRadius*100,degrees:360/(2*Math.PI),feet:earthRadius*3.28084,inches:earthRadius*39.37,kilometers:earthRadius/1e3,kilometres:earthRadius/1e3,meters:earthRadius,metres:earthRadius,miles:earthRadius/1609.344,millimeters:earthRadius*1e3,millimetres:earthRadius*1e3,nauticalmiles:earthRadius/1852,radians:1,yards:earthRadius*1.0936};function feature(t,e,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function point(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(t[0])||!isNumber(t[1]))throw new Error("coordinates must contain numbers");return feature({type:"Point",coordinates:t},e,n)}function polygon(t,e,n={}){for(const s of t){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:t},e,n)}function featureCollection(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function radiansToLength(t,e="kilometers"){const n=factors[e];if(!n)throw new Error(e+" units is invalid");return t*n}function lengthToRadians(t,e="kilometers"){const n=factors[e];if(!n)throw new Error(e+" units is invalid");return t/n}function isNumber(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function getCoord(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function getGeom(t){return t.type==="Feature"?t.geometry:t}function coordEach(t,e,n){if(t!==null)for(var r,s,a,S,P,M,N,F=0,z=0,$,G=t.type,H=G==="FeatureCollection",U=G==="Feature",W=H?t.features.length:1,Y=0;Y<W;Y++){N=H?t.features[Y].geometry:U?t.geometry:t,$=N?N.type==="GeometryCollection":!1,P=$?N.geometries.length:1;for(var Q=0;Q<P;Q++){var K=0,tt=0;if(S=$?N.geometries[Q]:N,S!==null){M=S.coordinates;var nt=S.type;switch(F=0,nt){case null:break;case"Point":if(e(M,z,Y,K,tt)===!1)return!1;z++,K++;break;case"LineString":case"MultiPoint":for(r=0;r<M.length;r++){if(e(M[r],z,Y,K,tt)===!1)return!1;z++,nt==="MultiPoint"&&K++}nt==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(r=0;r<M.length;r++){for(s=0;s<M[r].length-F;s++){if(e(M[r][s],z,Y,K,tt)===!1)return!1;z++}nt==="MultiLineString"&&K++,nt==="Polygon"&&tt++}nt==="Polygon"&&K++;break;case"MultiPolygon":for(r=0;r<M.length;r++){for(tt=0,s=0;s<M[r].length;s++){for(a=0;a<M[r][s].length-F;a++){if(e(M[r][s][a],z,Y,K,tt)===!1)return!1;z++}tt++}K++}break;case"GeometryCollection":for(r=0;r<S.geometries.length;r++)if(coordEach(S.geometries[r],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function featureEach(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function geomEach(t,e){var n,r,s,a,S,P,M,N,F,z,$=0,G=t.type==="FeatureCollection",H=t.type==="Feature",U=G?t.features.length:1;for(n=0;n<U;n++){for(P=G?t.features[n].geometry:H?t.geometry:t,N=G?t.features[n].properties:H?t.properties:{},F=G?t.features[n].bbox:H?t.bbox:void 0,z=G?t.features[n].id:H?t.id:void 0,M=P?P.type==="GeometryCollection":!1,S=M?P.geometries.length:1,s=0;s<S;s++){if(a=M?P.geometries[s]:P,a===null){if(e(null,$,N,F,z)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(a,$,N,F,z)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<a.geometries.length;r++)if(e(a.geometries[r],$,N,F,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}$++}}function bbox(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return coordEach(t,r=>{n[0]>r[0]&&(n[0]=r[0]),n[1]>r[1]&&(n[1]=r[1]),n[2]<r[0]&&(n[2]=r[0]),n[3]<r[1]&&(n[3]=r[1])}),n}const epsilon$1=11102230246251565e-32,splitter=134217729,resulterrbound=(3+8*epsilon$1)*epsilon$1;function sum$1(t,e,n,r,s){let a,S,P,M,N=e[0],F=r[0],z=0,$=0;F>N==F>-N?(a=N,N=e[++z]):(a=F,F=r[++$]);let G=0;if(z<t&&$<n)for(F>N==F>-N?(S=N+a,P=a-(S-N),N=e[++z]):(S=F+a,P=a-(S-F),F=r[++$]),a=S,P!==0&&(s[G++]=P);z<t&&$<n;)F>N==F>-N?(S=a+N,M=S-a,P=a-(S-M)+(N-M),N=e[++z]):(S=a+F,M=S-a,P=a-(S-M)+(F-M),F=r[++$]),a=S,P!==0&&(s[G++]=P);for(;z<t;)S=a+N,M=S-a,P=a-(S-M)+(N-M),N=e[++z],a=S,P!==0&&(s[G++]=P);for(;$<n;)S=a+F,M=S-a,P=a-(S-M)+(F-M),F=r[++$],a=S,P!==0&&(s[G++]=P);return(a!==0||G===0)&&(s[G++]=a),G}function estimate(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function vec(t){return new Float64Array(t)}const ccwerrboundA=(3+16*epsilon$1)*epsilon$1,ccwerrboundB=(2+12*epsilon$1)*epsilon$1,ccwerrboundC=(9+64*epsilon$1)*epsilon$1*epsilon$1,B=vec(4),C1=vec(8),C2=vec(12),D=vec(16),u=vec(4);function orient2dadapt(t,e,n,r,s,a,S){let P,M,N,F,z,$,G,H,U,W,Y,Q,K,tt,nt,rt,ht,ct;const mt=t-s,wt=n-s,kt=e-a,_t=r-a;tt=mt*_t,$=splitter*mt,G=$-($-mt),H=mt-G,$=splitter*_t,U=$-($-_t),W=_t-U,nt=H*W-(tt-G*U-H*U-G*W),rt=kt*wt,$=splitter*kt,G=$-($-kt),H=kt-G,$=splitter*wt,U=$-($-wt),W=wt-U,ht=H*W-(rt-G*U-H*U-G*W),Y=nt-ht,z=nt-Y,B[0]=nt-(Y+z)+(z-ht),Q=tt+Y,z=Q-tt,K=tt-(Q-z)+(Y-z),Y=K-rt,z=K-Y,B[1]=K-(Y+z)+(z-rt),ct=Q+Y,z=ct-Q,B[2]=Q-(ct-z)+(Y-z),B[3]=ct;let Vt=estimate(4,B),jt=ccwerrboundB*S;if(Vt>=jt||-Vt>=jt||(z=t-mt,P=t-(mt+z)+(z-s),z=n-wt,N=n-(wt+z)+(z-s),z=e-kt,M=e-(kt+z)+(z-a),z=r-_t,F=r-(_t+z)+(z-a),P===0&&M===0&&N===0&&F===0)||(jt=ccwerrboundC*S+resulterrbound*Math.abs(Vt),Vt+=mt*F+_t*P-(kt*N+wt*M),Vt>=jt||-Vt>=jt))return Vt;tt=P*_t,$=splitter*P,G=$-($-P),H=P-G,$=splitter*_t,U=$-($-_t),W=_t-U,nt=H*W-(tt-G*U-H*U-G*W),rt=M*wt,$=splitter*M,G=$-($-M),H=M-G,$=splitter*wt,U=$-($-wt),W=wt-U,ht=H*W-(rt-G*U-H*U-G*W),Y=nt-ht,z=nt-Y,u[0]=nt-(Y+z)+(z-ht),Q=tt+Y,z=Q-tt,K=tt-(Q-z)+(Y-z),Y=K-rt,z=K-Y,u[1]=K-(Y+z)+(z-rt),ct=Q+Y,z=ct-Q,u[2]=Q-(ct-z)+(Y-z),u[3]=ct;const At=sum$1(4,B,4,u,C1);tt=mt*F,$=splitter*mt,G=$-($-mt),H=mt-G,$=splitter*F,U=$-($-F),W=F-U,nt=H*W-(tt-G*U-H*U-G*W),rt=kt*N,$=splitter*kt,G=$-($-kt),H=kt-G,$=splitter*N,U=$-($-N),W=N-U,ht=H*W-(rt-G*U-H*U-G*W),Y=nt-ht,z=nt-Y,u[0]=nt-(Y+z)+(z-ht),Q=tt+Y,z=Q-tt,K=tt-(Q-z)+(Y-z),Y=K-rt,z=K-Y,u[1]=K-(Y+z)+(z-rt),ct=Q+Y,z=ct-Q,u[2]=Q-(ct-z)+(Y-z),u[3]=ct;const lt=sum$1(At,C1,4,u,C2);tt=P*F,$=splitter*P,G=$-($-P),H=P-G,$=splitter*F,U=$-($-F),W=F-U,nt=H*W-(tt-G*U-H*U-G*W),rt=M*N,$=splitter*M,G=$-($-M),H=M-G,$=splitter*N,U=$-($-N),W=N-U,ht=H*W-(rt-G*U-H*U-G*W),Y=nt-ht,z=nt-Y,u[0]=nt-(Y+z)+(z-ht),Q=tt+Y,z=Q-tt,K=tt-(Q-z)+(Y-z),Y=K-rt,z=K-Y,u[1]=K-(Y+z)+(z-rt),ct=Q+Y,z=ct-Q,u[2]=Q-(ct-z)+(Y-z),u[3]=ct;const yt=sum$1(lt,C2,4,u,D);return D[yt-1]}function orient2d(t,e,n,r,s,a){const S=(e-a)*(n-s),P=(t-s)*(r-a),M=S-P,N=Math.abs(S+P);return Math.abs(M)>=ccwerrboundA*N?M:-orient2dadapt(t,e,n,r,s,a,N)}function pointInPolygon(t,e){var n,r,s=0,a,S,P,M,N,F,z,$=t[0],G=t[1],H=e.length;for(n=0;n<H;n++){r=0;var U=e[n],W=U.length-1;if(F=U[0],F[0]!==U[W][0]&&F[1]!==U[W][1])throw new Error("First and last coordinates in a ring must be the same");for(S=F[0]-$,P=F[1]-G,r;r<W;r++){if(z=U[r+1],M=z[0]-$,N=z[1]-G,P===0&&N===0){if(M<=0&&S>=0||S<=0&&M>=0)return 0}else if(N>=0&&P<=0||N<=0&&P>=0){if(a=orient2d(S,M,P,N,0,0),a===0)return 0;(a>0&&N>0&&P<=0||a<0&&N<=0&&P>0)&&s++}F=z,P=N,S=M}}return s%2!==0}function booleanPointInPolygon(t,e,n={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const r=getCoord(t),s=getGeom(e),a=s.type,S=e.bbox;let P=s.coordinates;if(S&&inBBox(r,S)===!1)return!1;a==="Polygon"&&(P=[P]);let M=!1;for(var N=0;N<P.length;++N){const F=pointInPolygon(r,P[N]);if(F===0)return!n.ignoreBoundary;F&&(M=!0)}return M}function inBBox(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function center(t,e={}){const n=bbox(t),r=(n[0]+n[2])/2,s=(n[1]+n[3])/2;return point([r,s],e.properties,e)}var jsts_min$1={exports:{}},jsts_min=jsts_min$1.exports,hasRequiredJsts_min;function requireJsts_min(){return hasRequiredJsts_min||(hasRequiredJsts_min=1,(function(t,e){(function(n,r){t.exports=r()})(jsts_min,(function(){function n(L,R){(R==null||R>L.length)&&(R=L.length);for(var A=0,O=Array(R);A<R;A++)O[A]=L[A];return O}function r(L,R,A){return R=F(R),(function(O,q){if(q&&(typeof q=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z})(O)})(L,$()?Reflect.construct(R,A||[],F(L).constructor):R.apply(L,A))}function s(L,R){if(!(L instanceof R))throw new TypeError("Cannot call a class as a function")}function a(L,R,A){if($())return Reflect.construct.apply(null,arguments);var O=[null];O.push.apply(O,R);var q=new(L.bind.apply(L,O));return A&&G(q,A.prototype),q}function S(L,R){for(var A=0;A<R.length;A++){var O=R[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(L,W(O.key),O)}}function P(L,R,A){return R&&S(L.prototype,R),A&&S(L,A),Object.defineProperty(L,"prototype",{writable:!1}),L}function M(L,R){var A=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!A){if(Array.isArray(L)||(A=Y(L))||R){A&&(L=A);var O=0,q=function(){};return{s:q,n:function(){return O>=L.length?{done:!0}:{done:!1,value:L[O++]}},e:function(gt){throw gt},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,it=!0,ot=!1;return{s:function(){A=A.call(L)},n:function(){var gt=A.next();return it=gt.done,gt},e:function(gt){ot=!0,Z=gt},f:function(){try{it||A.return==null||A.return()}finally{if(ot)throw Z}}}}function N(){return N=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(L,R,A){var O=(function(Z,it){for(;!{}.hasOwnProperty.call(Z,it)&&(Z=F(Z))!==null;);return Z})(L,R);if(O){var q=Object.getOwnPropertyDescriptor(O,R);return q.get?q.get.call(arguments.length<3?L:A):q.value}},N.apply(null,arguments)}function F(L){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},F(L)}function z(L,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(R&&R.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),R&&G(L,R)}function $(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return($=function(){return!!L})()}function G(L,R){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,O){return A.__proto__=O,A},G(L,R)}function H(L,R,A,O){var q=N(F(1&O?L.prototype:L),R,A);return 2&O&&typeof q=="function"?function(Z){return q.apply(A,Z)}:q}function U(L){return(function(R){if(Array.isArray(R))return n(R)})(L)||(function(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)})(L)||Y(L)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function W(L){var R=(function(A,O){if(typeof A!="object"||!A)return A;var q=A[Symbol.toPrimitive];if(q!==void 0){var Z=q.call(A,O);if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)})(L,"string");return typeof R=="symbol"?R:R+""}function Y(L,R){if(L){if(typeof L=="string")return n(L,R);var A={}.toString.call(L).slice(8,-1);return A==="Object"&&L.constructor&&(A=L.constructor.name),A==="Map"||A==="Set"?Array.from(L):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?n(L,R):void 0}}function Q(L){var R=typeof Map=="function"?new Map:void 0;return Q=function(A){if(A===null||!(function(q){try{return Function.toString.call(q).indexOf("[native code]")!==-1}catch{return typeof q=="function"}})(A))return A;if(typeof A!="function")throw new TypeError("Super expression must either be null or a function");if(R!==void 0){if(R.has(A))return R.get(A);R.set(A,O)}function O(){return a(A,arguments,F(this).constructor)}return O.prototype=Object.create(A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),G(O,A)},Q(L)}var K=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(R){this._quadrantSegments=R,this._quadrantSegments===0&&(this._joinStyle=L.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=L.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),R<=0&&(this._quadrantSegments=1),this._joinStyle!==L.JOIN_ROUND&&(this._quadrantSegments=L.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(R){this._joinStyle=R}},{key:"setSimplifyFactor",value:function(R){this._simplifyFactor=R<0?0:R}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(R){this._endCapStyle=R}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(R){this._mitreLimit=R}},{key:"setSingleSided",value:function(R){this._isSingleSided=R}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=L.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=L.CAP_ROUND,this._joinStyle=L.JOIN_ROUND,this._mitreLimit=L.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=L.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var R=arguments[0];this.setQuadrantSegments(R)}else if(arguments.length===2){var A=arguments[0],O=arguments[1];this.setQuadrantSegments(A),this.setEndCapStyle(O)}else if(arguments.length===4){var q=arguments[0],Z=arguments[1],it=arguments[2],ot=arguments[3];this.setQuadrantSegments(q),this.setEndCapStyle(Z),this.setJoinStyle(it),this.setMitreLimit(ot)}}}},{key:"bufferDistanceError",value:function(R){var A=Math.PI/2/R;return 1-Math.cos(A/2)}}])})();K.CAP_ROUND=1,K.CAP_FLAT=2,K.CAP_SQUARE=3,K.JOIN_ROUND=1,K.JOIN_MITRE=2,K.JOIN_BEVEL=3,K.DEFAULT_QUADRANT_SEGMENTS=8,K.DEFAULT_MITRE_LIMIT=5,K.DEFAULT_SIMPLIFY_FACTOR=.01;var tt=(function(L){function R(A){var O;return s(this,R),(O=r(this,R,[A])).name=Object.keys({Exception:R})[0],O}return z(R,L),P(R,[{key:"toString",value:function(){return this.message}}])})(Q(Error)),nt=(function(L){function R(A){var O;return s(this,R),(O=r(this,R,[A])).name=Object.keys({IllegalArgumentException:R})[0],O}return z(R,L),P(R)})(tt),rt=(function(){return P((function L(){s(this,L)}),[{key:"filter",value:function(L){}}])})();function ht(){}function ct(){}function mt(){}var wt,kt,_t,Vt,jt,At,lt,yt,st=(function(){return P((function L(){s(this,L)}),null,[{key:"equalsWithTolerance",value:function(L,R,A){return Math.abs(L-R)<=A}}])})(),pt=(function(){return P((function L(R,A){s(this,L),this.low=A||0,this.high=R||0}),null,[{key:"toBinaryString",value:function(L){var R,A="";for(R=2147483648;R>0;R>>>=1)A+=(L.high&R)===R?"1":"0";for(R=2147483648;R>0;R>>>=1)A+=(L.low&R)===R?"1":"0";return A}}])})();function dt(){}function xt(){}dt.NaN=NaN,dt.isNaN=function(L){return Number.isNaN(L)},dt.isInfinite=function(L){return!Number.isFinite(L)},dt.MAX_VALUE=Number.MAX_VALUE,dt.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,dt.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(At=2146435072,lt=new Float64Array(1),yt=new Int32Array(lt.buffer),dt.doubleToLongBits=function(L){lt[0]=L;var R=0|yt[0],A=0|yt[1];return(A&At)===At&&1048575&A&&R!==0&&(R=0,A=2146959360),new pt(A,R)},dt.longBitsToDouble=function(L){return yt[0]=L.low,yt[1]=L.high,lt[0]}):(wt=1023,kt=Math.log2,_t=Math.floor,Vt=Math.pow,jt=(function(){for(var L=53;L>0;L--){var R=Vt(2,L)-1;if(_t(kt(R))+1===L)return R}return 0})(),dt.doubleToLongBits=function(L){var R,A,O,q,Z,it,ot,gt,Et;if(L<0||1/L===Number.NEGATIVE_INFINITY?(it=1<<31,L=-L):it=0,L===0)return new pt(gt=it,Et=0);if(L===1/0)return new pt(gt=2146435072|it,Et=0);if(L!=L)return new pt(gt=2146959360,Et=0);if(q=0,Et=0,(R=_t(L))>1)if(R<=jt)(q=_t(kt(R)))<=20?(Et=0,gt=R<<20-q&1048575):(Et=R%(A=Vt(2,O=q-20))<<32-O,gt=R/A&1048575);else for(O=R,Et=0;(O=_t(A=O/2))!==0;)q++,Et>>>=1,Et|=(1&gt)<<31,gt>>>=1,A!==O&&(gt|=524288);if(ot=q+wt,Z=R===0,R=L-R,q<52&&R!==0)for(O=0;;){if((A=2*R)>=1?(R=A-1,Z?(ot--,Z=!1):(O<<=1,O|=1,q++)):(R=A,Z?--ot==0&&(q++,Z=!1):(O<<=1,q++)),q===20)gt|=O,O=0;else if(q===52){Et|=O;break}if(A===1){q<20?gt|=O<<20-q:q<52&&(Et|=O<<52-q);break}}return gt|=ot<<20,new pt(gt|=it,Et)},dt.longBitsToDouble=function(L){var R,A,O,q,Z=L.high,it=L.low,ot=Z&1<<31?-1:1;for(O=((2146435072&Z)>>20)-wt,q=0,A=1<<19,R=1;R<=20;R++)Z&A&&(q+=Vt(2,-R)),A>>>=1;for(A=1<<31,R=21;R<=52;R++)it&A&&(q+=Vt(2,-R)),A>>>=1;if(O===-1023){if(q===0)return 0*ot;O=-1022}else{if(O===1024)return q===0?ot/0:NaN;q+=1}return ot*q*Vt(2,O)});var Pt=(function(L){function R(A){var O;return s(this,R),(O=r(this,R,[A])).name=Object.keys({RuntimeException:R})[0],O}return z(R,L),P(R)})(tt),Dt=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,null,[{key:"constructor_",value:function(){if(arguments.length===0)Pt.constructor_.call(this);else if(arguments.length===1){var A=arguments[0];Pt.constructor_.call(this,A)}}}])})(Pt),Tt=(function(){function L(){s(this,L)}return P(L,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)L.shouldNeverReachHere(null);else if(arguments.length===1){var R=arguments[0];throw new Dt("Should never reach here"+(R!==null?": "+R:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var R=arguments[0];L.isTrue(R,null)}else if(arguments.length===2){var A=arguments[1];if(!arguments[0])throw A===null?new Dt:new Dt(A)}}},{key:"equals",value:function(){if(arguments.length===2){var R=arguments[0],A=arguments[1];L.equals(R,A,null)}else if(arguments.length===3){var O=arguments[0],q=arguments[1],Z=arguments[2];if(!q.equals(O))throw new Dt("Expected "+O+" but encountered "+q+(Z!==null?": "+Z:""))}}}])})(),Ht=new ArrayBuffer(8),Ut=new Float64Array(Ht),xe=new Int32Array(Ht),Mt=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getM",value:function(){return dt.NaN}},{key:"setOrdinate",value:function(R,A){switch(R){case L.X:this.x=A;break;case L.Y:this.y=A;break;case L.Z:this.setZ(A);break;default:throw new nt("Invalid ordinate index: "+R)}}},{key:"equals2D",value:function(){if(arguments.length===1){var R=arguments[0];return this.x===R.x&&this.y===R.y}if(arguments.length===2){var A=arguments[0],O=arguments[1];return!!st.equalsWithTolerance(this.x,A.x,O)&&!!st.equalsWithTolerance(this.y,A.y,O)}}},{key:"setM",value:function(R){throw new nt("Invalid ordinate index: "+L.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(R){switch(R){case L.X:return this.x;case L.Y:return this.y;case L.Z:return this.getZ()}throw new nt("Invalid ordinate index: "+R)}},{key:"equals3D",value:function(R){return this.x===R.x&&this.y===R.y&&(this.getZ()===R.getZ()||dt.isNaN(this.getZ())&&dt.isNaN(R.getZ()))}},{key:"equals",value:function(R){return R instanceof L&&this.equals2D(R)}},{key:"equalInZ",value:function(R,A){return st.equalsWithTolerance(this.getZ(),R.getZ(),A)}},{key:"setX",value:function(R){this.x=R}},{key:"compareTo",value:function(R){var A=R;return this.x<A.x?-1:this.x>A.x?1:this.y<A.y?-1:this.y>A.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(R){this.z=R}},{key:"clone",value:function(){try{return null}catch(R){if(R instanceof CloneNotSupportedException)return Tt.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw R}}},{key:"copy",value:function(){return new L(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(R){var A=this.x-R.x,O=this.y-R.y,q=this.getZ()-R.getZ();return Math.sqrt(A*A+O*O+q*q)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(R){this.y=R}},{key:"distance",value:function(R){var A=this.x-R.x,O=this.y-R.y;return Math.sqrt(A*A+O*O)}},{key:"hashCode",value:function(){var R=17;return R=37*(R=37*R+L.hashCode(this.x))+L.hashCode(this.y)}},{key:"setCoordinate",value:function(R){this.x=R.x,this.y=R.y,this.z=R.getZ()}},{key:"interfaces_",get:function(){return[ht,ct,mt]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)L.constructor_.call(this,0,0);else if(arguments.length===1){var R=arguments[0];L.constructor_.call(this,R.x,R.y,R.getZ())}else if(arguments.length===2){var A=arguments[0],O=arguments[1];L.constructor_.call(this,A,O,L.NULL_ORDINATE)}else if(arguments.length===3){var q=arguments[0],Z=arguments[1],it=arguments[2];this.x=q,this.y=Z,this.z=it}}},{key:"hashCode",value:function(R){return Ut[0]=R,xe[0]^xe[1]}}])})(),Ne=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"compare",value:function(R,A){var O=L.compare(R.x,A.x);if(O!==0)return O;var q=L.compare(R.y,A.y);return q!==0?q:this._dimensionsToTest<=2?0:L.compare(R.getZ(),A.getZ())}},{key:"interfaces_",get:function(){return[xt]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)L.constructor_.call(this,2);else if(arguments.length===1){var R=arguments[0];if(R!==2&&R!==3)throw new nt("only 2 or 3 dimensions may be specified");this._dimensionsToTest=R}}},{key:"compare",value:function(R,A){return R<A?-1:R>A?1:dt.isNaN(R)?dt.isNaN(A)?0:-1:dt.isNaN(A)?1:0}}])})();Mt.DimensionalComparator=Ne,Mt.NULL_ORDINATE=dt.NaN,Mt.X=0,Mt.Y=1,Mt.Z=2,Mt.M=3;var me=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(R){if(!(R instanceof L))return!1;var A=R;return this.isNull()?A.isNull():this._maxx===A.getMaxX()&&this._maxy===A.getMaxY()&&this._minx===A.getMinX()&&this._miny===A.getMinY()}},{key:"intersection",value:function(R){if(this.isNull()||R.isNull()||!this.intersects(R))return new L;var A=this._minx>R._minx?this._minx:R._minx,O=this._miny>R._miny?this._miny:R._miny;return new L(A,this._maxx<R._maxx?this._maxx:R._maxx,O,this._maxy<R._maxy?this._maxy:R._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof Mt){var R=arguments[0];return this.covers(R.x,R.y)}if(arguments[0]instanceof L){var A=arguments[0];return!this.isNull()&&!A.isNull()&&A.getMinX()>=this._minx&&A.getMaxX()<=this._maxx&&A.getMinY()>=this._miny&&A.getMaxY()<=this._maxy}}else if(arguments.length===2){var O=arguments[0],q=arguments[1];return!this.isNull()&&O>=this._minx&&O<=this._maxx&&q>=this._miny&&q<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof L){var R=arguments[0];return!this.isNull()&&!R.isNull()&&!(R._minx>this._maxx||R._maxx<this._minx||R._miny>this._maxy||R._maxy<this._miny)}if(arguments[0]instanceof Mt){var A=arguments[0];return this.intersects(A.x,A.y)}}else if(arguments.length===2){if(arguments[0]instanceof Mt&&arguments[1]instanceof Mt){var O=arguments[0],q=arguments[1];return!this.isNull()&&!((O.x<q.x?O.x:q.x)>this._maxx)&&!((O.x>q.x?O.x:q.x)<this._minx)&&!((O.y<q.y?O.y:q.y)>this._maxy)&&!((O.y>q.y?O.y:q.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var Z=arguments[0],it=arguments[1];return!this.isNull()&&!(Z>this._maxx||Z<this._minx||it>this._maxy||it<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var R=this.getWidth(),A=this.getHeight();return Math.sqrt(R*R+A*A)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof Mt){var R=arguments[0];this.expandToInclude(R.x,R.y)}else if(arguments[0]instanceof L){var A=arguments[0];if(A.isNull())return null;this.isNull()?(this._minx=A.getMinX(),this._maxx=A.getMaxX(),this._miny=A.getMinY(),this._maxy=A.getMaxY()):(A._minx<this._minx&&(this._minx=A._minx),A._maxx>this._maxx&&(this._maxx=A._maxx),A._miny<this._miny&&(this._miny=A._miny),A._maxy>this._maxy&&(this._maxy=A._maxy))}}else if(arguments.length===2){var O=arguments[0],q=arguments[1];this.isNull()?(this._minx=O,this._maxx=O,this._miny=q,this._maxy=q):(O<this._minx&&(this._minx=O),O>this._maxx&&(this._maxx=O),q<this._miny&&(this._miny=q),q>this._maxy&&(this._maxy=q))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var R=this.getWidth(),A=this.getHeight();return R<A?R:A}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(R){var A=R;return this.isNull()?A.isNull()?0:-1:A.isNull()?1:this._minx<A._minx?-1:this._minx>A._minx?1:this._miny<A._miny?-1:this._miny>A._miny?1:this._maxx<A._maxx?-1:this._maxx>A._maxx?1:this._maxy<A._maxy?-1:this._maxy>A._maxy?1:0}},{key:"translate",value:function(R,A){if(this.isNull())return null;this.init(this.getMinX()+R,this.getMaxX()+R,this.getMinY()+A,this.getMaxY()+A)}},{key:"copy",value:function(){return new L(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(R){return!(!this.isNull()&&!R.isNull())||R._minx>this._maxx||R._maxx<this._minx||R._miny>this._maxy||R._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var R=this.getWidth(),A=this.getHeight();return R>A?R:A}},{key:"expandBy",value:function(){if(arguments.length===1){var R=arguments[0];this.expandBy(R,R)}else if(arguments.length===2){var A=arguments[0],O=arguments[1];if(this.isNull())return null;this._minx-=A,this._maxx+=A,this._miny-=O,this._maxy+=O,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof L){var R=arguments[0];return this.covers(R)}if(arguments[0]instanceof Mt){var A=arguments[0];return this.covers(A)}}else if(arguments.length===2){var O=arguments[0],q=arguments[1];return this.covers(O,q)}}},{key:"centre",value:function(){return this.isNull()?null:new Mt((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Mt){var R=arguments[0];this.init(R.x,R.x,R.y,R.y)}else if(arguments[0]instanceof L){var A=arguments[0];this._minx=A._minx,this._maxx=A._maxx,this._miny=A._miny,this._maxy=A._maxy}}else if(arguments.length===2){var O=arguments[0],q=arguments[1];this.init(O.x,q.x,O.y,q.y)}else if(arguments.length===4){var Z=arguments[0],it=arguments[1],ot=arguments[2],gt=arguments[3];Z<it?(this._minx=Z,this._maxx=it):(this._minx=it,this._maxx=Z),ot<gt?(this._miny=ot,this._maxy=gt):(this._miny=gt,this._maxy=ot)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(R){if(this.intersects(R))return 0;var A=0;this._maxx<R._minx?A=R._minx-this._maxx:this._minx>R._maxx&&(A=this._minx-R._maxx);var O=0;return this._maxy<R._miny?O=R._miny-this._maxy:this._miny>R._maxy&&(O=this._miny-R._maxy),A===0?O:O===0?A:Math.sqrt(A*A+O*O)}},{key:"hashCode",value:function(){var R=17;return R=37*(R=37*(R=37*(R=37*R+Mt.hashCode(this._minx))+Mt.hashCode(this._maxx))+Mt.hashCode(this._miny))+Mt.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[ht,mt]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Mt){var R=arguments[0];this.init(R.x,R.x,R.y,R.y)}else if(arguments[0]instanceof L){var A=arguments[0];this.init(A)}}else if(arguments.length===2){var O=arguments[0],q=arguments[1];this.init(O.x,q.x,O.y,q.y)}else if(arguments.length===4){var Z=arguments[0],it=arguments[1],ot=arguments[2],gt=arguments[3];this.init(Z,it,ot,gt)}}},{key:"intersects",value:function(){if(arguments.length===3){var R=arguments[0],A=arguments[1],O=arguments[2];return O.x>=(R.x<A.x?R.x:A.x)&&O.x<=(R.x>A.x?R.x:A.x)&&O.y>=(R.y<A.y?R.y:A.y)&&O.y<=(R.y>A.y?R.y:A.y)}if(arguments.length===4){var q=arguments[0],Z=arguments[1],it=arguments[2],ot=arguments[3],gt=Math.min(it.x,ot.x),Et=Math.max(it.x,ot.x),It=Math.min(q.x,Z.x),Lt=Math.max(q.x,Z.x);return!(It>Et)&&!(Lt<gt)&&(gt=Math.min(it.y,ot.y),Et=Math.max(it.y,ot.y),It=Math.min(q.y,Z.y),Lt=Math.max(q.y,Z.y),!(It>Et)&&!(Lt<gt))}}}])})(),Jt=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===L.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(R){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(R){return this===R||this.equalsExact(R,0)}},{key:"geometryChanged",value:function(){this.apply(L.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(R){return R!==null&&this.norm().equalsExact(R.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var R;if(arguments.length===1){var A=arguments[0];return R=A,this.getTypeCode()!==R.getTypeCode()?this.getTypeCode()-R.getTypeCode():this.isEmpty()&&R.isEmpty()?0:this.isEmpty()?-1:R.isEmpty()?1:this.compareToSameClass(A)}if(arguments.length===2){var O=arguments[0],q=arguments[1];return R=O,this.getTypeCode()!==R.getTypeCode()?this.getTypeCode()-R.getTypeCode():this.isEmpty()&&R.isEmpty()?0:this.isEmpty()?-1:R.isEmpty()?1:this.compareToSameClass(O,q)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(R){if(R.getTypeCode()===L.TYPECODE_GEOMETRYCOLLECTION)throw new nt("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(R,A,O){return O===0?R.equals(A):R.distance(A)<=O}},{key:"norm",value:function(){var R=this.copy();return R.normalize(),R}},{key:"reverse",value:function(){var R=this.reverseInternal();return this.envelope!=null&&(R.envelope=this.envelope.copy()),R.setSRID(this.getSRID()),R}},{key:"copy",value:function(){var R=this.copyInternal();return R.envelope=this._envelope==null?null:this._envelope.copy(),R._SRID=this._SRID,R._userData=this._userData,R}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new me(this._envelope)}},{key:"setSRID",value:function(R){this._SRID=R}},{key:"setUserData",value:function(R){this._userData=R}},{key:"compare",value:function(R,A){for(var O=R.iterator(),q=A.iterator();O.hasNext()&&q.hasNext();){var Z=O.next(),it=q.next(),ot=Z.compareTo(it);if(ot!==0)return ot}return O.hasNext()?1:q.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(R){return this.getClass()===R.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===L.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===L.TYPECODE_MULTIPOINT||this.getTypeCode()===L.TYPECODE_MULTILINESTRING||this.getTypeCode()===L.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[ct,ht,mt]}},{key:"getClass",value:function(){return L}}],[{key:"hasNonEmptyElements",value:function(R){for(var A=0;A<R.length;A++)if(!R[A].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(R){for(var A=0;A<R.length;A++)if(R[A]===null)return!0;return!1}}])})();Jt.constructor_=function(L){L&&(this._envelope=null,this._userData=null,this._factory=L,this._SRID=L.getSRID())},Jt.TYPECODE_POINT=0,Jt.TYPECODE_MULTIPOINT=1,Jt.TYPECODE_LINESTRING=2,Jt.TYPECODE_LINEARRING=3,Jt.TYPECODE_MULTILINESTRING=4,Jt.TYPECODE_POLYGON=5,Jt.TYPECODE_MULTIPOLYGON=6,Jt.TYPECODE_GEOMETRYCOLLECTION=7,Jt.TYPENAME_POINT="Point",Jt.TYPENAME_MULTIPOINT="MultiPoint",Jt.TYPENAME_LINESTRING="LineString",Jt.TYPENAME_LINEARRING="LinearRing",Jt.TYPENAME_MULTILINESTRING="MultiLineString",Jt.TYPENAME_POLYGON="Polygon",Jt.TYPENAME_MULTIPOLYGON="MultiPolygon",Jt.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Jt.geometryChangedFilter={get interfaces_(){return[rt]},filter:function(L){L.geometryChangedAction()}};var St=(function(){function L(){s(this,L)}return P(L,null,[{key:"toLocationSymbol",value:function(R){switch(R){case L.EXTERIOR:return"e";case L.BOUNDARY:return"b";case L.INTERIOR:return"i";case L.NONE:return"-"}throw new nt("Unknown location value: "+R)}}])})();St.INTERIOR=0,St.BOUNDARY=1,St.EXTERIOR=2,St.NONE=-1;var ge=(function(){return P((function L(){s(this,L)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),ee=(function(L){function R(A){var O;return s(this,R),(O=r(this,R,[A])).name=Object.keys({NoSuchElementException:R})[0],O}return z(R,L),P(R)})(tt),De=(function(L){function R(A){var O;return s(this,R),(O=r(this,R,[A])).name=Object.keys({UnsupportedOperationException:R})[0],O}return z(R,L),P(R)})(tt),kn=(function(L){function R(){return s(this,R),r(this,R,arguments)}return z(R,L),P(R,[{key:"contains",value:function(){}}])})(ge),Xe=(function(L){function R(A){var O;return s(this,R),(O=r(this,R)).map=new Map,A instanceof ge&&O.addAll(A),O}return z(R,L),P(R,[{key:"contains",value:function(A){var O=A.hashCode?A.hashCode():A;return!!this.map.has(O)}},{key:"add",value:function(A){var O=A.hashCode?A.hashCode():A;return!this.map.has(O)&&!!this.map.set(O,A)}},{key:"addAll",value:function(A){var O,q=M(A);try{for(q.s();!(O=q.n()).done;){var Z=O.value;this.add(Z)}}catch(it){q.e(it)}finally{q.f()}return!0}},{key:"remove",value:function(){throw new De}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Nn(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(kn),Nn=(function(){return P((function L(R){s(this,L),this.iterator=R.values();var A=this.iterator.next(),O=A.done,q=A.value;this.done=O,this.value=q}),[{key:"next",value:function(){if(this.done)throw new ee;var L=this.value,R=this.iterator.next(),A=R.done,O=R.value;return this.done=A,this.value=O,L}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new De}}])})(),Wt=(function(){function L(){s(this,L)}return P(L,null,[{key:"opposite",value:function(R){return R===L.LEFT?L.RIGHT:R===L.RIGHT?L.LEFT:R}}])})();Wt.ON=0,Wt.LEFT=1,Wt.RIGHT=2;var jn=(function(L){function R(A){var O;return s(this,R),(O=r(this,R,[A])).name=Object.keys({EmptyStackException:R})[0],O}return z(R,L),P(R)})(tt),We=(function(L){function R(A){var O;return s(this,R),(O=r(this,R,[A])).name=Object.keys({IndexOutOfBoundsException:R})[0],O}return z(R,L),P(R)})(tt),mn=(function(L){function R(){return s(this,R),r(this,R,arguments)}return z(R,L),P(R,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(ge),Cn=(function(L){function R(){var A;return s(this,R),(A=r(this,R)).array=[],A}return z(R,L),P(R,[{key:"add",value:function(A){return this.array.push(A),!0}},{key:"get",value:function(A){if(A<0||A>=this.size())throw new We;return this.array[A]}},{key:"push",value:function(A){return this.array.push(A),A}},{key:"pop",value:function(){if(this.array.length===0)throw new jn;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new jn;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(A){return this.array.indexOf(A)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(mn);function oe(L,R){return L.interfaces_&&L.interfaces_.indexOf(R)>-1}var _e=(function(){return P((function L(R){s(this,L),this.str=R}),[{key:"append",value:function(L){this.str+=L}},{key:"setCharAt",value:function(L,R){this.str=this.str.substr(0,L)+R+this.str.substr(L+1)}},{key:"toString",value:function(){return this.str}}])})(),Qe=(function(){function L(R){s(this,L),this.value=R}return P(L,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(R){return this.value<R?-1:this.value>R?1:0}}],[{key:"compare",value:function(R,A){return R<A?-1:R>A?1:0}},{key:"isNan",value:function(R){return Number.isNaN(R)}},{key:"valueOf",value:function(R){return new L(R)}}])})(),Ue=(function(){return P((function L(){s(this,L)}),null,[{key:"isWhitespace",value:function(L){return L<=32&&L>=0||L===127}},{key:"toUpperCase",value:function(L){return L.toUpperCase()}}])})(),ie=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"le",value:function(R){return this._hi<R._hi||this._hi===R._hi&&this._lo<=R._lo}},{key:"extractSignificantDigits",value:function(R,A){var O=this.abs(),q=L.magnitude(O._hi),Z=L.TEN.pow(q);(O=O.divide(Z)).gt(L.TEN)?(O=O.divide(L.TEN),q+=1):O.lt(L.ONE)&&(O=O.multiply(L.TEN),q-=1);for(var it=q+1,ot=new _e,gt=L.MAX_PRINT_DIGITS-1,Et=0;Et<=gt;Et++){R&&Et===it&&ot.append(".");var It=Math.trunc(O._hi);if(It<0)break;var Lt=!1,Kt=0;It>9?(Lt=!0,Kt="9"):Kt="0"+It,ot.append(Kt),O=O.subtract(L.valueOf(It)).multiply(L.TEN),Lt&&O.selfAdd(L.TEN);var te=!0,re=L.magnitude(O._hi);if(re<0&&Math.abs(re)>=gt-Et&&(te=!1),!te)break}return A[0]=q,ot.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof L){var R=arguments[0];return this.add(R.negate())}if(typeof arguments[0]=="number"){var A=arguments[0];return this.add(-A)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof L){var R=arguments[0];return this._hi===R._hi&&this._lo===R._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof L){var R=arguments[0];return this.isNaN()?this:this.selfAdd(-R._hi,-R._lo)}if(typeof arguments[0]=="number"){var A=arguments[0];return this.isNaN()?this:this.selfAdd(-A,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(R){return this.le(R)?this:R}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof L){var R=arguments[0];return this.selfDivide(R._hi,R._lo)}if(typeof arguments[0]=="number"){var A=arguments[0];return this.selfDivide(A,0)}}else if(arguments.length===2){var O,q,Z,it,ot=arguments[0],gt=arguments[1],Et=null,It=null,Lt=null,Kt=null;return Z=this._hi/ot,Kt=(Et=(Lt=L.SPLIT*Z)-(Et=Lt-Z))*(It=(Kt=L.SPLIT*ot)-(It=Kt-ot))-(it=Z*ot)+Et*(q=ot-It)+(O=Z-Et)*It+O*q,Kt=Z+(Lt=(this._hi-it-Kt+this._lo-Z*gt)/ot),this._hi=Kt,this._lo=Z-Kt+Lt,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof L){var R,A,O,q,Z=arguments[0],it=null,ot=null,gt=null,Et=null;return R=(O=this._hi/Z._hi)-(it=(gt=L.SPLIT*O)-(it=gt-O)),Et=it*(ot=(Et=L.SPLIT*Z._hi)-(ot=Et-Z._hi))-(q=O*Z._hi)+it*(A=Z._hi-ot)+R*ot+R*A,new L(Et=O+(gt=(this._hi-q-Et+this._lo-O*Z._lo)/Z._hi),O-Et+gt)}if(typeof arguments[0]=="number"){var It=arguments[0];return dt.isNaN(It)?L.createNaN():L.copy(this).selfDivide(It,0)}}},{key:"ge",value:function(R){return this._hi>R._hi||this._hi===R._hi&&this._lo>=R._lo}},{key:"pow",value:function(R){if(R===0)return L.valueOf(1);var A=new L(this),O=L.valueOf(1),q=Math.abs(R);if(q>1)for(;q>0;)q%2==1&&O.selfMultiply(A),(q/=2)>0&&(A=A.sqr());else O=A;return R<0?O.reciprocal():O}},{key:"ceil",value:function(){if(this.isNaN())return L.NaN;var R=Math.ceil(this._hi),A=0;return R===this._hi&&(A=Math.ceil(this._lo)),new L(R,A)}},{key:"compareTo",value:function(R){var A=R;return this._hi<A._hi?-1:this._hi>A._hi?1:this._lo<A._lo?-1:this._lo>A._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof L){var R=arguments[0];return this.init(R),this}if(typeof arguments[0]=="number"){var A=arguments[0];return this.init(A),this}}},{key:"max",value:function(R){return this.ge(R)?this:R}},{key:"sqrt",value:function(){if(this.isZero())return L.valueOf(0);if(this.isNegative())return L.NaN;var R=1/Math.sqrt(this._hi),A=this._hi*R,O=L.valueOf(A),q=this.subtract(O.sqr())._hi*(.5*R);return O.add(q)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof L){var R=arguments[0];return this.selfAdd(R._hi,R._lo)}if(typeof arguments[0]=="number"){var A,O,q,Z,it,ot=arguments[0],gt=null;return gt=(q=this._hi+ot)-(Z=q-this._hi),O=(it=(gt=ot-Z+(this._hi-gt))+this._lo)+(q-(A=q+it)),this._hi=A+O,this._lo=O+(A-this._hi),this}}else if(arguments.length===2){var Et,It,Lt,Kt,te=arguments[0],re=arguments[1],le=null,Re=null,Ee=null;Lt=this._hi+te,It=this._lo+re,Re=Lt-(Ee=Lt-this._hi),le=It-(Kt=It-this._lo);var Se=(Et=Lt+(Ee=(Re=te-Ee+(this._hi-Re))+It))+(Ee=(le=re-Kt+(this._lo-le))+(Ee+(Lt-Et))),yn=Ee+(Et-Se);return this._hi=Se,this._lo=yn,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof L){var R=arguments[0];return this.selfMultiply(R._hi,R._lo)}if(typeof arguments[0]=="number"){var A=arguments[0];return this.selfMultiply(A,0)}}else if(arguments.length===2){var O,q,Z=arguments[0],it=arguments[1],ot=null,gt=null,Et=null,It=null;ot=(Et=L.SPLIT*this._hi)-this._hi,It=L.SPLIT*Z,ot=Et-ot,O=this._hi-ot,gt=It-Z;var Lt=(Et=this._hi*Z)+(It=ot*(gt=It-gt)-Et+ot*(q=Z-gt)+O*gt+O*q+(this._hi*it+this._lo*Z)),Kt=It+(ot=Et-Lt);return this._hi=Lt,this._lo=Kt,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return L.NaN;var R=Math.floor(this._hi),A=0;return R===this._hi&&(A=Math.floor(this._lo)),new L(R,A)}},{key:"negate",value:function(){return this.isNaN()?this:new L(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(R){if(R instanceof CloneNotSupportedException)return null;throw R}}},{key:"multiply",value:function(){if(arguments[0]instanceof L){var R=arguments[0];return R.isNaN()?L.createNaN():L.copy(this).selfMultiply(R)}if(typeof arguments[0]=="number"){var A=arguments[0];return dt.isNaN(A)?L.createNaN():L.copy(this).selfMultiply(A,0)}}},{key:"isNaN",value:function(){return dt.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var R=L.magnitude(this._hi);return R>=-3&&R<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var R=this.getSpecialNumberString();if(R!==null)return R;var A=new Array(1).fill(null),O=this.extractSignificantDigits(!0,A),q=A[0]+1,Z=O;if(O.charAt(0)===".")Z="0"+O;else if(q<0)Z="0."+L.stringOfChar("0",-q)+O;else if(O.indexOf(".")===-1){var it=q-O.length;Z=O+L.stringOfChar("0",it)+".0"}return this.isNegative()?"-"+Z:Z}},{key:"reciprocal",value:function(){var R,A,O,q,Z=null,it=null,ot=null,gt=null;R=(O=1/this._hi)-(Z=(ot=L.SPLIT*O)-(Z=ot-O)),it=(gt=L.SPLIT*this._hi)-this._hi;var Et=O+(ot=(1-(q=O*this._hi)-(gt=Z*(it=gt-it)-q+Z*(A=this._hi-it)+R*it+R*A)-O*this._lo)/this._hi);return new L(Et,O-Et+ot)}},{key:"toSciNotation",value:function(){if(this.isZero())return L.SCI_NOT_ZERO;var R=this.getSpecialNumberString();if(R!==null)return R;var A=new Array(1).fill(null),O=this.extractSignificantDigits(!1,A),q=L.SCI_NOT_EXPONENT_CHAR+A[0];if(O.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+O);var Z="";O.length>1&&(Z=O.substring(1));var it=O.charAt(0)+"."+Z;return this.isNegative()?"-"+it+q:it+q}},{key:"abs",value:function(){return this.isNaN()?L.NaN:this.isNegative()?this.negate():new L(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(R){return this._hi<R._hi||this._hi===R._hi&&this._lo<R._lo}},{key:"add",value:function(){if(arguments[0]instanceof L){var R=arguments[0];return L.copy(this).selfAdd(R)}if(typeof arguments[0]=="number"){var A=arguments[0];return L.copy(this).selfAdd(A)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var R=arguments[0];this._hi=R,this._lo=0}else if(arguments[0]instanceof L){var A=arguments[0];this._hi=A._hi,this._lo=A._lo}}else if(arguments.length===2){var O=arguments[0],q=arguments[1];this._hi=O,this._lo=q}}},{key:"gt",value:function(R){return this._hi>R._hi||this._hi===R._hi&&this._lo>R._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?L.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[mt,ht,ct]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var R=arguments[0];this.init(R)}else if(arguments[0]instanceof L){var A=arguments[0];this.init(A)}else if(typeof arguments[0]=="string"){var O=arguments[0];L.constructor_.call(this,L.parse(O))}}else if(arguments.length===2){var q=arguments[0],Z=arguments[1];this.init(q,Z)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var R=arguments[0],A=arguments[1],O=arguments[2],q=arguments[3];return L.determinant(L.valueOf(R),L.valueOf(A),L.valueOf(O),L.valueOf(q))}if(arguments[3]instanceof L&&arguments[2]instanceof L&&arguments[0]instanceof L&&arguments[1]instanceof L){var Z=arguments[1],it=arguments[2],ot=arguments[3];return arguments[0].multiply(ot).selfSubtract(Z.multiply(it))}}},{key:"sqr",value:function(R){return L.valueOf(R).selfMultiply(R)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var R=arguments[0];return L.parse(R)}if(typeof arguments[0]=="number")return new L(arguments[0])}},{key:"sqrt",value:function(R){return L.valueOf(R).sqrt()}},{key:"parse",value:function(R){for(var A=0,O=R.length;Ue.isWhitespace(R.charAt(A));)A++;var q=!1;if(A<O){var Z=R.charAt(A);Z!=="-"&&Z!=="+"||(A++,Z==="-"&&(q=!0))}for(var it=new L,ot=0,gt=0,Et=0,It=!1;!(A>=O);){var Lt=R.charAt(A);if(A++,Ue.isDigit(Lt)){var Kt=Lt-"0";it.selfMultiply(L.TEN),it.selfAdd(Kt),ot++}else{if(Lt!=="."){if(Lt==="e"||Lt==="E"){var te=R.substring(A);try{Et=Qe.parseInt(te)}catch(Se){throw Se instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+te+" in string "+R):Se}break}throw new NumberFormatException("Unexpected character '"+Lt+"' at position "+A+" in string "+R)}gt=ot,It=!0}}var re=it;It||(gt=ot);var le=ot-gt-Et;if(le===0)re=it;else if(le>0){var Re=L.TEN.pow(le);re=it.divide(Re)}else if(le<0){var Ee=L.TEN.pow(-le);re=it.multiply(Ee)}return q?re.negate():re}},{key:"createNaN",value:function(){return new L(dt.NaN,dt.NaN)}},{key:"copy",value:function(R){return new L(R)}},{key:"magnitude",value:function(R){var A=Math.abs(R),O=Math.log(A)/Math.log(10),q=Math.trunc(Math.floor(O));return 10*Math.pow(10,q)<=A&&(q+=1),q}},{key:"stringOfChar",value:function(R,A){for(var O=new _e,q=0;q<A;q++)O.append(R);return O.toString()}}])})();ie.PI=new ie(3.141592653589793,12246467991473532e-32),ie.TWO_PI=new ie(6.283185307179586,24492935982947064e-32),ie.PI_2=new ie(1.5707963267948966,6123233995736766e-32),ie.E=new ie(2.718281828459045,14456468917292502e-32),ie.NaN=new ie(dt.NaN,dt.NaN),ie.EPS=123259516440783e-46,ie.SPLIT=134217729,ie.MAX_PRINT_DIGITS=32,ie.TEN=ie.valueOf(10),ie.ONE=ie.valueOf(1),ie.SCI_NOT_EXPONENT_CHAR="E",ie.SCI_NOT_ZERO="0.0E0";var Ze=(function(){function L(){s(this,L)}return P(L,null,[{key:"orientationIndex",value:function(R,A,O){var q=L.orientationIndexFilter(R,A,O);if(q<=1)return q;var Z=ie.valueOf(A.x).selfAdd(-R.x),it=ie.valueOf(A.y).selfAdd(-R.y),ot=ie.valueOf(O.x).selfAdd(-A.x),gt=ie.valueOf(O.y).selfAdd(-A.y);return Z.selfMultiply(gt).selfSubtract(it.selfMultiply(ot)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof ie&&arguments[2]instanceof ie&&arguments[0]instanceof ie&&arguments[1]instanceof ie){var R=arguments[1],A=arguments[2],O=arguments[3];return arguments[0].multiply(O).selfSubtract(R.multiply(A)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var q=arguments[0],Z=arguments[1],it=arguments[2],ot=arguments[3],gt=ie.valueOf(q),Et=ie.valueOf(Z),It=ie.valueOf(it),Lt=ie.valueOf(ot);return gt.multiply(Lt).selfSubtract(Et.multiply(It)).signum()}}},{key:"intersection",value:function(R,A,O,q){var Z=new ie(R.y).selfSubtract(A.y),it=new ie(A.x).selfSubtract(R.x),ot=new ie(R.x).selfMultiply(A.y).selfSubtract(new ie(A.x).selfMultiply(R.y)),gt=new ie(O.y).selfSubtract(q.y),Et=new ie(q.x).selfSubtract(O.x),It=new ie(O.x).selfMultiply(q.y).selfSubtract(new ie(q.x).selfMultiply(O.y)),Lt=it.multiply(It).selfSubtract(Et.multiply(ot)),Kt=gt.multiply(ot).selfSubtract(Z.multiply(It)),te=Z.multiply(Et).selfSubtract(gt.multiply(it)),re=Lt.selfDivide(te).doubleValue(),le=Kt.selfDivide(te).doubleValue();return dt.isNaN(re)||dt.isInfinite(re)||dt.isNaN(le)||dt.isInfinite(le)?null:new Mt(re,le)}},{key:"orientationIndexFilter",value:function(R,A,O){var q=null,Z=(R.x-O.x)*(A.y-O.y),it=(R.y-O.y)*(A.x-O.x),ot=Z-it;if(Z>0){if(it<=0)return L.signum(ot);q=Z+it}else{if(!(Z<0)||it>=0)return L.signum(ot);q=-Z-it}var gt=L.DP_SAFE_EPSILON*q;return ot>=gt||-ot>=gt?L.signum(ot):2}},{key:"signum",value:function(R){return R>0?1:R<0?-1:0}}])})();Ze.DP_SAFE_EPSILON=1e-15;var ve=(function(){return P((function L(){s(this,L)}),[{key:"getM",value:function(L){if(this.hasM()){var R=this.getDimension()-this.getMeasures();return this.getOrdinate(L,R)}return dt.NaN}},{key:"setOrdinate",value:function(L,R,A){}},{key:"getZ",value:function(L){return this.hasZ()?this.getOrdinate(L,2):dt.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(L,R){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(L){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(L){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(L){}},{key:"copy",value:function(){}},{key:"getY",value:function(L){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[ct]}}])})();ve.X=0,ve.Y=1,ve.Z=2,ve.M=3;var fe=(function(){function L(){s(this,L)}return P(L,null,[{key:"index",value:function(R,A,O){return Ze.orientationIndex(R,A,O)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var R=arguments[0],A=R.length-1;if(A<3)throw new nt("Ring has fewer than 4 points, so orientation cannot be determined");for(var O=R[0],q=0,Z=1;Z<=A;Z++){var it=R[Z];it.y>O.y&&(O=it,q=Z)}var ot=q;do(ot-=1)<0&&(ot=A);while(R[ot].equals2D(O)&&ot!==q);var gt=q;do gt=(gt+1)%A;while(R[gt].equals2D(O)&&gt!==q);var Et=R[ot],It=R[gt];if(Et.equals2D(O)||It.equals2D(O)||Et.equals2D(It))return!1;var Lt=L.index(Et,O,It);return Lt===0?Et.x>It.x:Lt>0}if(oe(arguments[0],ve)){var Kt=arguments[0],te=Kt.size()-1;if(te<3)throw new nt("Ring has fewer than 4 points, so orientation cannot be determined");for(var re=Kt.getCoordinate(0),le=0,Re=1;Re<=te;Re++){var Ee=Kt.getCoordinate(Re);Ee.y>re.y&&(re=Ee,le=Re)}var Se=null,yn=le;do(yn-=1)<0&&(yn=te),Se=Kt.getCoordinate(yn);while(Se.equals2D(re)&&yn!==le);var Oe=null,vn=le;do vn=(vn+1)%te,Oe=Kt.getCoordinate(vn);while(Oe.equals2D(re)&&vn!==le);if(Se.equals2D(re)||Oe.equals2D(re)||Se.equals2D(Oe))return!1;var Ri=L.index(Se,re,Oe);return Ri===0?Se.x>Oe.x:Ri>0}}}])})();fe.CLOCKWISE=-1,fe.RIGHT=fe.CLOCKWISE,fe.COUNTERCLOCKWISE=1,fe.LEFT=fe.COUNTERCLOCKWISE,fe.COLLINEAR=0,fe.STRAIGHT=fe.COLLINEAR;var Ba=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(L,R){var A=this.getRightmostSideOfSegment(L,R);return A<0&&(A=this.getRightmostSideOfSegment(L,R-1)),A<0&&(this._minCoord=null,this.checkForRightmostCoordinate(L)),A}},{key:"findRightmostEdgeAtVertex",value:function(){var L=this._minDe.getEdge().getCoordinates();Tt.isTrue(this._minIndex>0&&this._minIndex<L.length,"rightmost point expected to be interior vertex of edge");var R=L[this._minIndex-1],A=L[this._minIndex+1],O=fe.index(this._minCoord,A,R),q=!1;(R.y<this._minCoord.y&&A.y<this._minCoord.y&&O===fe.COUNTERCLOCKWISE||R.y>this._minCoord.y&&A.y>this._minCoord.y&&O===fe.CLOCKWISE)&&(q=!0),q&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(L,R){var A=L.getEdge().getCoordinates();if(R<0||R+1>=A.length||A[R].y===A[R+1].y)return-1;var O=Wt.LEFT;return A[R].y<A[R+1].y&&(O=Wt.RIGHT),O}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(L){for(var R=L.getEdge().getCoordinates(),A=0;A<R.length-1;A++)(this._minCoord===null||R[A].x>this._minCoord.x)&&(this._minDe=L,this._minIndex=A,this._minCoord=R[A])}},{key:"findRightmostEdgeAtNode",value:function(){var L=this._minDe.getNode().getEdges();this._minDe=L.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(L){for(var R=L.iterator();R.hasNext();){var A=R.next();A.isForward()&&this.checkForRightmostCoordinate(A)}Tt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Wt.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),wn=(function(L){function R(A,O){var q;return s(this,R),(q=r(this,R,[O?A+" [ "+O+" ]":A])).pt=O?new Mt(O):void 0,q.name=Object.keys({TopologyException:R})[0],q}return z(R,L),P(R,[{key:"getCoordinate",value:function(){return this.pt}}])})(Pt),zi=(function(){return P((function L(){s(this,L),this.array=[]}),[{key:"addLast",value:function(L){this.array.push(L)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),ae=(function(L){function R(A){var O;return s(this,R),(O=r(this,R)).array=[],A instanceof ge&&O.addAll(A),O}return z(R,L),P(R,[{key:"interfaces_",get:function(){return[mn,ge]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(A){return arguments.length===1?this.array.push(A):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(A){var O,q=M(A);try{for(q.s();!(O=q.n()).done;){var Z=O.value;this.array.push(Z)}}catch(it){q.e(it)}finally{q.f()}}},{key:"set",value:function(A,O){var q=this.array[A];return this.array[A]=O,q}},{key:"iterator",value:function(){return new Ir(this)}},{key:"get",value:function(A){if(A<0||A>=this.size())throw new We;return this.array[A]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(A){A?this.array.sort((function(O,q){return A.compare(O,q)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(A){for(var O=0,q=this.array.length;O<q;O++)if(this.array[O]===A)return!!this.array.splice(O,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(mn),Ir=(function(){return P((function L(R){s(this,L),this.arrayList=R,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new ee;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(L){return this.arrayList.set(this.position-1,L)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),lr=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var L=this._dirEdgeList.iterator();L.hasNext();)L.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(L){for(var R=null,A=L.getEdges().iterator();A.hasNext();){var O=A.next();if(O.isVisited()||O.getSym().isVisited()){R=O;break}}if(R===null)throw new wn("unable to find edge to compute depths at "+L.getCoordinate());L.getEdges().computeDepths(R);for(var q=L.getEdges().iterator();q.hasNext();){var Z=q.next();Z.setVisited(!0),this.copySymDepths(Z)}}},{key:"computeDepth",value:function(L){this.clearVisitedEdges();var R=this._finder.getEdge();R.getNode(),R.getLabel(),R.setEdgeDepths(Wt.RIGHT,L),this.copySymDepths(R),this.computeDepths(R)}},{key:"create",value:function(L){this.addReachable(L),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var L=this._dirEdgeList.iterator();L.hasNext();){var R=L.next();R.getDepth(Wt.RIGHT)>=1&&R.getDepth(Wt.LEFT)<=0&&!R.isInteriorAreaEdge()&&R.setInResult(!0)}}},{key:"computeDepths",value:function(L){var R=new Xe,A=new zi,O=L.getNode();for(A.addLast(O),R.add(O),L.setVisited(!0);!A.isEmpty();){var q=A.removeFirst();R.add(q),this.computeNodeDepth(q);for(var Z=q.getEdges().iterator();Z.hasNext();){var it=Z.next().getSym();if(!it.isVisited()){var ot=it.getNode();R.contains(ot)||(A.addLast(ot),R.add(ot))}}}}},{key:"compareTo",value:function(L){var R=L;return this._rightMostCoord.x<R._rightMostCoord.x?-1:this._rightMostCoord.x>R._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var L=new me,R=this._dirEdgeList.iterator();R.hasNext();)for(var A=R.next().getEdge().getCoordinates(),O=0;O<A.length-1;O++)L.expandToInclude(A[O]);this._env=L}return this._env}},{key:"addReachable",value:function(L){var R=new Cn;for(R.add(L);!R.empty();){var A=R.pop();this.add(A,R)}}},{key:"copySymDepths",value:function(L){var R=L.getSym();R.setDepth(Wt.LEFT,L.getDepth(Wt.RIGHT)),R.setDepth(Wt.RIGHT,L.getDepth(Wt.LEFT))}},{key:"add",value:function(L,R){L.setVisited(!0),this._nodes.add(L);for(var A=L.getEdges().iterator();A.hasNext();){var O=A.next();this._dirEdgeList.add(O);var q=O.getSym().getNode();q.isVisited()||R.push(q)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new ae,this._nodes=new ae,this._rightMostCoord=null,this._env=null,this._finder=new Ba}}])})(),ps=(function(){return P((function L(){s(this,L)}),null,[{key:"intersection",value:function(L,R,A,O){var q=L.x<R.x?L.x:R.x,Z=L.y<R.y?L.y:R.y,it=L.x>R.x?L.x:R.x,ot=L.y>R.y?L.y:R.y,gt=A.x<O.x?A.x:O.x,Et=A.y<O.y?A.y:O.y,It=A.x>O.x?A.x:O.x,Lt=A.y>O.y?A.y:O.y,Kt=((q>gt?q:gt)+(it<It?it:It))/2,te=((Z>Et?Z:Et)+(ot<Lt?ot:Lt))/2,re=L.x-Kt,le=L.y-te,Re=R.x-Kt,Ee=R.y-te,Se=A.x-Kt,yn=A.y-te,Oe=O.x-Kt,vn=O.y-te,Ri=le-Ee,pa=Re-re,Ds=re*Ee-Re*le,Os=yn-vn,ma=Oe-Se,br=Se*vn-Oe*yn,Za=Ri*ma-Os*pa,Gr=(pa*br-ma*Ds)/Za,nr=(Os*Ds-Ri*br)/Za;return dt.isNaN(Gr)||dt.isInfinite(Gr)||dt.isNaN(nr)||dt.isInfinite(nr)?null:new Mt(Gr+Kt,nr+te)}}])})(),_n=(function(){return P((function L(){s(this,L)}),null,[{key:"arraycopy",value:function(L,R,A,O,q){for(var Z=0,it=R;it<R+q;it++)A[O+Z]=L[it],Z++}},{key:"getProperty",value:function(L){return{"line.separator":`
`}[L]}}])})(),Rn=(function(){function L(){s(this,L)}return P(L,null,[{key:"log10",value:function(R){var A=Math.log(R);return dt.isInfinite(A)||dt.isNaN(A)?A:A/L.LOG_10}},{key:"min",value:function(R,A,O,q){var Z=R;return A<Z&&(Z=A),O<Z&&(Z=O),q<Z&&(Z=q),Z}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var R=arguments[0],A=arguments[1],O=arguments[2];return R<A?A:R>O?O:R}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var q=arguments[0],Z=arguments[1],it=arguments[2];return q<Z?Z:q>it?it:q}}},{key:"wrap",value:function(R,A){return R<0?A- -R%A:R%A}},{key:"max",value:function(){if(arguments.length===3){var R=arguments[1],A=arguments[2],O=arguments[0];return R>O&&(O=R),A>O&&(O=A),O}if(arguments.length===4){var q=arguments[1],Z=arguments[2],it=arguments[3],ot=arguments[0];return q>ot&&(ot=q),Z>ot&&(ot=Z),it>ot&&(ot=it),ot}}},{key:"average",value:function(R,A){return(R+A)/2}}])})();Rn.LOG_10=Math.log(10);var Vn=(function(){function L(){s(this,L)}return P(L,null,[{key:"segmentToSegment",value:function(R,A,O,q){if(R.equals(A))return L.pointToSegment(R,O,q);if(O.equals(q))return L.pointToSegment(q,R,A);var Z=!1;if(me.intersects(R,A,O,q)){var it=(A.x-R.x)*(q.y-O.y)-(A.y-R.y)*(q.x-O.x);if(it===0)Z=!0;else{var ot=(R.y-O.y)*(q.x-O.x)-(R.x-O.x)*(q.y-O.y),gt=((R.y-O.y)*(A.x-R.x)-(R.x-O.x)*(A.y-R.y))/it,Et=ot/it;(Et<0||Et>1||gt<0||gt>1)&&(Z=!0)}}else Z=!0;return Z?Rn.min(L.pointToSegment(R,O,q),L.pointToSegment(A,O,q),L.pointToSegment(O,R,A),L.pointToSegment(q,R,A)):0}},{key:"pointToSegment",value:function(R,A,O){if(A.x===O.x&&A.y===O.y)return R.distance(A);var q=(O.x-A.x)*(O.x-A.x)+(O.y-A.y)*(O.y-A.y),Z=((R.x-A.x)*(O.x-A.x)+(R.y-A.y)*(O.y-A.y))/q;if(Z<=0)return R.distance(A);if(Z>=1)return R.distance(O);var it=((A.y-R.y)*(O.x-A.x)-(A.x-R.x)*(O.y-A.y))/q;return Math.abs(it)*Math.sqrt(q)}},{key:"pointToLinePerpendicular",value:function(R,A,O){var q=(O.x-A.x)*(O.x-A.x)+(O.y-A.y)*(O.y-A.y),Z=((A.y-R.y)*(O.x-A.x)-(A.x-R.x)*(O.y-A.y))/q;return Math.abs(Z)*Math.sqrt(q)}},{key:"pointToSegmentString",value:function(R,A){if(A.length===0)throw new nt("Line array must contain at least one vertex");for(var O=R.distance(A[0]),q=0;q<A.length-1;q++){var Z=L.pointToSegment(R,A[q],A[q+1]);Z<O&&(O=Z)}return O}}])})(),Wn=(function(){return P((function L(){s(this,L)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||oe(arguments[0],ve);else if(arguments.length!==2){if(arguments.length===3){var L=arguments[0],R=arguments[1];return this.create(L,R)}}}}])})(),Dr=(function(){return P((function L(){s(this,L)}),[{key:"filter",value:function(L){}}])})(),ms=(function(){return P((function L(){s(this,L)}),null,[{key:"ofLine",value:function(L){var R=L.size();if(R<=1)return 0;var A=0,O=new Mt;L.getCoordinate(0,O);for(var q=O.x,Z=O.y,it=1;it<R;it++){L.getCoordinate(it,O);var ot=O.x,gt=O.y,Et=ot-q,It=gt-Z;A+=Math.sqrt(Et*Et+It*It),q=ot,Z=gt}return A}}])})(),Or=P((function L(){s(this,L)})),ni=(function(){function L(){s(this,L)}return P(L,null,[{key:"copyCoord",value:function(R,A,O,q){for(var Z=Math.min(R.getDimension(),O.getDimension()),it=0;it<Z;it++)O.setOrdinate(q,it,R.getOrdinate(A,it))}},{key:"isRing",value:function(R){var A=R.size();return A===0||!(A<=3)&&R.getOrdinate(0,ve.X)===R.getOrdinate(A-1,ve.X)&&R.getOrdinate(0,ve.Y)===R.getOrdinate(A-1,ve.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(oe(arguments[0],ve)&&Number.isInteger(arguments[1])){var R=arguments[0],A=arguments[1];L.scroll(R,A,L.isRing(R))}else if(oe(arguments[0],ve)&&arguments[1]instanceof Mt){var O=arguments[0],q=arguments[1],Z=L.indexOf(q,O);if(Z<=0)return null;L.scroll(O,Z)}}else if(arguments.length===3){var it=arguments[0],ot=arguments[1],gt=arguments[2];if(ot<=0)return null;for(var Et=it.copy(),It=gt?it.size()-1:it.size(),Lt=0;Lt<It;Lt++)for(var Kt=0;Kt<it.getDimension();Kt++)it.setOrdinate(Lt,Kt,Et.getOrdinate((ot+Lt)%It,Kt));if(gt)for(var te=0;te<it.getDimension();te++)it.setOrdinate(It,te,it.getOrdinate(0,te))}}},{key:"isEqual",value:function(R,A){var O=R.size();if(O!==A.size())return!1;for(var q=Math.min(R.getDimension(),A.getDimension()),Z=0;Z<O;Z++)for(var it=0;it<q;it++){var ot=R.getOrdinate(Z,it),gt=A.getOrdinate(Z,it);if(R.getOrdinate(Z,it)!==A.getOrdinate(Z,it)&&(!dt.isNaN(ot)||!dt.isNaN(gt)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var R=arguments[0];return L.minCoordinateIndex(R,0,R.size()-1)}if(arguments.length===3){for(var A=arguments[0],O=arguments[2],q=-1,Z=null,it=arguments[1];it<=O;it++){var ot=A.getCoordinate(it);(Z===null||Z.compareTo(ot)>0)&&(Z=ot,q=it)}return q}}},{key:"extend",value:function(R,A,O){var q=R.create(O,A.getDimension()),Z=A.size();if(L.copy(A,0,q,0,Z),Z>0)for(var it=Z;it<O;it++)L.copy(A,Z-1,q,it,1);return q}},{key:"reverse",value:function(R){for(var A=R.size()-1,O=Math.trunc(A/2),q=0;q<=O;q++)L.swap(R,q,A-q)}},{key:"swap",value:function(R,A,O){if(A===O)return null;for(var q=0;q<R.getDimension();q++){var Z=R.getOrdinate(A,q);R.setOrdinate(A,q,R.getOrdinate(O,q)),R.setOrdinate(O,q,Z)}}},{key:"copy",value:function(R,A,O,q,Z){for(var it=0;it<Z;it++)L.copyCoord(R,A+it,O,q+it)}},{key:"ensureValidRing",value:function(R,A){var O=A.size();return O===0?A:O<=3?L.createClosedRing(R,A,4):A.getOrdinate(0,ve.X)===A.getOrdinate(O-1,ve.X)&&A.getOrdinate(0,ve.Y)===A.getOrdinate(O-1,ve.Y)?A:L.createClosedRing(R,A,O+1)}},{key:"indexOf",value:function(R,A){for(var O=0;O<A.size();O++)if(R.x===A.getOrdinate(O,ve.X)&&R.y===A.getOrdinate(O,ve.Y))return O;return-1}},{key:"createClosedRing",value:function(R,A,O){var q=R.create(O,A.getDimension()),Z=A.size();L.copy(A,0,q,0,Z);for(var it=Z;it<O;it++)L.copy(A,0,q,it,1);return q}},{key:"minCoordinate",value:function(R){for(var A=null,O=0;O<R.size();O++){var q=R.getCoordinate(O);(A===null||A.compareTo(q)>0)&&(A=q)}return A}}])})(),Zt=(function(){function L(){s(this,L)}return P(L,null,[{key:"toDimensionSymbol",value:function(R){switch(R){case L.FALSE:return L.SYM_FALSE;case L.TRUE:return L.SYM_TRUE;case L.DONTCARE:return L.SYM_DONTCARE;case L.P:return L.SYM_P;case L.L:return L.SYM_L;case L.A:return L.SYM_A}throw new nt("Unknown dimension value: "+R)}},{key:"toDimensionValue",value:function(R){switch(Ue.toUpperCase(R)){case L.SYM_FALSE:return L.FALSE;case L.SYM_TRUE:return L.TRUE;case L.SYM_DONTCARE:return L.DONTCARE;case L.SYM_P:return L.P;case L.SYM_L:return L.L;case L.SYM_A:return L.A}throw new nt("Unknown dimension symbol: "+R)}}])})();Zt.P=0,Zt.L=1,Zt.A=2,Zt.FALSE=-1,Zt.TRUE=-2,Zt.DONTCARE=-3,Zt.SYM_FALSE="F",Zt.SYM_TRUE="T",Zt.SYM_DONTCARE="*",Zt.SYM_P="0",Zt.SYM_L="1",Zt.SYM_A="2";var ur=(function(){return P((function L(){s(this,L)}),[{key:"filter",value:function(L){}}])})(),Lr=(function(){return P((function L(){s(this,L)}),[{key:"filter",value:function(L,R){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),zn=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new me:this._points.expandEnvelope(new me)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new R(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Jt){var A=arguments[0],O=arguments[1];if(!this.isEquivalentClass(A))return!1;var q=A;if(this._points.size()!==q._points.size())return!1;for(var Z=0;Z<this._points.size();Z++)if(!this.equal(this._points.getCoordinate(Z),q._points.getCoordinate(Z),O))return!1;return!0}return H(R,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var A=0;A<Math.trunc(this._points.size()/2);A++){var O=this._points.size()-1-A;if(!this._points.getCoordinate(A).equals(this._points.getCoordinate(O))){if(this._points.getCoordinate(A).compareTo(this._points.getCoordinate(O))>0){var q=this._points.copy();ni.reverse(q),this._points=q}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Zt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var A=this._points.copy();return ni.reverse(A),this.getFactory().createLineString(A)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Jt.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return ms.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var A=arguments[0],O=0,q=0;O<this._points.size()&&q<A._points.size();){var Z=this._points.getCoordinate(O).compareTo(A._points.getCoordinate(q));if(Z!==0)return Z;O++,q++}return O<this._points.size()?1:q<A._points.size()?-1:0}if(arguments.length===2){var it=arguments[0];return arguments[1].compare(this._points,it._points)}}},{key:"apply",value:function(){if(oe(arguments[0],Dr))for(var A=arguments[0],O=0;O<this._points.size();O++)A.filter(this._points.getCoordinate(O));else if(oe(arguments[0],Lr)){var q=arguments[0];if(this._points.size()===0)return null;for(var Z=0;Z<this._points.size()&&(q.filter(this._points,Z),!q.isDone());Z++);q.isGeometryChanged()&&this.geometryChanged()}else oe(arguments[0],ur)?arguments[0].filter(this):oe(arguments[0],rt)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new De}},{key:"isEquivalentClass",value:function(A){return A instanceof R}},{key:"getCoordinateN",value:function(A){return this._points.getCoordinate(A)}},{key:"getGeometryType",value:function(){return Jt.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(A){if(A===null&&(A=this.getFactory().getCoordinateSequenceFactory().create([])),A.size()===1)throw new nt("Invalid number of points in LineString (found "+A.size()+" - must be 0 or >= 2)");this._points=A}},{key:"isCoordinate",value:function(A){for(var O=0;O<this._points.size();O++)if(this._points.getCoordinate(O).equals(A))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(A){return this.getFactory().createPoint(this._points.getCoordinate(A))}},{key:"interfaces_",get:function(){return[Or]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var A=arguments[0],O=arguments[1];Jt.constructor_.call(this,O),this.init(A)}}}}])})(Jt),Je=P((function L(){s(this,L)})),gn=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new me;var A=new me;return A.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),A}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new R(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Jt){var A=arguments[0],O=arguments[1];return!!this.isEquivalentClass(A)&&(!(!this.isEmpty()||!A.isEmpty())||this.isEmpty()===A.isEmpty()&&this.equal(A.getCoordinate(),this.getCoordinate(),O))}return H(R,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Zt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Jt.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var A=arguments[0];return this.getCoordinate().compareTo(A.getCoordinate())}if(arguments.length===2){var O=arguments[0];return arguments[1].compare(this._coordinates,O._coordinates)}}},{key:"apply",value:function(){if(oe(arguments[0],Dr)){var A=arguments[0];if(this.isEmpty())return null;A.filter(this.getCoordinate())}else if(oe(arguments[0],Lr)){var O=arguments[0];if(this.isEmpty())return null;O.filter(this._coordinates,0),O.isGeometryChanged()&&this.geometryChanged()}else oe(arguments[0],ur)?arguments[0].filter(this):oe(arguments[0],rt)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Jt.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(A){A===null&&(A=this.getFactory().getCoordinateSequenceFactory().create([])),Tt.isTrue(A.size()<=1),this._coordinates=A}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Je]}}],[{key:"constructor_",value:function(){this._coordinates=null;var A=arguments[0],O=arguments[1];Jt.constructor_.call(this,O),this.init(A)}}])})(Jt),Si=(function(){function L(){s(this,L)}return P(L,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var R=arguments[0];return Math.abs(L.ofRingSigned(R))}if(oe(arguments[0],ve)){var A=arguments[0];return Math.abs(L.ofRingSigned(A))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var R=arguments[0];if(R.length<3)return 0;for(var A=0,O=R[0].x,q=1;q<R.length-1;q++){var Z=R[q].x-O,it=R[q+1].y;A+=Z*(R[q-1].y-it)}return A/2}if(oe(arguments[0],ve)){var ot=arguments[0],gt=ot.size();if(gt<3)return 0;var Et=new Mt,It=new Mt,Lt=new Mt;ot.getCoordinate(0,It),ot.getCoordinate(1,Lt);var Kt=It.x;Lt.x-=Kt;for(var te=0,re=1;re<gt-1;re++)Et.y=It.y,It.x=Lt.x,It.y=Lt.y,ot.getCoordinate(re+1,Lt),Lt.x-=Kt,te+=It.x*(Et.y-Lt.y);return te/2}}}])})(),fi=(function(){return P((function L(){s(this,L)}),null,[{key:"sort",value:function(){var L=arguments,R=arguments[0];if(arguments.length===1)R.sort((function(Kt,te){return Kt.compareTo(te)}));else if(arguments.length===2)R.sort((function(Kt,te){return L[1].compare(Kt,te)}));else if(arguments.length===3){var A=R.slice(arguments[1],arguments[2]);A.sort();var O=R.slice(0,arguments[1]).concat(A,R.slice(arguments[2],R.length));R.splice(0,R.length);var q,Z=M(O);try{for(Z.s();!(q=Z.n()).done;){var it=q.value;R.push(it)}}catch(Kt){Z.e(Kt)}finally{Z.f()}}else if(arguments.length===4){var ot=R.slice(arguments[1],arguments[2]);ot.sort((function(Kt,te){return L[3].compare(Kt,te)}));var gt=R.slice(0,arguments[1]).concat(ot,R.slice(arguments[2],R.length));R.splice(0,R.length);var Et,It=M(gt);try{for(It.s();!(Et=It.n()).done;){var Lt=Et.value;R.push(Lt)}}catch(Kt){It.e(Kt)}finally{It.f()}}}},{key:"asList",value:function(L){var R,A=new ae,O=M(L);try{for(O.s();!(R=O.n()).done;){var q=R.value;A.add(q)}}catch(Z){O.e(Z)}finally{O.f()}return A}},{key:"copyOf",value:function(L,R){return L.slice(0,R)}}])})(),Ws=P((function L(){s(this,L)})),Fr=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var A=new Array(this.getNumPoints()).fill(null),O=-1,q=this._shell.getCoordinates(),Z=0;Z<q.length;Z++)A[++O]=q[Z];for(var it=0;it<this._holes.length;it++)for(var ot=this._holes[it].getCoordinates(),gt=0;gt<ot.length;gt++)A[++O]=ot[gt];return A}},{key:"getArea",value:function(){var A=0;A+=Si.ofRing(this._shell.getCoordinateSequence());for(var O=0;O<this._holes.length;O++)A-=Si.ofRing(this._holes[O].getCoordinateSequence());return A}},{key:"copyInternal",value:function(){for(var A=this._shell.copy(),O=new Array(this._holes.length).fill(null),q=0;q<this._holes.length;q++)O[q]=this._holes[q].copy();return new R(A,O,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var A=this._shell.getCoordinateSequence(),O=this.getEnvelopeInternal(),q=0;q<5;q++){var Z=A.getX(q);if(Z!==O.getMinX()&&Z!==O.getMaxX())return!1;var it=A.getY(q);if(it!==O.getMinY()&&it!==O.getMaxY())return!1}for(var ot=A.getX(0),gt=A.getY(0),Et=1;Et<=4;Et++){var It=A.getX(Et),Lt=A.getY(Et);if(It!==ot==(Lt!==gt))return!1;ot=It,gt=Lt}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Jt){var A=arguments[0],O=arguments[1];if(!this.isEquivalentClass(A))return!1;var q=A,Z=this._shell,it=q._shell;if(!Z.equalsExact(it,O)||this._holes.length!==q._holes.length)return!1;for(var ot=0;ot<this._holes.length;ot++)if(!this._holes[ot].equalsExact(q._holes[ot],O))return!1;return!0}return H(R,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var A=0;A<this._holes.length;A++)this._holes[A]=this.normalized(this._holes[A],!1);fi.sort(this._holes)}else if(arguments.length===2){var O=arguments[0],q=arguments[1];if(O.isEmpty())return null;var Z=O.getCoordinateSequence(),it=ni.minCoordinateIndex(Z,0,Z.size()-2);ni.scroll(Z,it,!0),fe.isCCW(Z)===q&&ni.reverse(Z)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var A=this.getExteriorRing().reverse(),O=new Array(this.getNumInteriorRing()).fill(null),q=0;q<O.length;q++)O[q]=this.getInteriorRingN(q).reverse();return this.getFactory().createPolygon(A,O)}},{key:"getTypeCode",value:function(){return Jt.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var A=0;A+=this._shell.getLength();for(var O=0;O<this._holes.length;O++)A+=this._holes[O].getLength();return A}},{key:"getNumPoints",value:function(){for(var A=this._shell.getNumPoints(),O=0;O<this._holes.length;O++)A+=this._holes[O].getNumPoints();return A}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(A,O){var q=A.copy();return this.normalize(q,O),q}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var A=arguments[0],O=this._shell,q=A._shell;return O.compareToSameClass(q)}if(arguments.length===2){var Z=arguments[1],it=arguments[0],ot=this._shell,gt=it._shell,Et=ot.compareToSameClass(gt,Z);if(Et!==0)return Et;for(var It=this.getNumInteriorRing(),Lt=it.getNumInteriorRing(),Kt=0;Kt<It&&Kt<Lt;){var te=this.getInteriorRingN(Kt),re=it.getInteriorRingN(Kt),le=te.compareToSameClass(re,Z);if(le!==0)return le;Kt++}return Kt<It?1:Kt<Lt?-1:0}}},{key:"apply",value:function(){if(oe(arguments[0],Dr)){var A=arguments[0];this._shell.apply(A);for(var O=0;O<this._holes.length;O++)this._holes[O].apply(A)}else if(oe(arguments[0],Lr)){var q=arguments[0];if(this._shell.apply(q),!q.isDone())for(var Z=0;Z<this._holes.length&&(this._holes[Z].apply(q),!q.isDone());Z++);q.isGeometryChanged()&&this.geometryChanged()}else if(oe(arguments[0],ur))arguments[0].filter(this);else if(oe(arguments[0],rt)){var it=arguments[0];it.filter(this),this._shell.apply(it);for(var ot=0;ot<this._holes.length;ot++)this._holes[ot].apply(it)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var A=new Array(this._holes.length+1).fill(null);A[0]=this._shell;for(var O=0;O<this._holes.length;O++)A[O+1]=this._holes[O];return A.length<=1?this.getFactory().createLinearRing(A[0].getCoordinateSequence()):this.getFactory().createMultiLineString(A)}},{key:"getGeometryType",value:function(){return Jt.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(A){return this._holes[A]}},{key:"interfaces_",get:function(){return[Ws]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var A=arguments[0],O=arguments[1],q=arguments[2];if(Jt.constructor_.call(this,q),A===null&&(A=this.getFactory().createLinearRing()),O===null&&(O=[]),Jt.hasNullElements(O))throw new nt("holes must not contain null elements");if(A.isEmpty()&&Jt.hasNonEmptyElements(O))throw new nt("shell is empty but holes are not");this._shell=A,this._holes=O}}])})(Jt),Qs=(function(L){function R(){return s(this,R),r(this,R,arguments)}return z(R,L),P(R)})(kn),$i=(function(L){function R(A){var O;return s(this,R),(O=r(this,R)).array=[],A instanceof ge&&O.addAll(A),O}return z(R,L),P(R,[{key:"contains",value:function(A){var O,q=M(this.array);try{for(q.s();!(O=q.n()).done;)if(O.value.compareTo(A)===0)return!0}catch(Z){q.e(Z)}finally{q.f()}return!1}},{key:"add",value:function(A){if(this.contains(A))return!1;for(var O=0,q=this.array.length;O<q;O++)if(this.array[O].compareTo(A)===1)return!!this.array.splice(O,0,A);return this.array.push(A),!0}},{key:"addAll",value:function(A){var O,q=M(A);try{for(q.s();!(O=q.n()).done;){var Z=O.value;this.add(Z)}}catch(it){q.e(it)}finally{q.f()}return!0}},{key:"remove",value:function(){throw new De}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new gs(this.array)}}])})(Qs),gs=(function(){return P((function L(R){s(this,L),this.array=R,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new ee;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new De}}])})(),nn=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"computeEnvelopeInternal",value:function(){for(var A=new me,O=0;O<this._geometries.length;O++)A.expandToInclude(this._geometries[O].getEnvelopeInternal());return A}},{key:"getGeometryN",value:function(A){return this._geometries[A]}},{key:"getCoordinates",value:function(){for(var A=new Array(this.getNumPoints()).fill(null),O=-1,q=0;q<this._geometries.length;q++)for(var Z=this._geometries[q].getCoordinates(),it=0;it<Z.length;it++)A[++O]=Z[it];return A}},{key:"getArea",value:function(){for(var A=0,O=0;O<this._geometries.length;O++)A+=this._geometries[O].getArea();return A}},{key:"copyInternal",value:function(){for(var A=new Array(this._geometries.length).fill(null),O=0;O<A.length;O++)A[O]=this._geometries[O].copy();return new R(A,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Jt){var A=arguments[0],O=arguments[1];if(!this.isEquivalentClass(A))return!1;var q=A;if(this._geometries.length!==q._geometries.length)return!1;for(var Z=0;Z<this._geometries.length;Z++)if(!this._geometries[Z].equalsExact(q._geometries[Z],O))return!1;return!0}return H(R,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var A=0;A<this._geometries.length;A++)this._geometries[A].normalize();fi.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var A=Zt.FALSE,O=0;O<this._geometries.length;O++)A=Math.max(A,this._geometries[O].getBoundaryDimension());return A}},{key:"reverseInternal",value:function(){for(var A=this._geometries.length,O=new ae(A),q=0;q<A;q++)O.add(this._geometries[q].reverse());return this.getFactory().buildGeometry(O)}},{key:"getTypeCode",value:function(){return Jt.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var A=Zt.FALSE,O=0;O<this._geometries.length;O++)A=Math.max(A,this._geometries[O].getDimension());return A}},{key:"getLength",value:function(){for(var A=0,O=0;O<this._geometries.length;O++)A+=this._geometries[O].getLength();return A}},{key:"getNumPoints",value:function(){for(var A=0,O=0;O<this._geometries.length;O++)A+=this._geometries[O].getNumPoints();return A}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var A=arguments[0],O=new $i(fi.asList(this._geometries)),q=new $i(fi.asList(A._geometries));return this.compare(O,q)}if(arguments.length===2){for(var Z=arguments[1],it=arguments[0],ot=this.getNumGeometries(),gt=it.getNumGeometries(),Et=0;Et<ot&&Et<gt;){var It=this.getGeometryN(Et),Lt=it.getGeometryN(Et),Kt=It.compareToSameClass(Lt,Z);if(Kt!==0)return Kt;Et++}return Et<ot?1:Et<gt?-1:0}}},{key:"apply",value:function(){if(oe(arguments[0],Dr))for(var A=arguments[0],O=0;O<this._geometries.length;O++)this._geometries[O].apply(A);else if(oe(arguments[0],Lr)){var q=arguments[0];if(this._geometries.length===0)return null;for(var Z=0;Z<this._geometries.length&&(this._geometries[Z].apply(q),!q.isDone());Z++);q.isGeometryChanged()&&this.geometryChanged()}else if(oe(arguments[0],ur)){var it=arguments[0];it.filter(this);for(var ot=0;ot<this._geometries.length;ot++)this._geometries[ot].apply(it)}else if(oe(arguments[0],rt)){var gt=arguments[0];gt.filter(this);for(var Et=0;Et<this._geometries.length;Et++)this._geometries[Et].apply(gt)}}},{key:"getBoundary",value:function(){return Jt.checkNotGeometryCollection(this),Tt.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Jt.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var A=0;A<this._geometries.length;A++)if(!this._geometries[A].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var A=arguments[0],O=arguments[1];if(Jt.constructor_.call(this,O),A===null&&(A=[]),Jt.hasNullElements(A))throw new nt("geometries must not contain null elements");this._geometries=A}}}}])})(Jt),Tn=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"copyInternal",value:function(){for(var A=new Array(this._geometries.length).fill(null),O=0;O<A.length;O++)A[O]=this._geometries[O].copy();return new R(A,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Jt){var A=arguments[0],O=arguments[1];return!!this.isEquivalentClass(A)&&H(R,"equalsExact",this,1).call(this,A,O)}return H(R,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var A=arguments[0];return this._geometries[A].getCoordinate()}return H(R,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Zt.FALSE}},{key:"getTypeCode",value:function(){return Jt.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Jt.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Je]}}],[{key:"constructor_",value:function(){var A=arguments[0],O=arguments[1];nn.constructor_.call(this,A,O)}}])})(nn),di=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"copyInternal",value:function(){return new R(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Zt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||H(R,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var A=this._points.copy();return ni.reverse(A),this.getFactory().createLinearRing(A)}},{key:"getTypeCode",value:function(){return Jt.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!H(R,"isClosed",this,1).call(this))throw new nt("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<R.MINIMUM_VALID_SIZE)throw new nt("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Jt.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var A=arguments[0],O=arguments[1];zn.constructor_.call(this,A,O),this.validateConstruction()}}])})(zn);di.MINIMUM_VALID_SIZE=4;var $n=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"setOrdinate",value:function(A,O){switch(A){case R.X:this.x=O;break;case R.Y:this.y=O;break;default:throw new nt("Invalid ordinate index: "+A)}}},{key:"getZ",value:function(){return Mt.NULL_ORDINATE}},{key:"getOrdinate",value:function(A){switch(A){case R.X:return this.x;case R.Y:return this.y}throw new nt("Invalid ordinate index: "+A)}},{key:"setZ",value:function(A){throw new nt("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new R(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(A){this.x=A.x,this.y=A.y,this.z=A.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)Mt.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof R){var A=arguments[0];Mt.constructor_.call(this,A.x,A.y)}else if(arguments[0]instanceof Mt){var O=arguments[0];Mt.constructor_.call(this,O.x,O.y)}}else if(arguments.length===2){var q=arguments[0],Z=arguments[1];Mt.constructor_.call(this,q,Z,Mt.NULL_ORDINATE)}}}])})(Mt);$n.X=0,$n.Y=1,$n.Z=-1,$n.M=-1;var Be=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(A,O){switch(A){case R.X:this.x=O;break;case R.Y:this.y=O;break;case R.M:this._m=O;break;default:throw new nt("Invalid ordinate index: "+A)}}},{key:"setM",value:function(A){this._m=A}},{key:"getZ",value:function(){return Mt.NULL_ORDINATE}},{key:"getOrdinate",value:function(A){switch(A){case R.X:return this.x;case R.Y:return this.y;case R.M:return this._m}throw new nt("Invalid ordinate index: "+A)}},{key:"setZ",value:function(A){throw new nt("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new R(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(A){this.x=A.x,this.y=A.y,this.z=A.getZ(),this._m=A.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Mt.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof R){var A=arguments[0];Mt.constructor_.call(this,A.x,A.y),this._m=A._m}else if(arguments[0]instanceof Mt){var O=arguments[0];Mt.constructor_.call(this,O.x,O.y),this._m=this.getM()}}else if(arguments.length===3){var q=arguments[0],Z=arguments[1],it=arguments[2];Mt.constructor_.call(this,q,Z,Mt.NULL_ORDINATE),this._m=it}}}])})(Mt);Be.X=0,Be.Y=1,Be.Z=-1,Be.M=2;var qi=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(A,O){switch(A){case Mt.X:this.x=O;break;case Mt.Y:this.y=O;break;case Mt.Z:this.z=O;break;case Mt.M:this._m=O;break;default:throw new nt("Invalid ordinate index: "+A)}}},{key:"setM",value:function(A){this._m=A}},{key:"getOrdinate",value:function(A){switch(A){case Mt.X:return this.x;case Mt.Y:return this.y;case Mt.Z:return this.getZ();case Mt.M:return this.getM()}throw new nt("Invalid ordinate index: "+A)}},{key:"copy",value:function(){return new R(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(A){this.x=A.x,this.y=A.y,this.z=A.getZ(),this._m=A.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Mt.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof R){var A=arguments[0];Mt.constructor_.call(this,A),this._m=A._m}else if(arguments[0]instanceof Mt){var O=arguments[0];Mt.constructor_.call(this,O),this._m=this.getM()}}else if(arguments.length===4){var q=arguments[0],Z=arguments[1],it=arguments[2],ot=arguments[3];Mt.constructor_.call(this,q,Z,it),this._m=ot}}}])})(Mt),ji=(function(){function L(){s(this,L)}return P(L,null,[{key:"measures",value:function(R){return R instanceof $n?0:R instanceof Be||R instanceof qi?1:0}},{key:"dimension",value:function(R){return R instanceof $n?2:R instanceof Be?3:R instanceof qi?4:3}},{key:"create",value:function(){if(arguments.length===1){var R=arguments[0];return L.create(R,0)}if(arguments.length===2){var A=arguments[0],O=arguments[1];return A===2?new $n:A===3&&O===0?new Mt:A===3&&O===1?new Be:A===4&&O===1?new qi:new Mt}}}])})(),Qn=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"getCoordinate",value:function(A){return this.get(A)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&oe(arguments[0],ge)){for(var A=arguments[1],O=!1,q=arguments[0].iterator();q.hasNext();)this.add(q.next(),A),O=!0;return O}return H(R,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var A=H(R,"clone",this,1).call(this),O=0;O<this.size();O++)A.add(O,this.get(O).clone());return A}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(R.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(R.coordArrayType);for(var A=this.size(),O=new Array(A).fill(null),q=0;q<A;q++)O[q]=this.get(A-q-1);return O}}},{key:"add",value:function(){if(arguments.length===1){var A=arguments[0];return H(R,"add",this,1).call(this,A)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var O=arguments[0],q=arguments[1];return this.add(O,q,!0),!0}if(arguments[0]instanceof Mt&&typeof arguments[1]=="boolean"){var Z=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(Z))return null;H(R,"add",this,1).call(this,Z)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var it=arguments[0],ot=arguments[1];return this.add(it,ot),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var gt=arguments[0],Et=arguments[1];if(arguments[2])for(var It=0;It<gt.length;It++)this.add(gt[It],Et);else for(var Lt=gt.length-1;Lt>=0;Lt--)this.add(gt[Lt],Et);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Mt){var Kt=arguments[0],te=arguments[1];if(!arguments[2]){var re=this.size();if(re>0&&(Kt>0&&this.get(Kt-1).equals2D(te)||Kt<re&&this.get(Kt).equals2D(te)))return null}H(R,"add",this,1).call(this,Kt,te)}}else if(arguments.length===4){var le=arguments[0],Re=arguments[1],Ee=arguments[2],Se=arguments[3],yn=1;Ee>Se&&(yn=-1);for(var Oe=Ee;Oe!==Se;Oe+=yn)this.add(le[Oe],Re);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var A=this.get(0).copy();this.add(A,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var A=arguments[0];this.ensureCapacity(A.length),this.add(A,!0)}else if(arguments.length===2){var O=arguments[0],q=arguments[1];this.ensureCapacity(O.length),this.add(O,q)}}}}])})(ae);Qn.coordArrayType=new Array(0).fill(null);var Ve=(function(){function L(){s(this,L)}return P(L,null,[{key:"isRing",value:function(R){return!(R.length<4)&&!!R[0].equals2D(R[R.length-1])}},{key:"ptNotInList",value:function(R,A){for(var O=0;O<R.length;O++){var q=R[O];if(L.indexOf(q,A)<0)return q}return null}},{key:"scroll",value:function(R,A){var O=L.indexOf(A,R);if(O<0)return null;var q=new Array(R.length).fill(null);_n.arraycopy(R,O,q,0,R.length-O),_n.arraycopy(R,0,q,R.length-O,O),_n.arraycopy(q,0,R,0,R.length)}},{key:"equals",value:function(){if(arguments.length===2){var R=arguments[0],A=arguments[1];if(R===A)return!0;if(R===null||A===null||R.length!==A.length)return!1;for(var O=0;O<R.length;O++)if(!R[O].equals(A[O]))return!1;return!0}if(arguments.length===3){var q=arguments[0],Z=arguments[1],it=arguments[2];if(q===Z)return!0;if(q===null||Z===null||q.length!==Z.length)return!1;for(var ot=0;ot<q.length;ot++)if(it.compare(q[ot],Z[ot])!==0)return!1;return!0}}},{key:"intersection",value:function(R,A){for(var O=new Qn,q=0;q<R.length;q++)A.intersects(R[q])&&O.add(R[q],!0);return O.toCoordinateArray()}},{key:"measures",value:function(R){if(R===null||R.length===0)return 0;var A,O=0,q=M(R);try{for(q.s();!(A=q.n()).done;){var Z=A.value;O=Math.max(O,ji.measures(Z))}}catch(it){q.e(it)}finally{q.f()}return O}},{key:"hasRepeatedPoints",value:function(R){for(var A=1;A<R.length;A++)if(R[A-1].equals(R[A]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(R){return L.hasRepeatedPoints(R)?new Qn(R,!1).toCoordinateArray():R}},{key:"reverse",value:function(R){for(var A=R.length-1,O=Math.trunc(A/2),q=0;q<=O;q++){var Z=R[q];R[q]=R[A-q],R[A-q]=Z}}},{key:"removeNull",value:function(R){for(var A=0,O=0;O<R.length;O++)R[O]!==null&&A++;var q=new Array(A).fill(null);if(A===0)return q;for(var Z=0,it=0;it<R.length;it++)R[it]!==null&&(q[Z++]=R[it]);return q}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var R=arguments[0],A=new Array(R.length).fill(null),O=0;O<R.length;O++)A[O]=R[O].copy();return A}if(arguments.length===5)for(var q=arguments[0],Z=arguments[1],it=arguments[2],ot=arguments[3],gt=arguments[4],Et=0;Et<gt;Et++)it[ot+Et]=q[Z+Et].copy()}},{key:"isEqualReversed",value:function(R,A){for(var O=0;O<R.length;O++){var q=R[O],Z=A[R.length-O-1];if(q.compareTo(Z)!==0)return!1}return!0}},{key:"envelope",value:function(R){for(var A=new me,O=0;O<R.length;O++)A.expandToInclude(R[O]);return A}},{key:"toCoordinateArray",value:function(R){return R.toArray(L.coordArrayType)}},{key:"dimension",value:function(R){if(R===null||R.length===0)return 3;var A,O=0,q=M(R);try{for(q.s();!(A=q.n()).done;){var Z=A.value;O=Math.max(O,ji.dimension(Z))}}catch(it){q.e(it)}finally{q.f()}return O}},{key:"atLeastNCoordinatesOrNothing",value:function(R,A){return A.length>=R?A:[]}},{key:"indexOf",value:function(R,A){for(var O=0;O<A.length;O++)if(R.equals(A[O]))return O;return-1}},{key:"increasingDirection",value:function(R){for(var A=0;A<Math.trunc(R.length/2);A++){var O=R.length-1-A,q=R[A].compareTo(R[O]);if(q!==0)return q}return 1}},{key:"compare",value:function(R,A){for(var O=0;O<R.length&&O<A.length;){var q=R[O].compareTo(A[O]);if(q!==0)return q;O++}return O<A.length?-1:O<R.length?1:0}},{key:"minCoordinate",value:function(R){for(var A=null,O=0;O<R.length;O++)(A===null||A.compareTo(R[O])>0)&&(A=R[O]);return A}},{key:"extract",value:function(R,A,O){A=Rn.clamp(A,0,R.length);var q=(O=Rn.clamp(O,-1,R.length))-A+1;O<0&&(q=0),A>=R.length&&(q=0),O<A&&(q=0);var Z=new Array(q).fill(null);if(q===0)return Z;for(var it=0,ot=A;ot<=O;ot++)Z[it++]=R[ot];return Z}}])})(),Va=(function(){return P((function L(){s(this,L)}),[{key:"compare",value:function(L,R){var A=L,O=R;return Ve.compare(A,O)}},{key:"interfaces_",get:function(){return[xt]}}])})(),Zs=(function(){return P((function L(){s(this,L)}),[{key:"compare",value:function(L,R){var A=L,O=R;if(A.length<O.length)return-1;if(A.length>O.length)return 1;if(A.length===0)return 0;var q=Ve.compare(A,O);return Ve.isEqualReversed(A,O)?0:q}},{key:"OLDcompare",value:function(L,R){var A=L,O=R;if(A.length<O.length)return-1;if(A.length>O.length)return 1;if(A.length===0)return 0;for(var q=Ve.increasingDirection(A),Z=Ve.increasingDirection(O),it=q>0?0:A.length-1,ot=Z>0?0:A.length-1,gt=0;gt<A.length;gt++){var Et=A[it].compareTo(O[ot]);if(Et!==0)return Et;it+=q,ot+=Z}return 0}},{key:"interfaces_",get:function(){return[xt]}}])})();Ve.ForwardComparator=Va,Ve.BidirectionalComparator=Zs,Ve.coordArrayType=new Array(0).fill(null);var Ii=(function(){return P((function L(R){s(this,L),this.str=R}),[{key:"append",value:function(L){this.str+=L}},{key:"setCharAt",value:function(L,R){this.str=this.str.substr(0,L)+R+this.str.substr(L+1)}},{key:"toString",value:function(){return this.str}}])})(),cr=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getM",value:function(R){return this.hasM()?this._coordinates[R].getM():dt.NaN}},{key:"setOrdinate",value:function(R,A,O){switch(A){case ve.X:this._coordinates[R].x=O;break;case ve.Y:this._coordinates[R].y=O;break;default:this._coordinates[R].setOrdinate(A,O)}}},{key:"getZ",value:function(R){return this.hasZ()?this._coordinates[R].getZ():dt.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(R,A){switch(A){case ve.X:return this._coordinates[R].x;case ve.Y:return this._coordinates[R].y;default:return this._coordinates[R].getOrdinate(A)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var R=arguments[0];return this._coordinates[R]}if(arguments.length===2){var A=arguments[0];arguments[1].setCoordinate(this._coordinates[A])}}},{key:"getCoordinateCopy",value:function(R){var A=this.createCoordinate();return A.setCoordinate(this._coordinates[R]),A}},{key:"createCoordinate",value:function(){return ji.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(R){return this._coordinates[R].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(R){for(var A=0;A<this._coordinates.length;A++)R.expandToInclude(this._coordinates[A]);return R}},{key:"copy",value:function(){for(var R=new Array(this.size()).fill(null),A=0;A<this._coordinates.length;A++){var O=this.createCoordinate();O.setCoordinate(this._coordinates[A]),R[A]=O}return new L(R,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var R=new Ii(17*this._coordinates.length);R.append("("),R.append(this._coordinates[0]);for(var A=1;A<this._coordinates.length;A++)R.append(", "),R.append(this._coordinates[A]);return R.append(")"),R.toString()}return"()"}},{key:"getY",value:function(R){return this._coordinates[R].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ve,mt]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var R=arguments[0];L.constructor_.call(this,R,Ve.dimension(R),Ve.measures(R))}else if(Number.isInteger(arguments[0])){var A=arguments[0];this._coordinates=new Array(A).fill(null);for(var O=0;O<A;O++)this._coordinates[O]=new Mt}else if(oe(arguments[0],ve)){var q=arguments[0];if(q===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=q.getDimension(),this._measures=q.getMeasures(),this._coordinates=new Array(q.size()).fill(null);for(var Z=0;Z<this._coordinates.length;Z++)this._coordinates[Z]=q.getCoordinateCopy(Z)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var it=arguments[0],ot=arguments[1];L.constructor_.call(this,it,ot,Ve.measures(it))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var gt=arguments[0],Et=arguments[1];this._coordinates=new Array(gt).fill(null),this._dimension=Et;for(var It=0;It<gt;It++)this._coordinates[It]=ji.create(Et)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var Lt=arguments[0],Kt=arguments[1],te=arguments[2];this._dimension=Kt,this._measures=te,this._coordinates=Lt===null?new Array(0).fill(null):Lt}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var re=arguments[0],le=arguments[1],Re=arguments[2];this._coordinates=new Array(re).fill(null),this._dimension=le,this._measures=Re;for(var Ee=0;Ee<re;Ee++)this._coordinates[Ee]=this.createCoordinate()}}}}])})(),Hi=(function(){function L(){s(this,L)}return P(L,[{key:"readResolve",value:function(){return L.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new cr(arguments[0]);if(oe(arguments[0],ve))return new cr(arguments[0])}else{if(arguments.length===2){var R=arguments[1];return R>3&&(R=3),R<2&&(R=2),new cr(arguments[0],R)}if(arguments.length===3){var A=arguments[2],O=arguments[1]-A;return A>1&&(A=1),O>3&&(O=3),O<2&&(O=2),new cr(arguments[0],O+A,A)}}}},{key:"interfaces_",get:function(){return[Wn,mt]}}],[{key:"instance",value:function(){return L.instanceObject}}])})();Hi.instanceObject=new Hi;var Ui=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"copyInternal",value:function(){for(var A=new Array(this._geometries.length).fill(null),O=0;O<A.length;O++)A[O]=this._geometries[O].copy();return new R(A,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Jt){var A=arguments[0],O=arguments[1];return!!this.isEquivalentClass(A)&&H(R,"equalsExact",this,1).call(this,A,O)}return H(R,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Jt.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var A=new ae,O=0;O<this._geometries.length;O++)for(var q=this._geometries[O].getBoundary(),Z=0;Z<q.getNumGeometries();Z++)A.add(q.getGeometryN(Z));var it=new Array(A.size()).fill(null);return this.getFactory().createMultiLineString(A.toArray(it))}},{key:"getGeometryType",value:function(){return Jt.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ws]}}],[{key:"constructor_",value:function(){var A=arguments[0],O=arguments[1];nn.constructor_.call(this,A,O)}}])})(nn),ii=(function(){return P((function L(){s(this,L)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),ys=(function(L){function R(){var A;return s(this,R),(A=r(this,R)).map=new Map,A}return z(R,L),P(R,[{key:"get",value:function(A){return this.map.get(A)||null}},{key:"put",value:function(A,O){return this.map.set(A,O),O}},{key:"values",value:function(){for(var A=new ae,O=this.map.values(),q=O.next();!q.done;)A.add(q.value),q=O.next();return A}},{key:"entrySet",value:function(){var A=new Xe;return this.map.entries().forEach((function(O){return A.add(O)})),A}},{key:"size",value:function(){return this.map.size()}}])})(ii),tn=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"equals",value:function(R){if(!(R instanceof L))return!1;var A=R;return this._modelType===A._modelType&&this._scale===A._scale}},{key:"compareTo",value:function(R){var A=R,O=this.getMaximumSignificantDigits(),q=A.getMaximumSignificantDigits();return Qe.compare(O,q)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===L.FLOATING||this._modelType===L.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var R="UNKNOWN";return this._modelType===L.FLOATING?R="Floating":this._modelType===L.FLOATING_SINGLE?R="Floating-Single":this._modelType===L.FIXED&&(R="Fixed (Scale="+this.getScale()+")"),R}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var R=arguments[0];return dt.isNaN(R)||this._modelType===L.FLOATING_SINGLE?R:this._modelType===L.FIXED?Math.round(R*this._scale)/this._scale:R}if(arguments[0]instanceof Mt){var A=arguments[0];if(this._modelType===L.FLOATING)return null;A.x=this.makePrecise(A.x),A.y=this.makePrecise(A.y)}}},{key:"getMaximumSignificantDigits",value:function(){var R=16;return this._modelType===L.FLOATING?R=16:this._modelType===L.FLOATING_SINGLE?R=6:this._modelType===L.FIXED&&(R=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),R}},{key:"setScale",value:function(R){this._scale=Math.abs(R)}},{key:"interfaces_",get:function(){return[mt,ht]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=L.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof qn){var R=arguments[0];this._modelType=R,R===L.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var A=arguments[0];this._modelType=L.FIXED,this.setScale(A)}else if(arguments[0]instanceof L){var O=arguments[0];this._modelType=O._modelType,this._scale=O._scale}}}},{key:"mostPrecise",value:function(R,A){return R.compareTo(A)>=0?R:A}}])})(),qn=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"readResolve",value:function(){return L.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[mt]}}],[{key:"constructor_",value:function(){this._name=null;var R=arguments[0];this._name=R,L.nameToTypeMap.put(R,this)}}])})();qn.nameToTypeMap=new ys,tn.Type=qn,tn.FIXED=new qn("FIXED"),tn.FLOATING=new qn("FLOATING"),tn.FLOATING_SINGLE=new qn("FLOATING SINGLE"),tn.maximumPreciseValue=9007199254740992;var Zn=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"copyInternal",value:function(){for(var A=new Array(this._geometries.length).fill(null),O=0;O<A.length;O++)A[O]=this._geometries[O].copy();return new R(A,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Jt){var A=arguments[0],O=arguments[1];return!!this.isEquivalentClass(A)&&H(R,"equalsExact",this,1).call(this,A,O)}return H(R,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Zt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var A=0;A<this._geometries.length;A++)if(!this._geometries[A].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Jt.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new De}},{key:"getGeometryType",value:function(){return Jt.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Or]}}],[{key:"constructor_",value:function(){var A=arguments[0],O=arguments[1];nn.constructor_.call(this,A,O)}}])})(nn),ri=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"createEmpty",value:function(R){switch(R){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new nt("Invalid dimension: "+R)}}},{key:"toGeometry",value:function(R){return R.isNull()?this.createPoint():R.getMinX()===R.getMaxX()&&R.getMinY()===R.getMaxY()?this.createPoint(new Mt(R.getMinX(),R.getMinY())):R.getMinX()===R.getMaxX()||R.getMinY()===R.getMaxY()?this.createLineString([new Mt(R.getMinX(),R.getMinY()),new Mt(R.getMaxX(),R.getMaxY())]):this.createPolygon(this.createLinearRing([new Mt(R.getMinX(),R.getMinY()),new Mt(R.getMinX(),R.getMaxY()),new Mt(R.getMaxX(),R.getMaxY()),new Mt(R.getMaxX(),R.getMinY()),new Mt(R.getMinX(),R.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var R=arguments[0];return this.createLineString(R!==null?this.getCoordinateSequenceFactory().create(R):null)}if(oe(arguments[0],ve))return new zn(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Zn(null,this):arguments.length===1?new Zn(arguments[0],this):void 0}},{key:"buildGeometry",value:function(R){for(var A=null,O=!1,q=!1,Z=R.iterator();Z.hasNext();){var it=Z.next(),ot=it.getTypeCode();A===null&&(A=ot),ot!==A&&(O=!0),it instanceof nn&&(q=!0)}if(A===null)return this.createGeometryCollection();if(O||q)return this.createGeometryCollection(L.toGeometryArray(R));var gt=R.iterator().next();if(R.size()>1){if(gt instanceof Fr)return this.createMultiPolygon(L.toPolygonArray(R));if(gt instanceof zn)return this.createMultiLineString(L.toLineStringArray(R));if(gt instanceof gn)return this.createMultiPoint(L.toPointArray(R));Tt.shouldNeverReachHere("Unhandled geometry type: "+gt.getGeometryType())}return gt}},{key:"createMultiPointFromCoords",value:function(R){return this.createMultiPoint(R!==null?this.getCoordinateSequenceFactory().create(R):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Mt){var R=arguments[0];return this.createPoint(R!==null?this.getCoordinateSequenceFactory().create([R]):null)}if(oe(arguments[0],ve))return new gn(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(oe(arguments[0],ve)){var R=arguments[0];return this.createPolygon(this.createLinearRing(R))}if(arguments[0]instanceof Array){var A=arguments[0];return this.createPolygon(this.createLinearRing(A))}if(arguments[0]instanceof di){var O=arguments[0];return this.createPolygon(O,null)}}else if(arguments.length===2)return new Fr(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new nn(null,this):arguments.length===1?new nn(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var R=arguments[0];return this.createLinearRing(R!==null?this.getCoordinateSequenceFactory().create(R):null)}if(oe(arguments[0],ve))return new di(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new Ui(null,this):arguments.length===1?new Ui(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Tn(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new Tn(arguments[0],this);if(oe(arguments[0],ve)){var R=arguments[0];if(R===null)return this.createMultiPoint(new Array(0).fill(null));for(var A=new Array(R.size()).fill(null),O=0;O<R.size();O++){var q=this.getCoordinateSequenceFactory().create(1,R.getDimension(),R.getMeasures());ni.copy(R,O,q,0,1),A[O]=this.createPoint(q)}return this.createMultiPoint(A)}}}},{key:"interfaces_",get:function(){return[mt]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)L.constructor_.call(this,new tn,0);else if(arguments.length===1){if(oe(arguments[0],Wn)){var R=arguments[0];L.constructor_.call(this,new tn,0,R)}else if(arguments[0]instanceof tn){var A=arguments[0];L.constructor_.call(this,A,0,L.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var O=arguments[0],q=arguments[1];L.constructor_.call(this,O,q,L.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var Z=arguments[0],it=arguments[1],ot=arguments[2];this._precisionModel=Z,this._coordinateSequenceFactory=ot,this._SRID=it}}},{key:"toMultiPolygonArray",value:function(R){var A=new Array(R.size()).fill(null);return R.toArray(A)}},{key:"toGeometryArray",value:function(R){if(R===null)return null;var A=new Array(R.size()).fill(null);return R.toArray(A)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Hi.instance()}},{key:"toMultiLineStringArray",value:function(R){var A=new Array(R.size()).fill(null);return R.toArray(A)}},{key:"toLineStringArray",value:function(R){var A=new Array(R.size()).fill(null);return R.toArray(A)}},{key:"toMultiPointArray",value:function(R){var A=new Array(R.size()).fill(null);return R.toArray(A)}},{key:"toLinearRingArray",value:function(R){var A=new Array(R.size()).fill(null);return R.toArray(A)}},{key:"toPointArray",value:function(R){var A=new Array(R.size()).fill(null);return R.toArray(A)}},{key:"toPolygonArray",value:function(R){var A=new Array(R.size()).fill(null);return R.toArray(A)}},{key:"createPointFromInternalCoord",value:function(R,A){return A.getPrecisionModel().makePrecise(R),A.getFactory().createPoint(R)}}])})(),vs="XY",Js="XYZ",Hn="XYM",ta="XYZM",Br={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},hr="EMPTY",dr=1,In=2,Jn=3,hn=4,ki=5,Gi=6;for(var xs in Br)Br[xs].toUpperCase();var Yi=(function(){return P((function L(R){s(this,L),this.wkt=R,this.index_=-1}),[{key:"isAlpha_",value:function(L){return L>="a"&&L<="z"||L>="A"&&L<="Z"}},{key:"isNumeric_",value:function(L,R){return L>="0"&&L<="9"||L=="."&&!(R!==void 0&&R)}},{key:"isWhiteSpace_",value:function(L){return L==" "||L=="	"||L=="\r"||L==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var L,R=this.nextChar_(),A=this.index_,O=R;if(R=="(")L=In;else if(R==",")L=ki;else if(R==")")L=Jn;else if(this.isNumeric_(R)||R=="-")L=hn,O=this.readNumber_();else if(this.isAlpha_(R))L=dr,O=this.readText_();else{if(this.isWhiteSpace_(R))return this.nextToken();if(R!=="")throw new Error("Unexpected character: "+R);L=Gi}return{position:A,value:O,type:L}}},{key:"readNumber_",value:function(){var L,R=this.index_,A=!1,O=!1;do L=="."?A=!0:L!="e"&&L!="E"||(O=!0),L=this.nextChar_();while(this.isNumeric_(L,A)||!O&&(L=="e"||L=="E")||O&&(L=="-"||L=="+"));return parseFloat(this.wkt.substring(R,this.index_--))}},{key:"readText_",value:function(){var L,R=this.index_;do L=this.nextChar_();while(this.isAlpha_(L));return this.wkt.substring(R,this.index_--).toUpperCase()}}])})(),ea=(function(){return P((function L(R,A){s(this,L),this.lexer_=R,this.token_,this.layout_=vs,this.factory=A}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(L){return this.token_.type==L}},{key:"match",value:function(L){var R=this.isTokenType(L);return R&&this.consume_(),R}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var L=vs,R=this.token_;if(this.isTokenType(dr)){var A=R.value;A==="Z"?L=Js:A==="M"?L=Hn:A==="ZM"&&(L=ta),L!==vs&&this.consume_()}return L}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(In)){var L=[];do L.push(this.parseGeometry_());while(this.match(ki));if(this.match(Jn))return L}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(In)){var L=this.parsePoint_();if(this.match(Jn))return L}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(In)){var L=this.parsePointList_();if(this.match(Jn))return L}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(In)){var L=this.parseLineStringTextList_();if(this.match(Jn))return L}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var L;if(this.match(In)){if(L=this.token_.type==In?this.parsePointTextList_():this.parsePointList_(),this.match(Jn))return L}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(In)){var L=this.parseLineStringTextList_();if(this.match(Jn))return L}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(In)){var L=this.parsePolygonTextList_();if(this.match(Jn))return L}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var L=[],R=this.layout_.length,A=0;A<R;++A){var O=this.token_;if(!this.match(hn))break;L.push(O.value)}if(L.length==R)return L;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var L=[this.parsePoint_()];this.match(ki);)L.push(this.parsePoint_());return L}},{key:"parsePointTextList_",value:function(){for(var L=[this.parsePointText_()];this.match(ki);)L.push(this.parsePointText_());return L}},{key:"parseLineStringTextList_",value:function(){for(var L=[this.parseLineStringText_()];this.match(ki);)L.push(this.parseLineStringText_());return L}},{key:"parsePolygonTextList_",value:function(){for(var L=[this.parsePolygonText_()];this.match(ki);)L.push(this.parsePolygonText_());return L}},{key:"isEmptyGeometry_",value:function(){var L=this.isTokenType(dr)&&this.token_.value==hr;return L&&this.consume_(),L}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var L=this.factory,R=function(le){return a(Mt,U(le))},A=function(le){var Re=le.map((function(Ee){return L.createLinearRing(Ee.map(R))}));return Re.length>1?L.createPolygon(Re[0],Re.slice(1)):L.createPolygon(Re[0])},O=this.token_;if(this.match(dr)){var q=O.value;if(this.layout_=this.parseGeometryLayout_(),q=="GEOMETRYCOLLECTION"){var Z=this.parseGeometryCollectionText_();return L.createGeometryCollection(Z)}switch(q){case"POINT":var it=this.parsePointText_();return it?L.createPoint(a(Mt,U(it))):L.createPoint();case"LINESTRING":var ot=this.parseLineStringText_().map(R);return L.createLineString(ot);case"LINEARRING":var gt=this.parseLineStringText_().map(R);return L.createLinearRing(gt);case"POLYGON":var Et=this.parsePolygonText_();return Et&&Et.length!==0?A(Et):L.createPolygon();case"MULTIPOINT":var It=this.parseMultiPointText_();if(!It||It.length===0)return L.createMultiPoint();var Lt=It.map(R).map((function(le){return L.createPoint(le)}));return L.createMultiPoint(Lt);case"MULTILINESTRING":var Kt=this.parseMultiLineStringText_().map((function(le){return L.createLineString(le.map(R))}));return L.createMultiLineString(Kt);case"MULTIPOLYGON":var te=this.parseMultiPolygonText_();if(!te||te.length===0)return L.createMultiPolygon();var re=te.map(A);return L.createMultiPolygon(re);default:throw new Error("Invalid geometry type: "+q)}}throw new Error(this.formatErrorMessage_())}}])})();function bs(L){if(L.isEmpty())return"";var R=L.getCoordinate(),A=[R.x,R.y];return R.z===void 0||Number.isNaN(R.z)||A.push(R.z),R.m===void 0||Number.isNaN(R.m)||A.push(R.m),A.join(" ")}function si(L){for(var R=L.getCoordinates().map((function(Z){var it=[Z.x,Z.y];return Z.z===void 0||Number.isNaN(Z.z)||it.push(Z.z),Z.m===void 0||Number.isNaN(Z.m)||it.push(Z.m),it})),A=[],O=0,q=R.length;O<q;++O)A.push(R[O].join(" "));return A.join(", ")}function na(L){var R=[];R.push("("+si(L.getExteriorRing())+")");for(var A=0,O=L.getNumInteriorRing();A<O;++A)R.push("("+si(L.getInteriorRingN(A))+")");return R.join(", ")}var ia={Point:bs,LineString:si,LinearRing:si,Polygon:na,MultiPoint:function(L){for(var R=[],A=0,O=L.getNumGeometries();A<O;++A)R.push("("+bs(L.getGeometryN(A))+")");return R.join(", ")},MultiLineString:function(L){for(var R=[],A=0,O=L.getNumGeometries();A<O;++A)R.push("("+si(L.getGeometryN(A))+")");return R.join(", ")},MultiPolygon:function(L){for(var R=[],A=0,O=L.getNumGeometries();A<O;++A)R.push("("+na(L.getGeometryN(A))+")");return R.join(", ")},GeometryCollection:function(L){for(var R=[],A=0,O=L.getNumGeometries();A<O;++A)R.push(pr(L.getGeometryN(A)));return R.join(", ")}};function pr(L){var R=L.getGeometryType(),A=ia[R];R=R.toUpperCase();var O=(function(q){var Z="";if(q.isEmpty())return Z;var it=q.getCoordinate();return it.z===void 0||Number.isNaN(it.z)||(Z+="Z"),it.m===void 0||Number.isNaN(it.m)||(Z+="M"),Z})(L);return O.length>0&&(R+=" "+O),L.isEmpty()?R+" "+hr:R+" ("+A(L)+")"}var mi=(function(){return P((function L(R){s(this,L),this.geometryFactory=R||new ri,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(L){var R=new Yi(L);return new ea(R,this.geometryFactory).parse()}},{key:"write",value:function(L){return pr(L)}}])})(),_s=(function(){return P((function L(R){s(this,L),this.parser=new mi(R)}),[{key:"write",value:function(L){return this.parser.write(L)}}],[{key:"toLineString",value:function(L,R){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+L.x+" "+L.y+", "+R.x+" "+R.y+" )"}}])})(),ze=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getIndexAlongSegment",value:function(R,A){return this.computeIntLineIndex(),this._intLineIndex[R][A]}},{key:"getTopologySummary",value:function(){var R=new Ii;return this.isEndPoint()&&R.append(" endpoint"),this._isProper&&R.append(" proper"),this.isCollinear()&&R.append(" collinear"),R.toString()}},{key:"computeIntersection",value:function(R,A,O,q){this._inputLines[0][0]=R,this._inputLines[0][1]=A,this._inputLines[1][0]=O,this._inputLines[1][1]=q,this._result=this.computeIntersect(R,A,O,q)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var R=arguments[0];this.getEdgeDistance(R,0)>this.getEdgeDistance(R,1)?(this._intLineIndex[R][0]=0,this._intLineIndex[R][1]=1):(this._intLineIndex[R][0]=1,this._intLineIndex[R][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(R){this._precisionModel=R}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var R=arguments[0],A=0;A<this._result;A++)if(!this._intPt[A].equals2D(this._inputLines[R][0])&&!this._intPt[A].equals2D(this._inputLines[R][1]))return!0;return!1}}},{key:"getIntersection",value:function(R){return this._intPt[R]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==L.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(R,A){return L.computeEdgeDistance(this._intPt[A],this._inputLines[R][0],this._inputLines[R][1])}},{key:"isCollinear",value:function(){return this._result===L.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return _s.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+_s.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(R,A){return this._inputLines[R][A]}},{key:"isIntersection",value:function(R){for(var A=0;A<this._result;A++)if(this._intPt[A].equals2D(R))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(R,A){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[R][A]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Mt,this._intPt[1]=new Mt,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(R,A,O){var q=Math.abs(O.x-A.x),Z=Math.abs(O.y-A.y),it=-1;if(R.equals(A))it=0;else if(R.equals(O))it=q>Z?q:Z;else{var ot=Math.abs(R.x-A.x),gt=Math.abs(R.y-A.y);(it=q>Z?ot:gt)!==0||R.equals(A)||(it=Math.max(ot,gt))}return Tt.isTrue(!(it===0&&!R.equals(A)),"Bad distance calculation"),it}},{key:"nonRobustComputeEdgeDistance",value:function(R,A,O){var q=R.x-A.x,Z=R.y-A.y,it=Math.sqrt(q*q+Z*Z);return Tt.isTrue(!(it===0&&!R.equals(A)),"Invalid distance calculation"),it}}])})();ze.DONT_INTERSECT=0,ze.DO_INTERSECT=1,ze.COLLINEAR=2,ze.NO_INTERSECTION=0,ze.POINT_INTERSECTION=1,ze.COLLINEAR_INTERSECTION=2;var ai=(function(L){function R(){return s(this,R),r(this,R)}return z(R,L),P(R,[{key:"isInSegmentEnvelopes",value:function(A){var O=new me(this._inputLines[0][0],this._inputLines[0][1]),q=new me(this._inputLines[1][0],this._inputLines[1][1]);return O.contains(A)&&q.contains(A)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return H(R,"computeIntersection",this,1).apply(this,arguments);var A=arguments[0],O=arguments[1],q=arguments[2];if(this._isProper=!1,me.intersects(O,q,A)&&fe.index(O,q,A)===0&&fe.index(q,O,A)===0)return this._isProper=!0,(A.equals(O)||A.equals(q))&&(this._isProper=!1),this._result=ze.POINT_INTERSECTION,null;this._result=ze.NO_INTERSECTION}},{key:"intersection",value:function(A,O,q,Z){var it=this.intersectionSafe(A,O,q,Z);return this.isInSegmentEnvelopes(it)||(it=new Mt(R.nearestEndpoint(A,O,q,Z))),this._precisionModel!==null&&this._precisionModel.makePrecise(it),it}},{key:"checkDD",value:function(A,O,q,Z,it){var ot=Ze.intersection(A,O,q,Z),gt=this.isInSegmentEnvelopes(ot);_n.out.println("DD in env = "+gt+"  --------------------- "+ot),it.distance(ot)>1e-4&&_n.out.println("Distance = "+it.distance(ot))}},{key:"intersectionSafe",value:function(A,O,q,Z){var it=ps.intersection(A,O,q,Z);return it===null&&(it=R.nearestEndpoint(A,O,q,Z)),it}},{key:"computeCollinearIntersection",value:function(A,O,q,Z){var it=me.intersects(A,O,q),ot=me.intersects(A,O,Z),gt=me.intersects(q,Z,A),Et=me.intersects(q,Z,O);return it&&ot?(this._intPt[0]=q,this._intPt[1]=Z,ze.COLLINEAR_INTERSECTION):gt&&Et?(this._intPt[0]=A,this._intPt[1]=O,ze.COLLINEAR_INTERSECTION):it&&gt?(this._intPt[0]=q,this._intPt[1]=A,!q.equals(A)||ot||Et?ze.COLLINEAR_INTERSECTION:ze.POINT_INTERSECTION):it&&Et?(this._intPt[0]=q,this._intPt[1]=O,!q.equals(O)||ot||gt?ze.COLLINEAR_INTERSECTION:ze.POINT_INTERSECTION):ot&&gt?(this._intPt[0]=Z,this._intPt[1]=A,!Z.equals(A)||it||Et?ze.COLLINEAR_INTERSECTION:ze.POINT_INTERSECTION):ot&&Et?(this._intPt[0]=Z,this._intPt[1]=O,!Z.equals(O)||it||gt?ze.COLLINEAR_INTERSECTION:ze.POINT_INTERSECTION):ze.NO_INTERSECTION}},{key:"computeIntersect",value:function(A,O,q,Z){if(this._isProper=!1,!me.intersects(A,O,q,Z))return ze.NO_INTERSECTION;var it=fe.index(A,O,q),ot=fe.index(A,O,Z);if(it>0&&ot>0||it<0&&ot<0)return ze.NO_INTERSECTION;var gt=fe.index(q,Z,A),Et=fe.index(q,Z,O);return gt>0&&Et>0||gt<0&&Et<0?ze.NO_INTERSECTION:it===0&&ot===0&&gt===0&&Et===0?this.computeCollinearIntersection(A,O,q,Z):(it===0||ot===0||gt===0||Et===0?(this._isProper=!1,A.equals2D(q)||A.equals2D(Z)?this._intPt[0]=A:O.equals2D(q)||O.equals2D(Z)?this._intPt[0]=O:it===0?this._intPt[0]=new Mt(q):ot===0?this._intPt[0]=new Mt(Z):gt===0?this._intPt[0]=new Mt(A):Et===0&&(this._intPt[0]=new Mt(O))):(this._isProper=!0,this._intPt[0]=this.intersection(A,O,q,Z)),ze.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(A,O,q,Z){var it=A,ot=Vn.pointToSegment(A,q,Z),gt=Vn.pointToSegment(O,q,Z);return gt<ot&&(ot=gt,it=O),(gt=Vn.pointToSegment(q,A,O))<ot&&(ot=gt,it=q),(gt=Vn.pointToSegment(Z,A,O))<ot&&(ot=gt,it=Z),it}}])})(ze),Es=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"countSegment",value:function(R,A){if(R.x<this._p.x&&A.x<this._p.x)return null;if(this._p.x===A.x&&this._p.y===A.y)return this._isPointOnSegment=!0,null;if(R.y===this._p.y&&A.y===this._p.y){var O=R.x,q=A.x;return O>q&&(O=A.x,q=R.x),this._p.x>=O&&this._p.x<=q&&(this._isPointOnSegment=!0),null}if(R.y>this._p.y&&A.y<=this._p.y||A.y>this._p.y&&R.y<=this._p.y){var Z=fe.index(R,A,this._p);if(Z===fe.COLLINEAR)return this._isPointOnSegment=!0,null;A.y<R.y&&(Z=-Z),Z===fe.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==St.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?St.BOUNDARY:this._crossingCount%2==1?St.INTERIOR:St.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var R=arguments[0];this._p=R}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof Mt&&oe(arguments[1],ve)){for(var R=arguments[1],A=new L(arguments[0]),O=new Mt,q=new Mt,Z=1;Z<R.size();Z++)if(R.getCoordinate(Z,O),R.getCoordinate(Z-1,q),A.countSegment(O,q),A.isOnSegment())return A.getLocation();return A.getLocation()}if(arguments[0]instanceof Mt&&arguments[1]instanceof Array){for(var it=arguments[1],ot=new L(arguments[0]),gt=1;gt<it.length;gt++){var Et=it[gt],It=it[gt-1];if(ot.countSegment(Et,It),ot.isOnSegment())return ot.getLocation()}return ot.getLocation()}}}])})(),Xi=(function(){function L(){s(this,L)}return P(L,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof Mt&&oe(arguments[1],ve)){for(var R=arguments[0],A=arguments[1],O=new ai,q=new Mt,Z=new Mt,it=A.size(),ot=1;ot<it;ot++)if(A.getCoordinate(ot-1,q),A.getCoordinate(ot,Z),O.computeIntersection(R,q,Z),O.hasIntersection())return!0;return!1}if(arguments[0]instanceof Mt&&arguments[1]instanceof Array){for(var gt=arguments[0],Et=arguments[1],It=new ai,Lt=1;Lt<Et.length;Lt++){var Kt=Et[Lt-1],te=Et[Lt];if(It.computeIntersection(gt,Kt,te),It.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(R,A){return Es.locatePointInRing(R,A)}},{key:"isInRing",value:function(R,A){return L.locateInRing(R,A)!==St.EXTERIOR}}])})(),fn=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"setAllLocations",value:function(R){for(var A=0;A<this.location.length;A++)this.location[A]=R}},{key:"isNull",value:function(){for(var R=0;R<this.location.length;R++)if(this.location[R]!==St.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(R){for(var A=0;A<this.location.length;A++)this.location[A]===St.NONE&&(this.location[A]=R)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(R){if(R.location.length>this.location.length){var A=new Array(3).fill(null);A[Wt.ON]=this.location[Wt.ON],A[Wt.LEFT]=St.NONE,A[Wt.RIGHT]=St.NONE,this.location=A}for(var O=0;O<this.location.length;O++)this.location[O]===St.NONE&&O<R.location.length&&(this.location[O]=R.location[O])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var R=this.location[Wt.LEFT];this.location[Wt.LEFT]=this.location[Wt.RIGHT],this.location[Wt.RIGHT]=R}},{key:"toString",value:function(){var R=new _e;return this.location.length>1&&R.append(St.toLocationSymbol(this.location[Wt.LEFT])),R.append(St.toLocationSymbol(this.location[Wt.ON])),this.location.length>1&&R.append(St.toLocationSymbol(this.location[Wt.RIGHT])),R.toString()}},{key:"setLocations",value:function(R,A,O){this.location[Wt.ON]=R,this.location[Wt.LEFT]=A,this.location[Wt.RIGHT]=O}},{key:"get",value:function(R){return R<this.location.length?this.location[R]:St.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var R=0;R<this.location.length;R++)if(this.location[R]===St.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var R=arguments[0];this.setLocation(Wt.ON,R)}else if(arguments.length===2){var A=arguments[0],O=arguments[1];this.location[A]=O}}},{key:"init",value:function(R){this.location=new Array(R).fill(null),this.setAllLocations(St.NONE)}},{key:"isEqualOnSide",value:function(R,A){return this.location[A]===R.location[A]}},{key:"allPositionsEqual",value:function(R){for(var A=0;A<this.location.length;A++)if(this.location[A]!==R)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var R=arguments[0];this.init(R.length)}else if(Number.isInteger(arguments[0])){var A=arguments[0];this.init(1),this.location[Wt.ON]=A}else if(arguments[0]instanceof L){var O=arguments[0];if(this.init(O.location.length),O!==null)for(var q=0;q<this.location.length;q++)this.location[q]=O.location[q]}}else if(arguments.length===3){var Z=arguments[0],it=arguments[1],ot=arguments[2];this.init(3),this.location[Wt.ON]=Z,this.location[Wt.LEFT]=it,this.location[Wt.RIGHT]=ot}}}])})(),an=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getGeometryCount",value:function(){var R=0;return this.elt[0].isNull()||R++,this.elt[1].isNull()||R++,R}},{key:"setAllLocations",value:function(R,A){this.elt[R].setAllLocations(A)}},{key:"isNull",value:function(R){return this.elt[R].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var R=arguments[0];this.setAllLocationsIfNull(0,R),this.setAllLocationsIfNull(1,R)}else if(arguments.length===2){var A=arguments[0],O=arguments[1];this.elt[A].setAllLocationsIfNull(O)}}},{key:"isLine",value:function(R){return this.elt[R].isLine()}},{key:"merge",value:function(R){for(var A=0;A<2;A++)this.elt[A]===null&&R.elt[A]!==null?this.elt[A]=new fn(R.elt[A]):this.elt[A].merge(R.elt[A])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var R=arguments[0];return this.elt[R].get(Wt.ON)}if(arguments.length===2){var A=arguments[0],O=arguments[1];return this.elt[A].get(O)}}},{key:"toString",value:function(){var R=new _e;return this.elt[0]!==null&&(R.append("A:"),R.append(this.elt[0].toString())),this.elt[1]!==null&&(R.append(" B:"),R.append(this.elt[1].toString())),R.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var R=arguments[0];return this.elt[R].isArea()}}},{key:"isAnyNull",value:function(R){return this.elt[R].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var R=arguments[0],A=arguments[1];this.elt[R].setLocation(Wt.ON,A)}else if(arguments.length===3){var O=arguments[0],q=arguments[1],Z=arguments[2];this.elt[O].setLocation(q,Z)}}},{key:"isEqualOnSide",value:function(R,A){return this.elt[0].isEqualOnSide(R.elt[0],A)&&this.elt[1].isEqualOnSide(R.elt[1],A)}},{key:"allPositionsEqual",value:function(R,A){return this.elt[R].allPositionsEqual(A)}},{key:"toLine",value:function(R){this.elt[R].isArea()&&(this.elt[R]=new fn(this.elt[R].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var R=arguments[0];this.elt[0]=new fn(R),this.elt[1]=new fn(R)}else if(arguments[0]instanceof L){var A=arguments[0];this.elt[0]=new fn(A.elt[0]),this.elt[1]=new fn(A.elt[1])}}else if(arguments.length===2){var O=arguments[0],q=arguments[1];this.elt[0]=new fn(St.NONE),this.elt[1]=new fn(St.NONE),this.elt[O].setLocation(q)}else if(arguments.length===3){var Z=arguments[0],it=arguments[1],ot=arguments[2];this.elt[0]=new fn(Z,it,ot),this.elt[1]=new fn(Z,it,ot)}else if(arguments.length===4){var gt=arguments[0],Et=arguments[1],It=arguments[2],Lt=arguments[3];this.elt[0]=new fn(St.NONE,St.NONE,St.NONE),this.elt[1]=new fn(St.NONE,St.NONE,St.NONE),this.elt[gt].setLocations(Et,It,Lt)}}},{key:"toLineLabel",value:function(R){for(var A=new L(St.NONE),O=0;O<2;O++)A.setLocation(O,R.getLocation(O));return A}}])})(),mr=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var L=new Array(this._pts.size()).fill(null),R=0;R<this._pts.size();R++)L[R]=this._pts.get(R);this._ring=this._geometryFactory.createLinearRing(L),this._isHole=fe.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(L){this._startDe=L;var R=L,A=!0;do{if(R===null)throw new wn("Found null DirectedEdge");if(R.getEdgeRing()===this)throw new wn("Directed Edge visited twice during ring-building at "+R.getCoordinate());this._edges.add(R);var O=R.getLabel();Tt.isTrue(O.isArea()),this.mergeLabel(O),this.addPoints(R.getEdge(),R.isForward(),A),A=!1,this.setEdgeRing(R,this),R=this.getNext(R)}while(R!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(L){return this._pts.get(L)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var L=this._startDe;do{var R=L.getNode().getEdges().getOutgoingDegree(this);R>this._maxNodeDegree&&(this._maxNodeDegree=R),L=this.getNext(L)}while(L!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(L,R,A){var O=L.getCoordinates();if(R){var q=1;A&&(q=0);for(var Z=q;Z<O.length;Z++)this._pts.add(O[Z])}else{var it=O.length-2;A&&(it=O.length-1);for(var ot=it;ot>=0;ot--)this._pts.add(O[ot])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var L=this._startDe;do L.getEdge().setInResult(!0),L=L.getNext();while(L!==this._startDe)}},{key:"containsPoint",value:function(L){var R=this.getLinearRing();if(!R.getEnvelopeInternal().contains(L)||!Xi.isInRing(L,R.getCoordinates()))return!1;for(var A=this._holes.iterator();A.hasNext();)if(A.next().containsPoint(L))return!1;return!0}},{key:"addHole",value:function(L){this._holes.add(L)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var L=arguments[0];this.mergeLabel(L,0),this.mergeLabel(L,1)}else if(arguments.length===2){var R=arguments[1],A=arguments[0].getLocation(R,Wt.RIGHT);if(A===St.NONE)return null;if(this._label.getLocation(R)===St.NONE)return this._label.setLocation(R,A),null}}},{key:"setShell",value:function(L){this._shell=L,L!==null&&L.addHole(this)}},{key:"toPolygon",value:function(L){for(var R=new Array(this._holes.size()).fill(null),A=0;A<this._holes.size();A++)R[A]=this._holes.get(A).getLinearRing();return L.createPolygon(this.getLinearRing(),R)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new ae,this._pts=new ae,this._label=new an(St.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ae,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var L=arguments[0],R=arguments[1];this._geometryFactory=R,this.computePoints(L),this.computeRing()}}}}])})(),Ss=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"setEdgeRing",value:function(A,O){A.setMinEdgeRing(O)}},{key:"getNext",value:function(A){return A.getNextMin()}}],[{key:"constructor_",value:function(){var A=arguments[0],O=arguments[1];mr.constructor_.call(this,A,O)}}])})(mr),ra=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"buildMinimalRings",value:function(){var A=new ae,O=this._startDe;do{if(O.getMinEdgeRing()===null){var q=new Ss(O,this._geometryFactory);A.add(q)}O=O.getNext()}while(O!==this._startDe);return A}},{key:"setEdgeRing",value:function(A,O){A.setEdgeRing(O)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var A=this._startDe;do A.getNode().getEdges().linkMinimalDirectedEdges(this),A=A.getNext();while(A!==this._startDe)}},{key:"getNext",value:function(A){return A.getNext()}}],[{key:"constructor_",value:function(){var A=arguments[0],O=arguments[1];mr.constructor_.call(this,A,O)}}])})(mr),Ki=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(L){this._isVisited=L}},{key:"setInResult",value:function(L){this._isInResult=L}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(L){this._label=L}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(L){this._isCovered=L,this._isCoveredSet=!0}},{key:"updateIM",value:function(L){Tt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(L)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var L=arguments[0];this._label=L}}}}])})(),Un=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"isIncidentEdgeInResult",value:function(){for(var A=this.getEdges().getEdges().iterator();A.hasNext();)if(A.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(A){A.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(A){}},{key:"computeMergedLocation",value:function(A,O){var q=St.NONE;if(q=this._label.getLocation(O),!A.isNull(O)){var Z=A.getLocation(O);q!==St.BOUNDARY&&(q=Z)}return q}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return H(R,"setLabel",this,1).apply(this,arguments);var A=arguments[0],O=arguments[1];this._label===null?this._label=new an(A,O):this._label.setLocation(A,O)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof R){var A=arguments[0];this.mergeLabel(A._label)}else if(arguments[0]instanceof an)for(var O=arguments[0],q=0;q<2;q++){var Z=this.computeMergedLocation(O,q);this._label.getLocation(q)===St.NONE&&this._label.setLocation(q,Z)}}},{key:"add",value:function(A){this._edges.insert(A),A.setNode(this)}},{key:"setLabelBoundary",value:function(A){if(this._label===null)return null;var O=St.NONE;this._label!==null&&(O=this._label.getLocation(A));var q=null;switch(O){case St.BOUNDARY:q=St.INTERIOR;break;case St.INTERIOR:default:q=St.BOUNDARY}this._label.setLocation(A,q)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var A=arguments[0],O=arguments[1];this._coord=A,this._edges=O,this._label=new an(0,St.NONE)}}])})(Ki),ks=(function(L){function R(){return s(this,R),r(this,R,arguments)}return z(R,L),P(R)})(ii);function Wi(L){return L==null?0:L.color}function be(L){return L==null?null:L.parent}function Gn(L,R){L!==null&&(L.color=R)}function Di(L){return L==null?null:L.left}function Cs(L){return L==null?null:L.right}var Ci=(function(L){function R(){var A;return s(this,R),(A=r(this,R)).root_=null,A.size_=0,A}return z(R,L),P(R,[{key:"get",value:function(A){for(var O=this.root_;O!==null;){var q=A.compareTo(O.key);if(q<0)O=O.left;else{if(!(q>0))return O.value;O=O.right}}return null}},{key:"put",value:function(A,O){if(this.root_===null)return this.root_={key:A,value:O,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var q,Z,it=this.root_;do if(q=it,(Z=A.compareTo(it.key))<0)it=it.left;else{if(!(Z>0)){var ot=it.value;return it.value=O,ot}it=it.right}while(it!==null);var gt={key:A,left:null,right:null,value:O,parent:q,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return Z<0?q.left=gt:q.right=gt,this.fixAfterInsertion(gt),this.size_++,null}},{key:"fixAfterInsertion",value:function(A){var O;for(A.color=1;A!=null&&A!==this.root_&&A.parent.color===1;)be(A)===Di(be(be(A)))?Wi(O=Cs(be(be(A))))===1?(Gn(be(A),0),Gn(O,0),Gn(be(be(A)),1),A=be(be(A))):(A===Cs(be(A))&&(A=be(A),this.rotateLeft(A)),Gn(be(A),0),Gn(be(be(A)),1),this.rotateRight(be(be(A)))):Wi(O=Di(be(be(A))))===1?(Gn(be(A),0),Gn(O,0),Gn(be(be(A)),1),A=be(be(A))):(A===Di(be(A))&&(A=be(A),this.rotateRight(A)),Gn(be(A),0),Gn(be(be(A)),1),this.rotateLeft(be(be(A))));this.root_.color=0}},{key:"values",value:function(){var A=new ae,O=this.getFirstEntry();if(O!==null)for(A.add(O.value);(O=R.successor(O))!==null;)A.add(O.value);return A}},{key:"entrySet",value:function(){var A=new Xe,O=this.getFirstEntry();if(O!==null)for(A.add(O);(O=R.successor(O))!==null;)A.add(O);return A}},{key:"rotateLeft",value:function(A){if(A!=null){var O=A.right;A.right=O.left,O.left!=null&&(O.left.parent=A),O.parent=A.parent,A.parent==null?this.root_=O:A.parent.left===A?A.parent.left=O:A.parent.right=O,O.left=A,A.parent=O}}},{key:"rotateRight",value:function(A){if(A!=null){var O=A.left;A.left=O.right,O.right!=null&&(O.right.parent=A),O.parent=A.parent,A.parent==null?this.root_=O:A.parent.right===A?A.parent.right=O:A.parent.left=O,O.right=A,A.parent=O}}},{key:"getFirstEntry",value:function(){var A=this.root_;if(A!=null)for(;A.left!=null;)A=A.left;return A}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(A){for(var O=this.root_;O!==null;){var q=A.compareTo(O.key);if(q<0)O=O.left;else{if(!(q>0))return!0;O=O.right}}return!1}}],[{key:"successor",value:function(A){var O;if(A===null)return null;if(A.right!==null){for(O=A.right;O.left!==null;)O=O.left;return O}O=A.parent;for(var q=A;O!==null&&q===O.right;)q=O,O=O.parent;return O}}])})(ks),de=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"find",value:function(L){return this.nodeMap.get(L)}},{key:"addNode",value:function(){if(arguments[0]instanceof Mt){var L=arguments[0],R=this.nodeMap.get(L);return R===null&&(R=this.nodeFact.createNode(L),this.nodeMap.put(L,R)),R}if(arguments[0]instanceof Un){var A=arguments[0],O=this.nodeMap.get(A.getCoordinate());return O===null?(this.nodeMap.put(A.getCoordinate(),A),A):(O.mergeLabel(A),O)}}},{key:"print",value:function(L){for(var R=this.iterator();R.hasNext();)R.next().print(L)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(L){for(var R=new ae,A=this.iterator();A.hasNext();){var O=A.next();O.getLabel().getLocation(L)===St.BOUNDARY&&R.add(O)}return R}},{key:"add",value:function(L){var R=L.getCoordinate();this.addNode(R).add(L)}}],[{key:"constructor_",value:function(){this.nodeMap=new Ci,this.nodeFact=null;var L=arguments[0];this.nodeFact=L}}])})(),on=(function(){function L(){s(this,L)}return P(L,null,[{key:"isNorthern",value:function(R){return R===L.NE||R===L.NW}},{key:"isOpposite",value:function(R,A){return R!==A&&(R-A+4)%4===2}},{key:"commonHalfPlane",value:function(R,A){if(R===A)return R;if((R-A+4)%4===2)return-1;var O=R<A?R:A;return O===0&&(R>A?R:A)===3?3:O}},{key:"isInHalfPlane",value:function(R,A){return A===L.SE?R===L.SE||R===L.SW:R===A||R===A+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var R=arguments[0],A=arguments[1];if(R===0&&A===0)throw new nt("Cannot compute the quadrant for point ( "+R+", "+A+" )");return R>=0?A>=0?L.NE:L.SE:A>=0?L.NW:L.SW}if(arguments[0]instanceof Mt&&arguments[1]instanceof Mt){var O=arguments[0],q=arguments[1];if(q.x===O.x&&q.y===O.y)throw new nt("Cannot compute the quadrant for two identical points "+O);return q.x>=O.x?q.y>=O.y?L.NE:L.SE:q.y>=O.y?L.NW:L.SW}}}])})();on.NE=0,on.NW=1,on.SW=2,on.SE=3;var ln=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"compareDirection",value:function(R){return this._dx===R._dx&&this._dy===R._dy?0:this._quadrant>R._quadrant?1:this._quadrant<R._quadrant?-1:fe.index(R._p0,R._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(R){this._node=R}},{key:"print",value:function(R){var A=Math.atan2(this._dy,this._dx),O=this.getClass().getName(),q=O.lastIndexOf("."),Z=O.substring(q+1);R.print("  "+Z+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+A+"   "+this._label)}},{key:"compareTo",value:function(R){var A=R;return this.compareDirection(A)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var R=Math.atan2(this._dy,this._dx),A=this.getClass().getName(),O=A.lastIndexOf(".");return"  "+A.substring(O+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+R+"   "+this._label}},{key:"computeLabel",value:function(R){}},{key:"init",value:function(R,A){this._p0=R,this._p1=A,this._dx=A.x-R.x,this._dy=A.y-R.y,this._quadrant=on.quadrant(this._dx,this._dy),Tt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var R=arguments[0];this._edge=R}else if(arguments.length===3){var A=arguments[0],O=arguments[1],q=arguments[2];L.constructor_.call(this,A,O,q,null)}else if(arguments.length===4){var Z=arguments[0],it=arguments[1],ot=arguments[2],gt=arguments[3];L.constructor_.call(this,Z),this.init(it,ot),this._label=gt}}}])})(),gi=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(A){return this._depth[A]}},{key:"setVisited",value:function(A){this._isVisited=A}},{key:"computeDirectedLabel",value:function(){this._label=new an(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(A,O){if(this._depth[A]!==-999&&this._depth[A]!==O)throw new wn("assigned depths do not match",this.getCoordinate());this._depth[A]=O}},{key:"isInteriorAreaEdge",value:function(){for(var A=!0,O=0;O<2;O++)this._label.isArea(O)&&this._label.getLocation(O,Wt.LEFT)===St.INTERIOR&&this._label.getLocation(O,Wt.RIGHT)===St.INTERIOR||(A=!1);return A}},{key:"setNextMin",value:function(A){this._nextMin=A}},{key:"print",value:function(A){H(R,"print",this,1).call(this,A),A.print(" "+this._depth[Wt.LEFT]+"/"+this._depth[Wt.RIGHT]),A.print(" ("+this.getDepthDelta()+")"),this._isInResult&&A.print(" inResult")}},{key:"setMinEdgeRing",value:function(A){this._minEdgeRing=A}},{key:"isLineEdge",value:function(){var A=this._label.isLine(0)||this._label.isLine(1),O=!this._label.isArea(0)||this._label.allPositionsEqual(0,St.EXTERIOR),q=!this._label.isArea(1)||this._label.allPositionsEqual(1,St.EXTERIOR);return A&&O&&q}},{key:"setEdgeRing",value:function(A){this._edgeRing=A}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var A=this._edge.getDepthDelta();return this._isForward||(A=-A),A}},{key:"setInResult",value:function(A){this._isInResult=A}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(A){this.print(A),A.print(" "),this._isForward?this._edge.print(A):this._edge.printReverse(A)}},{key:"setSym",value:function(A){this._sym=A}},{key:"setVisitedEdge",value:function(A){this.setVisited(A),this._sym.setVisited(A)}},{key:"setEdgeDepths",value:function(A,O){var q=this.getEdge().getDepthDelta();this._isForward||(q=-q);var Z=1;A===Wt.LEFT&&(Z=-1);var it=Wt.opposite(A),ot=O+q*Z;this.setDepth(A,O),this.setDepth(it,ot)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(A){this._next=A}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var A=arguments[0],O=arguments[1];if(ln.constructor_.call(this,A),this._isForward=O,O)this.init(A.getCoordinate(0),A.getCoordinate(1));else{var q=A.getNumPoints()-1;this.init(A.getCoordinate(q),A.getCoordinate(q-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(A,O){return A===St.EXTERIOR&&O===St.INTERIOR?1:A===St.INTERIOR&&O===St.EXTERIOR?-1:0}}])})(ln),gr=(function(){return P((function L(){s(this,L)}),[{key:"createNode",value:function(L){return new Un(L,null)}}])})(),Oi=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(L){L.println("Edges:");for(var R=0;R<this._edges.size();R++){L.println("edge "+R+":");var A=this._edges.get(R);A.print(L),A.eiList.print(L)}}},{key:"find",value:function(L){return this._nodes.find(L)}},{key:"addNode",value:function(){if(arguments[0]instanceof Un){var L=arguments[0];return this._nodes.addNode(L)}if(arguments[0]instanceof Mt){var R=arguments[0];return this._nodes.addNode(R)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var L=this._nodes.iterator();L.hasNext();)L.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(L){_n.out.println(L)}},{key:"isBoundaryNode",value:function(L,R){var A=this._nodes.find(R);if(A===null)return!1;var O=A.getLabel();return O!==null&&O.getLocation(L)===St.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var L=this._nodes.iterator();L.hasNext();)L.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(L,R,A,O){return!!L.equals(A)&&fe.index(L,R,O)===fe.COLLINEAR&&on.quadrant(L,R)===on.quadrant(A,O)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(L){_n.out.print(L)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(L,R){for(var A=0;A<this._edges.size();A++){var O=this._edges.get(A),q=O.getCoordinates();if(this.matchInSameDirection(L,R,q[0],q[1])||this.matchInSameDirection(L,R,q[q.length-1],q[q.length-2]))return O}return null}},{key:"insertEdge",value:function(L){this._edges.add(L)}},{key:"findEdgeEnd",value:function(L){for(var R=this.getEdgeEnds().iterator();R.hasNext();){var A=R.next();if(A.getEdge()===L)return A}return null}},{key:"addEdges",value:function(L){for(var R=L.iterator();R.hasNext();){var A=R.next();this._edges.add(A);var O=new gi(A,!0),q=new gi(A,!1);O.setSym(q),q.setSym(O),this.add(O),this.add(q)}}},{key:"add",value:function(L){this._nodes.add(L),this._edgeEndList.add(L)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(L,R){for(var A=0;A<this._edges.size();A++){var O=this._edges.get(A),q=O.getCoordinates();if(L.equals(q[0])&&R.equals(q[1]))return O}return null}}],[{key:"constructor_",value:function(){if(this._edges=new ae,this._nodes=null,this._edgeEndList=new ae,arguments.length===0)this._nodes=new de(new gr);else if(arguments.length===1){var L=arguments[0];this._nodes=new de(L)}}},{key:"linkResultDirectedEdges",value:function(L){for(var R=L.iterator();R.hasNext();)R.next().getEdges().linkResultDirectedEdges()}}])})(),za=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"sortShellsAndHoles",value:function(R,A,O){for(var q=R.iterator();q.hasNext();){var Z=q.next();Z.isHole()?O.add(Z):A.add(Z)}}},{key:"computePolygons",value:function(R){for(var A=new ae,O=R.iterator();O.hasNext();){var q=O.next().toPolygon(this._geometryFactory);A.add(q)}return A}},{key:"placeFreeHoles",value:function(R,A){for(var O=A.iterator();O.hasNext();){var q=O.next();if(q.getShell()===null){var Z=L.findEdgeRingContaining(q,R);if(Z===null)throw new wn("unable to assign hole to a shell",q.getCoordinate(0));q.setShell(Z)}}}},{key:"buildMinimalEdgeRings",value:function(R,A,O){for(var q=new ae,Z=R.iterator();Z.hasNext();){var it=Z.next();if(it.getMaxNodeDegree()>2){it.linkDirectedEdgesForMinimalEdgeRings();var ot=it.buildMinimalRings(),gt=this.findShell(ot);gt!==null?(this.placePolygonHoles(gt,ot),A.add(gt)):O.addAll(ot)}else q.add(it)}return q}},{key:"buildMaximalEdgeRings",value:function(R){for(var A=new ae,O=R.iterator();O.hasNext();){var q=O.next();if(q.isInResult()&&q.getLabel().isArea()&&q.getEdgeRing()===null){var Z=new ra(q,this._geometryFactory);A.add(Z),Z.setInResult()}}return A}},{key:"placePolygonHoles",value:function(R,A){for(var O=A.iterator();O.hasNext();){var q=O.next();q.isHole()&&q.setShell(R)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(R){for(var A=0,O=null,q=R.iterator();q.hasNext();){var Z=q.next();Z.isHole()||(O=Z,A++)}return Tt.isTrue(A<=1,"found two shells in MinimalEdgeRing list"),O}},{key:"add",value:function(){if(arguments.length===1){var R=arguments[0];this.add(R.getEdgeEnds(),R.getNodes())}else if(arguments.length===2){var A=arguments[0],O=arguments[1];Oi.linkResultDirectedEdges(O);var q=this.buildMaximalEdgeRings(A),Z=new ae,it=this.buildMinimalEdgeRings(q,this._shellList,Z);this.sortShellsAndHoles(it,this._shellList,Z),this.placeFreeHoles(this._shellList,Z)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new ae;var R=arguments[0];this._geometryFactory=R}},{key:"findEdgeRingContaining",value:function(R,A){for(var O=R.getLinearRing(),q=O.getEnvelopeInternal(),Z=O.getCoordinateN(0),it=null,ot=null,gt=A.iterator();gt.hasNext();){var Et=gt.next(),It=Et.getLinearRing(),Lt=It.getEnvelopeInternal();if(!Lt.equals(q)&&Lt.contains(q)){Z=Ve.ptNotInList(O.getCoordinates(),It.getCoordinates());var Kt=!1;Xi.isInRing(Z,It.getCoordinates())&&(Kt=!0),Kt&&(it===null||ot.contains(Lt))&&(ot=(it=Et).getLinearRing().getEnvelopeInternal())}}return it}}])})(),Vr=(function(){return P((function L(){s(this,L)}),[{key:"getBounds",value:function(){}}])})(),ti=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Vr,mt]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var L=arguments[0],R=arguments[1];this._bounds=L,this._item=R}}])})(),wi=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var L=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),L}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(L){for(var R=null,A=this._items.get(L);2*L<=this._size&&((R=2*L)!==this._size&&this._items.get(R+1).compareTo(this._items.get(R))<0&&R++,this._items.get(R).compareTo(A)<0);L=R)this._items.set(L,this._items.get(R));this._items.set(L,A)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(L){this._items.add(null),this._size+=1;var R=this._size;for(this._items.set(0,L);L.compareTo(this._items.get(Math.trunc(R/2)))<0;R/=2)this._items.set(R,this._items.get(Math.trunc(R/2)));this._items.set(R,L)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new ae,this._items.add(null)}}])})(),zr=(function(){return P((function L(){s(this,L)}),[{key:"insert",value:function(L,R){}},{key:"remove",value:function(L,R){}},{key:"query",value:function(){}}])})(),Yn=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(L){Tt.isTrue(this._bounds===null),this._childBoundables.add(L)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Vr,mt]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new ae,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var L=arguments[0];this._level=L}}}}])})(),Qi={reverseOrder:function(){return{compare:function(L,R){return R.compareTo(L)}}},min:function(L){return Qi.sort(L),L.get(0)},sort:function(L,R){var A=L.toArray();R?fi.sort(A,R):fi.sort(A);for(var O=L.iterator(),q=0,Z=A.length;q<Z;q++)O.next(),O.set(A[q])},singletonList:function(L){var R=new ae;return R.add(L),R}},$a=(function(){function L(){s(this,L)}return P(L,null,[{key:"maxDistance",value:function(R,A,O,q,Z,it,ot,gt){var Et=L.distance(R,A,Z,it);return Et=Math.max(Et,L.distance(R,A,ot,gt)),Et=Math.max(Et,L.distance(O,q,Z,it)),Et=Math.max(Et,L.distance(O,q,ot,gt))}},{key:"distance",value:function(R,A,O,q){var Z=O-R,it=q-A;return Math.sqrt(Z*Z+it*it)}},{key:"maximumDistance",value:function(R,A){var O=Math.min(R.getMinX(),A.getMinX()),q=Math.min(R.getMinY(),A.getMinY()),Z=Math.max(R.getMaxX(),A.getMaxX()),it=Math.max(R.getMaxY(),A.getMaxY());return L.distance(O,q,Z,it)}},{key:"minMaxDistance",value:function(R,A){var O=R.getMinX(),q=R.getMinY(),Z=R.getMaxX(),it=R.getMaxY(),ot=A.getMinX(),gt=A.getMinY(),Et=A.getMaxX(),It=A.getMaxY(),Lt=L.maxDistance(O,q,O,it,ot,gt,ot,It);return Lt=Math.min(Lt,L.maxDistance(O,q,O,it,ot,gt,Et,gt)),Lt=Math.min(Lt,L.maxDistance(O,q,O,it,Et,It,ot,It)),Lt=Math.min(Lt,L.maxDistance(O,q,O,it,Et,It,Et,gt)),Lt=Math.min(Lt,L.maxDistance(O,q,Z,q,ot,gt,ot,It)),Lt=Math.min(Lt,L.maxDistance(O,q,Z,q,ot,gt,Et,gt)),Lt=Math.min(Lt,L.maxDistance(O,q,Z,q,Et,It,ot,It)),Lt=Math.min(Lt,L.maxDistance(O,q,Z,q,Et,It,Et,gt)),Lt=Math.min(Lt,L.maxDistance(Z,it,O,it,ot,gt,ot,It)),Lt=Math.min(Lt,L.maxDistance(Z,it,O,it,ot,gt,Et,gt)),Lt=Math.min(Lt,L.maxDistance(Z,it,O,it,Et,It,ot,It)),Lt=Math.min(Lt,L.maxDistance(Z,it,O,it,Et,It,Et,gt)),Lt=Math.min(Lt,L.maxDistance(Z,it,Z,q,ot,gt,ot,It)),Lt=Math.min(Lt,L.maxDistance(Z,it,Z,q,ot,gt,Et,gt)),Lt=Math.min(Lt,L.maxDistance(Z,it,Z,q,Et,It,ot,It)),Lt=Math.min(Lt,L.maxDistance(Z,it,Z,q,Et,It,Et,gt))}}])})(),yr=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"maximumDistance",value:function(){return $a.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(R,A){var O=L.isComposite(this._boundable1),q=L.isComposite(this._boundable2);if(O&&q)return L.area(this._boundable1)>L.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,R,A),null):(this.expand(this._boundable2,this._boundable1,!0,R,A),null);if(O)return this.expand(this._boundable1,this._boundable2,!1,R,A),null;if(q)return this.expand(this._boundable2,this._boundable1,!0,R,A),null;throw new nt("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(L.isComposite(this._boundable1)||L.isComposite(this._boundable2))}},{key:"compareTo",value:function(R){var A=R;return this._distance<A._distance?-1:this._distance>A._distance?1:0}},{key:"expand",value:function(R,A,O,q,Z){for(var it=R.getChildBoundables().iterator();it.hasNext();){var ot=it.next(),gt=null;(gt=O?new L(A,ot,this._itemDistance):new L(ot,A,this._itemDistance)).getDistance()<Z&&q.add(gt)}}},{key:"getBoundable",value:function(R){return R===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var R=arguments[0],A=arguments[1],O=arguments[2];this._boundable1=R,this._boundable2=A,this._itemDistance=O,this._distance=this.distance()}},{key:"area",value:function(R){return R.getBounds().getArea()}},{key:"isComposite",value:function(R){return R instanceof Yn}}])})(),$r=(function(){return P((function L(){s(this,L)}),[{key:"visitItem",value:function(L){}}])})(),Zi=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"queryInternal",value:function(){if(oe(arguments[2],$r)&&arguments[0]instanceof Object&&arguments[1]instanceof Yn)for(var R=arguments[0],A=arguments[2],O=arguments[1].getChildBoundables(),q=0;q<O.size();q++){var Z=O.get(q);this.getIntersectsOp().intersects(Z.getBounds(),R)&&(Z instanceof Yn?this.queryInternal(R,Z,A):Z instanceof ti?A.visitItem(Z.getItem()):Tt.shouldNeverReachHere())}else if(oe(arguments[2],mn)&&arguments[0]instanceof Object&&arguments[1]instanceof Yn)for(var it=arguments[0],ot=arguments[2],gt=arguments[1].getChildBoundables(),Et=0;Et<gt.size();Et++){var It=gt.get(Et);this.getIntersectsOp().intersects(It.getBounds(),it)&&(It instanceof Yn?this.queryInternal(it,It,ot):It instanceof ti?ot.add(It.getItem()):Tt.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(R){return R.get(R.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var R=0,A=arguments[0].getChildBoundables().iterator();A.hasNext();){var O=A.next();O instanceof Yn?R+=this.size(O):O instanceof ti&&(R+=1)}return R}}},{key:"removeItem",value:function(R,A){for(var O=null,q=R.getChildBoundables().iterator();q.hasNext();){var Z=q.next();Z instanceof ti&&Z.getItem()===A&&(O=Z)}return O!==null&&(R.getChildBoundables().remove(O),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var R=this.itemsTree(this._root);return R===null?new ae:R}if(arguments.length===1){for(var A=arguments[0],O=new ae,q=A.getChildBoundables().iterator();q.hasNext();){var Z=q.next();if(Z instanceof Yn){var it=this.itemsTree(Z);it!==null&&O.add(it)}else Z instanceof ti?O.add(Z.getItem()):Tt.shouldNeverReachHere()}return O.size()<=0?null:O}}},{key:"insert",value:function(R,A){Tt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ti(R,A))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var R=arguments[0],A=new ae;return this.boundablesAtLevel(R,this._root,A),A}if(arguments.length===3){var O=arguments[0],q=arguments[1],Z=arguments[2];if(Tt.isTrue(O>-2),q.getLevel()===O)return Z.add(q),null;for(var it=q.getChildBoundables().iterator();it.hasNext();){var ot=it.next();ot instanceof Yn?this.boundablesAtLevel(O,ot,Z):(Tt.isTrue(ot instanceof ti),O===-1&&Z.add(ot))}return null}}},{key:"query",value:function(){if(arguments.length===1){var R=arguments[0];this.build();var A=new ae;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),R)&&this.queryInternal(R,this._root,A),A}if(arguments.length===2){var O=arguments[0],q=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),O)&&this.queryInternal(O,this._root,q)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var R=arguments[0],A=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),R)&&this.remove(R,this._root,A)}if(arguments.length===3){var O=arguments[0],q=arguments[1],Z=arguments[2],it=this.removeItem(q,Z);if(it)return!0;for(var ot=null,gt=q.getChildBoundables().iterator();gt.hasNext();){var Et=gt.next();if(this.getIntersectsOp().intersects(Et.getBounds(),O)&&Et instanceof Yn&&(it=this.remove(O,Et,Z))){ot=Et;break}}return ot!==null&&ot.getChildBoundables().isEmpty()&&q.getChildBoundables().remove(ot),it}}},{key:"createHigherLevels",value:function(R,A){Tt.isTrue(!R.isEmpty());var O=this.createParentBoundables(R,A+1);return O.size()===1?O.get(0):this.createHigherLevels(O,A+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var R=0,A=arguments[0].getChildBoundables().iterator();A.hasNext();){var O=A.next();if(O instanceof Yn){var q=this.depth(O);q>R&&(R=q)}}return R+1}}},{key:"createParentBoundables",value:function(R,A){Tt.isTrue(!R.isEmpty());var O=new ae;O.add(this.createNode(A));var q=new ae(R);Qi.sort(q,this.getComparator());for(var Z=q.iterator();Z.hasNext();){var it=Z.next();this.lastNode(O).getChildBoundables().size()===this.getNodeCapacity()&&O.add(this.createNode(A)),this.lastNode(O).addChildBoundable(it)}return O}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[mt]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new ae,this._nodeCapacity=null,arguments.length===0)L.constructor_.call(this,L.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var R=arguments[0];Tt.isTrue(R>1,"Node capacity must be greater than 1"),this._nodeCapacity=R}}},{key:"compareDoubles",value:function(R,A){return R>A?1:R<A?-1:0}}])})();Zi.IntersectsOp=function(){},Zi.DEFAULT_NODE_CAPACITY=10;var qa=(function(){return P((function L(){s(this,L)}),[{key:"distance",value:function(L,R){}}])})(),oi=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"createParentBoundablesFromVerticalSlices",value:function(A,O){Tt.isTrue(A.length>0);for(var q=new ae,Z=0;Z<A.length;Z++)q.addAll(this.createParentBoundablesFromVerticalSlice(A[Z],O));return q}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var A=arguments[0],O=arguments[1];return this.nearestNeighbourK(A,dt.POSITIVE_INFINITY,O)}if(arguments.length===3){var q=arguments[0],Z=arguments[2],it=arguments[1],ot=new wi;ot.add(q);for(var gt=new wi;!ot.isEmpty()&&it>=0;){var Et=ot.poll(),It=Et.getDistance();if(It>=it)break;Et.isLeaves()?gt.size()<Z?gt.add(Et):(gt.peek().getDistance()>It&&(gt.poll(),gt.add(Et)),it=gt.peek().getDistance()):Et.expandToQueue(ot,it)}return R.getItems(gt)}}},{key:"createNode",value:function(A){return new sa(A)}},{key:"size",value:function(){return arguments.length===0?H(R,"size",this,1).call(this):H(R,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof me))return H(R,"insert",this,1).apply(this,arguments);var A=arguments[0],O=arguments[1];if(A.isNull())return null;H(R,"insert",this,1).call(this,A,O)}},{key:"getIntersectsOp",value:function(){return R.intersectsOp}},{key:"verticalSlices",value:function(A,O){for(var q=Math.trunc(Math.ceil(A.size()/O)),Z=new Array(O).fill(null),it=A.iterator(),ot=0;ot<O;ot++){Z[ot]=new ae;for(var gt=0;it.hasNext()&&gt<q;){var Et=it.next();Z[ot].add(Et),gt++}}return Z}},{key:"query",value:function(){if(arguments.length===1){var A=arguments[0];return H(R,"query",this,1).call(this,A)}if(arguments.length===2){var O=arguments[0],q=arguments[1];H(R,"query",this,1).call(this,O,q)}}},{key:"getComparator",value:function(){return R.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(A,O){return H(R,"createParentBoundables",this,1).call(this,A,O)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof me){var A=arguments[0],O=arguments[1];return H(R,"remove",this,1).call(this,A,O)}return H(R,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?H(R,"depth",this,1).call(this):H(R,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(A,O){Tt.isTrue(!A.isEmpty());var q=Math.trunc(Math.ceil(A.size()/this.getNodeCapacity())),Z=new ae(A);Qi.sort(Z,R.xComparator);var it=this.verticalSlices(Z,Math.trunc(Math.ceil(Math.sqrt(q))));return this.createParentBoundablesFromVerticalSlices(it,O)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(oe(arguments[0],qa)){var A=arguments[0];if(this.isEmpty())return null;var O=new yr(this.getRoot(),this.getRoot(),A);return this.nearestNeighbour(O)}if(arguments[0]instanceof yr){var q=arguments[0],Z=dt.POSITIVE_INFINITY,it=null,ot=new wi;for(ot.add(q);!ot.isEmpty()&&Z>0;){var gt=ot.poll(),Et=gt.getDistance();if(Et>=Z)break;gt.isLeaves()?(Z=Et,it=gt):gt.expandToQueue(ot,Z)}return it===null?null:[it.getBoundable(0).getItem(),it.getBoundable(1).getItem()]}}else{if(arguments.length===2){var It=arguments[0],Lt=arguments[1];if(this.isEmpty()||It.isEmpty())return null;var Kt=new yr(this.getRoot(),It.getRoot(),Lt);return this.nearestNeighbour(Kt)}if(arguments.length===3){var te=arguments[2],re=new ti(arguments[0],arguments[1]),le=new yr(this.getRoot(),re,te);return this.nearestNeighbour(le)[0]}if(arguments.length===4){var Re=arguments[2],Ee=arguments[3],Se=new ti(arguments[0],arguments[1]),yn=new yr(this.getRoot(),Se,Re);return this.nearestNeighbourK(yn,Ee)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var A=arguments[0],O=arguments[1],q=dt.POSITIVE_INFINITY,Z=new wi;for(Z.add(A);!Z.isEmpty();){var it=Z.poll(),ot=it.getDistance();if(ot>O)return!1;if(it.maximumDistance()<=O)return!0;if(it.isLeaves()){if((q=ot)<=O)return!0}else it.expandToQueue(Z,q)}return!1}if(arguments.length===3){var gt=arguments[0],Et=arguments[1],It=arguments[2],Lt=new yr(this.getRoot(),gt.getRoot(),Et);return this.isWithinDistance(Lt,It)}}},{key:"interfaces_",get:function(){return[zr,mt]}}],[{key:"constructor_",value:function(){if(arguments.length===0)R.constructor_.call(this,R.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var A=arguments[0];Zi.constructor_.call(this,A)}}},{key:"centreX",value:function(A){return R.avg(A.getMinX(),A.getMaxX())}},{key:"avg",value:function(A,O){return(A+O)/2}},{key:"getItems",value:function(A){for(var O=new Array(A.size()).fill(null),q=0;!A.isEmpty();){var Z=A.poll();O[q]=Z.getBoundable(0).getItem(),q++}return O}},{key:"centreY",value:function(A){return R.avg(A.getMinY(),A.getMaxY())}}])})(Zi),sa=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"computeBounds",value:function(){for(var A=null,O=this.getChildBoundables().iterator();O.hasNext();){var q=O.next();A===null?A=new me(q.getBounds()):A.expandToInclude(q.getBounds())}return A}}],[{key:"constructor_",value:function(){var A=arguments[0];Yn.constructor_.call(this,A)}}])})(Yn);oi.STRtreeNode=sa,oi.xComparator=new((function(){return P((function L(){s(this,L)}),[{key:"interfaces_",get:function(){return[xt]}},{key:"compare",value:function(L,R){return Zi.compareDoubles(oi.centreX(L.getBounds()),oi.centreX(R.getBounds()))}}])})()),oi.yComparator=new((function(){return P((function L(){s(this,L)}),[{key:"interfaces_",get:function(){return[xt]}},{key:"compare",value:function(L,R){return Zi.compareDoubles(oi.centreY(L.getBounds()),oi.centreY(R.getBounds()))}}])})()),oi.intersectsOp=new((function(){return P((function L(){s(this,L)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(L,R){return L.intersects(R)}}])})()),oi.DEFAULT_NODE_CAPACITY=10;var Ha=(function(){function L(){s(this,L)}return P(L,null,[{key:"relativeSign",value:function(R,A){return R<A?-1:R>A?1:0}},{key:"compare",value:function(R,A,O){if(A.equals2D(O))return 0;var q=L.relativeSign(A.x,O.x),Z=L.relativeSign(A.y,O.y);switch(R){case 0:return L.compareValue(q,Z);case 1:return L.compareValue(Z,q);case 2:return L.compareValue(Z,-q);case 3:return L.compareValue(-q,Z);case 4:return L.compareValue(-q,-Z);case 5:return L.compareValue(-Z,-q);case 6:return L.compareValue(-Z,q);case 7:return L.compareValue(q,-Z)}return Tt.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(R,A){return R<0?-1:R>0?1:A<0?-1:A>0?1:0}}])})(),aa=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(L){L.print(this.coord),L.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(L){var R=L;return this.segmentIndex<R.segmentIndex?-1:this.segmentIndex>R.segmentIndex?1:this.coord.equals2D(R.coord)?0:this._isInterior?R._isInterior?Ha.compare(this._segmentOctant,this.coord,R.coord):1:-1}},{key:"isEndPoint",value:function(L){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===L}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var L=arguments[0],R=arguments[1],A=arguments[2],O=arguments[3];this._segString=L,this.coord=new Mt(R),this.segmentIndex=A,this._segmentOctant=O,this._isInterior=!R.equals2D(L.getCoordinate(A))}}])})(),Ua=(function(){return P((function L(){s(this,L)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),Ga=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var L=new Qn;this.addEndpoints();for(var R=this.iterator(),A=R.next();R.hasNext();){var O=R.next();this.addEdgeCoordinates(A,O,L),A=O}return L.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var L=new ae;this.findCollapsesFromInsertedNodes(L),this.findCollapsesFromExistingVertices(L);for(var R=L.iterator();R.hasNext();){var A=R.next().intValue();this.add(this._edge.getCoordinate(A),A)}}},{key:"createSplitEdgePts",value:function(L,R){var A=R.segmentIndex-L.segmentIndex+2;if(A===2)return[new Mt(L.coord),new Mt(R.coord)];var O=this._edge.getCoordinate(R.segmentIndex),q=R.isInterior()||!R.coord.equals2D(O);q||A--;var Z=new Array(A).fill(null),it=0;Z[it++]=new Mt(L.coord);for(var ot=L.segmentIndex+1;ot<=R.segmentIndex;ot++)Z[it++]=this._edge.getCoordinate(ot);return q&&(Z[it]=new Mt(R.coord)),Z}},{key:"print",value:function(L){L.println("Intersections:");for(var R=this.iterator();R.hasNext();)R.next().print(L)}},{key:"findCollapsesFromExistingVertices",value:function(L){for(var R=0;R<this._edge.size()-2;R++){var A=this._edge.getCoordinate(R);this._edge.getCoordinate(R+1);var O=this._edge.getCoordinate(R+2);A.equals2D(O)&&L.add(Qe.valueOf(R+1))}}},{key:"addEdgeCoordinates",value:function(L,R,A){var O=this.createSplitEdgePts(L,R);A.add(O,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(L){this.addEndpoints(),this.addCollapsedNodes();for(var R=this.iterator(),A=R.next();R.hasNext();){var O=R.next(),q=this.createSplitEdge(A,O);L.add(q),A=O}}},{key:"findCollapseIndex",value:function(L,R,A){if(!L.coord.equals2D(R.coord))return!1;var O=R.segmentIndex-L.segmentIndex;return R.isInterior()||O--,O===1&&(A[0]=L.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(L){for(var R=new Array(1).fill(null),A=this.iterator(),O=A.next();A.hasNext();){var q=A.next();this.findCollapseIndex(O,q,R)&&L.add(Qe.valueOf(R[0])),O=q}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var L=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(L),L)}},{key:"createSplitEdge",value:function(L,R){var A=this.createSplitEdgePts(L,R);return new Li(A,this._edge.getData())}},{key:"add",value:function(L,R){var A=new aa(this._edge,L,R,this._edge.getSegmentOctant(R)),O=this._nodeMap.get(A);return O!==null?(Tt.isTrue(O.coord.equals2D(L),"Found equal nodes with different coordinates"),O):(this._nodeMap.put(A,A),A)}},{key:"checkSplitEdgesCorrectness",value:function(L){var R=this._edge.getCoordinates(),A=L.get(0).getCoordinate(0);if(!A.equals2D(R[0]))throw new Pt("bad split edge start point at "+A);var O=L.get(L.size()-1).getCoordinates(),q=O[O.length-1];if(!q.equals2D(R[R.length-1]))throw new Pt("bad split edge end point at "+q)}}],[{key:"constructor_",value:function(){this._nodeMap=new Ci,this._edge=null;var L=arguments[0];this._edge=L}}])})(),Ya=(function(){function L(){s(this,L)}return P(L,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var R=arguments[0],A=arguments[1];if(R===0&&A===0)throw new nt("Cannot compute the octant for point ( "+R+", "+A+" )");var O=Math.abs(R),q=Math.abs(A);return R>=0?A>=0?O>=q?0:1:O>=q?7:6:A>=0?O>=q?3:2:O>=q?4:5}if(arguments[0]instanceof Mt&&arguments[1]instanceof Mt){var Z=arguments[0],it=arguments[1],ot=it.x-Z.x,gt=it.y-Z.y;if(ot===0&&gt===0)throw new nt("Cannot compute the octant for two identical points "+Z);return L.octant(ot,gt)}}}])})(),Xa=(function(){return P((function L(){s(this,L)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(L){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(L){}},{key:"getData",value:function(){}}])})(),ws=(function(){return P((function L(){s(this,L)}),[{key:"addIntersection",value:function(L,R){}},{key:"interfaces_",get:function(){return[Xa]}}])})(),Li=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(R){return this._pts[R]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(R){return R===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(R),this.getCoordinate(R+1))}},{key:"setData",value:function(R){this._data=R}},{key:"safeOctant",value:function(R,A){return R.equals2D(A)?0:Ya.octant(R,A)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var R=arguments[0],A=arguments[1];this.addIntersectionNode(R,A)}else if(arguments.length===4){var O=arguments[1],q=arguments[3],Z=new Mt(arguments[0].getIntersection(q));this.addIntersection(Z,O)}}},{key:"toString",value:function(){return _s.toLineString(new cr(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(R,A){var O=A,q=O+1;if(q<this._pts.length){var Z=this._pts[q];R.equals2D(Z)&&(O=q)}return this._nodeList.add(R,O)}},{key:"addIntersections",value:function(R,A,O){for(var q=0;q<R.getIntersectionNum();q++)this.addIntersection(R,A,O,q)}},{key:"interfaces_",get:function(){return[ws]}}],[{key:"constructor_",value:function(){this._nodeList=new Ga(this),this._pts=null,this._data=null;var R=arguments[0],A=arguments[1];this._pts=R,this._data=A}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var R=arguments[0],A=new ae;return L.getNodedSubstrings(R,A),A}if(arguments.length===2)for(var O=arguments[1],q=arguments[0].iterator();q.hasNext();)q.next().getNodeList().addSplitEdges(O)}}])})(),Dn=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof L){var R=arguments[0],A=fe.index(this.p0,this.p1,R.p0),O=fe.index(this.p0,this.p1,R.p1);return A>=0&&O>=0||A<=0&&O<=0?Math.max(A,O):0}if(arguments[0]instanceof Mt){var q=arguments[0];return fe.index(this.p0,this.p1,q)}}},{key:"toGeometry",value:function(R){return R.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(R){if(!(R instanceof L))return!1;var A=R;return this.p0.equals(A.p0)&&this.p1.equals(A.p1)}},{key:"intersection",value:function(R){var A=new ai;return A.computeIntersection(this.p0,this.p1,R.p0,R.p1),A.hasIntersection()?A.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof Mt){var R=arguments[0];if(R.equals(this.p0)||R.equals(this.p1))return new Mt(R);var A=this.projectionFactor(R),O=new Mt;return O.x=this.p0.x+A*(this.p1.x-this.p0.x),O.y=this.p0.y+A*(this.p1.y-this.p0.y),O}if(arguments[0]instanceof L){var q=arguments[0],Z=this.projectionFactor(q.p0),it=this.projectionFactor(q.p1);if(Z>=1&&it>=1||Z<=0&&it<=0)return null;var ot=this.project(q.p0);Z<0&&(ot=this.p0),Z>1&&(ot=this.p1);var gt=this.project(q.p1);return it<0&&(gt=this.p0),it>1&&(gt=this.p1),new L(ot,gt)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(R){return R===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(R){return Vn.pointToLinePerpendicular(R,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return L.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(R){if(R.equals(this.p0))return 0;if(R.equals(this.p1))return 1;var A=this.p1.x-this.p0.x,O=this.p1.y-this.p0.y,q=A*A+O*O;return q<=0?dt.NaN:((R.x-this.p0.x)*A+(R.y-this.p0.y)*O)/q}},{key:"closestPoints",value:function(R){var A=this.intersection(R);if(A!==null)return[A,A];var O=new Array(2).fill(null),q=dt.MAX_VALUE,Z=null,it=this.closestPoint(R.p0);q=it.distance(R.p0),O[0]=it,O[1]=R.p0;var ot=this.closestPoint(R.p1);(Z=ot.distance(R.p1))<q&&(q=Z,O[0]=ot,O[1]=R.p1);var gt=R.closestPoint(this.p0);(Z=gt.distance(this.p0))<q&&(q=Z,O[0]=this.p0,O[1]=gt);var Et=R.closestPoint(this.p1);return(Z=Et.distance(this.p1))<q&&(q=Z,O[0]=this.p1,O[1]=Et),O}},{key:"closestPoint",value:function(R){var A=this.projectionFactor(R);return A>0&&A<1?this.project(R):this.p0.distance(R)<this.p1.distance(R)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(R){var A=R,O=this.p0.compareTo(A.p0);return O!==0?O:this.p1.compareTo(A.p1)}},{key:"reverse",value:function(){var R=this.p0;this.p0=this.p1,this.p1=R}},{key:"equalsTopo",value:function(R){return this.p0.equals(R.p0)&&this.p1.equals(R.p1)||this.p0.equals(R.p1)&&this.p1.equals(R.p0)}},{key:"lineIntersection",value:function(R){return ps.intersection(this.p0,this.p1,R.p0,R.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(R,A){var O=this.p0.x+R*(this.p1.x-this.p0.x),q=this.p0.y+R*(this.p1.y-this.p0.y),Z=this.p1.x-this.p0.x,it=this.p1.y-this.p0.y,ot=Math.sqrt(Z*Z+it*it),gt=0,Et=0;if(A!==0){if(ot<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");gt=A*Z/ot,Et=A*it/ot}return new Mt(O-Et,q+gt)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var R=arguments[0];this.setCoordinates(R.p0,R.p1)}else if(arguments.length===2){var A=arguments[0],O=arguments[1];this.p0.x=A.x,this.p0.y=A.y,this.p1.x=O.x,this.p1.y=O.y}}},{key:"segmentFraction",value:function(R){var A=this.projectionFactor(R);return A<0?A=0:(A>1||dt.isNaN(A))&&(A=1),A}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(R){var A=this.p1.getY()-this.p0.getY(),O=this.p0.getX()-this.p1.getX(),q=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),Z=A*A+O*O,it=A*A-O*O,ot=R.getX(),gt=R.getY();return new Mt((-it*ot-2*A*O*gt-2*A*q)/Z,(it*gt-2*A*O*ot-2*O*q)/Z)}},{key:"distance",value:function(){if(arguments[0]instanceof L){var R=arguments[0];return Vn.segmentToSegment(this.p0,this.p1,R.p0,R.p1)}if(arguments[0]instanceof Mt){var A=arguments[0];return Vn.pointToSegment(A,this.p0,this.p1)}}},{key:"pointAlong",value:function(R){var A=new Mt;return A.x=this.p0.x+R*(this.p1.x-this.p0.x),A.y=this.p0.y+R*(this.p1.y-this.p0.y),A}},{key:"hashCode",value:function(){var R=dt.doubleToLongBits(this.p0.x);R^=31*dt.doubleToLongBits(this.p0.y);var A=Math.trunc(R)^Math.trunc(R>>32),O=dt.doubleToLongBits(this.p1.x);return O^=31*dt.doubleToLongBits(this.p1.y),A^(Math.trunc(O)^Math.trunc(O>>32))}},{key:"interfaces_",get:function(){return[ht,mt]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)L.constructor_.call(this,new Mt,new Mt);else if(arguments.length===1){var R=arguments[0];L.constructor_.call(this,R.p0,R.p1)}else if(arguments.length===2){var A=arguments[0],O=arguments[1];this.p0=A,this.p1=O}else if(arguments.length===4){var q=arguments[0],Z=arguments[1],it=arguments[2],ot=arguments[3];L.constructor_.call(this,new Mt(q,Z),new Mt(it,ot))}}},{key:"midPoint",value:function(R,A){return new Mt((R.x+A.x)/2,(R.y+A.y)/2)}}])})(),Ka=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var L=arguments[1],R=arguments[2],A=arguments[3];arguments[0].getLineSegment(L,this._overlapSeg1),R.getLineSegment(A,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Dn,this._overlapSeg2=new Dn}}])})(),rn=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(L,R){R.p0=this._pts[L],R.p1=this._pts[L+1]}},{key:"computeSelect",value:function(L,R,A,O){var q=this._pts[R],Z=this._pts[A];if(A-R==1)return O.select(this,R),null;if(!L.intersects(q,Z))return null;var it=Math.trunc((R+A)/2);R<it&&this.computeSelect(L,R,it,O),it<A&&this.computeSelect(L,it,A,O)}},{key:"getCoordinates",value:function(){for(var L=new Array(this._end-this._start+1).fill(null),R=0,A=this._start;A<=this._end;A++)L[R++]=this._pts[A];return L}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var L=arguments[0],R=arguments[1];this.computeOverlaps(this._start,this._end,L,L._start,L._end,R)}else if(arguments.length===6){var A=arguments[0],O=arguments[1],q=arguments[2],Z=arguments[3],it=arguments[4],ot=arguments[5];if(O-A==1&&it-Z==1)return ot.overlap(this,A,q,Z),null;if(!this.overlaps(A,O,q,Z,it))return null;var gt=Math.trunc((A+O)/2),Et=Math.trunc((Z+it)/2);A<gt&&(Z<Et&&this.computeOverlaps(A,gt,q,Z,Et,ot),Et<it&&this.computeOverlaps(A,gt,q,Et,it,ot)),gt<O&&(Z<Et&&this.computeOverlaps(gt,O,q,Z,Et,ot),Et<it&&this.computeOverlaps(gt,O,q,Et,it,ot))}}},{key:"setId",value:function(L){this._id=L}},{key:"select",value:function(L,R){this.computeSelect(L,this._start,this._end,R)}},{key:"getEnvelope",value:function(){if(this._env===null){var L=this._pts[this._start],R=this._pts[this._end];this._env=new me(L,R)}return this._env}},{key:"overlaps",value:function(L,R,A,O,q){return me.intersects(this._pts[L],this._pts[R],A._pts[O],A._pts[q])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var L=arguments[0],R=arguments[1],A=arguments[2],O=arguments[3];this._pts=L,this._start=R,this._end=A,this._context=O}}])})(),Rs=(function(){function L(){s(this,L)}return P(L,null,[{key:"findChainEnd",value:function(R,A){for(var O=A;O<R.length-1&&R[O].equals2D(R[O+1]);)O++;if(O>=R.length-1)return R.length-1;for(var q=on.quadrant(R[O],R[O+1]),Z=A+1;Z<R.length&&!(!R[Z-1].equals2D(R[Z])&&on.quadrant(R[Z-1],R[Z])!==q);)Z++;return Z-1}},{key:"getChains",value:function(){if(arguments.length===1){var R=arguments[0];return L.getChains(R,null)}if(arguments.length===2){var A=arguments[0],O=arguments[1],q=new ae,Z=0;do{var it=L.findChainEnd(A,Z),ot=new rn(A,Z,it,O);q.add(ot),Z=it}while(Z<A.length-1);return q}}}])})(),Ts=(function(){return P((function L(){s(this,L)}),[{key:"computeNodes",value:function(L){}},{key:"getNodedSubstrings",value:function(){}}])})(),ut=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(L){this._segInt=L}},{key:"interfaces_",get:function(){return[Ts]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var L=arguments[0];this.setSegmentIntersector(L)}}}}])})(),et=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return Li.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(A){for(var O=Rs.getChains(A.getCoordinates(),A).iterator();O.hasNext();){var q=O.next();q.setId(this._idCounter++),this._index.insert(q.getEnvelope(),q),this._monoChains.add(q)}}},{key:"computeNodes",value:function(A){this._nodedSegStrings=A;for(var O=A.iterator();O.hasNext();)this.add(O.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var A=new at(this._segInt),O=this._monoChains.iterator();O.hasNext();)for(var q=O.next(),Z=this._index.query(q.getEnvelope()).iterator();Z.hasNext();){var it=Z.next();if(it.getId()>q.getId()&&(q.computeOverlaps(it,A),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new ae,this._index=new oi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var A=arguments[0];ut.constructor_.call(this,A)}}}}])})(ut),at=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"overlap",value:function(){if(arguments.length!==4)return H(R,"overlap",this,1).apply(this,arguments);var A=arguments[1],O=arguments[2],q=arguments[3],Z=arguments[0].getContext(),it=O.getContext();this._si.processIntersections(Z,A,it,q)}}],[{key:"constructor_",value:function(){this._si=null;var A=arguments[0];this._si=A}}])})(Ka);et.SegmentOverlapAction=at;var bt=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"isDeletable",value:function(R,A,O,q){var Z=this._inputLine[R],it=this._inputLine[A],ot=this._inputLine[O];return!!this.isConcave(Z,it,ot)&&!!this.isShallow(Z,it,ot,q)&&this.isShallowSampled(Z,it,R,O,q)}},{key:"deleteShallowConcavities",value:function(){for(var R=1,A=this.findNextNonDeletedIndex(R),O=this.findNextNonDeletedIndex(A),q=!1;O<this._inputLine.length;){var Z=!1;this.isDeletable(R,A,O,this._distanceTol)&&(this._isDeleted[A]=L.DELETE,Z=!0,q=!0),R=Z?O:A,A=this.findNextNonDeletedIndex(R),O=this.findNextNonDeletedIndex(A)}return q}},{key:"isShallowConcavity",value:function(R,A,O,q){return fe.index(R,A,O)===this._angleOrientation&&Vn.pointToSegment(A,R,O)<q}},{key:"isShallowSampled",value:function(R,A,O,q,Z){var it=Math.trunc((q-O)/L.NUM_PTS_TO_CHECK);it<=0&&(it=1);for(var ot=O;ot<q;ot+=it)if(!this.isShallow(R,A,this._inputLine[ot],Z))return!1;return!0}},{key:"isConcave",value:function(R,A,O){var q=fe.index(R,A,O)===this._angleOrientation;return q}},{key:"simplify",value:function(R){this._distanceTol=Math.abs(R),R<0&&(this._angleOrientation=fe.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var A=!1;do A=this.deleteShallowConcavities();while(A);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(R){for(var A=R+1;A<this._inputLine.length&&this._isDeleted[A]===L.DELETE;)A++;return A}},{key:"isShallow",value:function(R,A,O,q){return Vn.pointToSegment(A,R,O)<q}},{key:"collapseLine",value:function(){for(var R=new Qn,A=0;A<this._inputLine.length;A++)this._isDeleted[A]!==L.DELETE&&R.add(this._inputLine[A]);return R.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=fe.COUNTERCLOCKWISE;var R=arguments[0];this._inputLine=R}},{key:"simplify",value:function(R,A){return new L(R).simplify(A)}}])})();bt.INIT=0,bt.DELETE=1,bt.KEEP=1,bt.NUM_PTS_TO_CHECK=10;var Ct=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getCoordinates",value:function(){return this._ptList.toArray(L.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(R){this._precisionModel=R}},{key:"addPt",value:function(R){var A=new Mt(R);if(this._precisionModel.makePrecise(A),this.isRedundant(A))return null;this._ptList.add(A)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(R,A){if(A)for(var O=0;O<R.length;O++)this.addPt(R[O]);else for(var q=R.length-1;q>=0;q--)this.addPt(R[q])}},{key:"isRedundant",value:function(R){if(this._ptList.size()<1)return!1;var A=this._ptList.get(this._ptList.size()-1);return R.distance(A)<this._minimimVertexDistance}},{key:"toString",value:function(){return new ri().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var R=new Mt(this._ptList.get(0)),A=this._ptList.get(this._ptList.size()-1);if(R.equals(A))return null;this._ptList.add(R)}},{key:"setMinimumVertexDistance",value:function(R){this._minimimVertexDistance=R}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ae}}])})();Ct.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var qt=(function(){function L(){s(this,L)}return P(L,null,[{key:"toDegrees",value:function(R){return 180*R/Math.PI}},{key:"normalize",value:function(R){for(;R>Math.PI;)R-=L.PI_TIMES_2;for(;R<=-Math.PI;)R+=L.PI_TIMES_2;return R}},{key:"angle",value:function(){if(arguments.length===1){var R=arguments[0];return Math.atan2(R.y,R.x)}if(arguments.length===2){var A=arguments[0],O=arguments[1],q=O.x-A.x,Z=O.y-A.y;return Math.atan2(Z,q)}}},{key:"isAcute",value:function(R,A,O){var q=R.x-A.x,Z=R.y-A.y;return q*(O.x-A.x)+Z*(O.y-A.y)>0}},{key:"isObtuse",value:function(R,A,O){var q=R.x-A.x,Z=R.y-A.y;return q*(O.x-A.x)+Z*(O.y-A.y)<0}},{key:"interiorAngle",value:function(R,A,O){var q=L.angle(A,R),Z=L.angle(A,O);return Math.abs(Z-q)}},{key:"normalizePositive",value:function(R){if(R<0){for(;R<0;)R+=L.PI_TIMES_2;R>=L.PI_TIMES_2&&(R=0)}else{for(;R>=L.PI_TIMES_2;)R-=L.PI_TIMES_2;R<0&&(R=0)}return R}},{key:"angleBetween",value:function(R,A,O){var q=L.angle(A,R),Z=L.angle(A,O);return L.diff(q,Z)}},{key:"diff",value:function(R,A){var O=null;return(O=R<A?A-R:R-A)>Math.PI&&(O=2*Math.PI-O),O}},{key:"toRadians",value:function(R){return R*Math.PI/180}},{key:"getTurn",value:function(R,A){var O=Math.sin(A-R);return O>0?L.COUNTERCLOCKWISE:O<0?L.CLOCKWISE:L.NONE}},{key:"angleBetweenOriented",value:function(R,A,O){var q=L.angle(A,R),Z=L.angle(A,O)-q;return Z<=-Math.PI?Z+L.PI_TIMES_2:Z>Math.PI?Z-L.PI_TIMES_2:Z}}])})();qt.PI_TIMES_2=2*Math.PI,qt.PI_OVER_2=Math.PI/2,qt.PI_OVER_4=Math.PI/4,qt.COUNTERCLOCKWISE=fe.COUNTERCLOCKWISE,qt.CLOCKWISE=fe.CLOCKWISE,qt.NONE=fe.COLLINEAR;var Qt=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"addNextSegment",value:function(R,A){if(this._s0=this._s1,this._s1=this._s2,this._s2=R,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var O=fe.index(this._s0,this._s1,this._s2),q=O===fe.CLOCKWISE&&this._side===Wt.LEFT||O===fe.COUNTERCLOCKWISE&&this._side===Wt.RIGHT;O===0?this.addCollinear(A):q?this.addOutsideTurn(O,A):this.addInsideTurn(O,A)}},{key:"addLineEndCap",value:function(R,A){var O=new Dn(R,A),q=new Dn;this.computeOffsetSegment(O,Wt.LEFT,this._distance,q);var Z=new Dn;this.computeOffsetSegment(O,Wt.RIGHT,this._distance,Z);var it=A.x-R.x,ot=A.y-R.y,gt=Math.atan2(ot,it);switch(this._bufParams.getEndCapStyle()){case K.CAP_ROUND:this._segList.addPt(q.p1),this.addDirectedFillet(A,gt+Math.PI/2,gt-Math.PI/2,fe.CLOCKWISE,this._distance),this._segList.addPt(Z.p1);break;case K.CAP_FLAT:this._segList.addPt(q.p1),this._segList.addPt(Z.p1);break;case K.CAP_SQUARE:var Et=new Mt;Et.x=Math.abs(this._distance)*Math.cos(gt),Et.y=Math.abs(this._distance)*Math.sin(gt);var It=new Mt(q.p1.x+Et.x,q.p1.y+Et.y),Lt=new Mt(Z.p1.x+Et.x,Z.p1.y+Et.y);this._segList.addPt(It),this._segList.addPt(Lt)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(R,A,O,q){var Z=ps.intersection(A.p0,A.p1,O.p0,O.p1);if(Z!==null&&(q<=0?1:Z.distance(R)/Math.abs(q))<=this._bufParams.getMitreLimit())return this._segList.addPt(Z),null;this.addLimitedMitreJoin(A,O,q,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(R,A){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*L.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===K.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===K.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(A&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,R,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(R){this._segList.addPt(new Mt(R.x+this._distance,R.y+this._distance)),this._segList.addPt(new Mt(R.x+this._distance,R.y-this._distance)),this._segList.addPt(new Mt(R.x-this._distance,R.y-this._distance)),this._segList.addPt(new Mt(R.x-this._distance,R.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(R,A){this._segList.addPts(R,A)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(R,A,O,q,Z){var it=A.x-R.x,ot=A.y-R.y,gt=Math.atan2(ot,it),Et=O.x-R.x,It=O.y-R.y,Lt=Math.atan2(It,Et);q===fe.CLOCKWISE?gt<=Lt&&(gt+=2*Math.PI):gt>=Lt&&(gt-=2*Math.PI),this._segList.addPt(A),this.addDirectedFillet(R,gt,Lt,q,Z),this._segList.addPt(O)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(R,A,O){this._s1=R,this._s2=A,this._side=O,this._seg1.setCoordinates(R,A),this.computeOffsetSegment(this._seg1,O,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(R,A,O,q){var Z=this._seg0.p1,it=qt.angle(Z,this._seg0.p0),ot=qt.angleBetweenOriented(this._seg0.p0,Z,this._seg1.p1)/2,gt=qt.normalize(it+ot),Et=qt.normalize(gt+Math.PI),It=q*O,Lt=O-It*Math.abs(Math.sin(ot)),Kt=Z.x+It*Math.cos(Et),te=Z.y+It*Math.sin(Et),re=new Mt(Kt,te),le=new Dn(Z,re),Re=le.pointAlongOffset(1,Lt),Ee=le.pointAlongOffset(1,-Lt);this._side===Wt.LEFT?(this._segList.addPt(Re),this._segList.addPt(Ee)):(this._segList.addPt(Ee),this._segList.addPt(Re))}},{key:"addDirectedFillet",value:function(R,A,O,q,Z){var it=q===fe.CLOCKWISE?-1:1,ot=Math.abs(A-O),gt=Math.trunc(ot/this._filletAngleQuantum+.5);if(gt<1)return null;for(var Et=ot/gt,It=new Mt,Lt=0;Lt<gt;Lt++){var Kt=A+it*Lt*Et;It.x=R.x+Z*Math.cos(Kt),It.y=R.y+Z*Math.sin(Kt),this._segList.addPt(It)}}},{key:"computeOffsetSegment",value:function(R,A,O,q){var Z=A===Wt.LEFT?1:-1,it=R.p1.x-R.p0.x,ot=R.p1.y-R.p0.y,gt=Math.sqrt(it*it+ot*ot),Et=Z*O*it/gt,It=Z*O*ot/gt;q.p0.x=R.p0.x-It,q.p0.y=R.p0.y+Et,q.p1.x=R.p1.x-It,q.p1.y=R.p1.y+Et}},{key:"addInsideTurn",value:function(R,A){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*L.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var O=new Mt((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(O);var q=new Mt((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(q)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(R){var A=new Mt(R.x+this._distance,R.y);this._segList.addPt(A),this.addDirectedFillet(R,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(R,A){this._segList.addPt(R.p1),this._segList.addPt(A.p0)}},{key:"init",value:function(R){this._distance=R,this._maxCurveSegmentError=R*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ct,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(R*L.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(R){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===K.JOIN_BEVEL||this._bufParams.getJoinStyle()===K.JOIN_MITRE?(R&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,fe.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Dn,this._seg1=new Dn,this._offset0=new Dn,this._offset1=new Dn,this._side=0,this._hasNarrowConcaveAngle=!1;var R=arguments[0],A=arguments[1],O=arguments[2];this._precisionModel=R,this._bufParams=A,this._li=new ai,this._filletAngleQuantum=Math.PI/2/A.getQuadrantSegments(),A.getQuadrantSegments()>=8&&A.getJoinStyle()===K.JOIN_ROUND&&(this._closingSegLengthFactor=L.MAX_CLOSING_SEG_LEN_FACTOR),this.init(O)}}])})();Qt.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Qt.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Qt.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Qt.MAX_CLOSING_SEG_LEN_FACTOR=80;var ne=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getOffsetCurve",value:function(R,A){if(this._distance=A,A===0)return null;var O=A<0,q=Math.abs(A),Z=this.getSegGen(q);R.length<=1?this.computePointCurve(R[0],Z):this.computeOffsetCurve(R,O,Z);var it=Z.getCoordinates();return O&&Ve.reverse(it),it}},{key:"computeSingleSidedBufferCurve",value:function(R,A,O){var q=this.simplifyTolerance(this._distance);if(A){O.addSegments(R,!0);var Z=bt.simplify(R,-q),it=Z.length-1;O.initSideSegments(Z[it],Z[it-1],Wt.LEFT),O.addFirstSegment();for(var ot=it-2;ot>=0;ot--)O.addNextSegment(Z[ot],!0)}else{O.addSegments(R,!1);var gt=bt.simplify(R,q),Et=gt.length-1;O.initSideSegments(gt[0],gt[1],Wt.LEFT),O.addFirstSegment();for(var It=2;It<=Et;It++)O.addNextSegment(gt[It],!0)}O.addLastSegment(),O.closeRing()}},{key:"computeRingBufferCurve",value:function(R,A,O){var q=this.simplifyTolerance(this._distance);A===Wt.RIGHT&&(q=-q);var Z=bt.simplify(R,q),it=Z.length-1;O.initSideSegments(Z[it-1],Z[0],A);for(var ot=1;ot<=it;ot++){var gt=ot!==1;O.addNextSegment(Z[ot],gt)}O.closeRing()}},{key:"computeLineBufferCurve",value:function(R,A){var O=this.simplifyTolerance(this._distance),q=bt.simplify(R,O),Z=q.length-1;A.initSideSegments(q[0],q[1],Wt.LEFT);for(var it=2;it<=Z;it++)A.addNextSegment(q[it],!0);A.addLastSegment(),A.addLineEndCap(q[Z-1],q[Z]);var ot=bt.simplify(R,-O),gt=ot.length-1;A.initSideSegments(ot[gt],ot[gt-1],Wt.LEFT);for(var Et=gt-2;Et>=0;Et--)A.addNextSegment(ot[Et],!0);A.addLastSegment(),A.addLineEndCap(ot[1],ot[0]),A.closeRing()}},{key:"computePointCurve",value:function(R,A){switch(this._bufParams.getEndCapStyle()){case K.CAP_ROUND:A.createCircle(R);break;case K.CAP_SQUARE:A.createSquare(R)}}},{key:"getLineCurve",value:function(R,A){if(this._distance=A,this.isLineOffsetEmpty(A))return null;var O=Math.abs(A),q=this.getSegGen(O);if(R.length<=1)this.computePointCurve(R[0],q);else if(this._bufParams.isSingleSided()){var Z=A<0;this.computeSingleSidedBufferCurve(R,Z,q)}else this.computeLineBufferCurve(R,q);return q.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(R){return R*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(R,A,O){if(this._distance=O,R.length<=2)return this.getLineCurve(R,O);if(O===0)return L.copyCoordinates(R);var q=this.getSegGen(O);return this.computeRingBufferCurve(R,A,q),q.getCoordinates()}},{key:"computeOffsetCurve",value:function(R,A,O){var q=this.simplifyTolerance(this._distance);if(A){var Z=bt.simplify(R,-q),it=Z.length-1;O.initSideSegments(Z[it],Z[it-1],Wt.LEFT),O.addFirstSegment();for(var ot=it-2;ot>=0;ot--)O.addNextSegment(Z[ot],!0)}else{var gt=bt.simplify(R,q),Et=gt.length-1;O.initSideSegments(gt[0],gt[1],Wt.LEFT),O.addFirstSegment();for(var It=2;It<=Et;It++)O.addNextSegment(gt[It],!0)}O.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(R){return R===0||R<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(R){return new Qt(this._precisionModel,this._bufParams,R)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var R=arguments[0],A=arguments[1];this._precisionModel=R,this._bufParams=A}},{key:"copyCoordinates",value:function(R){for(var A=new Array(R.length).fill(null),O=0;O<A.length;O++)A[O]=new Mt(R[O]);return A}}])})(),ce=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var L=arguments[0],R=new ae,A=this._subgraphs.iterator();A.hasNext();){var O=A.next(),q=O.getEnvelope();L.y<q.getMinY()||L.y>q.getMaxY()||this.findStabbedSegments(L,O.getDirectedEdges(),R)}return R}if(arguments.length===3){if(oe(arguments[2],mn)&&arguments[0]instanceof Mt&&arguments[1]instanceof gi){for(var Z=arguments[0],it=arguments[1],ot=arguments[2],gt=it.getEdge().getCoordinates(),Et=0;Et<gt.length-1;Et++)if(this._seg.p0=gt[Et],this._seg.p1=gt[Et+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<Z.x||this._seg.isHorizontal()||Z.y<this._seg.p0.y||Z.y>this._seg.p1.y||fe.index(this._seg.p0,this._seg.p1,Z)===fe.RIGHT)){var It=it.getDepth(Wt.LEFT);this._seg.p0.equals(gt[Et])||(It=it.getDepth(Wt.RIGHT));var Lt=new we(this._seg,It);ot.add(Lt)}}else if(oe(arguments[2],mn)&&arguments[0]instanceof Mt&&oe(arguments[1],mn))for(var Kt=arguments[0],te=arguments[2],re=arguments[1].iterator();re.hasNext();){var le=re.next();le.isForward()&&this.findStabbedSegments(Kt,le,te)}}}},{key:"getDepth",value:function(L){var R=this.findStabbedSegments(L);return R.size()===0?0:Qi.min(R)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Dn;var L=arguments[0];this._subgraphs=L}}])})(),we=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(L){var R=L;if(this._upwardSeg.minX()>=R._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=R._upwardSeg.minX())return-1;var A=this._upwardSeg.orientationIndex(R._upwardSeg);return A!==0||(A=-1*R._upwardSeg.orientationIndex(this._upwardSeg))!==0?A:this._upwardSeg.compareTo(R._upwardSeg)}},{key:"compareX",value:function(L,R){var A=L.p0.compareTo(R.p0);return A!==0?A:L.p1.compareTo(R.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var L=arguments[0],R=arguments[1];this._upwardSeg=new Dn(L),this._leftDepth=R}}])})();ce.DepthSegment=we;var Pe=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,null,[{key:"constructor_",value:function(){tt.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})(tt),Ge=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getY",value:function(){var R=this.y/this.w;if(dt.isNaN(R)||dt.isInfinite(R))throw new Pe;return R}},{key:"getX",value:function(){var R=this.x/this.w;if(dt.isNaN(R)||dt.isInfinite(R))throw new Pe;return R}},{key:"getCoordinate",value:function(){var R=new Mt;return R.x=this.getX(),R.y=this.getY(),R}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var R=arguments[0];this.x=R.x,this.y=R.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var A=arguments[0],O=arguments[1];this.x=A,this.y=O,this.w=1}else if(arguments[0]instanceof L&&arguments[1]instanceof L){var q=arguments[0],Z=arguments[1];this.x=q.y*Z.w-Z.y*q.w,this.y=Z.x*q.w-q.x*Z.w,this.w=q.x*Z.y-Z.x*q.y}else if(arguments[0]instanceof Mt&&arguments[1]instanceof Mt){var it=arguments[0],ot=arguments[1];this.x=it.y-ot.y,this.y=ot.x-it.x,this.w=it.x*ot.y-ot.x*it.y}}else if(arguments.length===3){var gt=arguments[0],Et=arguments[1],It=arguments[2];this.x=gt,this.y=Et,this.w=It}else if(arguments.length===4){var Lt=arguments[0],Kt=arguments[1],te=arguments[2],re=arguments[3],le=Lt.y-Kt.y,Re=Kt.x-Lt.x,Ee=Lt.x*Kt.y-Kt.x*Lt.y,Se=te.y-re.y,yn=re.x-te.x,Oe=te.x*re.y-re.x*te.y;this.x=Re*Oe-yn*Ee,this.y=Se*Ee-le*Oe,this.w=le*yn-Se*Re}}}])})(),vr=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"area",value:function(){return L.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return L.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(R){if(R===null)throw new nt("Supplied point is null.");return L.interpolateZ(R,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return L.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return L.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return L.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return L.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return L.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return L.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var R=arguments[0],A=arguments[1],O=arguments[2];this.p0=R,this.p1=A,this.p2=O}},{key:"area",value:function(R,A,O){return Math.abs(((O.x-R.x)*(A.y-R.y)-(A.x-R.x)*(O.y-R.y))/2)}},{key:"signedArea",value:function(R,A,O){return((O.x-R.x)*(A.y-R.y)-(A.x-R.x)*(O.y-R.y))/2}},{key:"det",value:function(R,A,O,q){return R*q-A*O}},{key:"interpolateZ",value:function(R,A,O,q){var Z=A.x,it=A.y,ot=O.x-Z,gt=q.x-Z,Et=O.y-it,It=q.y-it,Lt=ot*It-gt*Et,Kt=R.x-Z,te=R.y-it,re=(It*Kt-gt*te)/Lt,le=(-Et*Kt+ot*te)/Lt;return A.getZ()+re*(O.getZ()-A.getZ())+le*(q.getZ()-A.getZ())}},{key:"longestSideLength",value:function(R,A,O){var q=R.distance(A),Z=A.distance(O),it=O.distance(R),ot=q;return Z>ot&&(ot=Z),it>ot&&(ot=it),ot}},{key:"circumcentreDD",value:function(R,A,O){var q=ie.valueOf(R.x).subtract(O.x),Z=ie.valueOf(R.y).subtract(O.y),it=ie.valueOf(A.x).subtract(O.x),ot=ie.valueOf(A.y).subtract(O.y),gt=ie.determinant(q,Z,it,ot).multiply(2),Et=q.sqr().add(Z.sqr()),It=it.sqr().add(ot.sqr()),Lt=ie.determinant(Z,Et,ot,It),Kt=ie.determinant(q,Et,it,It),te=ie.valueOf(O.x).subtract(Lt.divide(gt)).doubleValue(),re=ie.valueOf(O.y).add(Kt.divide(gt)).doubleValue();return new Mt(te,re)}},{key:"isAcute",value:function(R,A,O){return!!qt.isAcute(R,A,O)&&!!qt.isAcute(A,O,R)&&!!qt.isAcute(O,R,A)}},{key:"circumcentre",value:function(R,A,O){var q=O.x,Z=O.y,it=R.x-q,ot=R.y-Z,gt=A.x-q,Et=A.y-Z,It=2*L.det(it,ot,gt,Et),Lt=L.det(ot,it*it+ot*ot,Et,gt*gt+Et*Et),Kt=L.det(it,it*it+ot*ot,gt,gt*gt+Et*Et);return new Mt(q-Lt/It,Z+Kt/It)}},{key:"perpendicularBisector",value:function(R,A){var O=A.x-R.x,q=A.y-R.y,Z=new Ge(R.x+O/2,R.y+q/2,1),it=new Ge(R.x-q+O/2,R.y+O+q/2,1);return new Ge(Z,it)}},{key:"angleBisector",value:function(R,A,O){var q=A.distance(R),Z=q/(q+A.distance(O)),it=O.x-R.x,ot=O.y-R.y;return new Mt(R.x+Z*it,R.y+Z*ot)}},{key:"area3D",value:function(R,A,O){var q=A.x-R.x,Z=A.y-R.y,it=A.getZ()-R.getZ(),ot=O.x-R.x,gt=O.y-R.y,Et=O.getZ()-R.getZ(),It=Z*Et-it*gt,Lt=it*ot-q*Et,Kt=q*gt-Z*ot,te=It*It+Lt*Lt+Kt*Kt,re=Math.sqrt(te)/2;return re}},{key:"centroid",value:function(R,A,O){var q=(R.x+A.x+O.x)/3,Z=(R.y+A.y+O.y)/3;return new Mt(q,Z)}},{key:"inCentre",value:function(R,A,O){var q=A.distance(O),Z=R.distance(O),it=R.distance(A),ot=q+Z+it,gt=(q*R.x+Z*A.x+it*O.x)/ot,Et=(q*R.y+Z*A.y+it*O.y)/ot;return new Mt(gt,Et)}}])})(),oa=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(L,R,A,O,q){if(R===0&&L.length<di.MINIMUM_VALID_SIZE)return null;var Z=O,it=q;L.length>=di.MINIMUM_VALID_SIZE&&fe.isCCW(L)&&(Z=q,it=O,A=Wt.opposite(A));var ot=this._curveBuilder.getRingCurve(L,A,R);this.addCurve(ot,Z,it)}},{key:"addRingBothSides",value:function(L,R){this.addRingSide(L,R,Wt.LEFT,St.EXTERIOR,St.INTERIOR),this.addRingSide(L,R,Wt.RIGHT,St.INTERIOR,St.EXTERIOR)}},{key:"addPoint",value:function(L){if(this._distance<=0)return null;var R=L.getCoordinates(),A=this._curveBuilder.getLineCurve(R,this._distance);this.addCurve(A,St.EXTERIOR,St.INTERIOR)}},{key:"addPolygon",value:function(L){var R=this._distance,A=Wt.LEFT;this._distance<0&&(R=-this._distance,A=Wt.RIGHT);var O=L.getExteriorRing(),q=Ve.removeRepeatedPoints(O.getCoordinates());if(this._distance<0&&this.isErodedCompletely(O,this._distance)||this._distance<=0&&q.length<3)return null;this.addRingSide(q,R,A,St.EXTERIOR,St.INTERIOR);for(var Z=0;Z<L.getNumInteriorRing();Z++){var it=L.getInteriorRingN(Z),ot=Ve.removeRepeatedPoints(it.getCoordinates());this._distance>0&&this.isErodedCompletely(it,-this._distance)||this.addRingSide(ot,R,Wt.opposite(A),St.INTERIOR,St.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(L,R){var A=new vr(L[0],L[1],L[2]),O=A.inCentre();return Vn.pointToSegment(O,A.p0,A.p1)<Math.abs(R)}},{key:"addLineString",value:function(L){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var R=Ve.removeRepeatedPoints(L.getCoordinates());if(Ve.isRing(R)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(R,this._distance);else{var A=this._curveBuilder.getLineCurve(R,this._distance);this.addCurve(A,St.EXTERIOR,St.INTERIOR)}}},{key:"addCurve",value:function(L,R,A){if(L===null||L.length<2)return null;var O=new Li(L,new an(0,St.BOUNDARY,R,A));this._curveList.add(O)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(L){if(L.isEmpty())return null;if(L instanceof Fr)this.addPolygon(L);else if(L instanceof zn)this.addLineString(L);else if(L instanceof gn)this.addPoint(L);else if(L instanceof Tn)this.addCollection(L);else if(L instanceof Zn)this.addCollection(L);else if(L instanceof Ui)this.addCollection(L);else{if(!(L instanceof nn))throw new De(L.getGeometryType());this.addCollection(L)}}},{key:"isErodedCompletely",value:function(L,R){var A=L.getCoordinates();if(A.length<4)return R<0;if(A.length===4)return this.isTriangleErodedCompletely(A,R);var O=L.getEnvelopeInternal(),q=Math.min(O.getHeight(),O.getWidth());return R<0&&2*Math.abs(R)>q}},{key:"addCollection",value:function(L){for(var R=0;R<L.getNumGeometries();R++){var A=L.getGeometryN(R);this.add(A)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ae;var L=arguments[0],R=arguments[1],A=arguments[2];this._inputGeom=L,this._distance=R,this._curveBuilder=A}}])})(),As=(function(){return P((function L(){s(this,L)}),[{key:"locate",value:function(L){}}])})(),Ji=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,L.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ee;var R=this._parent.getGeometryN(this._index++);return R instanceof nn?(this._subcollectionIterator=new L(R),this._subcollectionIterator.next()):R}},{key:"remove",value:function(){throw new De(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Ua]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var R=arguments[0];this._parent=R,this._atStart=!0,this._index=0,this._max=R.getNumGeometries()}},{key:"isAtomic",value:function(R){return!(R instanceof nn)}}])})(),la=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"locate",value:function(R){return L.locate(R,this._geom)}},{key:"interfaces_",get:function(){return[As]}}],[{key:"constructor_",value:function(){this._geom=null;var R=arguments[0];this._geom=R}},{key:"locatePointInPolygon",value:function(R,A){if(A.isEmpty())return St.EXTERIOR;var O=A.getExteriorRing(),q=L.locatePointInRing(R,O);if(q!==St.INTERIOR)return q;for(var Z=0;Z<A.getNumInteriorRing();Z++){var it=A.getInteriorRingN(Z),ot=L.locatePointInRing(R,it);if(ot===St.BOUNDARY)return St.BOUNDARY;if(ot===St.INTERIOR)return St.EXTERIOR}return St.INTERIOR}},{key:"locatePointInRing",value:function(R,A){return A.getEnvelopeInternal().intersects(R)?Xi.locateInRing(R,A.getCoordinates()):St.EXTERIOR}},{key:"containsPointInPolygon",value:function(R,A){return St.EXTERIOR!==L.locatePointInPolygon(R,A)}},{key:"locateInGeometry",value:function(R,A){if(A instanceof Fr)return L.locatePointInPolygon(R,A);if(A instanceof nn)for(var O=new Ji(A);O.hasNext();){var q=O.next();if(q!==A){var Z=L.locateInGeometry(R,q);if(Z!==St.EXTERIOR)return Z}}return St.EXTERIOR}},{key:"isContained",value:function(R,A){return St.EXTERIOR!==L.locate(R,A)}},{key:"locate",value:function(R,A){return A.isEmpty()?St.EXTERIOR:A.getEnvelopeInternal().intersects(R)?L.locateInGeometry(R,A):St.EXTERIOR}}])})(),Wa=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(L){this.getEdges();var R=this._edgeList.indexOf(L),A=R-1;return R===0&&(A=this._edgeList.size()-1),this._edgeList.get(A)}},{key:"propagateSideLabels",value:function(L){for(var R=St.NONE,A=this.iterator();A.hasNext();){var O=A.next().getLabel();O.isArea(L)&&O.getLocation(L,Wt.LEFT)!==St.NONE&&(R=O.getLocation(L,Wt.LEFT))}if(R===St.NONE)return null;for(var q=R,Z=this.iterator();Z.hasNext();){var it=Z.next(),ot=it.getLabel();if(ot.getLocation(L,Wt.ON)===St.NONE&&ot.setLocation(L,Wt.ON,q),ot.isArea(L)){var gt=ot.getLocation(L,Wt.LEFT),Et=ot.getLocation(L,Wt.RIGHT);if(Et!==St.NONE){if(Et!==q)throw new wn("side location conflict",it.getCoordinate());gt===St.NONE&&Tt.shouldNeverReachHere("found single null side (at "+it.getCoordinate()+")"),q=gt}else Tt.isTrue(ot.getLocation(L,Wt.LEFT)===St.NONE,"found single null side"),ot.setLocation(L,Wt.RIGHT,q),ot.setLocation(L,Wt.LEFT,q)}}}},{key:"getCoordinate",value:function(){var L=this.iterator();return L.hasNext()?L.next().getCoordinate():null}},{key:"print",value:function(L){_n.out.println("EdgeEndStar:   "+this.getCoordinate());for(var R=this.iterator();R.hasNext();)R.next().print(L)}},{key:"isAreaLabelsConsistent",value:function(L){return this.computeEdgeEndLabels(L.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(L){var R=this.getEdges();if(R.size()<=0)return!0;var A=R.size()-1,O=R.get(A).getLabel().getLocation(L,Wt.LEFT);Tt.isTrue(O!==St.NONE,"Found unlabelled area edge");for(var q=O,Z=this.iterator();Z.hasNext();){var it=Z.next().getLabel();Tt.isTrue(it.isArea(L),"Found non-area edge");var ot=it.getLocation(L,Wt.LEFT),gt=it.getLocation(L,Wt.RIGHT);if(ot===gt||gt!==q)return!1;q=ot}return!0}},{key:"findIndex",value:function(L){this.iterator();for(var R=0;R<this._edgeList.size();R++)if(this._edgeList.get(R)===L)return R;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new ae(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(L,R,A){return this._ptInAreaLocation[L]===St.NONE&&(this._ptInAreaLocation[L]=la.locate(R,A[L].getGeometry())),this._ptInAreaLocation[L]}},{key:"toString",value:function(){var L=new _e;L.append("EdgeEndStar:   "+this.getCoordinate()),L.append(`
`);for(var R=this.iterator();R.hasNext();){var A=R.next();L.append(A),L.append(`
`)}return L.toString()}},{key:"computeEdgeEndLabels",value:function(L){for(var R=this.iterator();R.hasNext();)R.next().computeLabel(L)}},{key:"computeLabelling",value:function(L){this.computeEdgeEndLabels(L[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var R=[!1,!1],A=this.iterator();A.hasNext();)for(var O=A.next().getLabel(),q=0;q<2;q++)O.isLine(q)&&O.getLocation(q)===St.BOUNDARY&&(R[q]=!0);for(var Z=this.iterator();Z.hasNext();)for(var it=Z.next(),ot=it.getLabel(),gt=0;gt<2;gt++)if(ot.isAnyNull(gt)){var Et=St.NONE;if(R[gt])Et=St.EXTERIOR;else{var It=it.getCoordinate();Et=this.getLocation(gt,It,L)}ot.setAllLocationsIfNull(gt,Et)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(L,R){this._edgeMap.put(L,R),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Ci,this._edgeList=null,this._ptInAreaLocation=[St.NONE,St.NONE]}}])})(),ua=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var A=null,O=null,q=this._SCANNING_FOR_INCOMING,Z=0;Z<this._resultAreaEdgeList.size();Z++){var it=this._resultAreaEdgeList.get(Z),ot=it.getSym();if(it.getLabel().isArea())switch(A===null&&it.isInResult()&&(A=it),q){case this._SCANNING_FOR_INCOMING:if(!ot.isInResult())continue;O=ot,q=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!it.isInResult())continue;O.setNext(it),q=this._SCANNING_FOR_INCOMING}}if(q===this._LINKING_TO_OUTGOING){if(A===null)throw new wn("no outgoing dirEdge found",this.getCoordinate());Tt.isTrue(A.isInResult(),"unable to link last incoming dirEdge"),O.setNext(A)}}},{key:"insert",value:function(A){var O=A;this.insertEdgeEnd(O,O)}},{key:"getRightmostEdge",value:function(){var A=this.getEdges(),O=A.size();if(O<1)return null;var q=A.get(0);if(O===1)return q;var Z=A.get(O-1),it=q.getQuadrant(),ot=Z.getQuadrant();return on.isNorthern(it)&&on.isNorthern(ot)?q:on.isNorthern(it)||on.isNorthern(ot)?q.getDy()!==0?q:Z.getDy()!==0?Z:(Tt.shouldNeverReachHere("found two horizontal edges incident on node"),null):Z}},{key:"print",value:function(A){_n.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var O=this.iterator();O.hasNext();){var q=O.next();A.print("out "),q.print(A),A.println(),A.print("in "),q.getSym().print(A),A.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ae;for(var A=this.iterator();A.hasNext();){var O=A.next();(O.isInResult()||O.getSym().isInResult())&&this._resultAreaEdgeList.add(O)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(A){for(var O=this.iterator();O.hasNext();){var q=O.next().getLabel();q.setAllLocationsIfNull(0,A.getLocation(0)),q.setAllLocationsIfNull(1,A.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var A=null,O=null,q=this._edgeList.size()-1;q>=0;q--){var Z=this._edgeList.get(q),it=Z.getSym();O===null&&(O=it),A!==null&&it.setNext(A),A=Z}O.setNext(A)}},{key:"computeDepths",value:function(){if(arguments.length===1){var A=arguments[0],O=this.findIndex(A),q=A.getDepth(Wt.LEFT),Z=A.getDepth(Wt.RIGHT),it=this.computeDepths(O+1,this._edgeList.size(),q);if(this.computeDepths(0,O,it)!==Z)throw new wn("depth mismatch at "+A.getCoordinate())}else if(arguments.length===3){for(var ot=arguments[1],gt=arguments[2],Et=arguments[0];Et<ot;Et++){var It=this._edgeList.get(Et);It.setEdgeDepths(Wt.RIGHT,gt),gt=It.getDepth(Wt.LEFT)}return gt}}},{key:"mergeSymLabels",value:function(){for(var A=this.iterator();A.hasNext();){var O=A.next();O.getLabel().merge(O.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(A){for(var O=null,q=null,Z=this._SCANNING_FOR_INCOMING,it=this._resultAreaEdgeList.size()-1;it>=0;it--){var ot=this._resultAreaEdgeList.get(it),gt=ot.getSym();switch(O===null&&ot.getEdgeRing()===A&&(O=ot),Z){case this._SCANNING_FOR_INCOMING:if(gt.getEdgeRing()!==A)continue;q=gt,Z=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(ot.getEdgeRing()!==A)continue;q.setNextMin(ot),Z=this._SCANNING_FOR_INCOMING}}Z===this._LINKING_TO_OUTGOING&&(Tt.isTrue(O!==null,"found null for first outgoing dirEdge"),Tt.isTrue(O.getEdgeRing()===A,"unable to link last incoming dirEdge"),q.setNextMin(O))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var A=0,O=this.iterator();O.hasNext();)O.next().isInResult()&&A++;return A}if(arguments.length===1){for(var q=arguments[0],Z=0,it=this.iterator();it.hasNext();)it.next().getEdgeRing()===q&&Z++;return Z}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var A=St.NONE,O=this.iterator();O.hasNext();){var q=O.next(),Z=q.getSym();if(!q.isLineEdge()){if(q.isInResult()){A=St.INTERIOR;break}if(Z.isInResult()){A=St.EXTERIOR;break}}}if(A===St.NONE)return null;for(var it=A,ot=this.iterator();ot.hasNext();){var gt=ot.next(),Et=gt.getSym();gt.isLineEdge()?gt.getEdge().setCovered(it===St.INTERIOR):(gt.isInResult()&&(it=St.EXTERIOR),Et.isInResult()&&(it=St.INTERIOR))}}},{key:"computeLabelling",value:function(A){H(R,"computeLabelling",this,1).call(this,A),this._label=new an(St.NONE);for(var O=this.iterator();O.hasNext();)for(var q=O.next().getEdge().getLabel(),Z=0;Z<2;Z++){var it=q.getLocation(Z);it!==St.INTERIOR&&it!==St.BOUNDARY||this._label.setLocation(Z,St.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(Wa),ca=(function(L){function R(){return s(this,R),r(this,R)}return z(R,L),P(R,[{key:"createNode",value:function(A){return new Un(A,new ua)}}])})(gr),Ps=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"compareTo",value:function(R){var A=R;return L.compareOriented(this._pts,this._orientation,A._pts,A._orientation)}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var R=arguments[0];this._pts=R,this._orientation=L.orientation(R)}},{key:"orientation",value:function(R){return Ve.increasingDirection(R)===1}},{key:"compareOriented",value:function(R,A,O,q){for(var Z=A?1:-1,it=q?1:-1,ot=A?R.length:-1,gt=q?O.length:-1,Et=A?0:R.length-1,It=q?0:O.length-1;;){var Lt=R[Et].compareTo(O[It]);if(Lt!==0)return Lt;var Kt=(Et+=Z)===ot,te=(It+=it)===gt;if(Kt&&!te)return-1;if(!Kt&&te)return 1;if(Kt&&te)return 0}}}])})(),tr=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"print",value:function(L){L.print("MULTILINESTRING ( ");for(var R=0;R<this._edges.size();R++){var A=this._edges.get(R);R>0&&L.print(","),L.print("(");for(var O=A.getCoordinates(),q=0;q<O.length;q++)q>0&&L.print(","),L.print(O[q].x+" "+O[q].y);L.println(")")}L.print(")  ")}},{key:"addAll",value:function(L){for(var R=L.iterator();R.hasNext();)this.add(R.next())}},{key:"findEdgeIndex",value:function(L){for(var R=0;R<this._edges.size();R++)if(this._edges.get(R).equals(L))return R;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(L){return this._edges.get(L)}},{key:"findEqualEdge",value:function(L){var R=new Ps(L.getCoordinates());return this._ocaMap.get(R)}},{key:"add",value:function(L){this._edges.add(L);var R=new Ps(L.getCoordinates());this._ocaMap.put(R,L)}}],[{key:"constructor_",value:function(){this._edges=new ae,this._ocaMap=new Ci}}])})(),Fi=(function(){return P((function L(){s(this,L)}),[{key:"processIntersections",value:function(L,R,A,O){}},{key:"isDone",value:function(){}}])})(),ha=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"isTrivialIntersection",value:function(R,A,O,q){if(R===O&&this._li.getIntersectionNum()===1){if(L.isAdjacentSegments(A,q))return!0;if(R.isClosed()){var Z=R.size()-1;if(A===0&&q===Z||q===0&&A===Z)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(R,A,O,q){if(R===O&&A===q)return null;this.numTests++;var Z=R.getCoordinates()[A],it=R.getCoordinates()[A+1],ot=O.getCoordinates()[q],gt=O.getCoordinates()[q+1];this._li.computeIntersection(Z,it,ot,gt),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(R,A,O,q)||(this._hasIntersection=!0,R.addIntersections(this._li,A,0),O.addIntersections(this._li,q,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Fi]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var R=arguments[0];this._li=R}},{key:"isAdjacentSegments",value:function(R,A){return Math.abs(R-A)===1}}])})(),er=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(L){L.print(this.coord),L.print(" seg # = "+this.segmentIndex),L.println(" dist = "+this.dist)}},{key:"compareTo",value:function(L){var R=L;return this.compare(R.segmentIndex,R.dist)}},{key:"isEndPoint",value:function(L){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===L}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(L,R){return this.segmentIndex<L?-1:this.segmentIndex>L?1:this.dist<R?-1:this.dist>R?1:0}},{key:"interfaces_",get:function(){return[ht]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var L=arguments[0],R=arguments[1],A=arguments[2];this.coord=new Mt(L),this.segmentIndex=R,this.dist=A}}])})(),qr=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"print",value:function(L){L.println("Intersections:");for(var R=this.iterator();R.hasNext();)R.next().print(L)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(L){this.addEndpoints();for(var R=this.iterator(),A=R.next();R.hasNext();){var O=R.next(),q=this.createSplitEdge(A,O);L.add(q),A=O}}},{key:"addEndpoints",value:function(){var L=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[L],L,0)}},{key:"createSplitEdge",value:function(L,R){var A=R.segmentIndex-L.segmentIndex+2,O=this.edge.pts[R.segmentIndex],q=R.dist>0||!R.coord.equals2D(O);q||A--;var Z=new Array(A).fill(null),it=0;Z[it++]=new Mt(L.coord);for(var ot=L.segmentIndex+1;ot<=R.segmentIndex;ot++)Z[it++]=this.edge.pts[ot];return q&&(Z[it]=R.coord),new Hr(Z,new an(this.edge._label))}},{key:"add",value:function(L,R,A){var O=new er(L,R,A),q=this._nodeMap.get(O);return q!==null?q:(this._nodeMap.put(O,O),O)}},{key:"isIntersection",value:function(L){for(var R=this.iterator();R.hasNext();)if(R.next().coord.equals(L))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Ci,this.edge=null;var L=arguments[0];this.edge=L}}])})(),Ms=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(L.isTrue(this._matrix[St.INTERIOR][St.INTERIOR])||L.isTrue(this._matrix[St.INTERIOR][St.BOUNDARY])||L.isTrue(this._matrix[St.BOUNDARY][St.INTERIOR])||L.isTrue(this._matrix[St.BOUNDARY][St.BOUNDARY]))&&this._matrix[St.EXTERIOR][St.INTERIOR]===Zt.FALSE&&this._matrix[St.EXTERIOR][St.BOUNDARY]===Zt.FALSE}},{key:"isCoveredBy",value:function(){return(L.isTrue(this._matrix[St.INTERIOR][St.INTERIOR])||L.isTrue(this._matrix[St.INTERIOR][St.BOUNDARY])||L.isTrue(this._matrix[St.BOUNDARY][St.INTERIOR])||L.isTrue(this._matrix[St.BOUNDARY][St.BOUNDARY]))&&this._matrix[St.INTERIOR][St.EXTERIOR]===Zt.FALSE&&this._matrix[St.BOUNDARY][St.EXTERIOR]===Zt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var R=arguments[0],A=0;A<R.length;A++){var O=Math.trunc(A/3),q=A%3;this._matrix[O][q]=Zt.toDimensionValue(R.charAt(A))}else if(arguments.length===3){var Z=arguments[0],it=arguments[1],ot=arguments[2];this._matrix[Z][it]=ot}}},{key:"isContains",value:function(){return L.isTrue(this._matrix[St.INTERIOR][St.INTERIOR])&&this._matrix[St.EXTERIOR][St.INTERIOR]===Zt.FALSE&&this._matrix[St.EXTERIOR][St.BOUNDARY]===Zt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var R=arguments[0],A=0;A<R.length;A++){var O=Math.trunc(A/3),q=A%3;this.setAtLeast(O,q,Zt.toDimensionValue(R.charAt(A)))}else if(arguments.length===3){var Z=arguments[0],it=arguments[1],ot=arguments[2];this._matrix[Z][it]<ot&&(this._matrix[Z][it]=ot)}}},{key:"setAtLeastIfValid",value:function(R,A,O){R>=0&&A>=0&&this.setAtLeast(R,A,O)}},{key:"isWithin",value:function(){return L.isTrue(this._matrix[St.INTERIOR][St.INTERIOR])&&this._matrix[St.INTERIOR][St.EXTERIOR]===Zt.FALSE&&this._matrix[St.BOUNDARY][St.EXTERIOR]===Zt.FALSE}},{key:"isTouches",value:function(R,A){return R>A?this.isTouches(A,R):(R===Zt.A&&A===Zt.A||R===Zt.L&&A===Zt.L||R===Zt.L&&A===Zt.A||R===Zt.P&&A===Zt.A||R===Zt.P&&A===Zt.L)&&this._matrix[St.INTERIOR][St.INTERIOR]===Zt.FALSE&&(L.isTrue(this._matrix[St.INTERIOR][St.BOUNDARY])||L.isTrue(this._matrix[St.BOUNDARY][St.INTERIOR])||L.isTrue(this._matrix[St.BOUNDARY][St.BOUNDARY]))}},{key:"isOverlaps",value:function(R,A){return R===Zt.P&&A===Zt.P||R===Zt.A&&A===Zt.A?L.isTrue(this._matrix[St.INTERIOR][St.INTERIOR])&&L.isTrue(this._matrix[St.INTERIOR][St.EXTERIOR])&&L.isTrue(this._matrix[St.EXTERIOR][St.INTERIOR]):R===Zt.L&&A===Zt.L&&this._matrix[St.INTERIOR][St.INTERIOR]===1&&L.isTrue(this._matrix[St.INTERIOR][St.EXTERIOR])&&L.isTrue(this._matrix[St.EXTERIOR][St.INTERIOR])}},{key:"isEquals",value:function(R,A){return R===A&&L.isTrue(this._matrix[St.INTERIOR][St.INTERIOR])&&this._matrix[St.INTERIOR][St.EXTERIOR]===Zt.FALSE&&this._matrix[St.BOUNDARY][St.EXTERIOR]===Zt.FALSE&&this._matrix[St.EXTERIOR][St.INTERIOR]===Zt.FALSE&&this._matrix[St.EXTERIOR][St.BOUNDARY]===Zt.FALSE}},{key:"toString",value:function(){for(var R=new Ii("123456789"),A=0;A<3;A++)for(var O=0;O<3;O++)R.setCharAt(3*A+O,Zt.toDimensionSymbol(this._matrix[A][O]));return R.toString()}},{key:"setAll",value:function(R){for(var A=0;A<3;A++)for(var O=0;O<3;O++)this._matrix[A][O]=R}},{key:"get",value:function(R,A){return this._matrix[R][A]}},{key:"transpose",value:function(){var R=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=R,R=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=R,R=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=R,this}},{key:"matches",value:function(R){if(R.length!==9)throw new nt("Should be length 9: "+R);for(var A=0;A<3;A++)for(var O=0;O<3;O++)if(!L.matches(this._matrix[A][O],R.charAt(3*A+O)))return!1;return!0}},{key:"add",value:function(R){for(var A=0;A<3;A++)for(var O=0;O<3;O++)this.setAtLeast(A,O,R.get(A,O))}},{key:"isDisjoint",value:function(){return this._matrix[St.INTERIOR][St.INTERIOR]===Zt.FALSE&&this._matrix[St.INTERIOR][St.BOUNDARY]===Zt.FALSE&&this._matrix[St.BOUNDARY][St.INTERIOR]===Zt.FALSE&&this._matrix[St.BOUNDARY][St.BOUNDARY]===Zt.FALSE}},{key:"isCrosses",value:function(R,A){return R===Zt.P&&A===Zt.L||R===Zt.P&&A===Zt.A||R===Zt.L&&A===Zt.A?L.isTrue(this._matrix[St.INTERIOR][St.INTERIOR])&&L.isTrue(this._matrix[St.INTERIOR][St.EXTERIOR]):R===Zt.L&&A===Zt.P||R===Zt.A&&A===Zt.P||R===Zt.A&&A===Zt.L?L.isTrue(this._matrix[St.INTERIOR][St.INTERIOR])&&L.isTrue(this._matrix[St.EXTERIOR][St.INTERIOR]):R===Zt.L&&A===Zt.L&&this._matrix[St.INTERIOR][St.INTERIOR]===0}},{key:"interfaces_",get:function(){return[ct]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Zt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var R=arguments[0];L.constructor_.call(this),this.set(R)}else if(arguments[0]instanceof L){var A=arguments[0];L.constructor_.call(this),this._matrix[St.INTERIOR][St.INTERIOR]=A._matrix[St.INTERIOR][St.INTERIOR],this._matrix[St.INTERIOR][St.BOUNDARY]=A._matrix[St.INTERIOR][St.BOUNDARY],this._matrix[St.INTERIOR][St.EXTERIOR]=A._matrix[St.INTERIOR][St.EXTERIOR],this._matrix[St.BOUNDARY][St.INTERIOR]=A._matrix[St.BOUNDARY][St.INTERIOR],this._matrix[St.BOUNDARY][St.BOUNDARY]=A._matrix[St.BOUNDARY][St.BOUNDARY],this._matrix[St.BOUNDARY][St.EXTERIOR]=A._matrix[St.BOUNDARY][St.EXTERIOR],this._matrix[St.EXTERIOR][St.INTERIOR]=A._matrix[St.EXTERIOR][St.INTERIOR],this._matrix[St.EXTERIOR][St.BOUNDARY]=A._matrix[St.EXTERIOR][St.BOUNDARY],this._matrix[St.EXTERIOR][St.EXTERIOR]=A._matrix[St.EXTERIOR][St.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var R=arguments[0],A=arguments[1];return A===Zt.SYM_DONTCARE||A===Zt.SYM_TRUE&&(R>=0||R===Zt.TRUE)||A===Zt.SYM_FALSE&&R===Zt.FALSE||A===Zt.SYM_P&&R===Zt.P||A===Zt.SYM_L&&R===Zt.L||A===Zt.SYM_A&&R===Zt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var O=arguments[1];return new L(arguments[0]).matches(O)}}},{key:"isTrue",value:function(R){return R>=0||R===Zt.TRUE}}])})(),Ns=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(R){return R===null||R.length===0?null:(this.ensureCapacity(this._size+R.length),_n.arraycopy(R,0,this._data,this._size,R.length),void(this._size+=R.length))}},{key:"ensureCapacity",value:function(R){if(R<=this._data.length)return null;var A=Math.max(R,2*this._data.length);this._data=fi.copyOf(this._data,A)}},{key:"toArray",value:function(){var R=new Array(this._size).fill(null);return _n.arraycopy(this._data,0,R,0,this._size),R}},{key:"add",value:function(R){this.ensureCapacity(this._size+1),this._data[this._size]=R,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)L.constructor_.call(this,10);else if(arguments.length===1){var R=arguments[0];this._data=new Array(R).fill(null)}}}])})(),js=(function(){function L(){s(this,L)}return P(L,[{key:"getChainStartIndices",value:function(R){var A=0,O=new Ns(Math.trunc(R.length/2));O.add(A);do{var q=this.findChainEnd(R,A);O.add(q),A=q}while(A<R.length-1);return O.toArray()}},{key:"findChainEnd",value:function(R,A){for(var O=on.quadrant(R[A],R[A+1]),q=A+1;q<R.length&&on.quadrant(R[q-1],R[q])===O;)q++;return q-1}},{key:"OLDgetChainStartIndices",value:function(R){var A=0,O=new ae;O.add(A);do{var q=this.findChainEnd(R,A);O.add(q),A=q}while(A<R.length-1);return L.toIntArray(O)}}],[{key:"toIntArray",value:function(R){for(var A=new Array(R.size()).fill(null),O=0;O<A.length;O++)A[O]=R.get(O).intValue();return A}}])})(),fa=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(L){var R=this.pts[this.startIndex[L]].x,A=this.pts[this.startIndex[L+1]].x;return R>A?R:A}},{key:"getMinX",value:function(L){var R=this.pts[this.startIndex[L]].x,A=this.pts[this.startIndex[L+1]].x;return R<A?R:A}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var L=arguments[0],R=arguments[1],A=arguments[2],O=arguments[3];this.computeIntersectsForChain(this.startIndex[L],this.startIndex[L+1],R,R.startIndex[A],R.startIndex[A+1],O)}else if(arguments.length===6){var q=arguments[0],Z=arguments[1],it=arguments[2],ot=arguments[3],gt=arguments[4],Et=arguments[5];if(Z-q==1&&gt-ot==1)return Et.addIntersections(this.e,q,it.e,ot),null;if(!this.overlaps(q,Z,it,ot,gt))return null;var It=Math.trunc((q+Z)/2),Lt=Math.trunc((ot+gt)/2);q<It&&(ot<Lt&&this.computeIntersectsForChain(q,It,it,ot,Lt,Et),Lt<gt&&this.computeIntersectsForChain(q,It,it,Lt,gt,Et)),It<Z&&(ot<Lt&&this.computeIntersectsForChain(It,Z,it,ot,Lt,Et),Lt<gt&&this.computeIntersectsForChain(It,Z,it,Lt,gt,Et))}}},{key:"overlaps",value:function(L,R,A,O,q){return me.intersects(this.pts[L],this.pts[R],A.pts[O],A.pts[q])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(L,R){for(var A=0;A<this.startIndex.length-1;A++)for(var O=0;O<L.startIndex.length-1;O++)this.computeIntersectsForChain(A,L,O,R)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var L=arguments[0];this.e=L,this.pts=L.getCoordinates();var R=new js;this.startIndex=R.getChainStartIndices(this.pts)}}])})(),Is=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"getDepth",value:function(R,A){return this._depth[R][A]}},{key:"setDepth",value:function(R,A,O){this._depth[R][A]=O}},{key:"isNull",value:function(){if(arguments.length===0){for(var R=0;R<2;R++)for(var A=0;A<3;A++)if(this._depth[R][A]!==L.NULL_VALUE)return!1;return!0}if(arguments.length===1){var O=arguments[0];return this._depth[O][1]===L.NULL_VALUE}if(arguments.length===2){var q=arguments[0],Z=arguments[1];return this._depth[q][Z]===L.NULL_VALUE}}},{key:"normalize",value:function(){for(var R=0;R<2;R++)if(!this.isNull(R)){var A=this._depth[R][1];this._depth[R][2]<A&&(A=this._depth[R][2]),A<0&&(A=0);for(var O=1;O<3;O++){var q=0;this._depth[R][O]>A&&(q=1),this._depth[R][O]=q}}}},{key:"getDelta",value:function(R){return this._depth[R][Wt.RIGHT]-this._depth[R][Wt.LEFT]}},{key:"getLocation",value:function(R,A){return this._depth[R][A]<=0?St.EXTERIOR:St.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var R=arguments[0],A=0;A<2;A++)for(var O=1;O<3;O++){var q=R.getLocation(A,O);q!==St.EXTERIOR&&q!==St.INTERIOR||(this.isNull(A,O)?this._depth[A][O]=L.depthAtLocation(q):this._depth[A][O]+=L.depthAtLocation(q))}else if(arguments.length===3){var Z=arguments[0],it=arguments[1];arguments[2]===St.INTERIOR&&this._depth[Z][it]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var R=0;R<2;R++)for(var A=0;A<3;A++)this._depth[R][A]=L.NULL_VALUE}},{key:"depthAtLocation",value:function(R){return R===St.EXTERIOR?0:R===St.INTERIOR?1:L.NULL_VALUE}}])})();Is.NULL_VALUE=-1;var Hr=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var A=new Array(2).fill(null);return A[0]=this.pts[0],A[1]=this.pts[1],new R(A,an.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(A){this._isIsolated=A}},{key:"setName",value:function(A){this._name=A}},{key:"equals",value:function(A){if(!(A instanceof R))return!1;var O=A;if(this.pts.length!==O.pts.length)return!1;for(var q=!0,Z=!0,it=this.pts.length,ot=0;ot<this.pts.length;ot++)if(this.pts[ot].equals2D(O.pts[ot])||(q=!1),this.pts[ot].equals2D(O.pts[--it])||(Z=!1),!q&&!Z)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var A=arguments[0];return this.pts[A]}}},{key:"print",value:function(A){A.print("edge "+this._name+": "),A.print("LINESTRING (");for(var O=0;O<this.pts.length;O++)O>0&&A.print(","),A.print(this.pts[O].x+" "+this.pts[O].y);A.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(A){R.updateIM(this._label,A)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(A){A.print("edge "+this._name+": ");for(var O=this.pts.length-1;O>=0;O--)A.print(this.pts[O]+" ");A.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new fa(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new me;for(var A=0;A<this.pts.length;A++)this._env.expandToInclude(this.pts[A])}return this._env}},{key:"addIntersection",value:function(A,O,q,Z){var it=new Mt(A.getIntersection(Z)),ot=O,gt=A.getEdgeDistance(q,Z),Et=ot+1;if(Et<this.pts.length){var It=this.pts[Et];it.equals2D(It)&&(ot=Et,gt=0)}this.eiList.add(it,ot,gt)}},{key:"toString",value:function(){var A=new Ii;A.append("edge "+this._name+": "),A.append("LINESTRING (");for(var O=0;O<this.pts.length;O++)O>0&&A.append(","),A.append(this.pts[O].x+" "+this.pts[O].y);return A.append(")  "+this._label+" "+this._depthDelta),A.toString()}},{key:"isPointwiseEqual",value:function(A){if(this.pts.length!==A.pts.length)return!1;for(var O=0;O<this.pts.length;O++)if(!this.pts[O].equals2D(A.pts[O]))return!1;return!0}},{key:"setDepthDelta",value:function(A){this._depthDelta=A}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(A,O,q){for(var Z=0;Z<A.getIntersectionNum();Z++)this.addIntersection(A,O,q,Z)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new qr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Is,this._depthDelta=0,arguments.length===1){var A=arguments[0];R.constructor_.call(this,A,null)}else if(arguments.length===2){var O=arguments[0],q=arguments[1];this.pts=O,this._label=q}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Ms&&arguments[0]instanceof an))return H(R,"updateIM",this).apply(this,arguments);var A=arguments[0],O=arguments[1];O.setAtLeastIfValid(A.getLocation(0,Wt.ON),A.getLocation(1,Wt.ON),1),A.isArea()&&(O.setAtLeastIfValid(A.getLocation(0,Wt.LEFT),A.getLocation(1,Wt.LEFT),2),O.setAtLeastIfValid(A.getLocation(0,Wt.RIGHT),A.getLocation(1,Wt.RIGHT),2))}}])})(Ki),Fo=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"setWorkingPrecisionModel",value:function(R){this._workingPrecisionModel=R}},{key:"insertUniqueEdge",value:function(R){var A=this._edgeList.findEqualEdge(R);if(A!==null){var O=A.getLabel(),q=R.getLabel();A.isPointwiseEqual(R)||(q=new an(R.getLabel())).flip(),O.merge(q);var Z=L.depthDelta(q),it=A.getDepthDelta()+Z;A.setDepthDelta(it)}else this._edgeList.add(R),R.setDepthDelta(L.depthDelta(R.getLabel()))}},{key:"buildSubgraphs",value:function(R,A){for(var O=new ae,q=R.iterator();q.hasNext();){var Z=q.next(),it=Z.getRightmostCoordinate(),ot=new ce(O).getDepth(it);Z.computeDepth(ot),Z.findResultEdges(),O.add(Z),A.add(Z.getDirectedEdges(),Z.getNodes())}}},{key:"createSubgraphs",value:function(R){for(var A=new ae,O=R.getNodes().iterator();O.hasNext();){var q=O.next();if(!q.isVisited()){var Z=new lr;Z.create(q),A.add(Z)}}return Qi.sort(A,Qi.reverseOrder()),A}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(R){if(this._workingNoder!==null)return this._workingNoder;var A=new et,O=new ai;return O.setPrecisionModel(R),A.setSegmentIntersector(new ha(O)),A}},{key:"buffer",value:function(R,A){var O=this._workingPrecisionModel;O===null&&(O=R.getPrecisionModel()),this._geomFact=R.getFactory();var q=new ne(O,this._bufParams),Z=new oa(R,A,q).getCurves();if(Z.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(Z,O),this._graph=new Oi(new ca),this._graph.addEdges(this._edgeList.getEdges());var it=this.createSubgraphs(this._graph),ot=new za(this._geomFact);this.buildSubgraphs(it,ot);var gt=ot.getPolygons();return gt.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(gt)}},{key:"computeNodedEdges",value:function(R,A){var O=this.getNoder(A);O.computeNodes(R);for(var q=O.getNodedSubstrings().iterator();q.hasNext();){var Z=q.next(),it=Z.getCoordinates();if(it.length!==2||!it[0].equals2D(it[1])){var ot=Z.getData(),gt=new Hr(Z.getCoordinates(),new an(ot));this.insertUniqueEdge(gt)}}}},{key:"setNoder",value:function(R){this._workingNoder=R}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new tr;var R=arguments[0];this._bufParams=R}},{key:"depthDelta",value:function(R){var A=R.getLocation(0,Wt.LEFT),O=R.getLocation(0,Wt.RIGHT);return A===St.INTERIOR&&O===St.EXTERIOR?1:A===St.EXTERIOR&&O===St.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(R){for(var A=new ri,O=new ae;R.hasNext();){var q=R.next(),Z=A.createLineString(q.getCoordinates());O.add(Z)}return A.buildGeometry(O)}}])})(),Bl=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"rescale",value:function(){if(oe(arguments[0],ge))for(var R=arguments[0].iterator();R.hasNext();){var A=R.next();this.rescale(A.getCoordinates())}else if(arguments[0]instanceof Array){for(var O=arguments[0],q=0;q<O.length;q++)O[q].x=O[q].x/this._scaleFactor+this._offsetX,O[q].y=O[q].y/this._scaleFactor+this._offsetY;O.length===2&&O[0].equals2D(O[1])&&_n.out.println(O)}}},{key:"scale",value:function(){if(oe(arguments[0],ge)){for(var R=arguments[0],A=new ae(R.size()),O=R.iterator();O.hasNext();){var q=O.next();A.add(new Li(this.scale(q.getCoordinates()),q.getData()))}return A}if(arguments[0]instanceof Array){for(var Z=arguments[0],it=new Array(Z.length).fill(null),ot=0;ot<Z.length;ot++)it[ot]=new Mt(Math.round((Z[ot].x-this._offsetX)*this._scaleFactor),Math.round((Z[ot].y-this._offsetY)*this._scaleFactor),Z[ot].getZ());return Ve.removeRepeatedPoints(it)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var R=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(R),R}},{key:"computeNodes",value:function(R){var A=R;this._isScaled&&(A=this.scale(R)),this._noder.computeNodes(A)}},{key:"interfaces_",get:function(){return[Ts]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var R=arguments[0],A=arguments[1];L.constructor_.call(this,R,A,0,0)}else if(arguments.length===4){var O=arguments[0],q=arguments[1];this._noder=O,this._scaleFactor=q,this._isScaled=!this.isIntegerPrecision()}}}])})(),Bo=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var R=this._segStrings.iterator();R.hasNext();){var A=R.next().getCoordinates();this.checkEndPtVertexIntersections(A[0],this._segStrings),this.checkEndPtVertexIntersections(A[A.length-1],this._segStrings)}else if(arguments.length===2){for(var O=arguments[0],q=arguments[1].iterator();q.hasNext();)for(var Z=q.next().getCoordinates(),it=1;it<Z.length-1;it++)if(Z[it].equals(O))throw new Pt("found endpt/interior pt intersection at index "+it+" :pt "+O)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var R=this._segStrings.iterator();R.hasNext();)for(var A=R.next(),O=this._segStrings.iterator();O.hasNext();){var q=O.next();this.checkInteriorIntersections(A,q)}else if(arguments.length===2)for(var Z=arguments[0],it=arguments[1],ot=Z.getCoordinates(),gt=it.getCoordinates(),Et=0;Et<ot.length-1;Et++)for(var It=0;It<gt.length-1;It++)this.checkInteriorIntersections(Z,Et,it,It);else if(arguments.length===4){var Lt=arguments[0],Kt=arguments[1],te=arguments[2],re=arguments[3];if(Lt===te&&Kt===re)return null;var le=Lt.getCoordinates()[Kt],Re=Lt.getCoordinates()[Kt+1],Ee=te.getCoordinates()[re],Se=te.getCoordinates()[re+1];if(this._li.computeIntersection(le,Re,Ee,Se),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,le,Re)||this.hasInteriorIntersection(this._li,Ee,Se)))throw new Pt("found non-noded intersection at "+le+"-"+Re+" and "+Ee+"-"+Se)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var R=this._segStrings.iterator();R.hasNext();){var A=R.next();this.checkCollapses(A)}else if(arguments.length===1)for(var O=arguments[0].getCoordinates(),q=0;q<O.length-2;q++)this.checkCollapse(O[q],O[q+1],O[q+2])}},{key:"hasInteriorIntersection",value:function(R,A,O){for(var q=0;q<R.getIntersectionNum();q++){var Z=R.getIntersection(q);if(!Z.equals(A)&&!Z.equals(O))return!0}return!1}},{key:"checkCollapse",value:function(R,A,O){if(R.equals(O))throw new Pt("found non-noded collapse at "+L.fact.createLineString([R,A,O]))}}],[{key:"constructor_",value:function(){this._li=new ai,this._segStrings=null;var R=arguments[0];this._segStrings=R}}])})();Bo.fact=new ri;var Qa=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"intersectsScaled",value:function(R,A){var O=Math.min(R.x,A.x),q=Math.max(R.x,A.x),Z=Math.min(R.y,A.y),it=Math.max(R.y,A.y),ot=this._maxx<O||this._minx>q||this._maxy<Z||this._miny>it;if(ot)return!1;var gt=this.intersectsToleranceSquare(R,A);return Tt.isTrue(!(ot&&gt),"Found bad envelope test"),gt}},{key:"initCorners",value:function(R){var A=.5;this._minx=R.x-A,this._maxx=R.x+A,this._miny=R.y-A,this._maxy=R.y+A,this._corner[0]=new Mt(this._maxx,this._maxy),this._corner[1]=new Mt(this._minx,this._maxy),this._corner[2]=new Mt(this._minx,this._miny),this._corner[3]=new Mt(this._maxx,this._miny)}},{key:"intersects",value:function(R,A){return this._scaleFactor===1?this.intersectsScaled(R,A):(this.copyScaled(R,this._p0Scaled),this.copyScaled(A,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(R){return Math.round(R*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(R,A){A.x=this.scale(R.x),A.y=this.scale(R.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var R=L.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new me(this._originalPt.x-R,this._originalPt.x+R,this._originalPt.y-R,this._originalPt.y+R)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(R,A){return this._li.computeIntersection(R,A,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(R,A,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(R,A,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(R,A,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(R,A){var O=!1,q=!1;return this._li.computeIntersection(R,A,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(R,A,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(O=!0),this._li.computeIntersection(R,A,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(q=!0),this._li.computeIntersection(R,A,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!O||!q)||!!R.equals(this._pt)||!!A.equals(this._pt))))}},{key:"addSnappedNode",value:function(R,A){var O=R.getCoordinate(A),q=R.getCoordinate(A+1);return!!this.intersects(O,q)&&(R.addIntersection(this.getCoordinate(),A),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var R=arguments[0],A=arguments[1],O=arguments[2];if(this._originalPt=R,this._pt=R,this._scaleFactor=A,this._li=O,A<=0)throw new nt("Scale factor must be non-zero");A!==1&&(this._pt=new Mt(this.scale(R.x),this.scale(R.y)),this._p0Scaled=new Mt,this._p1Scaled=new Mt),this.initCorners(this._pt)}}])})();Qa.SAFE_ENV_EXPANSION_FACTOR=.75;var Vl=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var L=arguments[1];arguments[0].getLineSegment(L,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Dn}}])})(),Xn=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var L=arguments[0];return this.snap(L,null,-1)}if(arguments.length===3){var R=arguments[0],A=arguments[1],O=arguments[2],q=R.getSafeEnvelope(),Z=new Ur(R,A,O);return this._index.query(q,new((function(){return P((function it(){s(this,it)}),[{key:"interfaces_",get:function(){return[$r]}},{key:"visitItem",value:function(it){it.select(q,Z)}}])})())),Z.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var L=arguments[0];this._index=L}}])})(),Ur=(function(L){function R(){var A;return s(this,R),A=r(this,R),R.constructor_.apply(A,arguments),A}return z(R,L),P(R,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof rn))return H(R,"select",this,1).apply(this,arguments);var A=arguments[1],O=arguments[0].getContext();if(this._parentEdge===O&&(A===this._hotPixelVertexIndex||A+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(O,A)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var A=arguments[0],O=arguments[1],q=arguments[2];this._hotPixel=A,this._parentEdge=O,this._hotPixelVertexIndex=q}}])})(Vl);Xn.HotPixelSnapAction=Ur;var Vo=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(L,R,A,O){if(L===A&&R===O)return null;var q=L.getCoordinates()[R],Z=L.getCoordinates()[R+1],it=A.getCoordinates()[O],ot=A.getCoordinates()[O+1];if(this._li.computeIntersection(q,Z,it,ot),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var gt=0;gt<this._li.getIntersectionNum();gt++)this._interiorIntersections.add(this._li.getIntersection(gt));L.addIntersections(this._li,R,0),A.addIntersections(this._li,O,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Fi]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var L=arguments[0];this._li=L,this._interiorIntersections=new ae}}])})(),zo=(function(){return P((function L(){s(this,L),L.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(L){var R=Li.getNodedSubstrings(L),A=new Bo(R);try{A.checkValid()}catch(O){if(!(O instanceof tt))throw O;O.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return Li.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(L,R){var A=this.findInteriorIntersections(L,R);this.computeIntersectionSnaps(A),this.computeVertexSnaps(L)}},{key:"findInteriorIntersections",value:function(L,R){var A=new Vo(R);return this._noder.setSegmentIntersector(A),this._noder.computeNodes(L),A.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(oe(arguments[0],ge))for(var L=arguments[0].iterator();L.hasNext();){var R=L.next();this.computeVertexSnaps(R)}else if(arguments[0]instanceof Li)for(var A=arguments[0],O=A.getCoordinates(),q=0;q<O.length;q++){var Z=new Qa(O[q],this._scaleFactor,this._li);this._pointSnapper.snap(Z,A,q)&&A.addIntersection(O[q],q)}}},{key:"computeNodes",value:function(L){this._nodedSegStrings=L,this._noder=new et,this._pointSnapper=new Xn(this._noder.getIndex()),this.snapRound(L,this._li)}},{key:"computeIntersectionSnaps",value:function(L){for(var R=L.iterator();R.hasNext();){var A=R.next(),O=new Qa(A,this._scaleFactor,this._li);this._pointSnapper.snap(O)}}},{key:"interfaces_",get:function(){return[Ts]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var L=arguments[0];this._pm=L,this._li=new ai,this._li.setPrecisionModel(L),this._scaleFactor=L.getScale()}}])})(),xr=(function(){function L(){s(this,L),L.constructor_.apply(this,arguments)}return P(L,[{key:"bufferFixedPrecision",value:function(R){var A=new Bl(new zo(new tn(1)),R.getScale()),O=new Fo(this._bufParams);O.setWorkingPrecisionModel(R),O.setNoder(A),this._resultGeometry=O.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var R=L.MAX_PRECISION_DIGITS;R>=0;R--){try{this.bufferReducedPrecision(R)}catch(Z){if(!(Z instanceof wn))throw Z;this._saveException=Z}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var A=arguments[0],O=L.precisionScaleFactor(this._argGeom,this._distance,A),q=new tn(O);this.bufferFixedPrecision(q)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var R=this._argGeom.getFactory().getPrecisionModel();R.getType()===tn.FIXED?this.bufferFixedPrecision(R):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(R){this._bufParams.setQuadrantSegments(R)}},{key:"bufferOriginalPrecision",value:function(){try{var R=new Fo(this._bufParams);this._resultGeometry=R.buffer(this._argGeom,this._distance)}catch(A){if(!(A instanceof Pt))throw A;this._saveException=A}}},{key:"getResultGeometry",value:function(R){return this._distance=R,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(R){this._bufParams.setEndCapStyle(R)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new K,this._resultGeometry=null,this._saveException=null,arguments.length===1){var R=arguments[0];this._argGeom=R}else if(arguments.length===2){var A=arguments[0],O=arguments[1];this._argGeom=A,this._bufParams=O}}},{key:"bufferOp",value:function(){if(arguments.length===2){var R=arguments[1];return new L(arguments[0]).getResultGeometry(R)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Jt&&typeof arguments[1]=="number"){var A=arguments[1],O=arguments[2],q=new L(arguments[0]);return q.setQuadrantSegments(O),q.getResultGeometry(A)}if(arguments[2]instanceof K&&arguments[0]instanceof Jt&&typeof arguments[1]=="number"){var Z=arguments[1];return new L(arguments[0],arguments[2]).getResultGeometry(Z)}}else if(arguments.length===4){var it=arguments[1],ot=arguments[2],gt=arguments[3],Et=new L(arguments[0]);return Et.setQuadrantSegments(ot),Et.setEndCapStyle(gt),Et.getResultGeometry(it)}}},{key:"precisionScaleFactor",value:function(R,A,O){var q=R.getEnvelopeInternal(),Z=Rn.max(Math.abs(q.getMaxX()),Math.abs(q.getMaxY()),Math.abs(q.getMinX()),Math.abs(q.getMinY()))+2*(A>0?A:0),it=O-Math.trunc(Math.log(Z)/Math.log(10)+1);return Math.pow(10,it)}}])})();xr.CAP_ROUND=K.CAP_ROUND,xr.CAP_BUTT=K.CAP_FLAT,xr.CAP_FLAT=K.CAP_FLAT,xr.CAP_SQUARE=K.CAP_SQUARE,xr.MAX_PRECISION_DIGITS=12;var $o=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],da=(function(){return P((function L(R){s(this,L),this.geometryFactory=R||new ri}),[{key:"read",value:function(L){var R,A=(R=typeof L=="string"?JSON.parse(L):L).type;if(!li[A])throw new Error("Unknown GeoJSON type: "+R.type);return $o.indexOf(A)!==-1?li[A].call(this,R.coordinates):A==="GeometryCollection"?li[A].call(this,R.geometries):li[A].call(this,R)}},{key:"write",value:function(L){var R=L.getGeometryType();if(!On[R])throw new Error("Geometry is not supported");return On[R].call(this,L)}}])})(),li={Feature:function(L){var R={};for(var A in L)R[A]=L[A];if(L.geometry){var O=L.geometry.type;if(!li[O])throw new Error("Unknown GeoJSON type: "+L.type);R.geometry=this.read(L.geometry)}return L.bbox&&(R.bbox=li.bbox.call(this,L.bbox)),R},FeatureCollection:function(L){var R={};if(L.features){R.features=[];for(var A=0;A<L.features.length;++A)R.features.push(this.read(L.features[A]))}return L.bbox&&(R.bbox=this.parse.bbox.call(this,L.bbox)),R},coordinates:function(L){for(var R=[],A=0;A<L.length;++A){var O=L[A];R.push(a(Mt,U(O)))}return R},bbox:function(L){return this.geometryFactory.createLinearRing([new Mt(L[0],L[1]),new Mt(L[2],L[1]),new Mt(L[2],L[3]),new Mt(L[0],L[3]),new Mt(L[0],L[1])])},Point:function(L){var R=a(Mt,U(L));return this.geometryFactory.createPoint(R)},MultiPoint:function(L){for(var R=[],A=0;A<L.length;++A)R.push(li.Point.call(this,L[A]));return this.geometryFactory.createMultiPoint(R)},LineString:function(L){var R=li.coordinates.call(this,L);return this.geometryFactory.createLineString(R)},MultiLineString:function(L){for(var R=[],A=0;A<L.length;++A)R.push(li.LineString.call(this,L[A]));return this.geometryFactory.createMultiLineString(R)},Polygon:function(L){for(var R=li.coordinates.call(this,L[0]),A=this.geometryFactory.createLinearRing(R),O=[],q=1;q<L.length;++q){var Z=L[q],it=li.coordinates.call(this,Z),ot=this.geometryFactory.createLinearRing(it);O.push(ot)}return this.geometryFactory.createPolygon(A,O)},MultiPolygon:function(L){for(var R=[],A=0;A<L.length;++A){var O=L[A];R.push(li.Polygon.call(this,O))}return this.geometryFactory.createMultiPolygon(R)},GeometryCollection:function(L){for(var R=[],A=0;A<L.length;++A){var O=L[A];R.push(this.read(O))}return this.geometryFactory.createGeometryCollection(R)}},On={coordinate:function(L){var R=[L.x,L.y];return L.z&&R.push(L.z),L.m&&R.push(L.m),R},Point:function(L){return{type:"Point",coordinates:On.coordinate.call(this,L.getCoordinate())}},MultiPoint:function(L){for(var R=[],A=0;A<L._geometries.length;++A){var O=L._geometries[A],q=On.Point.call(this,O);R.push(q.coordinates)}return{type:"MultiPoint",coordinates:R}},LineString:function(L){for(var R=[],A=L.getCoordinates(),O=0;O<A.length;++O){var q=A[O];R.push(On.coordinate.call(this,q))}return{type:"LineString",coordinates:R}},MultiLineString:function(L){for(var R=[],A=0;A<L._geometries.length;++A){var O=L._geometries[A],q=On.LineString.call(this,O);R.push(q.coordinates)}return{type:"MultiLineString",coordinates:R}},Polygon:function(L){var R=[],A=On.LineString.call(this,L._shell);R.push(A.coordinates);for(var O=0;O<L._holes.length;++O){var q=L._holes[O],Z=On.LineString.call(this,q);R.push(Z.coordinates)}return{type:"Polygon",coordinates:R}},MultiPolygon:function(L){for(var R=[],A=0;A<L._geometries.length;++A){var O=L._geometries[A],q=On.Polygon.call(this,O);R.push(q.coordinates)}return{type:"MultiPolygon",coordinates:R}},GeometryCollection:function(L){for(var R=[],A=0;A<L._geometries.length;++A){var O=L._geometries[A],q=O.getGeometryType();R.push(On[q].call(this,O))}return{type:"GeometryCollection",geometries:R}}};return{BufferOp:xr,GeoJSONReader:(function(){return P((function L(R){s(this,L),this.parser=new da(R||new ri)}),[{key:"read",value:function(L){return this.parser.read(L)}}])})(),GeoJSONWriter:(function(){return P((function L(){s(this,L),this.parser=new da(this.geometryFactory)}),[{key:"write",value:function(L){return this.parser.write(L)}}])})()}}))})(jsts_min$1)),jsts_min$1.exports}var jsts_minExports=requireJsts_min();const jsts=getDefaultExportFromCjs(jsts_minExports);function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(t){add(temp,t,this.t),add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(t,e,n){var r=t.s=e+n,s=r-e,a=r-s;t.t=e-a+(n-s)}var epsilon=1e-6,pi=Math.PI,halfPi=pi/2,quarterPi=pi/4,tau=pi*2,degrees=180/pi,radians=pi/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos=Math.cos,sin=Math.sin,sqrt=Math.sqrt;function acos(t){return t>1?0:t<-1?pi:Math.acos(t)}function asin(t){return t>1?halfPi:t<-1?-halfPi:Math.asin(t)}function noop(){}function streamGeometry(t,e){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,e)}var streamObjectType={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,s=n.length;++r<s;)streamGeometry(n[r].geometry,e)}},streamGeometryType={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,s=n.length;++r<s;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,s=n.length;++r<s;)streamLine(n[r],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,s=n.length;++r<s;)streamPolygon(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,s=n.length;++r<s;)streamGeometry(n[r],e)}};function streamLine(t,e,n){var r=-1,s=t.length-n,a;for(e.lineStart();++r<s;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function streamPolygon(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)streamLine(t[n],e,1);e.polygonEnd()}function geoStream(t,e){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,e):streamGeometry(t,e)}adder();adder();function spherical(t){return[atan2(t[1],t[0]),asin(t[2])]}function cartesian(t){var e=t[0],n=t[1],r=cos(n);return[r*cos(e),r*sin(e),sin(n)]}function cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cartesianAddInPlace(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cartesianNormalizeInPlace(t){var e=sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}adder();function compose(t,e){function n(r,s){return r=t(r,s),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,s){return r=e.invert(r,s),r&&t.invert(r[0],r[1])}),n}function rotationIdentity(t,e){return[t>pi?t-tau:t<-pi?t+tau:t,e]}rotationIdentity.invert=rotationIdentity;function rotateRadians(t,e,n){return(t%=tau)?e||n?compose(rotationLambda(t),rotationPhiGamma(e,n)):rotationLambda(t):e||n?rotationPhiGamma(e,n):rotationIdentity}function forwardRotationLambda(t){return function(e,n){return e+=t,[e>pi?e-tau:e<-pi?e+tau:e,n]}}function rotationLambda(t){var e=forwardRotationLambda(t);return e.invert=forwardRotationLambda(-t),e}function rotationPhiGamma(t,e){var n=cos(t),r=sin(t),s=cos(e),a=sin(e);function S(P,M){var N=cos(M),F=cos(P)*N,z=sin(P)*N,$=sin(M),G=$*n+F*r;return[atan2(z*s-G*a,F*n-$*r),asin(G*s+z*a)]}return S.invert=function(P,M){var N=cos(M),F=cos(P)*N,z=sin(P)*N,$=sin(M),G=$*s-z*a;return[atan2(z*s+$*a,F*n+G*r),asin(G*n-F*r)]},S}function circleStream(t,e,n,r,s,a){if(n){var S=cos(e),P=sin(e),M=r*n;s==null?(s=e+r*tau,a=e-M/2):(s=circleRadius(S,s),a=circleRadius(S,a),(r>0?s<a:s>a)&&(s+=r*tau));for(var N,F=s;r>0?F>a:F<a;F-=M)N=spherical([S,-P*cos(F),-P*sin(F)]),t.point(N[0],N[1])}}function circleRadius(t,e){e=cartesian(e),e[0]-=t,cartesianNormalizeInPlace(e);var n=acos(-e[1]);return((-e[2]<0?-n:n)+tau-epsilon)%tau}function clipBuffer(){var t=[],e;return{point:function(n,r){e.push([n,r])},lineStart:function(){t.push(e=[])},lineEnd:noop,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function clipLine(t,e,n,r,s,a){var S=t[0],P=t[1],M=e[0],N=e[1],F=0,z=1,$=M-S,G=N-P,H;if(H=n-S,!(!$&&H>0)){if(H/=$,$<0){if(H<F)return;H<z&&(z=H)}else if($>0){if(H>z)return;H>F&&(F=H)}if(H=s-S,!(!$&&H<0)){if(H/=$,$<0){if(H>z)return;H>F&&(F=H)}else if($>0){if(H<F)return;H<z&&(z=H)}if(H=r-P,!(!G&&H>0)){if(H/=G,G<0){if(H<F)return;H<z&&(z=H)}else if(G>0){if(H>z)return;H>F&&(F=H)}if(H=a-P,!(!G&&H<0)){if(H/=G,G<0){if(H>z)return;H>F&&(F=H)}else if(G>0){if(H<F)return;H<z&&(z=H)}return F>0&&(t[0]=S+F*$,t[1]=P+F*G),z<1&&(e[0]=S+z*$,e[1]=P+z*G),!0}}}}}function pointEqual(t,e){return abs(t[0]-e[0])<epsilon&&abs(t[1]-e[1])<epsilon}function Intersection(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function clipPolygon(t,e,n,r,s){var a=[],S=[],P,M;if(t.forEach(function(H){if(!((U=H.length-1)<=0)){var U,W=H[0],Y=H[U],Q;if(pointEqual(W,Y)){for(s.lineStart(),P=0;P<U;++P)s.point((W=H[P])[0],W[1]);s.lineEnd();return}a.push(Q=new Intersection(W,H,null,!0)),S.push(Q.o=new Intersection(W,null,Q,!1)),a.push(Q=new Intersection(Y,H,null,!1)),S.push(Q.o=new Intersection(Y,null,Q,!0))}}),!!a.length){for(S.sort(e),link(a),link(S),P=0,M=S.length;P<M;++P)S[P].e=n=!n;for(var N=a[0],F,z;;){for(var $=N,G=!0;$.v;)if(($=$.n)===N)return;F=$.z,s.lineStart();do{if($.v=$.o.v=!0,$.e){if(G)for(P=0,M=F.length;P<M;++P)s.point((z=F[P])[0],z[1]);else r($.x,$.n.x,1,s);$=$.n}else{if(G)for(F=$.p.z,P=F.length-1;P>=0;--P)s.point((z=F[P])[0],z[1]);else r($.x,$.p.x,-1,s);$=$.p}$=$.o,F=$.z,G=!G}while(!$.v);s.lineEnd()}}}function link(t){if(e=t.length){for(var e,n=0,r=t[0],s;++n<e;)r.n=s=t[n],s.p=r,r=s;r.n=s=t[0],s.p=r}}function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bisector(t){return t.length===1&&(t=ascendingComparator(t)),{left:function(e,n,r,s){for(r==null&&(r=0),s==null&&(s=e.length);r<s;){var a=r+s>>>1;t(e[a],n)<0?r=a+1:s=a}return r},right:function(e,n,r,s){for(r==null&&(r=0),s==null&&(s=e.length);r<s;){var a=r+s>>>1;t(e[a],n)>0?s=a:r=a+1}return r}}}function ascendingComparator(t){return function(e,n){return ascending(t(e),n)}}bisector(ascending);function merge(t){for(var e=t.length,n,r=-1,s=0,a,S;++r<e;)s+=t[r].length;for(a=new Array(s);--e>=0;)for(S=t[e],n=S.length;--n>=0;)a[--s]=S[n];return a}var clipMax=1e9,clipMin=-clipMax;function clipExtent(t,e,n,r){function s(N,F){return t<=N&&N<=n&&e<=F&&F<=r}function a(N,F,z,$){var G=0,H=0;if(N==null||(G=S(N,z))!==(H=S(F,z))||M(N,F)<0^z>0)do $.point(G===0||G===3?t:n,G>1?r:e);while((G=(G+z+4)%4)!==H);else $.point(F[0],F[1])}function S(N,F){return abs(N[0]-t)<epsilon?F>0?0:3:abs(N[0]-n)<epsilon?F>0?2:1:abs(N[1]-e)<epsilon?F>0?1:0:F>0?3:2}function P(N,F){return M(N.x,F.x)}function M(N,F){var z=S(N,1),$=S(F,1);return z!==$?z-$:z===0?F[1]-N[1]:z===1?N[0]-F[0]:z===2?N[1]-F[1]:F[0]-N[0]}return function(N){var F=N,z=clipBuffer(),$,G,H,U,W,Y,Q,K,tt,nt,rt,ht={point:ct,lineStart:_t,lineEnd:Vt,polygonStart:wt,polygonEnd:kt};function ct(At,lt){s(At,lt)&&F.point(At,lt)}function mt(){for(var At=0,lt=0,yt=G.length;lt<yt;++lt)for(var st=G[lt],pt=1,dt=st.length,xt=st[0],Pt,Dt,Tt=xt[0],Ht=xt[1];pt<dt;++pt)Pt=Tt,Dt=Ht,xt=st[pt],Tt=xt[0],Ht=xt[1],Dt<=r?Ht>r&&(Tt-Pt)*(r-Dt)>(Ht-Dt)*(t-Pt)&&++At:Ht<=r&&(Tt-Pt)*(r-Dt)<(Ht-Dt)*(t-Pt)&&--At;return At}function wt(){F=z,$=[],G=[],rt=!0}function kt(){var At=mt(),lt=rt&&At,yt=($=merge($)).length;(lt||yt)&&(N.polygonStart(),lt&&(N.lineStart(),a(null,null,1,N),N.lineEnd()),yt&&clipPolygon($,P,At,a,N),N.polygonEnd()),F=N,$=G=H=null}function _t(){ht.point=jt,G&&G.push(H=[]),nt=!0,tt=!1,Q=K=NaN}function Vt(){$&&(jt(U,W),Y&&tt&&z.rejoin(),$.push(z.result())),ht.point=ct,tt&&F.lineEnd()}function jt(At,lt){var yt=s(At,lt);if(G&&H.push([At,lt]),nt)U=At,W=lt,Y=yt,nt=!1,yt&&(F.lineStart(),F.point(At,lt));else if(yt&&tt)F.point(At,lt);else{var st=[Q=Math.max(clipMin,Math.min(clipMax,Q)),K=Math.max(clipMin,Math.min(clipMax,K))],pt=[At=Math.max(clipMin,Math.min(clipMax,At)),lt=Math.max(clipMin,Math.min(clipMax,lt))];clipLine(st,pt,t,e,n,r)?(tt||(F.lineStart(),F.point(st[0],st[1])),F.point(pt[0],pt[1]),yt||F.lineEnd(),rt=!1):yt&&(F.lineStart(),F.point(At,lt),rt=!1)}Q=At,K=lt,tt=yt}return ht}}var sum=adder();function polygonContains(t,e){var n=e[0],r=e[1],s=[sin(n),-cos(n),0],a=0,S=0;sum.reset();for(var P=0,M=t.length;P<M;++P)if(F=(N=t[P]).length)for(var N,F,z=N[F-1],$=z[0],G=z[1]/2+quarterPi,H=sin(G),U=cos(G),W=0;W<F;++W,$=Q,H=tt,U=nt,z=Y){var Y=N[W],Q=Y[0],K=Y[1]/2+quarterPi,tt=sin(K),nt=cos(K),rt=Q-$,ht=rt>=0?1:-1,ct=ht*rt,mt=ct>pi,wt=H*tt;if(sum.add(atan2(wt*ht*sin(ct),U*nt+wt*cos(ct))),a+=mt?rt+ht*tau:rt,mt^$>=n^Q>=n){var kt=cartesianCross(cartesian(z),cartesian(Y));cartesianNormalizeInPlace(kt);var _t=cartesianCross(s,kt);cartesianNormalizeInPlace(_t);var Vt=(mt^rt>=0?-1:1)*asin(_t[2]);(r>Vt||r===Vt&&(kt[0]||kt[1]))&&(S+=mt^rt>=0?1:-1)}}return(a<-epsilon||a<epsilon&&sum<-epsilon)^S&1}adder();function identity(t){return t}adder();adder();var x0=1/0,y0=x0,x1=-x0,y1=x1,boundsStream={point:boundsPoint,lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var t=[[x0,y0],[x1,y1]];return x1=y1=-(y0=x0=1/0),t}};function boundsPoint(t,e){t<x0&&(x0=t),t>x1&&(x1=t),e<y0&&(y0=e),e>y1&&(y1=e)}adder();function clip(t,e,n,r){return function(s,a){var S=e(a),P=s.invert(r[0],r[1]),M=clipBuffer(),N=e(M),F=!1,z,$,G,H={point:U,lineStart:Y,lineEnd:Q,polygonStart:function(){H.point=K,H.lineStart=tt,H.lineEnd=nt,$=[],z=[]},polygonEnd:function(){H.point=U,H.lineStart=Y,H.lineEnd=Q,$=merge($);var rt=polygonContains(z,P);$.length?(F||(a.polygonStart(),F=!0),clipPolygon($,compareIntersection,rt,n,a)):rt&&(F||(a.polygonStart(),F=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),F&&(a.polygonEnd(),F=!1),$=z=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function U(rt,ht){var ct=s(rt,ht);t(rt=ct[0],ht=ct[1])&&a.point(rt,ht)}function W(rt,ht){var ct=s(rt,ht);S.point(ct[0],ct[1])}function Y(){H.point=W,S.lineStart()}function Q(){H.point=U,S.lineEnd()}function K(rt,ht){G.push([rt,ht]);var ct=s(rt,ht);N.point(ct[0],ct[1])}function tt(){N.lineStart(),G=[]}function nt(){K(G[0][0],G[0][1]),N.lineEnd();var rt=N.clean(),ht=M.result(),ct,mt=ht.length,wt,kt,_t;if(G.pop(),z.push(G),G=null,!!mt){if(rt&1){if(kt=ht[0],(wt=kt.length-1)>0){for(F||(a.polygonStart(),F=!0),a.lineStart(),ct=0;ct<wt;++ct)a.point((_t=kt[ct])[0],_t[1]);a.lineEnd()}return}mt>1&&rt&2&&ht.push(ht.pop().concat(ht.shift())),$.push(ht.filter(validSegment))}}return H}}function validSegment(t){return t.length>1}function compareIntersection(t,e){return((t=t.x)[0]<0?t[1]-halfPi-epsilon:halfPi-t[1])-((e=e.x)[0]<0?e[1]-halfPi-epsilon:halfPi-e[1])}const clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi,-halfPi]);function clipAntimeridianLine(t){var e=NaN,n=NaN,r=NaN,s;return{lineStart:function(){t.lineStart(),s=1},point:function(a,S){var P=a>0?pi:-pi,M=abs(a-e);abs(M-pi)<epsilon?(t.point(e,n=(n+S)/2>0?halfPi:-halfPi),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(P,n),t.point(a,n),s=0):r!==P&&M>=pi&&(abs(e-r)<epsilon&&(e-=r*epsilon),abs(a-P)<epsilon&&(a-=P*epsilon),n=clipAntimeridianIntersect(e,n,a,S),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(P,n),s=0),t.point(e=a,n=S),r=P},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-s}}}function clipAntimeridianIntersect(t,e,n,r){var s,a,S=sin(t-n);return abs(S)>epsilon?atan((sin(e)*(a=cos(r))*sin(n)-sin(r)*(s=cos(e))*sin(t))/(s*a*S)):(e+r)/2}function clipAntimeridianInterpolate(t,e,n,r){var s;if(t==null)s=n*halfPi,r.point(-pi,s),r.point(0,s),r.point(pi,s),r.point(pi,0),r.point(pi,-s),r.point(0,-s),r.point(-pi,-s),r.point(-pi,0),r.point(-pi,s);else if(abs(t[0]-e[0])>epsilon){var a=t[0]<e[0]?pi:-pi;s=n*a/2,r.point(-a,s),r.point(0,s),r.point(a,s)}else r.point(e[0],e[1])}function clipCircle(t,e){var n=cos(t),r=n>0,s=abs(n)>epsilon;function a(F,z,$,G){circleStream(G,t,e,$,F,z)}function S(F,z){return cos(F)*cos(z)>n}function P(F){var z,$,G,H,U;return{lineStart:function(){H=G=!1,U=1},point:function(W,Y){var Q=[W,Y],K,tt=S(W,Y),nt=r?tt?0:N(W,Y):tt?N(W+(W<0?pi:-pi),Y):0;if(!z&&(H=G=tt)&&F.lineStart(),tt!==G&&(K=M(z,Q),(!K||pointEqual(z,K)||pointEqual(Q,K))&&(Q[0]+=epsilon,Q[1]+=epsilon,tt=S(Q[0],Q[1]))),tt!==G)U=0,tt?(F.lineStart(),K=M(Q,z),F.point(K[0],K[1])):(K=M(z,Q),F.point(K[0],K[1]),F.lineEnd()),z=K;else if(s&&z&&r^tt){var rt;!(nt&$)&&(rt=M(Q,z,!0))&&(U=0,r?(F.lineStart(),F.point(rt[0][0],rt[0][1]),F.point(rt[1][0],rt[1][1]),F.lineEnd()):(F.point(rt[1][0],rt[1][1]),F.lineEnd(),F.lineStart(),F.point(rt[0][0],rt[0][1])))}tt&&(!z||!pointEqual(z,Q))&&F.point(Q[0],Q[1]),z=Q,G=tt,$=nt},lineEnd:function(){G&&F.lineEnd(),z=null},clean:function(){return U|(H&&G)<<1}}}function M(F,z,$){var G=cartesian(F),H=cartesian(z),U=[1,0,0],W=cartesianCross(G,H),Y=cartesianDot(W,W),Q=W[0],K=Y-Q*Q;if(!K)return!$&&F;var tt=n*Y/K,nt=-n*Q/K,rt=cartesianCross(U,W),ht=cartesianScale(U,tt),ct=cartesianScale(W,nt);cartesianAddInPlace(ht,ct);var mt=rt,wt=cartesianDot(ht,mt),kt=cartesianDot(mt,mt),_t=wt*wt-kt*(cartesianDot(ht,ht)-1);if(!(_t<0)){var Vt=sqrt(_t),jt=cartesianScale(mt,(-wt-Vt)/kt);if(cartesianAddInPlace(jt,ht),jt=spherical(jt),!$)return jt;var At=F[0],lt=z[0],yt=F[1],st=z[1],pt;lt<At&&(pt=At,At=lt,lt=pt);var dt=lt-At,xt=abs(dt-pi)<epsilon,Pt=xt||dt<epsilon;if(!xt&&st<yt&&(pt=yt,yt=st,st=pt),Pt?xt?yt+st>0^jt[1]<(abs(jt[0]-At)<epsilon?yt:st):yt<=jt[1]&&jt[1]<=st:dt>pi^(At<=jt[0]&&jt[0]<=lt)){var Dt=cartesianScale(mt,(-wt+Vt)/kt);return cartesianAddInPlace(Dt,ht),[jt,spherical(Dt)]}}}function N(F,z){var $=r?t:pi-t,G=0;return F<-$?G|=1:F>$&&(G|=2),z<-$?G|=4:z>$&&(G|=8),G}return clip(S,P,a,r?[0,-t]:[-pi,t-pi])}function transformer(t){return function(e){var n=new TransformStream;for(var r in t)n[r]=t[r];return n.stream=e,n}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fitExtent(t,e,n){var r=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),geoStream(n,t.stream(boundsStream));var S=boundsStream.result(),P=Math.min(r/(S[1][0]-S[0][0]),s/(S[1][1]-S[0][1])),M=+e[0][0]+(r-P*(S[1][0]+S[0][0]))/2,N=+e[0][1]+(s-P*(S[1][1]+S[0][1]))/2;return a!=null&&t.clipExtent(a),t.scale(P*150).translate([M,N])}function fitSize(t,e,n){return fitExtent(t,[[0,0],e],n)}var maxDepth=16,cosMinDistance=cos(30*radians);function resample(t,e){return+e?resample$1(t,e):resampleNone(t)}function resampleNone(t){return transformer({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function resample$1(t,e){function n(r,s,a,S,P,M,N,F,z,$,G,H,U,W){var Y=N-r,Q=F-s,K=Y*Y+Q*Q;if(K>4*e&&U--){var tt=S+$,nt=P+G,rt=M+H,ht=sqrt(tt*tt+nt*nt+rt*rt),ct=asin(rt/=ht),mt=abs(abs(rt)-1)<epsilon||abs(a-z)<epsilon?(a+z)/2:atan2(nt,tt),wt=t(mt,ct),kt=wt[0],_t=wt[1],Vt=kt-r,jt=_t-s,At=Q*Vt-Y*jt;(At*At/K>e||abs((Y*Vt+Q*jt)/K-.5)>.3||S*$+P*G+M*H<cosMinDistance)&&(n(r,s,a,S,P,M,kt,_t,mt,tt/=ht,nt/=ht,rt,U,W),W.point(kt,_t),n(kt,_t,mt,tt,nt,rt,N,F,z,$,G,H,U,W))}}return function(r){var s,a,S,P,M,N,F,z,$,G,H,U,W={point:Y,lineStart:Q,lineEnd:tt,polygonStart:function(){r.polygonStart(),W.lineStart=nt},polygonEnd:function(){r.polygonEnd(),W.lineStart=Q}};function Y(ct,mt){ct=t(ct,mt),r.point(ct[0],ct[1])}function Q(){z=NaN,W.point=K,r.lineStart()}function K(ct,mt){var wt=cartesian([ct,mt]),kt=t(ct,mt);n(z,$,F,G,H,U,z=kt[0],$=kt[1],F=ct,G=wt[0],H=wt[1],U=wt[2],maxDepth,r),r.point(z,$)}function tt(){W.point=Y,r.lineEnd()}function nt(){Q(),W.point=rt,W.lineEnd=ht}function rt(ct,mt){K(s=ct,mt),a=z,S=$,P=G,M=H,N=U,W.point=K}function ht(){n(z,$,F,G,H,U,a,S,s,P,M,N,maxDepth,r),W.lineEnd=tt,tt()}return W}}var transformRadians=transformer({point:function(t,e){this.stream.point(t*radians,e*radians)}});function projection(t){return projectionMutator(function(){return t})()}function projectionMutator(t){var e,n=150,r=480,s=250,a,S,P=0,M=0,N=0,F=0,z=0,$,G,H=null,U=clipAntimeridian,W=null,Y,Q,K,tt=identity,nt=.5,rt=resample(kt,nt),ht,ct;function mt(jt){return jt=G(jt[0]*radians,jt[1]*radians),[jt[0]*n+a,S-jt[1]*n]}function wt(jt){return jt=G.invert((jt[0]-a)/n,(S-jt[1])/n),jt&&[jt[0]*degrees,jt[1]*degrees]}function kt(jt,At){return jt=e(jt,At),[jt[0]*n+a,S-jt[1]*n]}mt.stream=function(jt){return ht&&ct===jt?ht:ht=transformRadians(U($,rt(tt(ct=jt))))},mt.clipAngle=function(jt){return arguments.length?(U=+jt?clipCircle(H=jt*radians,6*radians):(H=null,clipAntimeridian),Vt()):H*degrees},mt.clipExtent=function(jt){return arguments.length?(tt=jt==null?(W=Y=Q=K=null,identity):clipExtent(W=+jt[0][0],Y=+jt[0][1],Q=+jt[1][0],K=+jt[1][1]),Vt()):W==null?null:[[W,Y],[Q,K]]},mt.scale=function(jt){return arguments.length?(n=+jt,_t()):n},mt.translate=function(jt){return arguments.length?(r=+jt[0],s=+jt[1],_t()):[r,s]},mt.center=function(jt){return arguments.length?(P=jt[0]%360*radians,M=jt[1]%360*radians,_t()):[P*degrees,M*degrees]},mt.rotate=function(jt){return arguments.length?(N=jt[0]%360*radians,F=jt[1]%360*radians,z=jt.length>2?jt[2]%360*radians:0,_t()):[N*degrees,F*degrees,z*degrees]},mt.precision=function(jt){return arguments.length?(rt=resample(kt,nt=jt*jt),Vt()):sqrt(nt)},mt.fitExtent=function(jt,At){return fitExtent(mt,jt,At)},mt.fitSize=function(jt,At){return fitSize(mt,jt,At)};function _t(){G=compose($=rotateRadians(N,F,z),e);var jt=e(P,M);return a=r-jt[0]*n,S=s+jt[1]*n,Vt()}function Vt(){return ht=ct=null,mt}return function(){return e=t.apply(this,arguments),mt.invert=e.invert&&wt,_t()}}function azimuthalRaw(t){return function(e,n){var r=cos(e),s=cos(n),a=t(r*s);return[a*s*sin(e),a*sin(n)]}}function azimuthalInvert(t){return function(e,n){var r=sqrt(e*e+n*n),s=t(r),a=sin(s),S=cos(s);return[atan2(e*a,r*S),asin(r&&n*a/r)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(t){return sqrt(2/(1+t))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(t){return 2*asin(t/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(t){return(t=acos(t))&&t/sin(t)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(t){return t});function geoAzimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function equirectangularRaw(t,e){return[t,e]}equirectangularRaw.invert=equirectangularRaw;var{BufferOp,GeoJSONReader,GeoJSONWriter}=jsts;function buffer(t,e,n){n=n||{};var r=n.units||"kilometers",s=n.steps||8;if(!t)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof s!="number")throw new Error("steps must be an number");if(e===void 0)throw new Error("radius is required");if(s<=0)throw new Error("steps must be greater than 0");var a=[];switch(t.type){case"GeometryCollection":return geomEach(t,function(S){var P=bufferFeature(S,e,r,s);P&&a.push(P)}),featureCollection(a);case"FeatureCollection":return featureEach(t,function(S){var P=bufferFeature(S,e,r,s);P&&featureEach(P,function(M){M&&a.push(M)})}),featureCollection(a)}return bufferFeature(t,e,r,s)}function bufferFeature(t,e,n,r){var s=t.properties||{},a=t.type==="Feature"?t.geometry:t;if(a.type==="GeometryCollection"){var S=[];return geomEach(t,function(U){var W=bufferFeature(U,e,n,r);W&&S.push(W)}),featureCollection(S)}var P=defineProjection(a),M={type:a.type,coordinates:projectCoords(a.coordinates,P)},N=new GeoJSONReader,F=N.read(M),z=radiansToLength(lengthToRadians(e,n),"meters"),$=BufferOp.bufferOp(F,z,r),G=new GeoJSONWriter;if($=G.write($),!coordsIsNaN($.coordinates)){var H={type:$.type,coordinates:unprojectCoords($.coordinates,P)};return feature(H,s)}}function coordsIsNaN(t){return Array.isArray(t[0])?coordsIsNaN(t[0]):isNaN(t[0])}function projectCoords(t,e){return typeof t[0]!="object"?e(t):t.map(function(n){return projectCoords(n,e)})}function unprojectCoords(t,e){return typeof t[0]!="object"?e.invert(t):t.map(function(n){return unprojectCoords(n,e)})}function defineProjection(t){var e=center(t).geometry.coordinates,n=[-e[0],-e[1]];return geoAzimuthalEquidistant().rotate(n).scale(earthRadius)}const WarningAlert=({onClose:t})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},className:"w-[320px] bg-white dark:bg-slate-800 p-4 border-l rounded-lg border-gray-200 dark:border-slate-700 shadow-lg relative flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"absolute right-2 top-2 text-gray-500 hover:text-red-500 transition",children:""}),jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 underline mb-1",children:"The Incident Is Outside the Jurisdiction."})})]}),IncidentRequestMap=()=>{const[t,e]=reactExports.useState(!1),{map_token:n,darkMode:r,map_styles:s,token:a,base_url:S}=useAppState(),[P,M]=reactExports.useState(!1),[N,F]=reactExports.useState(null),[z,$]=reactExports.useState(null),[G,H]=reactExports.useState({latitude:8.5107242,longitude:124.5851259,zoom:14}),[U,W]=reactExports.useState(null),[Y,Q]=reactExports.useState([]),{data:K=[],isLoading:tt,isError:nt}=useZones(),{data:rt=[]}=useQuery({queryKey:["request"],queryFn:()=>incidentRequest({base_url:S,token:a})}),ht=(ct,mt)=>{if(!IgpitGeoFence?.features?.length)return!1;const wt=IgpitGeoFence.features[0].geometry,kt=point([ct,mt]),_t=polygon(wt.coordinates),Vt=buffer(_t,.02,{units:"kilometers"});return booleanPointInPolygon(kt,Vt)};return reactExports.useEffect(()=>{rt?.length&&rt.forEach(ct=>{ht(ct.longitude,ct.latitude)||console.warn(` Request ID ${ct.id} is outside the geofence!`)})},[rt]),reactExports.useEffect(()=>{Object.entries(Y).forEach(([ct,mt])=>{!mt?.lng||!mt?.lat||ht(mt.lng,mt.lat)||M(!0)})},[Y]),reactExports.useEffect(()=>{const ct=echo.channel("locations");return ct.listen(".location.updated",mt=>{Q(wt=>{const kt=wt.findIndex(_t=>_t.userId===mt.userId&&_t.requestId===mt.requestId);if(kt!==-1){const _t=[...wt];return _t[kt]={userId:mt.userId,requestId:mt.requestId,lat:mt.latitude,lng:mt.longitude},_t}return[...wt,{userId:mt.userId,requestId:mt.requestId,lat:mt.latitude,lng:mt.longitude}]})}),()=>{ct.stopListening(".location.updated"),echo.leaveChannel("locations")}},[]),reactExports.useEffect(()=>{(async()=>{if(!(!Y.length||!rt.length||!t))try{const mt=Object.entries(Y).map(async([kt,_t])=>{const Vt=rt.find(yt=>String(yt.id)===String(_t.requestId));if(!Vt)return null;const jt=`https://api.mapbox.com/directions/v5/mapbox/driving/${_t.lng},${_t.lat};${Vt.longitude},${Vt.latitude}?geometries=geojson&access_token=${n}`,lt=await(await fetch(jt)).json();return lt.routes?.length?{type:"Feature",geometry:lt.routes[0].geometry,properties:{tanodId:String(kt),requestId:String(_t.requestId)}}:null}),wt=(await Promise.all(mt)).filter(Boolean);console.log(" Fetched features:",wt),$({type:"FeatureCollection",features:wt})}catch(mt){console.error(" Failed to fetch routes:",mt)}})()},[Y,rt,n,t]),tt?jsxRuntimeExports.jsx("div",{children:"Loading map zones..."}):nt?jsxRuntimeExports.jsx("div",{children:"Failed to load zones."}):jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"w-full h-full flex",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:N&&jsxRuntimeExports.jsx(motion.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},transition:{duration:.3},className:`absolute z-50 dark:border-slate-700 ${open?"top-15 left-60":"top-15 left-20"}`,children:jsxRuntimeExports.jsx(RequestDetails,{requestId:N,tanodLocations:Y,geoFence:ht,onClose:()=>F(null)})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:P&&jsxRuntimeExports.jsx(motion.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},transition:{duration:.3},className:`absolute z-50 dark:border-slate-700 ${open?"top-15 left-60":"top-15 left-20"}`,children:jsxRuntimeExports.jsx(WarningAlert,{onClose:()=>M(!1)})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 relative",children:jsxRuntimeExports.jsxs(Map$2,{...G,onMove:ct=>H(ct.viewState),mapboxAccessToken:n,mapStyle:r?s.dark:s.light,style:{width:"100%",height:"100%"},onLoad:ct=>{const mt=ct.target,wt=()=>{console.log(" Map style fully loaded!"),e(!0),mt.off("idle",wt)};mt.on("idle",wt)},children:[t&&jsxRuntimeExports.jsxs(Source,{id:"igpit",type:"geojson",data:IgpitGeoFence,children:[jsxRuntimeExports.jsx(Layer,{id:"igpit-fill",source:"igpit",type:"fill",paint:{"fill-color":"#f97316","fill-opacity":.25}}),jsxRuntimeExports.jsx(Layer,{id:"igpit-outline",source:"igpit",type:"line",paint:{"line-color":"#f97316","line-width":2}})]}),t&&z?.features?.length>0&&jsxRuntimeExports.jsx(Source,{id:"routes",type:"geojson",data:z,children:jsxRuntimeExports.jsx(Layer,{id:"routes-line",type:"line",paint:{"line-color":"#22c55e","line-width":5,"line-opacity":.9}})}),Array.isArray(rt)&&rt.length>0?rt.map(ct=>jsxRuntimeExports.jsx(Marker,{longitude:ct.longitude,latitude:ct.latitude,onClick:()=>F(ct.id),children:jsxRuntimeExports.jsx("div",{className:"text-red-600 hover:cursor-pointer",children:jsxRuntimeExports.jsx(IoLocationSharp,{size:34,color:"#ef4444"})})},ct.id)):null,K.map(ct=>jsxRuntimeExports.jsx(Marker,{longitude:ct.longitude,latitude:ct.latitude,anchor:"bottom",children:jsxRuntimeExports.jsxs("div",{onMouseEnter:()=>W(ct.id),onMouseLeave:()=>W(null),style:{position:"relative",cursor:"pointer"},children:[jsxRuntimeExports.jsx("div",{style:{width:U===ct.id?"18px":"14px",height:U===ct.id?"18px":"14px",backgroundColor:U===ct.id?"orange":"red",borderRadius:"50%",border:"2px solid white",transition:"all 0.2s ease"}}),U===ct.id&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-white px-2 py-1 rounded text-xs font-bold shadow",children:ct.zone_name})]})},ct.id)),Object.entries(Y).map(([ct,mt])=>!mt?.lng||!mt?.lat?null:jsxRuntimeExports.jsx(Marker,{longitude:mt.lng,latitude:mt.lat,children:jsxRuntimeExports.jsx("div",{className:"text-blue-600",children:jsxRuntimeExports.jsx(IoLocationSharp,{size:34,color:"#22c55e"})})},ct))]})})]})},IncidentRequest=()=>{const{open:t}=useAppState();return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(motion.div,{layout:!0,exit:{opacity:0,y:-10},transition:{duration:.1},style:{height:"600px"},children:jsxRuntimeExports.jsx(IncidentRequestMap,{})})})},RequestTable=()=>{const{base_url:t,token:e,darkMode:n,setReports:r}=useAppState(),[s,a]=reactExports.useState("all"),[S,P]=reactExports.useState("all"),[M,N]=reactExports.useState("all"),[F,z]=reactExports.useState("all"),[$,G]=reactExports.useState(""),{data:H,isLoading:U}=useQuery({queryKey:["request_records"],queryFn:()=>requestRecords({base_url:t,token:e}),onSuccess:mt=>r(mt)}),W=mt=>{if(!mt)return"";const wt=new Date(`1970-01-01T${mt}`).getHours();return wt>=5&&wt<12?"morning":wt>=12&&wt<17?"afternoon":wt>=17&&wt<21?"evening":"night"},Y=H?.filter(mt=>{const wt=new Date(mt.created_at).getMonth()+1,kt=s==="all"||mt.category?.id===parseInt(s),_t=S==="all"||mt.status===S,Vt=M==="all"||wt===parseInt(M),jt=F==="all"||W(mt.created_at)===F,At=$.toLowerCase(),lt=mt.category?.category_name?.toLowerCase().includes(At)||mt.user?.name?.toLowerCase().includes(At)||mt.latitude?.toString().includes(At)||mt.longitude?.toString().includes(At);return kt&&_t&&Vt&&jt&&lt})||[],[Q,K]=reactExports.useState(1),tt=6,nt=Y.length,rt=Math.ceil(nt/tt),ht=(Q-1)*tt,ct=Y.slice(ht,ht+tt);return reactExports.useEffect(()=>K(1),[s,S,M,F,$]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(motion.div,{className:"p-2",children:jsxRuntimeExports.jsxs("div",{className:`overflow-x-auto mt-4 rounded-lg shadow ${n?"bg-slate-900":"bg-white"}`,children:[jsxRuntimeExports.jsxs("table",{className:`min-w-full mt-2 divide-y text-sm ${n?"divide-slate-700":"divide-gray-200"}`,children:[jsxRuntimeExports.jsx("thead",{className:n?"bg-slate-800":"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left dark:text-white text-xs font-medium uppercase tracking-wider",children:"Requested By"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 dark:text-white text-center text-xs font-medium uppercase tracking-wider",children:"Mobile #"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${n?"bg-slate-700 text-gray-200":"bg-white"}`,value:s,onChange:mt=>a(mt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Category"}),H?.map(mt=>mt.category)?.filter((mt,wt,kt)=>kt.findIndex(_t=>_t.id===mt.id)===wt)?.map(mt=>jsxRuntimeExports.jsx("option",{value:mt.id,children:mt.category_name},mt.id))]})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${n?"bg-slate-700 text-gray-200":"bg-white"}`,value:M,onChange:mt=>N(mt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Month"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map((mt,wt)=>jsxRuntimeExports.jsx("option",{value:wt+1,children:mt},mt))]})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${n?"bg-slate-700 text-gray-200":"bg-white"}`,value:F,onChange:mt=>z(mt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Time Frame"}),jsxRuntimeExports.jsx("option",{value:"morning",children:"Morning (5AM12PM)"}),jsxRuntimeExports.jsx("option",{value:"afternoon",children:"Afternoon (12PM5PM)"}),jsxRuntimeExports.jsx("option",{value:"evening",children:"Evening (5PM9PM)"}),jsxRuntimeExports.jsx("option",{value:"night",children:"Night (9PM5AM)"})]})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:jsxRuntimeExports.jsxs("select",{className:`w-full p-2 rounded text-sm ${n?"bg-slate-700 text-gray-200":"bg-white"}`,value:S,onChange:mt=>P(mt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Status"}),["pending","ongoing","done","cancel"].map(mt=>jsxRuntimeExports.jsx("option",{value:mt,children:mt.charAt(0).toUpperCase()+mt.slice(1)},mt))]})})]})}),U?jsxRuntimeExports.jsx("div",{className:"text-center text-white font-bold m-2",children:jsxRuntimeExports.jsx("h1",{children:"Loading..."})}):jsxRuntimeExports.jsx("tbody",{className:`${n?"bg-slate-900":"bg-white"}`,children:ct.map((mt,wt)=>jsxRuntimeExports.jsxs(motion.tr,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:wt%2===0?n?"bg-slate-800":"bg-white":n?"bg-slate-900":"bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200":"px-4 py-3 text-gray-700",children:mt.user?.name}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200":"px-4 py-3 text-gray-700",children:mt?.user?.email}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200":"px-4 py-3 text-gray-700",children:mt.category?.category_name}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200":"px-4 py-3 text-gray-700",children:new Date(mt.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200 text-center":"px-4 py-3 text-gray-700 text-center",children:new Date(mt.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),jsxRuntimeExports.jsx("td",{className:n?"px-4 py-3 text-gray-200":"px-4 py-3 text-gray-700",children:mt.status})]},mt.id))})]}),rt>1&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2 py-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>K(mt=>mt-1),disabled:Q===1,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Prev"}),(()=>{const mt=[];let wt=Math.max(1,Q-1),kt=Math.min(rt,wt+2);kt-wt<2&&(wt=Math.max(1,kt-2)),wt>1&&(mt.push(jsxRuntimeExports.jsx("button",{onClick:()=>K(1),className:"px-3 py-1 rounded-lg text-sm font-semibold border bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all",children:"1"},1)),wt>2&&mt.push(jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"..."},"start-ellipsis")));for(let _t=wt;_t<=kt;_t++)mt.push(jsxRuntimeExports.jsx("button",{onClick:()=>K(_t),className:`px-3 py-1 rounded-lg text-sm font-semibold border transition-colors ${Q===_t?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:_t},_t));return kt<rt&&(kt<rt-1&&mt.push(jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"..."},"end-ellipsis")),mt.push(jsxRuntimeExports.jsx("button",{onClick:()=>K(rt),className:"px-3 py-1 rounded-lg text-sm font-semibold border bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all",children:rt},rt))),mt})(),jsxRuntimeExports.jsx("button",{onClick:()=>K(mt=>mt+1),disabled:Q===rt,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Next"})]})]})})})},Request$1=()=>{const{open:t}=useAppState();return jsxRuntimeExports.jsx("div",{style:{display:"flex",margin:0},children:jsxRuntimeExports.jsx("div",{className:"flex flex-col flex-1 ml-0 transition-all duration-300",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(motion.h1,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},exit:{opacity:0,y:-10},className:"dark:text-white text-gray-700 font-medium text-2xl mt-2 ml-6",children:"Request"}),jsxRuntimeExports.jsx(RequestTable,{})]})})})},ResidentsTable=()=>{const{base_url:t,token:e,darkMode:n}=useAppState(),[r,s]=reactExports.useState(""),[a,S]=reactExports.useState(1),P=5,M=useNavigate(),{data:N,isLoading:F,isError:z}=useQuery({queryKey:["residents"],queryFn:()=>getResidents({base_url:t,token:e})}),$=reactExports.useMemo(()=>N?r?N.filter(W=>W.status===r):N:[],[N,r]),G=reactExports.useMemo(()=>{const W=(a-1)*P,Y=W+P;return $.slice(W,Y)},[$,a]),H=Math.ceil($.length/P);if(F)return jsxRuntimeExports.jsx("p",{className:n?"text-gray-200":"text-gray-700",children:"Loading..."});if(z)return jsxRuntimeExports.jsx("p",{className:n?"text-gray-200":"text-gray-700",children:"Failed to load residents."});const U=["active","inactive","block"];return jsxRuntimeExports.jsxs(motion.div,{className:"p-2",children:[jsxRuntimeExports.jsx("div",{className:`overflow-x-auto mt-4 rounded-xl shadow-lg border ${n?"bg-slate-900 border-slate-700":"bg-white border-gray-200"}`,children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y text-sm",children:[jsxRuntimeExports.jsx("thead",{className:`sticky top-0 z-10 ${n?"bg-slate-800 text-gray-200":"bg-gray-50 text-gray-700"}`,children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center font-medium tracking-wider",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center font-medium tracking-wider",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center font-medium tracking-wider",children:"Role"}),jsxRuntimeExports.jsxs("th",{className:"px-6 py-3 text-center font-medium tracking-wider",children:["Status",jsxRuntimeExports.jsxs("select",{value:r,onChange:W=>{s(W.target.value),S(1)},className:"ml-2 p-1 rounded border text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",className:"bg-slate-800",children:"All"}),U.map(W=>jsxRuntimeExports.jsx("option",{value:W,className:"bg-slate-800",children:W.charAt(0).toUpperCase()+W.slice(1)},W))]})]}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center font-medium tracking-wider",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{className:`divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:G.map((W,Y)=>jsxRuntimeExports.jsxs(motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`${Y%2===0?n?"bg-slate-800":"bg-white":n?"bg-slate-900":"bg-gray-50"} hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors`,children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-3 font-medium text-center text-gray-900 dark:text-gray-100",children:W.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-gray-600 text-center dark:text-gray-300 truncate max-w-xs",children:W.email}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 capitalize text-center dark:text-gray-300",children:W.role}),jsxRuntimeExports.jsx("td",{className:`px-6 py-3 text-center font-semibold ${W.status==="active"?"text-green-600 dark:text-green-400":W.status==="inactive"?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:W.status}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>M(`/resident/details/${W.id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded-md font-semibold transition-colors",children:"View Details"})})]},W.id))})]})}),H>1&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2 py-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>S(W=>W-1),disabled:a===1,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Prev"}),(()=>{const W=[];let Y=Math.max(1,a-1),Q=Math.min(H,Y+2);Q-Y<2&&(Y=Math.max(1,Q-2)),Y>1&&(W.push(jsxRuntimeExports.jsx("button",{onClick:()=>S(1),className:"px-3 py-1 rounded-lg text-sm font-semibold border bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all",children:"1"},1)),Y>2&&W.push(jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"..."},"start-ellipsis")));for(let K=Y;K<=Q;K++)W.push(jsxRuntimeExports.jsx("button",{onClick:()=>S(K),className:`px-3 py-1 rounded-lg text-sm font-semibold border transition-colors ${a===K?"bg-green-500 text-white border-green-500":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:K},K));return Q<H&&(Q<H-1&&W.push(jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"..."},"end-ellipsis")),W.push(jsxRuntimeExports.jsx("button",{onClick:()=>S(H),className:"px-3 py-1 rounded-lg text-sm font-semibold border bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-all",children:H},H))),W})(),jsxRuntimeExports.jsx("button",{onClick:()=>S(W=>W+1),disabled:a===H,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Next"})]})]})},Residents=()=>{const{open:t}=useAppState();return jsxRuntimeExports.jsx("div",{style:{display:"flex",margin:0},children:jsxRuntimeExports.jsx("div",{className:"flex flex-col flex-1 ml-0 transition-all duration-300",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(motion.h1,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},exit:{opacity:0,y:-10},className:"dark:text-white text-gray-700 font-medium text-2xl mt-2 ml-6",children:"Residents"}),jsxRuntimeExports.jsx(ResidentsTable,{})]})})})},AddCategoryForm=({onClose:t})=>{const e=useQueryClient(),{token:n,base_url:r,darkMode:s}=useAppState(),[a,S]=reactExports.useState(""),[P,M]=reactExports.useState(!1),N={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},F=useMutation({mutationFn:()=>addCategory({base_url:r,token:n,categoryName:a}),onSuccess:()=>{S(""),e.invalidateQueries(["categories"]),M(!0),setTimeout(()=>{M(!1),t()},3e3)},onError:()=>{console.error("Mutation error:",error.response?.data||error.message)}}),z=G=>{G.preventDefault(),F.mutate()},$={hidden:{opacity:0,scale:.9,y:50},visible:{opacity:1,scale:1,y:0,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,scale:.9,y:50,transition:{duration:.3,ease:"easeIn"}}};return jsxRuntimeExports.jsxs(AnimatePresence,{children:[jsxRuntimeExports.jsx(motion.div,{className:`fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 ${s?"bg-white/40":"bg-black/40"}`,variants:N,initial:"hidden",animate:"visible",exit:"exit",children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-md p-6 relative",variants:$,initial:"hidden",animate:"visible",exit:"exit",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl hover:cursor-pointer",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6",children:"Add Incident Category"}),jsxRuntimeExports.jsxs(motion.form,{onSubmit:z,className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Incident Category"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category_name",value:a,onChange:G=>S(G.target.value),required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:F.isLoading,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md shadow transition duration-300 disabled:opacity-50 hover:cursor-pointer",children:F.isLoading?"Adding Category...":"Add Category"})]})]})}),P&&jsxRuntimeExports.jsx(SuccessAlert,{})]})},AddIncidentTypeForm=({onClose:t})=>{const e=useQueryClient(),[n,r]=reactExports.useState(!1),{token:s,base_url:a,categories:S,darkMode:P}=useAppState(),[M,N]=reactExports.useState({category_id:"",incident_name:""});console.log(S);const F={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},z=useMutation({mutationFn:()=>addIncidentType({base_url:a,token:s,form:M}),onSuccess:()=>{N({category_id:null,incident_name:""}),e.invalidateQueries(["categories"]),r(!0),setTimeout(()=>{r(!1),t()},3e3)},onError:()=>{console.error("Mutation error:",error.response?.data||error.message)}}),$=H=>{H.preventDefault(),z.mutate()},G={hidden:{opacity:0,scale:.9,y:50},visible:{opacity:1,scale:1,y:0,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,scale:.9,y:50,transition:{duration:.3,ease:"easeIn"}}};return jsxRuntimeExports.jsxs(AnimatePresence,{children:[jsxRuntimeExports.jsx(motion.div,{className:`fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 ${P?"bg-white/40":"bg-black/40"}`,variants:F,initial:"hidden",animate:"visible",exit:"exit",children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-md p-6 relative",variants:G,initial:"hidden",animate:"visible",exit:"exit",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl hover:cursor-pointer",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6",children:"Add Incident Type"}),jsxRuntimeExports.jsxs(motion.form,{onSubmit:$,className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-md font-medium text-gray-700 dark:text-gray-300",children:"Incident Category"}),jsxRuntimeExports.jsxs("select",{name:"category_id",value:M.category_id||"",onChange:H=>N(U=>({...U,category_id:Number(H.target.value)})),className:"border p-2 rounded text-white  w-full mt-2",children:[jsxRuntimeExports.jsx("option",{value:"",className:"bg-slate-800",children:"--Select Category--"}),S?.map(H=>jsxRuntimeExports.jsx("option",{value:H.id,className:"bg-slate-800",children:H.category_name},H.id))]}),jsxRuntimeExports.jsx("label",{className:"block text-md font-medium mt-4 text-gray-700 dark:text-gray-300",children:"Incident Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"incident_name",value:M.incident_name,onChange:H=>N(U=>({...U,incident_name:H.target.value})),required:!0,className:"block mt-2 w-full rounded-md border border-gray-300 dark:border-gray-700 shadow-sm p-2 text-gray-800 dark:text-white bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:z.isLoading,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md shadow transition duration-300 disabled:opacity-50 hover:cursor-pointer",children:z.isLoading?"Adding Incident Type...":"Add Incident Type"})]})]})}),n&&jsxRuntimeExports.jsx(SuccessAlert,{})]})},Categories=()=>{const{base_url:t,token:e,darkMode:n,setCategories:r}=useAppState(),[s,a]=reactExports.useState(!1),[S,P]=reactExports.useState(!1),{data:M,isLoading:N}=useQuery({queryKey:["categories"],queryFn:()=>getCategories({base_url:t,token:e})});return reactExports.useEffect(()=>{M&&r(M)},[M]),jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"w-full h-full flex flex-col p-4",children:[jsxRuntimeExports.jsx(motion.h1,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"dark:text-white text-gray-800 font-semibold text-2xl mb-4",children:"Categories"}),jsxRuntimeExports.jsxs("div",{className:"m-2 flex gap-2 flex-end justify-end",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>P(!0),className:"flex bg-green-500 rounded-md h-10 text-center text-sm font-bold text-white items-center hover:bg-green-400 hover:cursor-pointer",children:[" ",jsxRuntimeExports.jsx(IoAddCircleOutline,{size:30}),"Incident"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>a(!0),className:"flex mr-2 bg-green-500 rounded-md h-10 text-center text-sm font-bold text-white items-center hover:bg-green-400 hover:cursor-pointer",children:[jsxRuntimeExports.jsx(IoAddCircleOutline,{size:30}),"Category"]})]}),jsxRuntimeExports.jsxs("div",{className:`overflow-hidden rounded-xl shadow-sm border ${n?"border-slate-700 bg-slate-900":"border-gray-200 bg-white"}`,children:[N?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-10",children:jsxRuntimeExports.jsx("h1",{className:"text-md font-semibold text-gray-600 dark:text-gray-300",children:"Loading Data..."})}):jsxRuntimeExports.jsxs("table",{className:"min-w-full border-collapse",children:[jsxRuntimeExports.jsx("thead",{className:n?"bg-slate-800 text-gray-300":"bg-gray-100 text-gray-700",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Incident Types"})]})}),jsxRuntimeExports.jsx("tbody",{children:M?.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"2",className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No categories found"})}):M?.map((F,z)=>jsxRuntimeExports.jsxs(motion.tr,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:200,damping:20,delay:.05*z},className:`${z%2===0?n?"bg-slate-800":"bg-gray-50":n?"bg-slate-900":"bg-white"} hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors`,children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-gray-800 dark:text-gray-200",children:F.category_name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300",children:F?.incident_types?.length>0?jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1",children:F.incident_types.map($=>jsxRuntimeExports.jsx("li",{children:$.incident_name},$.id))}):jsxRuntimeExports.jsx("span",{className:"italic text-gray-500",children:"No incidents"})})]},F.id))})]}),s&&jsxRuntimeExports.jsx(AddCategoryForm,{onClose:()=>a(!1)}),S&&jsxRuntimeExports.jsx(AddIncidentTypeForm,{onClose:()=>P(!1)})]})]})},UpdateTanod=({tanod:t,tanodId:e,onClose:n})=>{const{base_url:r,token:s,darkMode:a}=useAppState(),S=useQueryClient(),[P,M]=reactExports.useState(!1),[N,F]=reactExports.useState(!1),[z,$]=reactExports.useState(!1),[G,H]=reactExports.useState(""),[U,W]=reactExports.useState(""),{mutate:Y,isLoading:Q,isSuccess:K,isError:tt}=useMutation({mutationFn:async()=>{if(G!==U)throw new Error("Passwords do not match");await axios$1.put(`${r}users/${e}`,{password:G},{headers:{Authorization:`Bearer ${s}`}})},onSuccess:()=>{S.invalidateQueries(["volunteers"]),$(!0),setTimeout(()=>{$(!1),n()},3e3)},onError:rt=>{console.error("Password update failed:",rt)}}),nt=rt=>{rt.preventDefault(),Y()};return jsxRuntimeExports.jsxs(AnimatePresence,{children:[jsxRuntimeExports.jsx(motion.div,{className:`fixed inset-0 flex items-center justify-center z-50 ${a?"bg-white/30":"bg-black/40"}`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:jsxRuntimeExports.jsxs(motion.div,{className:"bg-white dark:bg-gray-900 p-6 rounded-lg w-full max-w-md shadow-lg relative",initial:{scale:.9,y:40,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.9,y:40,opacity:0},children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"absolute top-3 right-3 text-xl text-gray-600 dark:text-gray-300 hover:text-red-500",children:""}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white",children:["Change Password for ",t?.name]}),jsxRuntimeExports.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium dark:text-white mb-1",children:"New Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:P?"text":"password",className:"w-full px-3 py-2 pr-10 rounded border dark:bg-gray-800 dark:text-white",value:G,onChange:rt=>H(rt.target.value),required:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>M(!P),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:P?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"#A9C46C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3"}),jsxRuntimeExports.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"#A9C46C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium dark:text-white mb-1",children:"Confirm Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:N?"text":"password",className:"w-full px-3 py-2 pr-10 rounded border dark:bg-gray-800 dark:text-white",value:U,onChange:rt=>W(rt.target.value),required:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>F(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:N?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"#A9C46C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3"}),jsxRuntimeExports.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]}):jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"#A9C46C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),tt&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:"Passwords do not match or update failed."}),jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsx("button",{type:"submit",disabled:Q,className:"bg-green-600 text-white px-4 py-2 rounded hover:cursor-pointer hover:bg-green-500 disabled:opacity-50",children:Q?"Updating...":"Update Password"})})]})]})}),z&&jsxRuntimeExports.jsx(SuccessAlert,{})]})},TanodDetails=()=>{const{id:t}=useParams(),e=useQueryClient(),{base_url:n,token:r}=useAppState(),s=useNavigate(),[a,S]=reactExports.useState(!1),[P,M]=reactExports.useState(1),[N,F]=reactExports.useState(!1),[z,$]=reactExports.useState(!1),G=5,U=e.getQueryData(["volunteers"])?.find(_t=>_t.id===Number(t)),{data:W=[],isLoading:Y}=useQuery({queryKey:["records",t],queryFn:()=>respondersRecords({base_url:n,token:r,id:t})}),{data:Q}=useQuery({queryKey:["stats",t],queryFn:()=>respondersStats({base_url:n,token:r,id:t}),enabled:!!t});if(!U)return jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-20 text-gray-500 dark:text-gray-300",children:"Volunteer not found."});const K=()=>{F(_t=>!_t),M(1)},tt=N?W.filter(_t=>_t.response_record!==null):W,nt=P*G,rt=nt-G,ht=tt.slice(rt,nt),ct=Math.ceil(tt.length/G),mt=_t=>M(_t),wt=W.length,kt=U.profile;return jsxRuntimeExports.jsxs("div",{className:"px-4 md:px-8 py-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 bg-white/30 dark:bg-gray-900/40 backdrop-blur-lg rounded-3xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 w-full max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-5",children:[kt?.photo?jsxRuntimeExports.jsx("img",{src:kt.photo,alt:U.name,className:"h-28 w-28 rounded-full border-4 border-white dark:border-gray-800 object-cover shadow-lg"}):jsxRuntimeExports.jsx(IoPersonCircleOutline,{className:"h-28 w-28 text-gray-400"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 dark:text-white",children:U.name}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:["Role: ",U.role]}),jsxRuntimeExports.jsx("span",{className:`inline-block px-3 py-1 rounded-full font-semibold text-sm ${U.status==="active"?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-200"}`,children:U.status.toUpperCase()}),jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 rounded-lg font-semibold text-sm text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200 shadow-md flex items-center gap-2",children:[jsxRuntimeExports.jsx(IoPersonCircleOutline,{className:"text-lg"}),"Change Password"]})})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full md:w-auto",children:[{title:"Reported Incidents",value:wt,bg:"red"},{title:"Avg Response Time",value:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Q?.response_time!==void 0&&Q.response_time>=60?`${(Q.response_time/60).toFixed(1)} hr`:`${Q?.response_time??0} min`,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["out of"," ",Q?.response_record?.length??0," ","response"]})]}),bg:"green"},{title:"Performance Rating",value:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Q?.rating??0,"/5 ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["out of ",Q?.feedback?.length??0," ","response"]})]}),bg:"yellow"}].map(_t=>jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-2xl shadow-md dark:border-${_t.bg}-800 text-center bg-${_t.bg}-50 dark:bg-${_t.bg}-600/30`,children:[jsxRuntimeExports.jsx("h1",{className:`text-sm font-semibold text-${_t.bg}-700 dark:text-${_t.bg}-300`,children:_t.title}),jsxRuntimeExports.jsx("p",{className:`text-2xl font-bold text-${_t.bg}-600 dark:text-${_t.bg}-300`,children:_t.value})]},_t.title))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end max-w-5xl mx-auto gap-2 mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:K,className:`px-5 py-2 rounded-full text-sm font-semibold border transition-all duration-200 shadow-sm ${N?"bg-blue-600 text-white border-blue-600 hover:bg-blue-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:N?"Show All Records":"Show With Response"}),jsxRuntimeExports.jsx("button",{onClick:()=>$(_t=>!_t),className:`px-5 py-2 rounded-full text-sm font-semibold border transition-all duration-200 shadow-sm ${z?"bg-yellow-500 text-white border-yellow-500 hover:bg-yellow-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:z?"View Records":"View Feedback"})]}),Y?jsxRuntimeExports.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading records..."}):z?jsxRuntimeExports.jsx("div",{className:"space-y-4 max-w-5xl mx-auto",children:Q?.feedback?.length===0?jsxRuntimeExports.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"No feedback found."}):Q.feedback.map(_t=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full p-4 rounded-2xl bg-white/40 dark:bg-gray-800/40 backdrop-blur-md border border-gray-200 dark:border-gray-700 shadow",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-gray-800 dark:text-white mb-2 text-lg flex items-center gap-1",children:[Array.from({length:5},(Vt,jt)=>jsxRuntimeExports.jsx("span",{className:jt<_t.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600",children:""},jt)),jsxRuntimeExports.jsxs("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:[_t.rating,"/5"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Feedback: ",_t.feedback||"No comment provided."]})]},_t.id))}):jsxRuntimeExports.jsx("div",{className:"space-y-4 max-w-5xl mx-auto",children:ht.length===0?jsxRuntimeExports.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"No records found."}):ht.map(_t=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:()=>s(`/report-details/${_t.id}`),className:"w-full p-4 rounded-2xl bg-white/40 dark:bg-gray-800/40 backdrop-blur-md border border-gray-200 dark:border-gray-700 shadow hover:shadow-xl cursor-pointer transition-transform transform hover:-translate-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-gray-800 dark:text-white mb-2 text-lg",children:[_t.incident_type?.category?.category_name??"Unknown"," ",""," ",_t.incident_type?.incident_name??"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between text-sm text-gray-600 dark:text-gray-300",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Zone:"})," ",_t.location?.zone?.zone_name??"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Location:"})," ",_t.location?.location_name??"N/A"]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 md:mt-0",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Date:"})," ",_t.date," "," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Time:"})," ",_t.time?new Date(`1970-01-01T${_t.time}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A"]})]}),_t.response_record&&jsxRuntimeExports.jsxs("div",{className:"mt-3 flex flex-col md:flex-row justify-between text-sm text-gray-600 dark:text-gray-300",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Requester:"})," ",_t.response_record?.request?.user?.name??"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mt-2 md:mt-0",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Distance:"})," ",_t.response_record?.distance??"N/A"," ","km"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Response Time:"})," ",_t.response_record?.response_time??"N/A"," ","mins"]})]})]})]},_t.id))}),ct>1&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>mt(P-1),disabled:P===1,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Prev"}),(()=>{const _t=[];let Vt=Math.max(1,P-1),jt=Math.min(ct,Vt+2);jt-Vt<2&&(Vt=Math.max(1,jt-2)),Vt>1&&(_t.push(jsxRuntimeExports.jsx("button",{onClick:()=>mt(1),className:"px-3 py-1 rounded-lg text-sm font-semibold border bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:"1"},1)),Vt>2&&_t.push(jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"..."},"start-ellipsis")));for(let At=Vt;At<=jt;At++)_t.push(jsxRuntimeExports.jsx("button",{onClick:()=>mt(At),className:`px-3 py-1 rounded-lg text-sm font-semibold border transition-colors ${P===At?"bg-green-500 text-white border-green-500":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:At},At));return jt<ct&&(jt<ct-1&&_t.push(jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"..."},"end-ellipsis")),_t.push(jsxRuntimeExports.jsx("button",{onClick:()=>mt(ct),className:"px-3 py-1 rounded-lg text-sm font-semibold border bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:ct},ct))),_t})(),jsxRuntimeExports.jsx("button",{onClick:()=>mt(P+1),disabled:P===ct,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Next"})]}),a&&jsxRuntimeExports.jsx(UpdateTanod,{tanod:U,tanodId:t,onClose:()=>S(!1)})]})},ResidentDetails=()=>{const{base_url:t,token:e,darkMode:n}=useAppState(),{id:r}=useParams(),s=useQueryClient(),[a,S]=reactExports.useState(1),P=5,{data:M}=useQuery({queryKey:["residents"],queryFn:()=>getResidents({base_url:t,token:e})}),N=M?.find(Q=>Q.id===Number(r)),{data:F=[]}=useQuery({queryKey:["request_records"],queryFn:()=>requestRecords({base_url:t,token:e})}),z=F.filter(Q=>Q.user_id===Number(r)),$=Math.ceil(z.length/P),G=(a-1)*P,H=z.slice(G,G+P),U=()=>{const K=Math.max(1,Math.min(a-1,$-3+1));return Array.from({length:Math.min(3,$)},(tt,nt)=>K+nt)},W=useMutation({mutationFn:({userId:Q})=>blockUser({base_url:t,token:e,userId:Q}),onSuccess:()=>{alert("User has been blocked successfully!"),s.invalidateQueries(["residents"])},onError:Q=>{console.error("Error blocking user:",Q),alert("Failed to block user. Please try again.")}}),Y=()=>{W.mutate({userId:r})};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col mt-8 items-center gap-8 max-w-5xl mx-auto px-4",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:`flex flex-col items-center gap-5 w-full p-8 rounded-3xl border shadow-xl
          backdrop-blur-md bg-gradient-to-br ${n?"from-gray-800/80 to-gray-900/90 border-gray-700":"from-white/90 to-gray-100/80 border-gray-200"}`,children:[N?.photo?jsxRuntimeExports.jsx("img",{src:N.photo,alt:N.name,className:"h-32 w-32 rounded-full border-4 border-blue-500/60 object-cover shadow-md"}):jsxRuntimeExports.jsx(IoPersonCircleOutline,{className:"h-32 w-32 text-gray-400"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:N?.name}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:N?.role}),jsxRuntimeExports.jsx("div",{className:"flex items-center mt-3 gap-2",children:jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wider ${N?.status==="active"?"bg-green-100 text-green-700 dark:bg-green-800/40 dark:text-green-300":N?.status==="inactive"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-800/40 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-800/40 dark:text-red-300"}`,children:N?.status})}),jsxRuntimeExports.jsx("button",{onClick:Y,disabled:W.isPending,className:`mt-5 px-6 py-2.5 rounded-xl bg-gradient-to-r from-red-600 to-red-700 \r
              hover:from-red-700 hover:to-red-800 text-white font-medium shadow-md\r
              transition-all duration-300 ease-in-out disabled:opacity-70`,children:W.isPending?"Blocking...":"Block User"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},className:`w-full rounded-2xl border shadow-md overflow-hidden ${n?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}`,children:[jsxRuntimeExports.jsx("div",{className:`px-6 py-3 text-lg font-bold ${n?"bg-gray-800 text-gray-100":"bg-gray-50 text-gray-800"}`,children:"Incident Records"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:`text-xs uppercase font-semibold tracking-wider ${n?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-600"}`,children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center",children:"ID"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center",children:"Date"})]})}),jsxRuntimeExports.jsx("tbody",{children:H.length>0?H.map((Q,K)=>jsxRuntimeExports.jsxs("tr",{className:`transition-all ${K%2===0?n?"bg-gray-800/60":"bg-white":n?"bg-gray-900/50":"bg-gray-50"} hover:bg-blue-50 dark:hover:bg-blue-900/30`,children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-center text-gray-900 dark:text-gray-100",children:Q.id}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-center text-gray-900 dark:text-gray-100",children:Q.category?.category_name}),jsxRuntimeExports.jsx("td",{className:`px-6 py-3 text-center font-semibold ${Q.status==="ongoing"?"text-yellow-600 dark:text-yellow-400":Q.status==="done"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:Q.status}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-center text-gray-900 dark:text-gray-100",children:new Date(Q.created_at).toLocaleString([],{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]},Q.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-6 py-6 text-center text-gray-500 dark:text-gray-400 italic",children:"No records found."})})})]})}),$>1&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2 py-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>S(Q=>Math.max(1,Q-1)),disabled:a===1,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Previous"}),U().map(Q=>jsxRuntimeExports.jsx("button",{onClick:()=>S(Q),className:`px-3 py-1 rounded-lg border text-sm font-medium transition-all
                                ${Q===a?"bg-green-600 text-white border-green-600":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:Q},Q)),jsxRuntimeExports.jsx("button",{onClick:()=>S(Q=>Math.min($,Q+1)),disabled:a===$,className:"px-3 py-1 rounded-lg border text-sm font-semibold dark:text-white bg-green-500 dark:bg-green-600 hover:bg-green-400 dark:hover:bg-green-700 disabled:opacity-50 transition-all",children:"Next"})]})]})]})},ProtectedRoute=({children:t})=>{const{login:e}=useAppState(n=>n);return e?t:jsxRuntimeExports.jsx(Navigate,{to:"/"})},PublicRoute=({children:t})=>{const{login:e}=useAppState(n=>n);return e?jsxRuntimeExports.jsx(Navigate,{to:"/dashboard"}):t},AnimatedRoutes=()=>{const t=useLocation();return jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(Routes,{location:t,children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(PublicRoute,{children:jsxRuntimeExports.jsx(LoginPage,{})})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Layout,{})}),children:[jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/volunteers",element:jsxRuntimeExports.jsx(Volunteers,{})}),jsxRuntimeExports.jsx(Route,{path:"/map",element:jsxRuntimeExports.jsx(Map$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/incident-request",element:jsxRuntimeExports.jsx(IncidentRequest,{})}),jsxRuntimeExports.jsx(Route,{path:"/violators",element:jsxRuntimeExports.jsx(Violators,{})}),jsxRuntimeExports.jsx(Route,{path:"/reports",element:jsxRuntimeExports.jsx(Reports,{})}),jsxRuntimeExports.jsx(Route,{path:"/request",element:jsxRuntimeExports.jsx(Request$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/residents",element:jsxRuntimeExports.jsx(Residents,{})}),jsxRuntimeExports.jsx(Route,{path:"/analytics",element:jsxRuntimeExports.jsx(Analytics,{})}),jsxRuntimeExports.jsx(Route,{path:"/hotline",element:jsxRuntimeExports.jsx(Hotline,{})}),jsxRuntimeExports.jsx(Route,{path:"/category",element:jsxRuntimeExports.jsx(Categories,{})}),jsxRuntimeExports.jsx(Route,{path:"/report-details/:id",element:jsxRuntimeExports.jsx(ReportDetails,{})}),jsxRuntimeExports.jsx(Route,{path:"/violators-details/:id",element:jsxRuntimeExports.jsx(ViolatorsDetails,{})}),jsxRuntimeExports.jsx(Route,{path:"/tanod/details/:id",element:jsxRuntimeExports.jsx(TanodDetails,{})}),jsxRuntimeExports.jsx(Route,{path:"/resident/details/:id",element:jsxRuntimeExports.jsx(ResidentDetails,{})})]})]},t.pathname)})},AuthNavigation=({children:t})=>jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(AnimatedRoutes,{}),t]}),useVolunteers=()=>{const{base_url:t,token:e,setVolunteers:n}=useAppState();return useQuery({queryKey:["volunteers"],queryFn:()=>getTanodUser({base_url:t,token:e}),onSuccess:r=>{console.log("Fetched volunteers:",r.users),n(r.users)}})},Notification=({message:t,onClose:e,duration:n=7e3})=>{const{darkMode:r,categories:s,base_url:a,token:S}=useAppState(),P=useNavigate(),M=useQueryClient(),{data:N=[]}=useVolunteers(),F=N.find(W=>Number(W.id)===Number(t?.report?.user_id)),{data:z}=useQuery({queryKey:["notifications"],queryFn:()=>notifications({base_url:a,token:S})}),$=s.find(W=>W.id===t?.category_id);if(reactExports.useEffect(()=>{if(t){const W=setTimeout(()=>{e()},n);return()=>clearTimeout(W)}},[t,n,e]),!t)return null;const G=useMutation({mutationFn:({id:W})=>updateNotification({base_url:a,token:S,id:W}),onSuccess:()=>{console.log("Notification updated!"),M.invalidateQueries(["notifications"])}}),H=async W=>{await G.mutateAsync({id:W}),e()},U=()=>{if(t.category_id)return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-2",children:" Emergency!"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Incident Category:"})," ",$?$.category_name:"Unknown"]}),jsxRuntimeExports.jsx("div",{className:"text-right mt-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>{e(),H(t.id),P("/incident-request")},className:`px-4 py-2 rounded text-white transition ${r?"bg-red-500 hover:bg-red-600":"bg-red-600 hover:bg-red-700"}`,children:"View Location"})})]});if(t.violator){const W=t.violator;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-2",children:" New Violator Profile"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",W.first_name," ",W.last_name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Age:"})," ",W.age]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",W.address]}),jsxRuntimeExports.jsx("div",{className:"text-right mt-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>{e(),H(t.id),P(`/violators-details/${W.id}`)},className:`px-4 py-2 rounded text-white transition ${r?"bg-green-500 hover:bg-green-600":"bg-green-600 hover:bg-green-700"}`,children:"View Profile"})})]})}else return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-2",children:" Notification"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Report Submitted By:"})," ",F?F.name:"Anonymous"]}),jsxRuntimeExports.jsx("div",{className:"text-right mt-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>{e(),H(t?.id),P(`/report-details/${t?.report?.id}`)},className:`px-4 py-2 rounded text-white transition ${r?"bg-green-500 hover:bg-green-600":"bg-green-600 hover:bg-green-700"}`,children:"View Report"})})]})};return jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:120,damping:20},className:`fixed top-20 right-5 z-50 w-full max-w-sm rounded-lg shadow-lg p-4 ${r?"bg-slate-900 text-white":"bg-white text-gray-800"}`,children:U()})})},queryClient=new QueryClient;function EchoListeners({setMessage:t,setShowModal:e}){const n=useQueryClient();return reactExports.useEffect(()=>{const r=[{channel:"request-response-channel",event:".request-response-event"},{channel:"report-submitted-channel",event:".report-submitted-event"},{channel:"violator-submitted-channel",event:".violator-submitted-event"}];return r.forEach(({channel:s,event:a})=>{echo.channel(s).listen(a,S=>{t(S.response||S),e(!0),n.invalidateQueries({queryKey:["violators"]}),n.invalidateQueries({queryKey:["reports"]}),n.invalidateQueries({queryKey:["request"]}),n.invalidateQueries({queryKey:["analytics"]}),n.invalidateQueries({queryKey:["notifications"]})})}),()=>{r.forEach(({channel:s})=>{echo.leave(s)})}},[n,t,e]),null}function App(){const[t,e]=reactExports.useState(null),[n,r]=reactExports.useState(!1);return jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsxs(AuthNavigation,{children:[jsxRuntimeExports.jsx(EchoListeners,{setMessage:e,setShowModal:r}),n&&jsxRuntimeExports.jsx(Notification,{message:t,onClose:()=>r(!1)})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{getDefaultExportFromCjs as g};
